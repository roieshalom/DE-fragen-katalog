(function(){const Tn=document.createElement("link").relList;if(Tn&&Tn.supports&&Tn.supports("modulepreload"))return;for(const we of document.querySelectorAll('link[rel="modulepreload"]'))Ee(we);new MutationObserver(we=>{for(const ut of we)if(ut.type==="childList")for(const Vo of ut.addedNodes)Vo.tagName==="LINK"&&Vo.rel==="modulepreload"&&Ee(Vo)}).observe(document,{childList:!0,subtree:!0});function Pn(we){const ut={};return we.integrity&&(ut.integrity=we.integrity),we.referrerPolicy&&(ut.referrerPolicy=we.referrerPolicy),we.crossOrigin==="use-credentials"?ut.credentials="include":we.crossOrigin==="anonymous"?ut.credentials="omit":ut.credentials="same-origin",ut}function Ee(we){if(we.ep)return;we.ep=!0;const ut=Pn(we);fetch(we.href,ut)}})();(function(){const yn=document.createElement("link").relList;if(yn&&yn.supports&&yn.supports("modulepreload"))return;for(const Ee of document.querySelectorAll('link[rel="modulepreload"]'))Pn(Ee);new MutationObserver(Ee=>{for(const we of Ee)if(we.type==="childList")for(const ut of we.addedNodes)ut.tagName==="LINK"&&ut.rel==="modulepreload"&&Pn(ut)}).observe(document,{childList:!0,subtree:!0});function Tn(Ee){const we={};return Ee.integrity&&(we.integrity=Ee.integrity),Ee.referrerPolicy&&(we.referrerPolicy=Ee.referrerPolicy),Ee.crossOrigin==="use-credentials"?we.credentials="include":Ee.crossOrigin==="anonymous"?we.credentials="omit":we.credentials="same-origin",we}function Pn(Ee){if(Ee.ep)return;Ee.ep=!0;const we=Tn(Ee);fetch(Ee.href,we)}})();(function(){const yn=document.createElement("link").relList;if(yn&&yn.supports&&yn.supports("modulepreload"))return;for(const Ee of document.querySelectorAll('link[rel="modulepreload"]'))Pn(Ee);new MutationObserver(Ee=>{for(const we of Ee)if(we.type==="childList")for(const ut of we.addedNodes)ut.tagName==="LINK"&&ut.rel==="modulepreload"&&Pn(ut)}).observe(document,{childList:!0,subtree:!0});function Tn(Ee){const we={};return Ee.integrity&&(we.integrity=Ee.integrity),Ee.referrerPolicy&&(we.referrerPolicy=Ee.referrerPolicy),Ee.crossOrigin==="use-credentials"?we.credentials="include":Ee.crossOrigin==="anonymous"?we.credentials="omit":we.credentials="same-origin",we}function Pn(Ee){if(Ee.ep)return;Ee.ep=!0;const we=Tn(Ee);fetch(Ee.href,we)}})();(function(){const yn=document.createElement("link").relList;if(yn&&yn.supports&&yn.supports("modulepreload"))return;for(const Ee of document.querySelectorAll('link[rel="modulepreload"]'))Pn(Ee);new MutationObserver(Ee=>{for(const we of Ee)if(we.type==="childList")for(const ut of we.addedNodes)ut.tagName==="LINK"&&ut.rel==="modulepreload"&&Pn(ut)}).observe(document,{childList:!0,subtree:!0});function Tn(Ee){const we={};return Ee.integrity&&(we.integrity=Ee.integrity),Ee.referrerPolicy&&(we.referrerPolicy=Ee.referrerPolicy),Ee.crossOrigin==="use-credentials"?we.credentials="include":Ee.crossOrigin==="anonymous"?we.credentials="omit":we.credentials="same-origin",we}function Pn(Ee){if(Ee.ep)return;Ee.ep=!0;const we=Tn(Ee);fetch(Ee.href,we)}})();var x3=(yn,Tn)=>()=>(Tn||yn((Tn={exports:{}}).exports,Tn),Tn.exports),C3=x3((yn,Bc)=>{(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function e(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=e(a);fetch(a.href,o)}})();function Pn(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ee={exports:{}},we={};/**
* @license React
* react-jsx-runtime.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var ut;function Vo(){if(ut)return we;ut=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(a,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:n,type:a,key:h,ref:o!==void 0?o:null,props:u}}return we.Fragment=e,we.jsx=r,we.jsxs=r,we}var Gg;function U2(){return Gg||(Gg=1,Ee.exports=Vo()),Ee.exports}var ie=U2(),Qg={exports:{}},Ie={};/**
* @license React
* react.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Wg;function q2(){if(Wg)return Ie;Wg=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),k=Symbol.iterator;function T(S){return S===null||typeof S!="object"?null:(S=k&&S[k]||S["@@iterator"],typeof S=="function"?S:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,B={};function F(S,C,X){this.props=S,this.context=C,this.refs=B,this.updater=X||_}F.prototype.isReactComponent={},F.prototype.setState=function(S,C){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,C,"setState")},F.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function W(){}W.prototype=F.prototype;function te(S,C,X){this.props=S,this.context=C,this.refs=B,this.updater=X||_}var ae=te.prototype=new W;ae.constructor=te,j(ae,F.prototype),ae.isPureReactComponent=!0;var pe=Array.isArray,le={H:null,A:null,T:null,S:null,V:null},ye=Object.prototype.hasOwnProperty;function M(S,C,X,Q,se,ce){return X=ce.ref,{$$typeof:n,type:S,key:C,ref:X!==void 0?X:null,props:ce}}function A(S,C){return M(S.type,C,void 0,void 0,void 0,S.props)}function N(S){return typeof S=="object"&&S!==null&&S.$$typeof===n}function P(S){var C={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(X){return C[X]})}var O=/\/+/g;function V(S,C){return typeof S=="object"&&S!==null&&S.key!=null?P(""+S.key):C.toString(36)}function D(){}function Ke(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(D,D):(S.status="pending",S.then(function(C){S.status==="pending"&&(S.status="fulfilled",S.value=C)},function(C){S.status==="pending"&&(S.status="rejected",S.reason=C)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function qe(S,C,X,Q,se){var ce=typeof S;(ce==="undefined"||ce==="boolean")&&(S=null);var oe=!1;if(S===null)oe=!0;else switch(ce){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(S.$$typeof){case n:case e:oe=!0;break;case v:return oe=S._init,qe(oe(S._payload),C,X,Q,se)}}if(oe)return se=se(S),oe=Q===""?"."+V(S,0):Q,pe(se)?(X="",oe!=null&&(X=oe.replace(O,"$&/")+"/"),qe(se,C,X,"",function(Pe){return Pe})):se!=null&&(N(se)&&(se=A(se,X+(se.key==null||S&&S.key===se.key?"":(""+se.key).replace(O,"$&/")+"/")+oe)),C.push(se)),1;oe=0;var me=Q===""?".":Q+":";if(pe(S))for(var ve=0;ve<S.length;ve++)Q=S[ve],ce=me+V(Q,ve),oe+=qe(Q,C,X,ce,se);else if(ve=T(S),typeof ve=="function")for(S=ve.call(S),ve=0;!(Q=S.next()).done;)Q=Q.value,ce=me+V(Q,ve++),oe+=qe(Q,C,X,ce,se);else if(ce==="object"){if(typeof S.then=="function")return qe(Ke(S),C,X,Q,se);throw C=String(S),Error("Objects are not valid as a React child (found: "+(C==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":C)+"). If you meant to render a collection of children, use an array instead.")}return oe}function H(S,C,X){if(S==null)return S;var Q=[],se=0;return qe(S,Q,"","",function(ce){return C.call(X,ce,se++)}),Q}function re(S){if(S._status===-1){var C=S._result;C=C(),C.then(function(X){(S._status===0||S._status===-1)&&(S._status=1,S._result=X)},function(X){(S._status===0||S._status===-1)&&(S._status=2,S._result=X)}),S._status===-1&&(S._status=0,S._result=C)}if(S._status===1)return S._result.default;throw S._result}var fe=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var C=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(C))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)};function Oe(){}return Ie.Children={map:H,forEach:function(S,C,X){H(S,function(){C.apply(this,arguments)},X)},count:function(S){var C=0;return H(S,function(){C++}),C},toArray:function(S){return H(S,function(C){return C})||[]},only:function(S){if(!N(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},Ie.Component=F,Ie.Fragment=r,Ie.Profiler=o,Ie.PureComponent=te,Ie.StrictMode=a,Ie.Suspense=m,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(S){return le.H.useMemoCache(S)}},Ie.cache=function(S){return function(){return S.apply(null,arguments)}},Ie.cloneElement=function(S,C,X){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var Q=j({},S.props),se=S.key,ce=void 0;if(C!=null)for(oe in C.ref!==void 0&&(ce=void 0),C.key!==void 0&&(se=""+C.key),C)!ye.call(C,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&C.ref===void 0||(Q[oe]=C[oe]);var oe=arguments.length-2;if(oe===1)Q.children=X;else if(1<oe){for(var me=Array(oe),ve=0;ve<oe;ve++)me[ve]=arguments[ve+2];Q.children=me}return M(S.type,se,void 0,void 0,ce,Q)},Ie.createContext=function(S){return S={$$typeof:h,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:u,_context:S},S},Ie.createElement=function(S,C,X){var Q,se={},ce=null;if(C!=null)for(Q in C.key!==void 0&&(ce=""+C.key),C)ye.call(C,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(se[Q]=C[Q]);var oe=arguments.length-2;if(oe===1)se.children=X;else if(1<oe){for(var me=Array(oe),ve=0;ve<oe;ve++)me[ve]=arguments[ve+2];se.children=me}if(S&&S.defaultProps)for(Q in oe=S.defaultProps,oe)se[Q]===void 0&&(se[Q]=oe[Q]);return M(S,ce,void 0,void 0,null,se)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(S){return{$$typeof:d,render:S}},Ie.isValidElement=N,Ie.lazy=function(S){return{$$typeof:v,_payload:{_status:-1,_result:S},_init:re}},Ie.memo=function(S,C){return{$$typeof:g,type:S,compare:C===void 0?null:C}},Ie.startTransition=function(S){var C=le.T,X={};le.T=X;try{var Q=S(),se=le.S;se!==null&&se(X,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(Oe,fe)}catch(ce){fe(ce)}finally{le.T=C}},Ie.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},Ie.use=function(S){return le.H.use(S)},Ie.useActionState=function(S,C,X){return le.H.useActionState(S,C,X)},Ie.useCallback=function(S,C){return le.H.useCallback(S,C)},Ie.useContext=function(S){return le.H.useContext(S)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(S,C){return le.H.useDeferredValue(S,C)},Ie.useEffect=function(S,C,X){var Q=le.H;if(typeof X=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(S,C)},Ie.useId=function(){return le.H.useId()},Ie.useImperativeHandle=function(S,C,X){return le.H.useImperativeHandle(S,C,X)},Ie.useInsertionEffect=function(S,C){return le.H.useInsertionEffect(S,C)},Ie.useLayoutEffect=function(S,C){return le.H.useLayoutEffect(S,C)},Ie.useMemo=function(S,C){return le.H.useMemo(S,C)},Ie.useOptimistic=function(S,C){return le.H.useOptimistic(S,C)},Ie.useReducer=function(S,C,X){return le.H.useReducer(S,C,X)},Ie.useRef=function(S){return le.H.useRef(S)},Ie.useState=function(S){return le.H.useState(S)},Ie.useSyncExternalStore=function(S,C,X){return le.H.useSyncExternalStore(S,C,X)},Ie.useTransition=function(){return le.H.useTransition()},Ie.version="19.1.1",Ie}var Xg;function ff(){return Xg||(Xg=1,Qg.exports=q2()),Qg.exports}var ge=ff();const B2=Pn(ge);var df={exports:{}},Ro={},Yg={exports:{}},Jg={};/**
* @license React
* scheduler.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Zg;function $2(){return Zg||(Zg=1,(function(n){function e(H,re){var fe=H.length;H.push(re);e:for(;0<fe;){var Oe=fe-1>>>1,S=H[Oe];if(0<o(S,re))H[Oe]=re,H[fe]=S,fe=Oe;else break e}}function r(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var re=H[0],fe=H.pop();if(fe!==re){H[0]=fe;e:for(var Oe=0,S=H.length,C=S>>>1;Oe<C;){var X=2*(Oe+1)-1,Q=H[X],se=X+1,ce=H[se];if(0>o(Q,fe))se<S&&0>o(ce,Q)?(H[Oe]=ce,H[se]=fe,Oe=se):(H[Oe]=Q,H[X]=fe,Oe=X);else if(se<S&&0>o(ce,fe))H[Oe]=ce,H[se]=fe,Oe=se;else break e}}return re}function o(H,re){var fe=H.sortIndex-re.sortIndex;return fe!==0?fe:H.id-re.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();n.unstable_now=function(){return h.now()-d}}var m=[],g=[],v=1,k=null,T=3,_=!1,j=!1,B=!1,F=!1,W=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function pe(H){for(var re=r(g);re!==null;){if(re.callback===null)a(g);else if(re.startTime<=H)a(g),re.sortIndex=re.expirationTime,e(m,re);else break;re=r(g)}}function le(H){if(B=!1,pe(H),!j)if(r(m)!==null)j=!0,ye||(ye=!0,V());else{var re=r(g);re!==null&&qe(le,re.startTime-H)}}var ye=!1,M=-1,A=5,N=-1;function P(){return F?!0:!(n.unstable_now()-N<A)}function O(){if(F=!1,ye){var H=n.unstable_now();N=H;var re=!0;try{e:{j=!1,B&&(B=!1,te(M),M=-1),_=!0;var fe=T;try{t:{for(pe(H),k=r(m);k!==null&&!(k.expirationTime>H&&P());){var Oe=k.callback;if(typeof Oe=="function"){k.callback=null,T=k.priorityLevel;var S=Oe(k.expirationTime<=H);if(H=n.unstable_now(),typeof S=="function"){k.callback=S,pe(H),re=!0;break t}k===r(m)&&a(m),pe(H)}else a(m);k=r(m)}if(k!==null)re=!0;else{var C=r(g);C!==null&&qe(le,C.startTime-H),re=!1}}break e}finally{k=null,T=fe,_=!1}re=void 0}}finally{re?V():ye=!1}}}var V;if(typeof ae=="function")V=function(){ae(O)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Ke=D.port2;D.port1.onmessage=O,V=function(){Ke.postMessage(null)}}else V=function(){W(O,0)};function qe(H,re){M=W(function(){H(n.unstable_now())},re)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(H){switch(T){case 1:case 2:case 3:var re=3;break;default:re=T}var fe=T;T=re;try{return H()}finally{T=fe}},n.unstable_requestPaint=function(){F=!0},n.unstable_runWithPriority=function(H,re){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var fe=T;T=H;try{return re()}finally{T=fe}},n.unstable_scheduleCallback=function(H,re,fe){var Oe=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Oe+fe:Oe):fe=Oe,H){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=fe+S,H={id:v++,callback:re,priorityLevel:H,startTime:fe,expirationTime:S,sortIndex:-1},fe>Oe?(H.sortIndex=fe,e(g,H),r(m)===null&&H===r(g)&&(B?(te(M),M=-1):B=!0,qe(le,fe-Oe))):(H.sortIndex=S,e(m,H),j||_||(j=!0,ye||(ye=!0,V()))),H},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(H){var re=T;return function(){var fe=T;T=re;try{return H.apply(this,arguments)}finally{T=fe}}}})(Jg)),Jg}var ey;function H2(){return ey||(ey=1,Yg.exports=$2()),Yg.exports}var pf={exports:{}},cn={};/**
* @license React
* react-dom.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var ty;function K2(){if(ty)return cn;ty=1;var n=ff();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,v){var k=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:k==null?null:""+k,children:m,containerInfo:g,implementation:v}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,cn.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(m,g,null,v)},cn.flushSync=function(m){var g=h.T,v=a.p;try{if(h.T=null,a.p=2,m)return m()}finally{h.T=g,a.p=v,a.d.f()}},cn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(m,g))},cn.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},cn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,k=d(v,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,_=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?a.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:k,integrity:T,fetchPriority:_}):v==="script"&&a.d.X(m,{crossOrigin:k,integrity:T,fetchPriority:_,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},cn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);a.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(m)},cn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,k=d(v,g.crossOrigin);a.d.L(m,v,{crossOrigin:k,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},cn.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=d(g.as,g.crossOrigin);a.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(m)},cn.requestFormReset=function(m){a.d.r(m)},cn.unstable_batchedUpdates=function(m,g){return m(g)},cn.useFormState=function(m,g,v){return h.H.useFormState(m,g,v)},cn.useFormStatus=function(){return h.H.useHostTransitionStatus()},cn.version="19.1.1",cn}var ny;function G2(){if(ny)return pf.exports;ny=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),pf.exports=K2(),pf.exports}/**
* @license React
* react-dom-client.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var ry;function Q2(){if(ry)return Ro;ry=1;var n=H2(),e=ff(),r=G2();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function d(t){if(u(t)!==t)throw Error(a(188))}function m(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(a(188));return i!==t?null:t}for(var s=t,l=i;;){var f=s.return;if(f===null)break;var p=f.alternate;if(p===null){if(l=f.return,l!==null){s=l;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===s)return d(f),t;if(p===l)return d(f),i;p=p.sibling}throw Error(a(188))}if(s.return!==l.return)s=f,l=p;else{for(var w=!1,E=f.child;E;){if(E===s){w=!0,s=f,l=p;break}if(E===l){w=!0,l=f,s=p;break}E=E.sibling}if(!w){for(E=p.child;E;){if(E===s){w=!0,s=p,l=f;break}if(E===l){w=!0,l=p,s=f;break}E=E.sibling}if(!w)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var v=Object.assign,k=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),te=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function Ke(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case j:return"Fragment";case F:return"Profiler";case B:return"StrictMode";case le:return"Suspense";case ye:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case _:return"Portal";case ae:return(t.displayName||"Context")+".Provider";case te:return(t._context.displayName||"Context")+".Consumer";case pe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case M:return i=t.displayName||null,i!==null?i:Ke(t.type)||"Memo";case A:i=t._payload,t=t._init;try{return Ke(t(i))}catch{}}return null}var qe=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Oe=[],S=-1;function C(t){return{current:t}}function X(t){0>S||(t.current=Oe[S],Oe[S]=null,S--)}function Q(t,i){S++,Oe[S]=t.current,t.current=i}var se=C(null),ce=C(null),oe=C(null),me=C(null);function ve(t,i){switch(Q(oe,i),Q(ce,t),Q(se,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?m2(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=m2(i),t=g2(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(se),Q(se,t)}function Pe(){X(se),X(ce),X(oe)}function ot(t){t.memoizedState!==null&&Q(me,t);var i=se.current,s=g2(i,t.type);i!==s&&(Q(ce,t),Q(se,s))}function je(t){ce.current===t&&(X(se),X(ce)),me.current===t&&(X(me),Nu._currentValue=fe)}var nt=Object.prototype.hasOwnProperty,wt=n.unstable_scheduleCallback,Me=n.unstable_cancelCallback,Ot=n.unstable_shouldYield,mn=n.unstable_requestPaint,mt=n.unstable_now,Vn=n.unstable_getCurrentPriorityLevel,Rn=n.unstable_ImmediatePriority,nn=n.unstable_UserBlockingPriority,Wr=n.unstable_NormalPriority,_l=n.unstable_LowPriority,Hi=n.unstable_IdlePriority,Ki=n.log,$s=n.unstable_setDisableYieldValue,dt=null,We=null;function bn(t){if(typeof Ki=="function"&&$s(t),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(dt,t)}catch{}}var zt=Math.clz32?Math.clz32:Xr,ja=Math.log,Fa=Math.LN2;function Xr(t){return t>>>=0,t===0?32:31-(ja(t)/Fa|0)|0}var Yr=256,za=4194304;function hr(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Hs(t,i,s){var l=t.pendingLanes;if(l===0)return 0;var f=0,p=t.suspendedLanes,w=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~p,l!==0?f=hr(l):(w&=E,w!==0?f=hr(w):s||(s=E&~t,s!==0&&(f=hr(s))))):(E=l&~p,E!==0?f=hr(E):w!==0?f=hr(w):s||(s=l&~t,s!==0&&(f=hr(s)))),f===0?0:i!==0&&i!==f&&(i&p)===0&&(p=f&-f,s=i&-i,p>=s||p===32&&(s&4194048)!==0)?i:f}function Ua(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Nl(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dl(){var t=Yr;return Yr<<=1,(Yr&4194048)===0&&(Yr=256),t}function Il(){var t=za;return za<<=1,(za&62914560)===0&&(za=4194304),t}function Jr(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function Zr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Pl(t,i,s,l,f,p){var w=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,I=t.expirationTimes,q=t.hiddenUpdates;for(s=w&~s;0<s;){var Y=31-zt(s),ee=1<<Y;E[Y]=0,I[Y]=-1;var $=q[Y];if($!==null)for(q[Y]=null,Y=0;Y<$.length;Y++){var K=$[Y];K!==null&&(K.lane&=-536870913)}s&=~ee}l!==0&&_r(t,l,0),p!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=p&~(w&~i))}function _r(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-zt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194090}function Ml(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var l=31-zt(s),f=1<<l;f&i|t[l]&i&&(t[l]|=i),s&=~f}}function Gi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ks(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Qi(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:L2(t.type))}function $c(t,i){var s=re.p;try{return re.p=t,i()}finally{re.p=s}}var gt=Math.random().toString(36).slice(2),Ut="__reactFiber$"+gt,Lt="__reactProps$"+gt,Yn="__reactContainer$"+gt,Ol="__reactEvents$"+gt,Xp="__reactListeners$"+gt,Wi="__reactHandles$"+gt,Hc="__reactResources$"+gt,qa="__reactMarker$"+gt;function Xi(t){delete t[Ut],delete t[Lt],delete t[Ol],delete t[Xp],delete t[Wi]}function ei(t){var i=t[Ut];if(i)return i;for(var s=t.parentNode;s;){if(i=s[Yn]||s[Ut]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=w2(t);t!==null;){if(s=t[Ut])return s;t=w2(t)}return i}t=s,s=t.parentNode}return null}function Nr(t){if(t=t[Ut]||t[Yn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Dr(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function wn(t){var i=t[Hc];return i||(i=t[Hc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function At(t){t[qa]=!0}var Ll=new Set,Gs={};function fr(t,i){ti(t,i),ti(t+"Capture",i)}function ti(t,i){for(Gs[t]=i,t=0;t<i.length;t++)Ll.add(i[t])}var Kc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gc={},Ba={};function Qc(t){return nt.call(Ba,t)?!0:nt.call(Gc,t)?!1:Kc.test(t)?Ba[t]=!0:(Gc[t]=!0,!1)}function Yi(t,i,s){if(Qc(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function Ir(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function rn(t,i,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+l)}}var $a,Wc;function ni(t){if($a===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);$a=i&&i[1]||"",Wc=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$a+t+Wc}var Qs=!1;function Ws(t,i){if(!t||Qs)return"";Qs=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(K){var $=K}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(K){$=K}t.call(ee.prototype)}}else{try{throw Error()}catch(K){$=K}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(K){if(K&&$&&typeof K.stack=="string")return[K.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),w=p[0],E=p[1];if(w&&E){var I=w.split(`
`),q=E.split(`
`);for(f=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(l===I.length||f===q.length)for(l=I.length-1,f=q.length-1;1<=l&&0<=f&&I[l]!==q[f];)f--;for(;1<=l&&0<=f;l--,f--)if(I[l]!==q[f]){if(l!==1||f!==1)do if(l--,f--,0>f||I[l]!==q[f]){var Y=`
`+I[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=f);break}}}finally{Qs=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?ni(s):""}function Vl(t){switch(t.tag){case 26:case 27:case 5:return ni(t.type);case 16:return ni("Lazy");case 13:return ni("Suspense");case 19:return ni("SuspenseList");case 0:case 15:return Ws(t.type,!1);case 11:return Ws(t.type.render,!1);case 1:return Ws(t.type,!0);case 31:return ni("Activity");default:return""}}function Xs(t){try{var i="";do i+=Vl(t),t=t.return;while(t);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function kn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Rl(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Yp(t){var i=Rl(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,p=s.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(w){l=""+w,p.call(this,w)}}),Object.defineProperty(t,i,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(w){l=""+w},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ys(t){t._valueTracker||(t._valueTracker=Yp(t))}function jl(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return t&&(l=Rl(t)?t.checked?"true":"false":t.value),t=l,t!==s?(i.setValue(t),!0):!1}function Ha(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Jp=/[\n"\\]/g;function qt(t){return t.replace(Jp,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function jn(t,i,s,l,f,p,w,E){t.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.type=w:t.removeAttribute("type"),i!=null?w==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+kn(i)):t.value!==""+kn(i)&&(t.value=""+kn(i)):w!=="submit"&&w!=="reset"||t.removeAttribute("value"),i!=null?Ji(t,w,kn(i)):s!=null?Ji(t,w,kn(s)):l!=null&&t.removeAttribute("value"),f==null&&p!=null&&(t.defaultChecked=!!p),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+kn(E):t.removeAttribute("name")}function Ka(t,i,s,l,f,p,w,E){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.type=p),i!=null||s!=null){if(!(p!=="submit"&&p!=="reset"||i!=null))return;s=s!=null?""+kn(s):"",i=i!=null?""+kn(i):s,E||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(t.name=w)}function Ji(t,i,s){i==="number"&&Ha(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function ri(t,i,s,l){if(t=t.options,i){i={};for(var f=0;f<s.length;f++)i["$"+s[f]]=!0;for(s=0;s<t.length;s++)f=i.hasOwnProperty("$"+t[s].value),t[s].selected!==f&&(t[s].selected=f),f&&l&&(t[s].defaultSelected=!0)}else{for(s=""+kn(s),i=null,f=0;f<t.length;f++){if(t[f].value===s){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function rt(t,i,s){if(i!=null&&(i=""+kn(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+kn(s):""}function Ga(t,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(a(92));if(qe(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=kn(i),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function Jn(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var Qa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xc(t,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,s):typeof s!="number"||s===0||Qa.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function Fl(t,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&s[f]!==l&&Xc(t,f,l)}else for(var p in i)i.hasOwnProperty(p)&&Xc(t,p,i[p])}function zl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),em=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Js(t){return em.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var ii=null;function Zn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ai=null,si=null;function Ul(t){var i=Nr(t);if(i&&(t=i.stateNode)){var s=t[Lt]||null;e:switch(t=i.stateNode,i.type){case"input":if(jn(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+qt(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==t&&l.form===t.form){var f=l[Lt]||null;if(!f)throw Error(a(90));jn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===t.form&&jl(l)}break e;case"textarea":rt(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&ri(t,!!s.multiple,i,!1)}}}var Pr=!1;function Yc(t,i,s){if(Pr)return t(i,s);Pr=!0;try{var l=t(i);return l}finally{if(Pr=!1,(ai!==null||si!==null)&&($h(),ai&&(i=ai,t=si,si=ai=null,Ul(i),t)))for(i=0;i<t.length;i++)Ul(t[i])}}function Wa(t,i){var s=t.stateNode;if(s===null)return null;var l=s[Lt]||null;if(l===null)return null;s=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),er=!1;if(dr)try{var Xa={};Object.defineProperty(Xa,"passive",{get:function(){er=!0}}),window.addEventListener("test",Xa,Xa),window.removeEventListener("test",Xa,Xa)}catch{er=!1}var Mr=null,Zi=null,oi=null;function ql(){if(oi)return oi;var t,i=Zi,s=i.length,l,f="value"in Mr?Mr.value:Mr.textContent,p=f.length;for(t=0;t<s&&i[t]===f[t];t++);var w=s-t;for(l=1;l<=w&&i[s-l]===f[p-l];l++);return oi=f.slice(t,1<l?1-l:void 0)}function Or(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Lr(){return!0}function Bl(){return!1}function Gt(t){function i(s,l,f,p,w){this._reactName=s,this._targetInst=f,this.type=l,this.nativeEvent=p,this.target=w,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(p):p[E]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Lr:Bl,this.isPropagationStopped=Bl,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Lr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Lr)},persist:function(){},isPersistent:Lr}),i}var Ze={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zs=Gt(Ze),Ya=v({},Ze,{view:0,detail:0}),Jc=Gt(Ya),eo,to,Vr,Ja=v({},Ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ts,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vr&&(Vr&&t.type==="mousemove"?(eo=t.screenX-Vr.screenX,to=t.screenY-Vr.screenY):to=eo=0,Vr=t),eo)},movementY:function(t){return"movementY"in t?t.movementY:to}}),tr=Gt(Ja),Zc=v({},Ja,{dataTransfer:0}),tm=Gt(Zc),Za=v({},Ya,{relatedTarget:0}),no=Gt(Za),$l=v({},Ze,{animationName:0,elapsedTime:0,pseudoElement:0}),ro=Gt($l),eh=v({},Ze,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),io=Gt(eh),nm=v({},Ze,{data:0}),Hl=Gt(nm),es={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},th={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kl(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=nh[t])?!!i[t]:!1}function ts(){return Kl}var rh=v({},Ya,{key:function(t){if(t.key){var i=es[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Or(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?th[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ts,charCode:function(t){return t.type==="keypress"?Or(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Or(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ao=Gt(rh),ih=v({},Ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gl=Gt(ih),li=v({},Ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ts}),ah=Gt(li),sh=v({},Ze,{propertyName:0,elapsedTime:0,pseudoElement:0}),oh=Gt(sh),lh=v({},Ja,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),so=Gt(lh),En=v({},Ze,{newState:0,oldState:0}),uh=Gt(En),ch=[9,13,27,32],Rr=dr&&"CompositionEvent"in window,c=null;dr&&"documentMode"in document&&(c=document.documentMode);var y=dr&&"TextEvent"in window&&!c,b=dr&&(!Rr||c&&8<c&&11>=c),x=" ",z=!1;function G(t,i){switch(t){case"keyup":return ch.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ue(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ge=!1;function Bt(t,i){switch(t){case"compositionend":return ue(i);case"keypress":return i.which!==32?null:(z=!0,x);case"textInput":return t=i.data,t===x&&z?null:t;default:return null}}function Xe(t,i){if(Ge)return t==="compositionend"||!Rr&&G(t,i)?(t=ql(),oi=Zi=Mr=null,Ge=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return b&&i.locale!=="ko"?null:i.data;default:return null}}var Qt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function an(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Qt[t.type]:i==="textarea"}function ui(t,i,s,l){ai?si?si.push(l):si=[l]:ai=l,i=Xh(i,"onChange"),0<i.length&&(s=new Zs("onChange","change",null,s,l),t.push({event:s,listeners:i}))}var sn=null,jr=null;function Ql(t){c2(t,0)}function hh(t){var i=Dr(t);if(jl(i))return t}function Ik(t,i){if(t==="change")return i}var Pk=!1;if(dr){var rm;if(dr){var im="oninput"in document;if(!im){var Mk=document.createElement("div");Mk.setAttribute("oninput","return;"),im=typeof Mk.oninput=="function"}rm=im}else rm=!1;Pk=rm&&(!document.documentMode||9<document.documentMode)}function Ok(){sn&&(sn.detachEvent("onpropertychange",Lk),jr=sn=null)}function Lk(t){if(t.propertyName==="value"&&hh(jr)){var i=[];ui(i,jr,t,Zn(t)),Yc(Ql,i)}}function t6(t,i,s){t==="focusin"?(Ok(),sn=i,jr=s,sn.attachEvent("onpropertychange",Lk)):t==="focusout"&&Ok()}function n6(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hh(jr)}function r6(t,i){if(t==="click")return hh(i)}function i6(t,i){if(t==="input"||t==="change")return hh(i)}function a6(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Fn=typeof Object.is=="function"?Object.is:a6;function Wl(t,i){if(Fn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var f=s[l];if(!nt.call(i,f)||!Fn(t[f],i[f]))return!1}return!0}function Vk(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rk(t,i){var s=Vk(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=i&&l>=i)return{node:s,offset:i-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Vk(s)}}function jk(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?jk(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Fk(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ha(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=Ha(t.document)}return i}function am(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var s6=dr&&"documentMode"in document&&11>=document.documentMode,oo=null,sm=null,Xl=null,om=!1;function zk(t,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;om||oo==null||oo!==Ha(l)||(l=oo,"selectionStart"in l&&am(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Xl&&Wl(Xl,l)||(Xl=l,l=Xh(sm,"onSelect"),0<l.length&&(i=new Zs("onSelect","select",null,i,s),t.push({event:i,listeners:l}),i.target=oo)))}function ns(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var lo={animationend:ns("Animation","AnimationEnd"),animationiteration:ns("Animation","AnimationIteration"),animationstart:ns("Animation","AnimationStart"),transitionrun:ns("Transition","TransitionRun"),transitionstart:ns("Transition","TransitionStart"),transitioncancel:ns("Transition","TransitionCancel"),transitionend:ns("Transition","TransitionEnd")},lm={},Uk={};dr&&(Uk=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function rs(t){if(lm[t])return lm[t];if(!lo[t])return t;var i=lo[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in Uk)return lm[t]=i[s];return t}var qk=rs("animationend"),Bk=rs("animationiteration"),$k=rs("animationstart"),o6=rs("transitionrun"),l6=rs("transitionstart"),u6=rs("transitioncancel"),Hk=rs("transitionend"),Kk=new Map,um="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");um.push("scrollEnd");function pr(t,i){Kk.set(t,i),fr(i,[t])}var Gk=new WeakMap;function nr(t,i){if(typeof t=="object"&&t!==null){var s=Gk.get(t);return s!==void 0?s:(i={value:t,source:i,stack:Xs(i)},Gk.set(t,i),i)}return{value:t,source:i,stack:Xs(i)}}var rr=[],uo=0,cm=0;function fh(){for(var t=uo,i=cm=uo=0;i<t;){var s=rr[i];rr[i++]=null;var l=rr[i];rr[i++]=null;var f=rr[i];rr[i++]=null;var p=rr[i];if(rr[i++]=null,l!==null&&f!==null){var w=l.pending;w===null?f.next=f:(f.next=w.next,w.next=f),l.pending=f}p!==0&&Qk(s,f,p)}}function dh(t,i,s,l){rr[uo++]=t,rr[uo++]=i,rr[uo++]=s,rr[uo++]=l,cm|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function hm(t,i,s,l){return dh(t,i,s,l),ph(t)}function co(t,i){return dh(t,null,null,i),ph(t)}function Qk(t,i,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var f=!1,p=t.return;p!==null;)p.childLanes|=s,l=p.alternate,l!==null&&(l.childLanes|=s),p.tag===22&&(t=p.stateNode,t===null||t._visibility&1||(f=!0)),t=p,p=p.return;return t.tag===3?(p=t.stateNode,f&&i!==null&&(f=31-zt(s),t=p.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=s|536870912),p):null}function ph(t){if(50<ku)throw ku=0,yg=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ho={};function c6(t,i,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(t,i,s,l){return new c6(t,i,s,l)}function fm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ci(t,i){var s=t.alternate;return s===null?(s=zn(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Wk(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function mh(t,i,s,l,f,p){var w=0;if(l=t,typeof t=="function")fm(t)&&(w=1);else if(typeof t=="string")w=f3(t,s,se.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=zn(31,s,i,f),t.elementType=N,t.lanes=p,t;case j:return is(s.children,f,p,i);case B:w=8,f|=24;break;case F:return t=zn(12,s,i,f|2),t.elementType=F,t.lanes=p,t;case le:return t=zn(13,s,i,f),t.elementType=le,t.lanes=p,t;case ye:return t=zn(19,s,i,f),t.elementType=ye,t.lanes=p,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case W:case ae:w=10;break e;case te:w=9;break e;case pe:w=11;break e;case M:w=14;break e;case A:w=16,l=null;break e}w=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return i=zn(w,s,i,f),i.elementType=t,i.type=l,i.lanes=p,i}function is(t,i,s,l){return t=zn(7,t,l,i),t.lanes=s,t}function dm(t,i,s){return t=zn(6,t,null,i),t.lanes=s,t}function pm(t,i,s){return i=zn(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var fo=[],po=0,gh=null,yh=0,ir=[],ar=0,as=null,hi=1,fi="";function ss(t,i){fo[po++]=yh,fo[po++]=gh,gh=t,yh=i}function Xk(t,i,s){ir[ar++]=hi,ir[ar++]=fi,ir[ar++]=as,as=t;var l=hi;t=fi;var f=32-zt(l)-1;l&=~(1<<f),s+=1;var p=32-zt(i)+f;if(30<p){var w=f-f%5;p=(l&(1<<w)-1).toString(32),l>>=w,f-=w,hi=1<<32-zt(i)+f|s<<f|l,fi=p+t}else hi=1<<p|s<<f|l,fi=t}function mm(t){t.return!==null&&(ss(t,1),Xk(t,1,0))}function gm(t){for(;t===gh;)gh=fo[--po],fo[po]=null,yh=fo[--po],fo[po]=null;for(;t===as;)as=ir[--ar],ir[ar]=null,fi=ir[--ar],ir[ar]=null,hi=ir[--ar],ir[ar]=null}var Sn=null,St=null,Ye=!1,os=null,Fr=!1,ym=Error(a(519));function ls(t){var i=Error(a(418,""));throw Zl(nr(i,t)),ym}function Yk(t){var i=t.stateNode,s=t.type,l=t.memoizedProps;switch(i[Ut]=t,i[Lt]=l,s){case"dialog":ze("cancel",i),ze("close",i);break;case"iframe":case"object":case"embed":ze("load",i);break;case"video":case"audio":for(s=0;s<Su.length;s++)ze(Su[s],i);break;case"source":ze("error",i);break;case"img":case"image":case"link":ze("error",i),ze("load",i);break;case"details":ze("toggle",i);break;case"input":ze("invalid",i),Ka(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ys(i);break;case"select":ze("invalid",i);break;case"textarea":ze("invalid",i),Ga(i,l.value,l.defaultValue,l.children),Ys(i)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||p2(i.textContent,s)?(l.popover!=null&&(ze("beforetoggle",i),ze("toggle",i)),l.onScroll!=null&&ze("scroll",i),l.onScrollEnd!=null&&ze("scrollend",i),l.onClick!=null&&(i.onclick=Yh),i=!0):i=!1,i||ls(t)}function Jk(t){for(Sn=t.return;Sn;)switch(Sn.tag){case 5:case 13:Fr=!1;return;case 27:case 3:Fr=!0;return;default:Sn=Sn.return}}function Yl(t){if(t!==Sn)return!1;if(!Ye)return Jk(t),Ye=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Mg(t.type,t.memoizedProps)),s=!s),s&&St&&ls(t),Jk(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(i===0){St=gr(t.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;t=t.nextSibling}St=null}}else i===27?(i=St,ma(t.type)?(t=Rg,Rg=null,St=t):St=i):St=Sn?gr(t.stateNode.nextSibling):null;return!0}function Jl(){St=Sn=null,Ye=!1}function Zk(){var t=os;return t!==null&&(In===null?In=t:In.push.apply(In,t),os=null),t}function Zl(t){os===null?os=[t]:os.push(t)}var vm=C(null),us=null,di=null;function ea(t,i,s){Q(vm,i._currentValue),i._currentValue=s}function pi(t){t._currentValue=vm.current,X(vm)}function bm(t,i,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===s)break;t=t.return}}function wm(t,i,s,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var p=f.dependencies;if(p!==null){var w=f.child;p=p.firstContext;e:for(;p!==null;){var E=p;p=f;for(var I=0;I<i.length;I++)if(E.context===i[I]){p.lanes|=s,E=p.alternate,E!==null&&(E.lanes|=s),bm(p.return,s,t),l||(w=null);break e}p=E.next}}else if(f.tag===18){if(w=f.return,w===null)throw Error(a(341));w.lanes|=s,p=w.alternate,p!==null&&(p.lanes|=s),bm(w,s,t),w=null}else w=f.child;if(w!==null)w.return=f;else for(w=f;w!==null;){if(w===t){w=null;break}if(f=w.sibling,f!==null){f.return=w.return,w=f;break}w=w.return}f=w}}function eu(t,i,s,l){t=null;for(var f=i,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var w=f.alternate;if(w===null)throw Error(a(387));if(w=w.memoizedProps,w!==null){var E=f.type;Fn(f.pendingProps.value,w.value)||(t!==null?t.push(E):t=[E])}}else if(f===me.current){if(w=f.alternate,w===null)throw Error(a(387));w.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Nu):t=[Nu])}f=f.return}t!==null&&wm(i,t,s,l),i.flags|=262144}function vh(t){for(t=t.firstContext;t!==null;){if(!Fn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function cs(t){us=t,di=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function gn(t){return eE(us,t)}function bh(t,i){return us===null&&cs(t),eE(t,i)}function eE(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},di===null){if(t===null)throw Error(a(308));di=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else di=di.next=i;return s}var h6=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},f6=n.unstable_scheduleCallback,d6=n.unstable_NormalPriority,$t={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function km(){return{controller:new h6,data:new Map,refCount:0}}function tu(t){t.refCount--,t.refCount===0&&f6(d6,function(){t.controller.abort()})}var nu=null,Em=0,mo=0,go=null;function p6(t,i){if(nu===null){var s=nu=[];Em=0,mo=Tg(),go={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Em++,i.then(tE,tE),i}function tE(){if(--Em===0&&nu!==null){go!==null&&(go.status="fulfilled");var t=nu;nu=null,mo=0,go=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function m6(t,i){var s=[],l={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<s.length;f++)(0,s[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),l}var nE=H.S;H.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&p6(t,i),nE!==null&&nE(t,i)};var hs=C(null);function Sm(){var t=hs.current;return t!==null?t:ct.pooledCache}function wh(t,i){i===null?Q(hs,hs.current):Q(hs,i.pool)}function rE(){var t=Sm();return t===null?null:{parent:$t._currentValue,pool:t}}var ru=Error(a(460)),iE=Error(a(474)),kh=Error(a(542)),Tm={then:function(){}};function aE(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Eh(){}function sE(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(Eh,Eh),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,lE(t),t;default:if(typeof i.status=="string")i.then(Eh,Eh);else{if(t=ct,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,lE(t),t}throw iu=i,ru}}var iu=null;function oE(){if(iu===null)throw Error(a(459));var t=iu;return iu=null,t}function lE(t){if(t===ru||t===kh)throw Error(a(483))}var ta=!1;function xm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cm(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function na(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ra(t,i,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(et&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=ph(t),Qk(t,null,s),i}return dh(t,l,i,s),ph(t)}function au(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,Ml(t,s)}}function Am(t,i){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var f=null,p=null;if(s=s.firstBaseUpdate,s!==null){do{var w={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};p===null?f=p=w:p=p.next=w,s=s.next}while(s!==null);p===null?f=p=i:p=p.next=i}else f=p=i;s={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var _m=!1;function su(){if(_m){var t=go;if(t!==null)throw t}}function ou(t,i,s,l){_m=!1;var f=t.updateQueue;ta=!1;var p=f.firstBaseUpdate,w=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var I=E,q=I.next;I.next=null,w===null?p=q:w.next=q,w=I;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,E=Y.lastBaseUpdate,E!==w&&(E===null?Y.firstBaseUpdate=q:E.next=q,Y.lastBaseUpdate=I))}if(p!==null){var ee=f.baseState;w=0,Y=q=I=null,E=p;do{var $=E.lane&-536870913,K=$!==E.lane;if(K?(He&$)===$:(l&$)===$){$!==0&&$===mo&&(_m=!0),Y!==null&&(Y=Y.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var _e=t,Te=E;$=i;var st=s;switch(Te.tag){case 1:if(_e=Te.payload,typeof _e=="function"){ee=_e.call(st,ee,$);break e}ee=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Te.payload,$=typeof _e=="function"?_e.call(st,ee,$):_e,$==null)break e;ee=v({},ee,$);break e;case 2:ta=!0}}$=E.callback,$!==null&&(t.flags|=64,K&&(t.flags|=8192),K=f.callbacks,K===null?f.callbacks=[$]:K.push($))}else K={lane:$,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Y===null?(q=Y=K,I=ee):Y=Y.next=K,w|=$;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;K=E,E=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);Y===null&&(I=ee),f.baseState=I,f.firstBaseUpdate=q,f.lastBaseUpdate=Y,p===null&&(f.shared.lanes=0),ha|=w,t.lanes=w,t.memoizedState=ee}}function uE(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function cE(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)uE(s[t],i)}var yo=C(null),Sh=C(0);function hE(t,i){t=Ei,Q(Sh,t),Q(yo,i),Ei=t|i.baseLanes}function Nm(){Q(Sh,Ei),Q(yo,yo.current)}function Dm(){Ei=Sh.current,X(yo),X(Sh)}var ia=0,Ve=null,it=null,Vt=null,Th=!1,vo=!1,fs=!1,xh=0,lu=0,bo=null,g6=0;function _t(){throw Error(a(321))}function Im(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!Fn(t[s],i[s]))return!1;return!0}function Pm(t,i,s,l,f,p){return ia=p,Ve=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,H.H=t===null||t.memoizedState===null?QE:WE,fs=!1,p=s(l,f),fs=!1,vo&&(p=dE(i,s,l,f)),fE(t),p}function fE(t){H.H=Ih;var i=it!==null&&it.next!==null;if(ia=0,Vt=it=Ve=null,Th=!1,lu=0,bo=null,i)throw Error(a(300));t===null||Wt||(t=t.dependencies,t!==null&&vh(t)&&(Wt=!0))}function dE(t,i,s,l){Ve=t;var f=0;do{if(vo&&(bo=null),lu=0,vo=!1,25<=f)throw Error(a(301));if(f+=1,Vt=it=null,t.updateQueue!=null){var p=t.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}H.H=S6,p=i(s,l)}while(vo);return p}function y6(){var t=H.H,i=t.useState()[0];return i=typeof i.then=="function"?uu(i):i,t=t.useState()[0],(it!==null?it.memoizedState:null)!==t&&(Ve.flags|=1024),i}function Mm(){var t=xh!==0;return xh=0,t}function Om(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function Lm(t){if(Th){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Th=!1}ia=0,Vt=it=Ve=null,vo=!1,lu=xh=0,bo=null}function Nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?Ve.memoizedState=Vt=t:Vt=Vt.next=t,Vt}function Rt(){if(it===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var i=Vt===null?Ve.memoizedState:Vt.next;if(i!==null)Vt=i,it=t;else{if(t===null)throw Ve.alternate===null?Error(a(467)):Error(a(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Vt===null?Ve.memoizedState=Vt=t:Vt=Vt.next=t}return Vt}function Vm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function uu(t){var i=lu;return lu+=1,bo===null&&(bo=[]),t=sE(bo,t,i),i=Ve,(Vt===null?i.memoizedState:Vt.next)===null&&(i=i.alternate,H.H=i===null||i.memoizedState===null?QE:WE),t}function Ch(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return uu(t);if(t.$$typeof===ae)return gn(t)}throw Error(a(438,String(t)))}function Rm(t){var i=null,s=Ve.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=Ve.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=Vm(),Ve.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),l=0;l<t;l++)s[l]=P;return i.index++,s}function mi(t,i){return typeof i=="function"?i(t):i}function Ah(t){var i=Rt();return jm(i,it,t)}function jm(t,i,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var f=t.baseQueue,p=l.pending;if(p!==null){if(f!==null){var w=f.next;f.next=p.next,p.next=w}i.baseQueue=f=p,l.pending=null}if(p=t.baseState,f===null)t.memoizedState=p;else{i=f.next;var E=w=null,I=null,q=i,Y=!1;do{var ee=q.lane&-536870913;if(ee!==q.lane?(He&ee)===ee:(ia&ee)===ee){var $=q.revertLane;if($===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ee===mo&&(Y=!0);else if((ia&$)===$){q=q.next,$===mo&&(Y=!0);continue}else ee={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(E=I=ee,w=p):I=I.next=ee,Ve.lanes|=$,ha|=$;ee=q.action,fs&&s(p,ee),p=q.hasEagerState?q.eagerState:s(p,ee)}else $={lane:ee,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(E=I=$,w=p):I=I.next=$,Ve.lanes|=ee,ha|=ee;q=q.next}while(q!==null&&q!==i);if(I===null?w=p:I.next=E,!Fn(p,t.memoizedState)&&(Wt=!0,Y&&(s=go,s!==null)))throw s;t.memoizedState=p,t.baseState=w,t.baseQueue=I,l.lastRenderedState=p}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Fm(t){var i=Rt(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,f=s.pending,p=i.memoizedState;if(f!==null){s.pending=null;var w=f=f.next;do p=t(p,w.action),w=w.next;while(w!==f);Fn(p,i.memoizedState)||(Wt=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),s.lastRenderedState=p}return[p,l]}function pE(t,i,s){var l=Ve,f=Rt(),p=Ye;if(p){if(s===void 0)throw Error(a(407));s=s()}else s=i();var w=!Fn((it||f).memoizedState,s);w&&(f.memoizedState=s,Wt=!0),f=f.queue;var E=yE.bind(null,l,f,t);if(cu(2048,8,E,[t]),f.getSnapshot!==i||w||Vt!==null&&Vt.memoizedState.tag&1){if(l.flags|=2048,wo(9,_h(),gE.bind(null,l,f,s,i),null),ct===null)throw Error(a(349));p||(ia&124)!==0||mE(l,i,s)}return s}function mE(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=Ve.updateQueue,i===null?(i=Vm(),Ve.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function gE(t,i,s,l){i.value=s,i.getSnapshot=l,vE(i)&&bE(t)}function yE(t,i,s){return s(function(){vE(i)&&bE(t)})}function vE(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!Fn(t,s)}catch{return!0}}function bE(t){var i=co(t,2);i!==null&&Hn(i,t,2)}function zm(t){var i=Nn();if(typeof t=="function"){var s=t;if(t=s(),fs){bn(!0);try{s()}finally{bn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:t},i}function wE(t,i,s,l){return t.baseState=s,jm(t,it,typeof l=="function"?l:mi)}function v6(t,i,s,l,f){if(Dh(t))throw Error(a(485));if(t=i.action,t!==null){var p={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){p.listeners.push(w)}};H.T!==null?s(!0):p.isTransition=!1,l(p),s=i.pending,s===null?(p.next=i.pending=p,kE(i,p)):(p.next=s.next,i.pending=s.next=p)}}function kE(t,i){var s=i.action,l=i.payload,f=t.state;if(i.isTransition){var p=H.T,w={};H.T=w;try{var E=s(f,l),I=H.S;I!==null&&I(w,E),EE(t,i,E)}catch(q){Um(t,i,q)}finally{H.T=p}}else try{p=s(f,l),EE(t,i,p)}catch(q){Um(t,i,q)}}function EE(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){SE(t,i,l)},function(l){return Um(t,i,l)}):SE(t,i,s)}function SE(t,i,s){i.status="fulfilled",i.value=s,TE(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,kE(t,s)))}function Um(t,i,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,TE(i),i=i.next;while(i!==l)}t.action=null}function TE(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function xE(t,i){return i}function CE(t,i){if(Ye){var s=ct.formState;if(s!==null){e:{var l=Ve;if(Ye){if(St){t:{for(var f=St,p=Fr;f.nodeType!==8;){if(!p){f=null;break t}if(f=gr(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){St=gr(f.nextSibling),l=f.data==="F!";break e}}ls(l)}l=!1}l&&(i=s[0])}}return s=Nn(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xE,lastRenderedState:i},s.queue=l,s=HE.bind(null,Ve,l),l.dispatch=s,l=zm(!1),p=Km.bind(null,Ve,!1,l.queue),l=Nn(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,s=v6.bind(null,Ve,f,p,s),f.dispatch=s,l.memoizedState=t,[i,s,!1]}function AE(t){var i=Rt();return _E(i,it,t)}function _E(t,i,s){if(i=jm(t,i,xE)[0],t=Ah(mi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=uu(i)}catch(w){throw w===ru?kh:w}else l=i;i=Rt();var f=i.queue,p=f.dispatch;return s!==i.memoizedState&&(Ve.flags|=2048,wo(9,_h(),b6.bind(null,f,s),null)),[l,p,t]}function b6(t,i){t.action=i}function NE(t){var i=Rt(),s=it;if(s!==null)return _E(i,s,t);Rt(),i=i.memoizedState,s=Rt();var l=s.queue.dispatch;return s.memoizedState=t,[i,l,!1]}function wo(t,i,s,l){return t={tag:t,create:s,deps:l,inst:i,next:null},i=Ve.updateQueue,i===null&&(i=Vm(),Ve.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,i.lastEffect=t),t}function _h(){return{destroy:void 0,resource:void 0}}function DE(){return Rt().memoizedState}function Nh(t,i,s,l){var f=Nn();l=l===void 0?null:l,Ve.flags|=t,f.memoizedState=wo(1|i,_h(),s,l)}function cu(t,i,s,l){var f=Rt();l=l===void 0?null:l;var p=f.memoizedState.inst;it!==null&&l!==null&&Im(l,it.memoizedState.deps)?f.memoizedState=wo(i,p,s,l):(Ve.flags|=t,f.memoizedState=wo(1|i,p,s,l))}function IE(t,i){Nh(8390656,8,t,i)}function PE(t,i){cu(2048,8,t,i)}function ME(t,i){return cu(4,2,t,i)}function OE(t,i){return cu(4,4,t,i)}function LE(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function VE(t,i,s){s=s!=null?s.concat([t]):null,cu(4,4,LE.bind(null,i,t),s)}function qm(){}function RE(t,i){var s=Rt();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&Im(i,l[1])?l[0]:(s.memoizedState=[t,i],t)}function jE(t,i){var s=Rt();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&Im(i,l[1]))return l[0];if(l=t(),fs){bn(!0);try{t()}finally{bn(!1)}}return s.memoizedState=[l,i],l}function Bm(t,i,s){return s===void 0||(ia&1073741824)!==0?t.memoizedState=i:(t.memoizedState=s,t=US(),Ve.lanes|=t,ha|=t,s)}function FE(t,i,s,l){return Fn(s,i)?s:yo.current!==null?(t=Bm(t,s,l),Fn(t,i)||(Wt=!0),t):(ia&42)===0?(Wt=!0,t.memoizedState=s):(t=US(),Ve.lanes|=t,ha|=t,i)}function zE(t,i,s,l,f){var p=re.p;re.p=p!==0&&8>p?p:8;var w=H.T,E={};H.T=E,Km(t,!1,i,s);try{var I=f(),q=H.S;if(q!==null&&q(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Y=m6(I,l);hu(t,i,Y,$n(t))}else hu(t,i,l,$n(t))}catch(ee){hu(t,i,{then:function(){},status:"rejected",reason:ee},$n())}finally{re.p=p,H.T=w}}function w6(){}function $m(t,i,s,l){if(t.tag!==5)throw Error(a(476));var f=UE(t).queue;zE(t,f,i,fe,s===null?w6:function(){return qE(t),s(l)})}function UE(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:fe},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function qE(t){var i=UE(t).next.queue;hu(t,i,{},$n())}function Hm(){return gn(Nu)}function BE(){return Rt().memoizedState}function $E(){return Rt().memoizedState}function k6(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=$n();t=na(s);var l=ra(i,t,s);l!==null&&(Hn(l,i,s),au(l,i,s)),i={cache:km()},t.payload=i;return}i=i.return}}function E6(t,i,s){var l=$n();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Dh(t)?KE(i,s):(s=hm(t,i,s,l),s!==null&&(Hn(s,t,l),GE(s,i,l)))}function HE(t,i,s){var l=$n();hu(t,i,s,l)}function hu(t,i,s,l){var f={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Dh(t))KE(i,f);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var w=i.lastRenderedState,E=p(w,s);if(f.hasEagerState=!0,f.eagerState=E,Fn(E,w))return dh(t,i,f,0),ct===null&&fh(),!1}catch{}finally{}if(s=hm(t,i,f,l),s!==null)return Hn(s,t,l),GE(s,i,l),!0}return!1}function Km(t,i,s,l){if(l={lane:2,revertLane:Tg(),action:l,hasEagerState:!1,eagerState:null,next:null},Dh(t)){if(i)throw Error(a(479))}else i=hm(t,s,l,2),i!==null&&Hn(i,t,2)}function Dh(t){var i=t.alternate;return t===Ve||i!==null&&i===Ve}function KE(t,i){vo=Th=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function GE(t,i,s){if((s&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,Ml(t,s)}}var Ih={readContext:gn,use:Ch,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t},QE={readContext:gn,use:Ch,useCallback:function(t,i){return Nn().memoizedState=[t,i===void 0?null:i],t},useContext:gn,useEffect:IE,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,Nh(4194308,4,LE.bind(null,i,t),s)},useLayoutEffect:function(t,i){return Nh(4194308,4,t,i)},useInsertionEffect:function(t,i){Nh(4,2,t,i)},useMemo:function(t,i){var s=Nn();i=i===void 0?null:i;var l=t();if(fs){bn(!0);try{t()}finally{bn(!1)}}return s.memoizedState=[l,i],l},useReducer:function(t,i,s){var l=Nn();if(s!==void 0){var f=s(i);if(fs){bn(!0);try{s(i)}finally{bn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=E6.bind(null,Ve,t),[l.memoizedState,t]},useRef:function(t){var i=Nn();return t={current:t},i.memoizedState=t},useState:function(t){t=zm(t);var i=t.queue,s=HE.bind(null,Ve,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:qm,useDeferredValue:function(t,i){var s=Nn();return Bm(s,t,i)},useTransition:function(){var t=zm(!1);return t=zE.bind(null,Ve,t.queue,!0,!1),Nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var l=Ve,f=Nn();if(Ye){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),ct===null)throw Error(a(349));(He&124)!==0||mE(l,i,s)}f.memoizedState=s;var p={value:s,getSnapshot:i};return f.queue=p,IE(yE.bind(null,l,p,t),[t]),l.flags|=2048,wo(9,_h(),gE.bind(null,l,p,s,i),null),s},useId:function(){var t=Nn(),i=ct.identifierPrefix;if(Ye){var s=fi,l=hi;s=(l&~(1<<32-zt(l)-1)).toString(32)+s,i=""+i+"R"+s,s=xh++,0<s&&(i+="H"+s.toString(32)),i+=""}else s=g6++,i=""+i+"r"+s.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:Hm,useFormState:CE,useActionState:CE,useOptimistic:function(t){var i=Nn();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=Km.bind(null,Ve,!0,s),s.dispatch=i,[t,i]},useMemoCache:Rm,useCacheRefresh:function(){return Nn().memoizedState=k6.bind(null,Ve)}},WE={readContext:gn,use:Ch,useCallback:RE,useContext:gn,useEffect:PE,useImperativeHandle:VE,useInsertionEffect:ME,useLayoutEffect:OE,useMemo:jE,useReducer:Ah,useRef:DE,useState:function(){return Ah(mi)},useDebugValue:qm,useDeferredValue:function(t,i){var s=Rt();return FE(s,it.memoizedState,t,i)},useTransition:function(){var t=Ah(mi)[0],i=Rt().memoizedState;return[typeof t=="boolean"?t:uu(t),i]},useSyncExternalStore:pE,useId:BE,useHostTransitionStatus:Hm,useFormState:AE,useActionState:AE,useOptimistic:function(t,i){var s=Rt();return wE(s,it,t,i)},useMemoCache:Rm,useCacheRefresh:$E},S6={readContext:gn,use:Ch,useCallback:RE,useContext:gn,useEffect:PE,useImperativeHandle:VE,useInsertionEffect:ME,useLayoutEffect:OE,useMemo:jE,useReducer:Fm,useRef:DE,useState:function(){return Fm(mi)},useDebugValue:qm,useDeferredValue:function(t,i){var s=Rt();return it===null?Bm(s,t,i):FE(s,it.memoizedState,t,i)},useTransition:function(){var t=Fm(mi)[0],i=Rt().memoizedState;return[typeof t=="boolean"?t:uu(t),i]},useSyncExternalStore:pE,useId:BE,useHostTransitionStatus:Hm,useFormState:NE,useActionState:NE,useOptimistic:function(t,i){var s=Rt();return it!==null?wE(s,it,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Rm,useCacheRefresh:$E},ko=null,fu=0;function Ph(t){var i=fu;return fu+=1,ko===null&&(ko=[]),sE(ko,t,i)}function du(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Mh(t,i){throw i.$$typeof===k?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function XE(t){var i=t._init;return i(t._payload)}function YE(t){function i(R,L){if(t){var U=R.deletions;U===null?(R.deletions=[L],R.flags|=16):U.push(L)}}function s(R,L){if(!t)return null;for(;L!==null;)i(R,L),L=L.sibling;return null}function l(R){for(var L=new Map;R!==null;)R.key!==null?L.set(R.key,R):L.set(R.index,R),R=R.sibling;return L}function f(R,L){return R=ci(R,L),R.index=0,R.sibling=null,R}function p(R,L,U){return R.index=U,t?(U=R.alternate,U!==null?(U=U.index,U<L?(R.flags|=67108866,L):U):(R.flags|=67108866,L)):(R.flags|=1048576,L)}function w(R){return t&&R.alternate===null&&(R.flags|=67108866),R}function E(R,L,U,J){return L===null||L.tag!==6?(L=dm(U,R.mode,J),L.return=R,L):(L=f(L,U),L.return=R,L)}function I(R,L,U,J){var de=U.type;return de===j?Y(R,L,U.props.children,J,U.key):L!==null&&(L.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===A&&XE(de)===L.type)?(L=f(L,U.props),du(L,U),L.return=R,L):(L=mh(U.type,U.key,U.props,null,R.mode,J),du(L,U),L.return=R,L)}function q(R,L,U,J){return L===null||L.tag!==4||L.stateNode.containerInfo!==U.containerInfo||L.stateNode.implementation!==U.implementation?(L=pm(U,R.mode,J),L.return=R,L):(L=f(L,U.children||[]),L.return=R,L)}function Y(R,L,U,J,de){return L===null||L.tag!==7?(L=is(U,R.mode,J,de),L.return=R,L):(L=f(L,U),L.return=R,L)}function ee(R,L,U){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=dm(""+L,R.mode,U),L.return=R,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case T:return U=mh(L.type,L.key,L.props,null,R.mode,U),du(U,L),U.return=R,U;case _:return L=pm(L,R.mode,U),L.return=R,L;case A:var J=L._init;return L=J(L._payload),ee(R,L,U)}if(qe(L)||V(L))return L=is(L,R.mode,U,null),L.return=R,L;if(typeof L.then=="function")return ee(R,Ph(L),U);if(L.$$typeof===ae)return ee(R,bh(R,L),U);Mh(R,L)}return null}function $(R,L,U,J){var de=L!==null?L.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return de!==null?null:E(R,L,""+U,J);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case T:return U.key===de?I(R,L,U,J):null;case _:return U.key===de?q(R,L,U,J):null;case A:return de=U._init,U=de(U._payload),$(R,L,U,J)}if(qe(U)||V(U))return de!==null?null:Y(R,L,U,J,null);if(typeof U.then=="function")return $(R,L,Ph(U),J);if(U.$$typeof===ae)return $(R,L,bh(R,U),J);Mh(R,U)}return null}function K(R,L,U,J,de){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return R=R.get(U)||null,E(L,R,""+J,de);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case T:return R=R.get(J.key===null?U:J.key)||null,I(L,R,J,de);case _:return R=R.get(J.key===null?U:J.key)||null,q(L,R,J,de);case A:var Re=J._init;return J=Re(J._payload),K(R,L,U,J,de)}if(qe(J)||V(J))return R=R.get(U)||null,Y(L,R,J,de,null);if(typeof J.then=="function")return K(R,L,U,Ph(J),de);if(J.$$typeof===ae)return K(R,L,U,bh(L,J),de);Mh(L,J)}return null}function _e(R,L,U,J){for(var de=null,Re=null,ke=L,xe=L=0,Yt=null;ke!==null&&xe<U.length;xe++){ke.index>xe?(Yt=ke,ke=null):Yt=ke.sibling;var Qe=$(R,ke,U[xe],J);if(Qe===null){ke===null&&(ke=Yt);break}t&&ke&&Qe.alternate===null&&i(R,ke),L=p(Qe,L,xe),Re===null?de=Qe:Re.sibling=Qe,Re=Qe,ke=Yt}if(xe===U.length)return s(R,ke),Ye&&ss(R,xe),de;if(ke===null){for(;xe<U.length;xe++)ke=ee(R,U[xe],J),ke!==null&&(L=p(ke,L,xe),Re===null?de=ke:Re.sibling=ke,Re=ke);return Ye&&ss(R,xe),de}for(ke=l(ke);xe<U.length;xe++)Yt=K(ke,R,xe,U[xe],J),Yt!==null&&(t&&Yt.alternate!==null&&ke.delete(Yt.key===null?xe:Yt.key),L=p(Yt,L,xe),Re===null?de=Yt:Re.sibling=Yt,Re=Yt);return t&&ke.forEach(function(wa){return i(R,wa)}),Ye&&ss(R,xe),de}function Te(R,L,U,J){if(U==null)throw Error(a(151));for(var de=null,Re=null,ke=L,xe=L=0,Yt=null,Qe=U.next();ke!==null&&!Qe.done;xe++,Qe=U.next()){ke.index>xe?(Yt=ke,ke=null):Yt=ke.sibling;var wa=$(R,ke,Qe.value,J);if(wa===null){ke===null&&(ke=Yt);break}t&&ke&&wa.alternate===null&&i(R,ke),L=p(wa,L,xe),Re===null?de=wa:Re.sibling=wa,Re=wa,ke=Yt}if(Qe.done)return s(R,ke),Ye&&ss(R,xe),de;if(ke===null){for(;!Qe.done;xe++,Qe=U.next())Qe=ee(R,Qe.value,J),Qe!==null&&(L=p(Qe,L,xe),Re===null?de=Qe:Re.sibling=Qe,Re=Qe);return Ye&&ss(R,xe),de}for(ke=l(ke);!Qe.done;xe++,Qe=U.next())Qe=K(ke,R,xe,Qe.value,J),Qe!==null&&(t&&Qe.alternate!==null&&ke.delete(Qe.key===null?xe:Qe.key),L=p(Qe,L,xe),Re===null?de=Qe:Re.sibling=Qe,Re=Qe);return t&&ke.forEach(function(T3){return i(R,T3)}),Ye&&ss(R,xe),de}function st(R,L,U,J){if(typeof U=="object"&&U!==null&&U.type===j&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case T:e:{for(var de=U.key;L!==null;){if(L.key===de){if(de=U.type,de===j){if(L.tag===7){s(R,L.sibling),J=f(L,U.props.children),J.return=R,R=J;break e}}else if(L.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===A&&XE(de)===L.type){s(R,L.sibling),J=f(L,U.props),du(J,U),J.return=R,R=J;break e}s(R,L);break}else i(R,L);L=L.sibling}U.type===j?(J=is(U.props.children,R.mode,J,U.key),J.return=R,R=J):(J=mh(U.type,U.key,U.props,null,R.mode,J),du(J,U),J.return=R,R=J)}return w(R);case _:e:{for(de=U.key;L!==null;){if(L.key===de)if(L.tag===4&&L.stateNode.containerInfo===U.containerInfo&&L.stateNode.implementation===U.implementation){s(R,L.sibling),J=f(L,U.children||[]),J.return=R,R=J;break e}else{s(R,L);break}else i(R,L);L=L.sibling}J=pm(U,R.mode,J),J.return=R,R=J}return w(R);case A:return de=U._init,U=de(U._payload),st(R,L,U,J)}if(qe(U))return _e(R,L,U,J);if(V(U)){if(de=V(U),typeof de!="function")throw Error(a(150));return U=de.call(U),Te(R,L,U,J)}if(typeof U.then=="function")return st(R,L,Ph(U),J);if(U.$$typeof===ae)return st(R,L,bh(R,U),J);Mh(R,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,L!==null&&L.tag===6?(s(R,L.sibling),J=f(L,U),J.return=R,R=J):(s(R,L),J=dm(U,R.mode,J),J.return=R,R=J),w(R)):s(R,L)}return function(R,L,U,J){try{fu=0;var de=st(R,L,U,J);return ko=null,de}catch(ke){if(ke===ru||ke===kh)throw ke;var Re=zn(29,ke,null,R.mode);return Re.lanes=J,Re.return=R,Re}finally{}}}var Eo=YE(!0),JE=YE(!1),sr=C(null),gi=null;function aa(t){var i=t.alternate;Q(Ht,Ht.current&1),Q(sr,t),gi===null&&(i===null||yo.current!==null||i.memoizedState!==null)&&(gi=t)}function ZE(t){if(t.tag===22){if(Q(Ht,Ht.current),Q(sr,t),gi===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(gi=t)}}else sa()}function sa(){Q(Ht,Ht.current),Q(sr,sr.current)}function yi(t){X(sr),gi===t&&(gi=null),X(Ht)}var Ht=C(0);function Oh(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Vg(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Gm(t,i,s,l){i=t.memoizedState,s=s(l,i),s=s==null?i:v({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Qm={enqueueSetState:function(t,i,s){t=t._reactInternals;var l=$n(),f=na(l);f.payload=i,s!=null&&(f.callback=s),i=ra(t,f,l),i!==null&&(Hn(i,t,l),au(i,t,l))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var l=$n(),f=na(l);f.tag=1,f.payload=i,s!=null&&(f.callback=s),i=ra(t,f,l),i!==null&&(Hn(i,t,l),au(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=$n(),l=na(s);l.tag=2,i!=null&&(l.callback=i),i=ra(t,l,s),i!==null&&(Hn(i,t,s),au(i,t,s))}};function eS(t,i,s,l,f,p,w){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,p,w):i.prototype&&i.prototype.isPureReactComponent?!Wl(s,l)||!Wl(f,p):!0}function tS(t,i,s,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==t&&Qm.enqueueReplaceState(i,i.state,null)}function ds(t,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(t=t.defaultProps){s===i&&(s=v({},s));for(var f in t)s[f]===void 0&&(s[f]=t[f])}return s}var Lh=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function nS(t){Lh(t)}function rS(t){console.error(t)}function iS(t){Lh(t)}function Vh(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function aS(t,i,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Wm(t,i,s){return s=na(s),s.tag=3,s.payload={element:null},s.callback=function(){Vh(t,i)},s}function sS(t){return t=na(t),t.tag=3,t}function oS(t,i,s,l){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var p=l.value;t.payload=function(){return f(p)},t.callback=function(){aS(i,s,l)}}var w=s.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(t.callback=function(){aS(i,s,l),typeof f!="function"&&(fa===null?fa=new Set([this]):fa.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function T6(t,i,s,l,f){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&eu(i,s,f,!0),s=sr.current,s!==null){switch(s.tag){case 13:return gi===null?bg():s.alternate===null&&Tt===0&&(Tt=3),s.flags&=-257,s.flags|=65536,s.lanes=f,l===Tm?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),kg(t,l,f)),!1;case 22:return s.flags|=65536,l===Tm?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),kg(t,l,f)),!1}throw Error(a(435,s.tag))}return kg(t,l,f),bg(),!1}if(Ye)return i=sr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==ym&&(t=Error(a(422),{cause:l}),Zl(nr(t,s)))):(l!==ym&&(i=Error(a(423),{cause:l}),Zl(nr(i,s))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=nr(l,s),f=Wm(t.stateNode,l,f),Am(t,f),Tt!==4&&(Tt=2)),!1;var p=Error(a(520),{cause:l});if(p=nr(p,s),wu===null?wu=[p]:wu.push(p),Tt!==4&&(Tt=2),i===null)return!0;l=nr(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=f&-f,s.lanes|=t,t=Wm(s.stateNode,l,t),Am(s,t),!1;case 1:if(i=s.type,p=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(fa===null||!fa.has(p))))return s.flags|=65536,f&=-f,s.lanes|=f,f=sS(f),oS(f,t,s,l),Am(s,f),!1}s=s.return}while(s!==null);return!1}var lS=Error(a(461)),Wt=!1;function on(t,i,s,l){i.child=t===null?JE(i,null,s,l):Eo(i,t.child,s,l)}function uS(t,i,s,l,f){s=s.render;var p=i.ref;if("ref"in l){var w={};for(var E in l)E!=="ref"&&(w[E]=l[E])}else w=l;return cs(i),l=Pm(t,i,s,w,p,f),E=Mm(),t!==null&&!Wt?(Om(t,i,f),vi(t,i,f)):(Ye&&E&&mm(i),i.flags|=1,on(t,i,l,f),i.child)}function cS(t,i,s,l,f){if(t===null){var p=s.type;return typeof p=="function"&&!fm(p)&&p.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=p,hS(t,i,p,l,f)):(t=mh(s.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(p=t.child,!rg(t,f)){var w=p.memoizedProps;if(s=s.compare,s=s!==null?s:Wl,s(w,l)&&t.ref===i.ref)return vi(t,i,f)}return i.flags|=1,t=ci(p,l),t.ref=i.ref,t.return=i,i.child=t}function hS(t,i,s,l,f){if(t!==null){var p=t.memoizedProps;if(Wl(p,l)&&t.ref===i.ref)if(Wt=!1,i.pendingProps=l=p,rg(t,f))(t.flags&131072)!==0&&(Wt=!0);else return i.lanes=t.lanes,vi(t,i,f)}return Xm(t,i,s,l,f)}function fS(t,i,s){var l=i.pendingProps,f=l.children,p=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=p!==null?p.baseLanes|s:s,t!==null){for(f=i.child=t.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;i.childLanes=p&~l}else i.childLanes=0,i.child=null;return dS(t,i,l,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&wh(i,p!==null?p.cachePool:null),p!==null?hE(i,p):Nm(),ZE(i);else return i.lanes=i.childLanes=536870912,dS(t,i,p!==null?p.baseLanes|s:s,s)}else p!==null?(wh(i,p.cachePool),hE(i,p),sa(),i.memoizedState=null):(t!==null&&wh(i,null),Nm(),sa());return on(t,i,f,s),i.child}function dS(t,i,s,l){var f=Sm();return f=f===null?null:{parent:$t._currentValue,pool:f},i.memoizedState={baseLanes:s,cachePool:f},t!==null&&wh(i,null),Nm(),ZE(i),t!==null&&eu(t,i,l,!0),null}function Rh(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function Xm(t,i,s,l,f){return cs(i),s=Pm(t,i,s,l,void 0,f),l=Mm(),t!==null&&!Wt?(Om(t,i,f),vi(t,i,f)):(Ye&&l&&mm(i),i.flags|=1,on(t,i,s,f),i.child)}function pS(t,i,s,l,f,p){return cs(i),i.updateQueue=null,s=dE(i,l,s,f),fE(t),l=Mm(),t!==null&&!Wt?(Om(t,i,p),vi(t,i,p)):(Ye&&l&&mm(i),i.flags|=1,on(t,i,s,p),i.child)}function mS(t,i,s,l,f){if(cs(i),i.stateNode===null){var p=ho,w=s.contextType;typeof w=="object"&&w!==null&&(p=gn(w)),p=new s(l,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Qm,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=l,p.state=i.memoizedState,p.refs={},xm(i),w=s.contextType,p.context=typeof w=="object"&&w!==null?gn(w):ho,p.state=i.memoizedState,w=s.getDerivedStateFromProps,typeof w=="function"&&(Gm(i,s,w,l),p.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(w=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),w!==p.state&&Qm.enqueueReplaceState(p,p.state,null),ou(i,l,p,f),su(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){p=i.stateNode;var E=i.memoizedProps,I=ds(s,E);p.props=I;var q=p.context,Y=s.contextType;w=ho,typeof Y=="object"&&Y!==null&&(w=gn(Y));var ee=s.getDerivedStateFromProps;Y=typeof ee=="function"||typeof p.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,Y||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E||q!==w)&&tS(i,p,l,w),ta=!1;var $=i.memoizedState;p.state=$,ou(i,l,p,f),su(),q=i.memoizedState,E||$!==q||ta?(typeof ee=="function"&&(Gm(i,s,ee,l),q=i.memoizedState),(I=ta||eS(i,s,I,l,$,q,w))?(Y||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=q),p.props=l,p.state=q,p.context=w,l=I):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{p=i.stateNode,Cm(t,i),w=i.memoizedProps,Y=ds(s,w),p.props=Y,ee=i.pendingProps,$=p.context,q=s.contextType,I=ho,typeof q=="object"&&q!==null&&(I=gn(q)),E=s.getDerivedStateFromProps,(q=typeof E=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w!==ee||$!==I)&&tS(i,p,l,I),ta=!1,$=i.memoizedState,p.state=$,ou(i,l,p,f),su();var K=i.memoizedState;w!==ee||$!==K||ta||t!==null&&t.dependencies!==null&&vh(t.dependencies)?(typeof E=="function"&&(Gm(i,s,E,l),K=i.memoizedState),(Y=ta||eS(i,s,Y,l,$,K,I)||t!==null&&t.dependencies!==null&&vh(t.dependencies))?(q||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,K,I),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,K,I)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||w===t.memoizedProps&&$===t.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&$===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=K),p.props=l,p.state=K,p.context=I,l=Y):(typeof p.componentDidUpdate!="function"||w===t.memoizedProps&&$===t.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&$===t.memoizedState||(i.flags|=1024),l=!1)}return p=l,Rh(t,i),l=(i.flags&128)!==0,p||l?(p=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,t!==null&&l?(i.child=Eo(i,t.child,null,f),i.child=Eo(i,null,s,f)):on(t,i,s,f),i.memoizedState=p.state,t=i.child):t=vi(t,i,f),t}function gS(t,i,s,l){return Jl(),i.flags|=256,on(t,i,s,l),i.child}var Ym={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jm(t){return{baseLanes:t,cachePool:rE()}}function Zm(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=or),t}function yS(t,i,s){var l=i.pendingProps,f=!1,p=(i.flags&128)!==0,w;if((w=p)||(w=t!==null&&t.memoizedState===null?!1:(Ht.current&2)!==0),w&&(f=!0,i.flags&=-129),w=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ye){if(f?aa(i):sa(),Ye){var E=St,I;if(I=E){e:{for(I=E,E=Fr;I.nodeType!==8;){if(!E){E=null;break e}if(I=gr(I.nextSibling),I===null){E=null;break e}}E=I}E!==null?(i.memoizedState={dehydrated:E,treeContext:as!==null?{id:hi,overflow:fi}:null,retryLane:536870912,hydrationErrors:null},I=zn(18,null,null,0),I.stateNode=E,I.return=i,i.child=I,Sn=i,St=null,I=!0):I=!1}I||ls(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Vg(E)?i.lanes=32:i.lanes=536870912,null;yi(i)}return E=l.children,l=l.fallback,f?(sa(),f=i.mode,E=jh({mode:"hidden",children:E},f),l=is(l,f,s,null),E.return=i,l.return=i,E.sibling=l,i.child=E,f=i.child,f.memoizedState=Jm(s),f.childLanes=Zm(t,w,s),i.memoizedState=Ym,l):(aa(i),eg(i,E))}if(I=t.memoizedState,I!==null&&(E=I.dehydrated,E!==null)){if(p)i.flags&256?(aa(i),i.flags&=-257,i=tg(t,i,s)):i.memoizedState!==null?(sa(),i.child=t.child,i.flags|=128,i=null):(sa(),f=l.fallback,E=i.mode,l=jh({mode:"visible",children:l.children},E),f=is(f,E,s,null),f.flags|=2,l.return=i,f.return=i,l.sibling=f,i.child=l,Eo(i,t.child,null,s),l=i.child,l.memoizedState=Jm(s),l.childLanes=Zm(t,w,s),i.memoizedState=Ym,i=f);else if(aa(i),Vg(E)){if(w=E.nextSibling&&E.nextSibling.dataset,w)var q=w.dgst;w=q,l=Error(a(419)),l.stack="",l.digest=w,Zl({value:l,source:null,stack:null}),i=tg(t,i,s)}else if(Wt||eu(t,i,s,!1),w=(s&t.childLanes)!==0,Wt||w){if(w=ct,w!==null&&(l=s&-s,l=(l&42)!==0?1:Gi(l),l=(l&(w.suspendedLanes|s))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,co(t,l),Hn(w,t,l),lS;E.data==="$?"||bg(),i=tg(t,i,s)}else E.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=I.treeContext,St=gr(E.nextSibling),Sn=i,Ye=!0,os=null,Fr=!1,t!==null&&(ir[ar++]=hi,ir[ar++]=fi,ir[ar++]=as,hi=t.id,fi=t.overflow,as=i),i=eg(i,l.children),i.flags|=4096);return i}return f?(sa(),f=l.fallback,E=i.mode,I=t.child,q=I.sibling,l=ci(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,q!==null?f=ci(q,f):(f=is(f,E,s,null),f.flags|=2),f.return=i,l.return=i,l.sibling=f,i.child=l,l=f,f=i.child,E=t.child.memoizedState,E===null?E=Jm(s):(I=E.cachePool,I!==null?(q=$t._currentValue,I=I.parent!==q?{parent:q,pool:q}:I):I=rE(),E={baseLanes:E.baseLanes|s,cachePool:I}),f.memoizedState=E,f.childLanes=Zm(t,w,s),i.memoizedState=Ym,l):(aa(i),s=t.child,t=s.sibling,s=ci(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,t!==null&&(w=i.deletions,w===null?(i.deletions=[t],i.flags|=16):w.push(t)),i.child=s,i.memoizedState=null,s)}function eg(t,i){return i=jh({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function jh(t,i){return t=zn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function tg(t,i,s){return Eo(i,t.child,null,s),t=eg(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function vS(t,i,s){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),bm(t.return,i,s)}function ng(t,i,s,l,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:f}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=s,p.tailMode=f)}function bS(t,i,s){var l=i.pendingProps,f=l.revealOrder,p=l.tail;if(on(t,i,l.children,s),l=Ht.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vS(t,s,i);else if(t.tag===19)vS(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Q(Ht,l),f){case"forwards":for(s=i.child,f=null;s!==null;)t=s.alternate,t!==null&&Oh(t)===null&&(f=s),s=s.sibling;s=f,s===null?(f=i.child,i.child=null):(f=s.sibling,s.sibling=null),ng(i,!1,f,s,p);break;case"backwards":for(s=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&Oh(t)===null){i.child=f;break}t=f.sibling,f.sibling=s,s=f,f=t}ng(i,!0,s,null,p);break;case"together":ng(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function vi(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),ha|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(eu(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,s=ci(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=ci(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function rg(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&vh(t)))}function x6(t,i,s){switch(i.tag){case 3:ve(i,i.stateNode.containerInfo),ea(i,$t,t.memoizedState.cache),Jl();break;case 27:case 5:ot(i);break;case 4:ve(i,i.stateNode.containerInfo);break;case 10:ea(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(aa(i),i.flags|=128,null):(s&i.child.childLanes)!==0?yS(t,i,s):(aa(i),t=vi(t,i,s),t!==null?t.sibling:null);aa(i);break;case 19:var f=(t.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(eu(t,i,s,!1),l=(s&i.childLanes)!==0),f){if(l)return bS(t,i,s);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Q(Ht,Ht.current),l)break;return null;case 22:case 23:return i.lanes=0,fS(t,i,s);case 24:ea(i,$t,t.memoizedState.cache)}return vi(t,i,s)}function wS(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)Wt=!0;else{if(!rg(t,s)&&(i.flags&128)===0)return Wt=!1,x6(t,i,s);Wt=(t.flags&131072)!==0}else Wt=!1,Ye&&(i.flags&1048576)!==0&&Xk(i,yh,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,f=l._init;if(l=f(l._payload),i.type=l,typeof l=="function")fm(l)?(t=ds(l,t),i.tag=1,i=mS(null,i,l,t,s)):(i.tag=0,i=Xm(null,i,l,t,s));else{if(l!=null){if(f=l.$$typeof,f===pe){i.tag=11,i=uS(null,i,l,t,s);break e}else if(f===M){i.tag=14,i=cS(null,i,l,t,s);break e}}throw i=Ke(l)||l,Error(a(306,i,""))}}return i;case 0:return Xm(t,i,i.type,i.pendingProps,s);case 1:return l=i.type,f=ds(l,i.pendingProps),mS(t,i,l,f,s);case 3:e:{if(ve(i,i.stateNode.containerInfo),t===null)throw Error(a(387));l=i.pendingProps;var p=i.memoizedState;f=p.element,Cm(t,i),ou(i,l,null,s);var w=i.memoizedState;if(l=w.cache,ea(i,$t,l),l!==p.cache&&wm(i,[$t],s,!0),su(),l=w.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:w.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=gS(t,i,l,s);break e}else if(l!==f){f=nr(Error(a(424)),i),Zl(f),i=gS(t,i,l,s);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(St=gr(t.firstChild),Sn=i,Ye=!0,os=null,Fr=!0,s=JE(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Jl(),l===f){i=vi(t,i,s);break e}on(t,i,l,s)}i=i.child}return i;case 26:return Rh(t,i),t===null?(s=T2(i.type,null,i.pendingProps,null))?i.memoizedState=s:Ye||(s=i.type,t=i.pendingProps,l=Jh(oe.current).createElement(s),l[Ut]=i,l[Lt]=t,un(l,s,t),At(l),i.stateNode=l):i.memoizedState=T2(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ot(i),t===null&&Ye&&(l=i.stateNode=k2(i.type,i.pendingProps,oe.current),Sn=i,Fr=!0,f=St,ma(i.type)?(Rg=f,St=gr(l.firstChild)):St=f),on(t,i,i.pendingProps.children,s),Rh(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ye&&((f=l=St)&&(l=Z6(l,i.type,i.pendingProps,Fr),l!==null?(i.stateNode=l,Sn=i,St=gr(l.firstChild),Fr=!1,f=!0):f=!1),f||ls(i)),ot(i),f=i.type,p=i.pendingProps,w=t!==null?t.memoizedProps:null,l=p.children,Mg(f,p)?l=null:w!==null&&Mg(f,w)&&(i.flags|=32),i.memoizedState!==null&&(f=Pm(t,i,y6,null,null,s),Nu._currentValue=f),Rh(t,i),on(t,i,l,s),i.child;case 6:return t===null&&Ye&&((t=s=St)&&(s=e3(s,i.pendingProps,Fr),s!==null?(i.stateNode=s,Sn=i,St=null,t=!0):t=!1),t||ls(i)),null;case 13:return yS(t,i,s);case 4:return ve(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Eo(i,null,l,s):on(t,i,l,s),i.child;case 11:return uS(t,i,i.type,i.pendingProps,s);case 7:return on(t,i,i.pendingProps,s),i.child;case 8:return on(t,i,i.pendingProps.children,s),i.child;case 12:return on(t,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,ea(i,i.type,l.value),on(t,i,l.children,s),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,cs(i),f=gn(f),l=l(f),i.flags|=1,on(t,i,l,s),i.child;case 14:return cS(t,i,i.type,i.pendingProps,s);case 15:return hS(t,i,i.type,i.pendingProps,s);case 19:return bS(t,i,s);case 31:return l=i.pendingProps,s=i.mode,l={mode:l.mode,children:l.children},t===null?(s=jh(l,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=ci(t.child,l),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return fS(t,i,s);case 24:return cs(i),l=gn($t),t===null?(f=Sm(),f===null&&(f=ct,p=km(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=s),f=p),i.memoizedState={parent:l,cache:f},xm(i),ea(i,$t,f)):((t.lanes&s)!==0&&(Cm(t,i),ou(i,null,null,s),su()),f=t.memoizedState,p=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),ea(i,$t,l)):(l=p.cache,ea(i,$t,l),l!==f.cache&&wm(i,[$t],s,!0))),on(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function bi(t){t.flags|=4}function kS(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!N2(i)){if(i=sr.current,i!==null&&((He&4194048)===He?gi!==null:(He&62914560)!==He&&(He&536870912)===0||i!==gi))throw iu=Tm,iE;t.flags|=8192}}function Fh(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Il():536870912,t.lanes|=i,Co|=i)}function pu(t,i){if(!Ye)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function kt(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(i)for(var f=t.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=s,i}function C6(t,i,s){var l=i.pendingProps;switch(gm(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(i),null;case 1:return kt(i),null;case 3:return s=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),pi($t),Pe(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Yl(i)?bi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Zk())),kt(i),null;case 26:return s=i.memoizedState,t===null?(bi(i),s!==null?(kt(i),kS(i,s)):(kt(i),i.flags&=-16777217)):s?s!==t.memoizedState?(bi(i),kt(i),kS(i,s)):(kt(i),i.flags&=-16777217):(t.memoizedProps!==l&&bi(i),kt(i),i.flags&=-16777217),null;case 27:je(i),s=oe.current;var f=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&bi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return kt(i),null}t=se.current,Yl(i)?Yk(i):(t=k2(f,l,s),i.stateNode=t,bi(i))}return kt(i),null;case 5:if(je(i),s=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&bi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return kt(i),null}if(t=se.current,Yl(i))Yk(i);else{switch(f=Jh(oe.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?f.createElement(s,{is:l.is}):f.createElement(s)}}t[Ut]=i,t[Lt]=l;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=t;e:switch(un(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&bi(i)}}return kt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&bi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(t=oe.current,Yl(i)){if(t=i.stateNode,s=i.memoizedProps,l=null,f=Sn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[Ut]=i,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||p2(t.nodeValue,s)),t||ls(i)}else t=Jh(t).createTextNode(l),t[Ut]=i,i.stateNode=t}return kt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Yl(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(a(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[Ut]=i}else Jl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;kt(i),f=!1}else f=Zk(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(yi(i),i):(yi(i),null)}if(yi(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var p=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==f&&(l.flags|=2048)}return s!==t&&s&&(i.child.flags|=8192),Fh(i,i.updateQueue),kt(i),null;case 4:return Pe(),t===null&&_g(i.stateNode.containerInfo),kt(i),null;case 10:return pi(i.type),kt(i),null;case 19:if(X(Ht),f=i.memoizedState,f===null)return kt(i),null;if(l=(i.flags&128)!==0,p=f.rendering,p===null)if(l)pu(f,!1);else{if(Tt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(p=Oh(t),p!==null){for(i.flags|=128,pu(f,!1),t=p.updateQueue,i.updateQueue=t,Fh(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)Wk(s,t),s=s.sibling;return Q(Ht,Ht.current&1|2),i.child}t=t.sibling}f.tail!==null&&mt()>qh&&(i.flags|=128,l=!0,pu(f,!1),i.lanes=4194304)}else{if(!l)if(t=Oh(p),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,Fh(i,t),pu(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!Ye)return kt(i),null}else 2*mt()-f.renderingStartTime>qh&&s!==536870912&&(i.flags|=128,l=!0,pu(f,!1),i.lanes=4194304);f.isBackwards?(p.sibling=i.child,i.child=p):(t=f.last,t!==null?t.sibling=p:i.child=p,f.last=p)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=mt(),i.sibling=null,t=Ht.current,Q(Ht,l?t&1|2:t&1),i):(kt(i),null);case 22:case 23:return yi(i),Dm(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(kt(i),i.subtreeFlags&6&&(i.flags|=8192)):kt(i),s=i.updateQueue,s!==null&&Fh(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),t!==null&&X(hs),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),pi($t),kt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function A6(t,i){switch(gm(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return pi($t),Pe(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return je(i),null;case 13:if(yi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Jl()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return X(Ht),null;case 4:return Pe(),null;case 10:return pi(i.type),null;case 22:case 23:return yi(i),Dm(),t!==null&&X(hs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return pi($t),null;case 25:return null;default:return null}}function ES(t,i){switch(gm(i),i.tag){case 3:pi($t),Pe();break;case 26:case 27:case 5:je(i);break;case 4:Pe();break;case 13:yi(i);break;case 19:X(Ht);break;case 10:pi(i.type);break;case 22:case 23:yi(i),Dm(),t!==null&&X(hs);break;case 24:pi($t)}}function mu(t,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var f=l.next;s=f;do{if((s.tag&t)===t){l=void 0;var p=s.create,w=s.inst;l=p(),w.destroy=l}s=s.next}while(s!==f)}}catch(E){lt(i,i.return,E)}}function oa(t,i,s){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var p=f.next;l=p;do{if((l.tag&t)===t){var w=l.inst,E=w.destroy;if(E!==void 0){w.destroy=void 0,f=i;var I=s,q=E;try{q()}catch(Y){lt(f,I,Y)}}}l=l.next}while(l!==p)}}catch(Y){lt(i,i.return,Y)}}function SS(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{cE(i,s)}catch(l){lt(t,t.return,l)}}}function TS(t,i,s){s.props=ds(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){lt(t,i,l)}}function gu(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(f){lt(t,i,f)}}function zr(t,i){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(f){lt(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){lt(t,i,f)}else s.current=null}function xS(t){var i=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(f){lt(t,t.return,f)}}function ig(t,i,s){try{var l=t.stateNode;Q6(l,t.type,s,i),l[Lt]=i}catch(f){lt(t,t.return,f)}}function CS(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ma(t.type)||t.tag===4}function ag(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||CS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ma(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sg(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Yh));else if(l!==4&&(l===27&&ma(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(sg(t,i,s),t=t.sibling;t!==null;)sg(t,i,s),t=t.sibling}function zh(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(l!==4&&(l===27&&ma(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(zh(t,i,s),t=t.sibling;t!==null;)zh(t,i,s),t=t.sibling}function AS(t){var i=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);un(i,l,s),i[Ut]=t,i[Lt]=s}catch(p){lt(t,t.return,p)}}var wi=!1,Nt=!1,og=!1,_S=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function _6(t,i){if(t=t.containerInfo,Ig=af,t=Fk(t),am(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var f=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{s.nodeType,p.nodeType}catch{s=null;break e}var w=0,E=-1,I=-1,q=0,Y=0,ee=t,$=null;t:for(;;){for(var K;ee!==s||f!==0&&ee.nodeType!==3||(E=w+f),ee!==p||l!==0&&ee.nodeType!==3||(I=w+l),ee.nodeType===3&&(w+=ee.nodeValue.length),(K=ee.firstChild)!==null;)$=ee,ee=K;for(;;){if(ee===t)break t;if($===s&&++q===f&&(E=w),$===p&&++Y===l&&(I=w),(K=ee.nextSibling)!==null)break;ee=$,$=ee.parentNode}ee=K}s=E===-1||I===-1?null:{start:E,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(Pg={focusedElem:t,selectionRange:s},af=!1,Xt=i;Xt!==null;)if(i=Xt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Xt=t;else for(;Xt!==null;){switch(i=Xt,p=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&p!==null){t=void 0,s=i,f=p.memoizedProps,p=p.memoizedState,l=s.stateNode;try{var _e=ds(s.type,f,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(_e,p),l.__reactInternalSnapshotBeforeUpdate=t}catch(Te){lt(s,s.return,Te)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)Lg(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Lg(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,Xt=t;break}Xt=i.return}}function NS(t,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:la(t,s),l&4&&mu(5,s);break;case 1:if(la(t,s),l&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(w){lt(s,s.return,w)}else{var f=ds(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(w){lt(s,s.return,w)}}l&64&&SS(s),l&512&&gu(s,s.return);break;case 3:if(la(t,s),l&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{cE(t,i)}catch(w){lt(s,s.return,w)}}break;case 27:i===null&&l&4&&AS(s);case 26:case 5:la(t,s),i===null&&l&4&&xS(s),l&512&&gu(s,s.return);break;case 12:la(t,s);break;case 13:la(t,s),l&4&&PS(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=R6.bind(null,s),t3(t,s))));break;case 22:if(l=s.memoizedState!==null||wi,!l){i=i!==null&&i.memoizedState!==null||Nt,f=wi;var p=Nt;wi=l,(Nt=i)&&!p?ua(t,s,(s.subtreeFlags&8772)!==0):la(t,s),wi=f,Nt=p}break;case 30:break;default:la(t,s)}}function DS(t){var i=t.alternate;i!==null&&(t.alternate=null,DS(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Xi(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var yt=null,Dn=!1;function ki(t,i,s){for(s=s.child;s!==null;)IS(t,i,s),s=s.sibling}function IS(t,i,s){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(dt,s)}catch{}switch(s.tag){case 26:Nt||zr(s,i),ki(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Nt||zr(s,i);var l=yt,f=Dn;ma(s.type)&&(yt=s.stateNode,Dn=!1),ki(t,i,s),xu(s.stateNode),yt=l,Dn=f;break;case 5:Nt||zr(s,i);case 6:if(l=yt,f=Dn,yt=null,ki(t,i,s),yt=l,Dn=f,yt!==null)if(Dn)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(s.stateNode)}catch(p){lt(s,i,p)}else try{yt.removeChild(s.stateNode)}catch(p){lt(s,i,p)}break;case 18:yt!==null&&(Dn?(t=yt,b2(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Mu(t)):b2(yt,s.stateNode));break;case 4:l=yt,f=Dn,yt=s.stateNode.containerInfo,Dn=!0,ki(t,i,s),yt=l,Dn=f;break;case 0:case 11:case 14:case 15:Nt||oa(2,s,i),Nt||oa(4,s,i),ki(t,i,s);break;case 1:Nt||(zr(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&TS(s,i,l)),ki(t,i,s);break;case 21:ki(t,i,s);break;case 22:Nt=(l=Nt)||s.memoizedState!==null,ki(t,i,s),Nt=l;break;default:ki(t,i,s)}}function PS(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Mu(t)}catch(s){lt(i,i.return,s)}}function N6(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new _S),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new _S),i;default:throw Error(a(435,t.tag))}}function lg(t,i){var s=N6(t);i.forEach(function(l){var f=j6.bind(null,t,l);s.has(l)||(s.add(l),l.then(f,f))})}function Un(t,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var f=s[l],p=t,w=i,E=w;e:for(;E!==null;){switch(E.tag){case 27:if(ma(E.type)){yt=E.stateNode,Dn=!1;break e}break;case 5:yt=E.stateNode,Dn=!1;break e;case 3:case 4:yt=E.stateNode.containerInfo,Dn=!0;break e}E=E.return}if(yt===null)throw Error(a(160));IS(p,w,f),yt=null,Dn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)MS(i,t),i=i.sibling}var mr=null;function MS(t,i){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Un(i,t),qn(t),l&4&&(oa(3,t,t.return),mu(3,t),oa(5,t,t.return));break;case 1:Un(i,t),qn(t),l&512&&(Nt||s===null||zr(s,s.return)),l&64&&wi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var f=mr;if(Un(i,t),qn(t),l&512&&(Nt||s===null||zr(s,s.return)),l&4){var p=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":p=f.getElementsByTagName("title")[0],(!p||p[qa]||p[Ut]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(l),f.head.insertBefore(p,f.querySelector("head > title"))),un(p,l,s),p[Ut]=t,At(p),l=p;break e;case"link":var w=A2("link","href",f).get(l+(s.href||""));if(w){for(var E=0;E<w.length;E++)if(p=w[E],p.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&p.getAttribute("rel")===(s.rel==null?null:s.rel)&&p.getAttribute("title")===(s.title==null?null:s.title)&&p.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){w.splice(E,1);break t}}p=f.createElement(l),un(p,l,s),f.head.appendChild(p);break;case"meta":if(w=A2("meta","content",f).get(l+(s.content||""))){for(E=0;E<w.length;E++)if(p=w[E],p.getAttribute("content")===(s.content==null?null:""+s.content)&&p.getAttribute("name")===(s.name==null?null:s.name)&&p.getAttribute("property")===(s.property==null?null:s.property)&&p.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&p.getAttribute("charset")===(s.charSet==null?null:s.charSet)){w.splice(E,1);break t}}p=f.createElement(l),un(p,l,s),f.head.appendChild(p);break;default:throw Error(a(468,l))}p[Ut]=t,At(p),l=p}t.stateNode=l}else _2(f,t.type,t.stateNode);else t.stateNode=C2(f,l,t.memoizedProps);else p!==l?(p===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):p.count--,l===null?_2(f,t.type,t.stateNode):C2(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&ig(t,t.memoizedProps,s.memoizedProps)}break;case 27:Un(i,t),qn(t),l&512&&(Nt||s===null||zr(s,s.return)),s!==null&&l&4&&ig(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Un(i,t),qn(t),l&512&&(Nt||s===null||zr(s,s.return)),t.flags&32){f=t.stateNode;try{Jn(f,"")}catch(K){lt(t,t.return,K)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,ig(t,f,s!==null?s.memoizedProps:f)),l&1024&&(og=!0);break;case 6:if(Un(i,t),qn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(K){lt(t,t.return,K)}}break;case 3:if(tf=null,f=mr,mr=Zh(i.containerInfo),Un(i,t),mr=f,qn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Mu(i.containerInfo)}catch(K){lt(t,t.return,K)}og&&(og=!1,OS(t));break;case 4:l=mr,mr=Zh(t.stateNode.containerInfo),Un(i,t),qn(t),mr=l;break;case 12:Un(i,t),qn(t);break;case 13:Un(i,t),qn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(pg=mt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,lg(t,l)));break;case 22:f=t.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,q=wi,Y=Nt;if(wi=q||f,Nt=Y||I,Un(i,t),Nt=Y,wi=q,qn(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(s===null||I||wi||Nt||ps(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){I=s=i;try{if(p=I.stateNode,f)w=p.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{E=I.stateNode;var ee=I.memoizedProps.style,$=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;E.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(K){lt(I,I.return,K)}}}else if(i.tag===6){if(s===null){I=i;try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch(K){lt(I,I.return,K)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,lg(t,s))));break;case 19:Un(i,t),qn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,lg(t,l)));break;case 30:break;case 21:break;default:Un(i,t),qn(t)}}function qn(t){var i=t.flags;if(i&2){try{for(var s,l=t.return;l!==null;){if(CS(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var f=s.stateNode,p=ag(t);zh(t,p,f);break;case 5:var w=s.stateNode;s.flags&32&&(Jn(w,""),s.flags&=-33);var E=ag(t);zh(t,E,w);break;case 3:case 4:var I=s.stateNode.containerInfo,q=ag(t);sg(t,q,I);break;default:throw Error(a(161))}}catch(Y){lt(t,t.return,Y)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function OS(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;OS(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function la(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)NS(t,i.alternate,i),i=i.sibling}function ps(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:oa(4,i,i.return),ps(i);break;case 1:zr(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&TS(i,i.return,s),ps(i);break;case 27:xu(i.stateNode);case 26:case 5:zr(i,i.return),ps(i);break;case 22:i.memoizedState===null&&ps(i);break;case 30:ps(i);break;default:ps(i)}t=t.sibling}}function ua(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,p=i,w=p.flags;switch(p.tag){case 0:case 11:case 15:ua(f,p,s),mu(4,p);break;case 1:if(ua(f,p,s),l=p,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){lt(l,l.return,q)}if(l=p,f=l.updateQueue,f!==null){var E=l.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)uE(I[f],E)}catch(q){lt(l,l.return,q)}}s&&w&64&&SS(p),gu(p,p.return);break;case 27:AS(p);case 26:case 5:ua(f,p,s),s&&l===null&&w&4&&xS(p),gu(p,p.return);break;case 12:ua(f,p,s);break;case 13:ua(f,p,s),s&&w&4&&PS(f,p);break;case 22:p.memoizedState===null&&ua(f,p,s),gu(p,p.return);break;case 30:break;default:ua(f,p,s)}i=i.sibling}}function ug(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&tu(s))}function cg(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&tu(t))}function Ur(t,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)LS(t,i,s,l),i=i.sibling}function LS(t,i,s,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Ur(t,i,s,l),f&2048&&mu(9,i);break;case 1:Ur(t,i,s,l);break;case 3:Ur(t,i,s,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&tu(t)));break;case 12:if(f&2048){Ur(t,i,s,l),t=i.stateNode;try{var p=i.memoizedProps,w=p.id,E=p.onPostCommit;typeof E=="function"&&E(w,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){lt(i,i.return,I)}}else Ur(t,i,s,l);break;case 13:Ur(t,i,s,l);break;case 23:break;case 22:p=i.stateNode,w=i.alternate,i.memoizedState!==null?p._visibility&2?Ur(t,i,s,l):yu(t,i):p._visibility&2?Ur(t,i,s,l):(p._visibility|=2,So(t,i,s,l,(i.subtreeFlags&10256)!==0)),f&2048&&ug(w,i);break;case 24:Ur(t,i,s,l),f&2048&&cg(i.alternate,i);break;default:Ur(t,i,s,l)}}function So(t,i,s,l,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var p=t,w=i,E=s,I=l,q=w.flags;switch(w.tag){case 0:case 11:case 15:So(p,w,E,I,f),mu(8,w);break;case 23:break;case 22:var Y=w.stateNode;w.memoizedState!==null?Y._visibility&2?So(p,w,E,I,f):yu(p,w):(Y._visibility|=2,So(p,w,E,I,f)),f&&q&2048&&ug(w.alternate,w);break;case 24:So(p,w,E,I,f),f&&q&2048&&cg(w.alternate,w);break;default:So(p,w,E,I,f)}i=i.sibling}}function yu(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,l=i,f=l.flags;switch(l.tag){case 22:yu(s,l),f&2048&&ug(l.alternate,l);break;case 24:yu(s,l),f&2048&&cg(l.alternate,l);break;default:yu(s,l)}i=i.sibling}}var vu=8192;function To(t){if(t.subtreeFlags&vu)for(t=t.child;t!==null;)VS(t),t=t.sibling}function VS(t){switch(t.tag){case 26:To(t),t.flags&vu&&t.memoizedState!==null&&p3(mr,t.memoizedState,t.memoizedProps);break;case 5:To(t);break;case 3:case 4:var i=mr;mr=Zh(t.stateNode.containerInfo),To(t),mr=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=vu,vu=16777216,To(t),vu=i):To(t));break;default:To(t)}}function RS(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function bu(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];Xt=l,FS(l,t)}RS(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)jS(t),t=t.sibling}function jS(t){switch(t.tag){case 0:case 11:case 15:bu(t),t.flags&2048&&oa(9,t,t.return);break;case 3:bu(t);break;case 12:bu(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Uh(t)):bu(t);break;default:bu(t)}}function Uh(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];Xt=l,FS(l,t)}RS(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:oa(8,i,i.return),Uh(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Uh(i));break;default:Uh(i)}t=t.sibling}}function FS(t,i){for(;Xt!==null;){var s=Xt;switch(s.tag){case 0:case 11:case 15:oa(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:tu(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Xt=l;else e:for(s=t;Xt!==null;){l=Xt;var f=l.sibling,p=l.return;if(DS(l),l===s){Xt=null;break e}if(f!==null){f.return=p,Xt=f;break e}Xt=p}}}var D6={getCacheForType:function(t){var i=gn($t),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s}},I6=typeof WeakMap=="function"?WeakMap:Map,et=0,ct=null,Fe=null,He=0,tt=0,Bn=null,ca=!1,xo=!1,hg=!1,Ei=0,Tt=0,ha=0,ms=0,fg=0,or=0,Co=0,wu=null,In=null,dg=!1,pg=0,qh=1/0,Bh=null,fa=null,ln=0,da=null,Ao=null,_o=0,mg=0,gg=null,zS=null,ku=0,yg=null;function $n(){if((et&2)!==0&&He!==0)return He&-He;if(H.T!==null){var t=mo;return t!==0?t:Tg()}return Qi()}function US(){or===0&&(or=(He&536870912)===0||Ye?Dl():536870912);var t=sr.current;return t!==null&&(t.flags|=32),or}function Hn(t,i,s){(t===ct&&(tt===2||tt===9)||t.cancelPendingCommit!==null)&&(No(t,0),pa(t,He,or,!1)),Zr(t,s),((et&2)===0||t!==ct)&&(t===ct&&((et&2)===0&&(ms|=s),Tt===4&&pa(t,He,or,!1)),qr(t))}function qS(t,i,s){if((et&6)!==0)throw Error(a(327));var l=!s&&(i&124)===0&&(i&t.expiredLanes)===0||Ua(t,i),f=l?O6(t,i):wg(t,i,!0),p=l;do{if(f===0){xo&&!l&&pa(t,i,0,!1);break}else{if(s=t.current.alternate,p&&!P6(s)){f=wg(t,i,!1),p=!1;continue}if(f===2){if(p=i,t.errorRecoveryDisabledLanes&p)var w=0;else w=t.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){i=w;e:{var E=t;f=wu;var I=E.current.memoizedState.isDehydrated;if(I&&(No(E,w).flags|=256),w=wg(E,w,!1),w!==2){if(hg&&!I){E.errorRecoveryDisabledLanes|=p,ms|=p,f=4;break e}p=In,In=f,p!==null&&(In===null?In=p:In.push.apply(In,p))}f=w}if(p=!1,f!==2)continue}}if(f===1){No(t,0),pa(t,i,0,!0);break}e:{switch(l=t,p=f,p){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:pa(l,i,or,!ca);break e;case 2:In=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(f=pg+300-mt(),10<f)){if(pa(l,i,or,!ca),Hs(l,0,!0)!==0)break e;l.timeoutHandle=y2(BS.bind(null,l,s,In,Bh,dg,i,or,ms,Co,ca,p,2,-0,0),f);break e}BS(l,s,In,Bh,dg,i,or,ms,Co,ca,p,0,-0,0)}}break}while(!0);qr(t)}function BS(t,i,s,l,f,p,w,E,I,q,Y,ee,$,K){if(t.timeoutHandle=-1,ee=i.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(_u={stylesheets:null,count:0,unsuspend:d3},VS(i),ee=m3(),ee!==null)){t.cancelPendingCommit=ee(XS.bind(null,t,i,p,s,l,f,w,E,I,Y,1,$,K)),pa(t,p,w,!q);return}XS(t,i,p,s,l,f,w,E,I)}function P6(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var f=s[l],p=f.getSnapshot;f=f.value;try{if(!Fn(p(),f))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function pa(t,i,s,l){i&=~fg,i&=~ms,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var p=31-zt(f),w=1<<p;l[p]=-1,f&=~w}s!==0&&_r(t,s,i)}function $h(){return(et&6)===0?(Eu(0),!1):!0}function vg(){if(Fe!==null){if(tt===0)var t=Fe.return;else t=Fe,di=us=null,Lm(t),ko=null,fu=0,t=Fe;for(;t!==null;)ES(t.alternate,t),t=t.return;Fe=null}}function No(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,X6(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),vg(),ct=t,Fe=s=ci(t.current,null),He=i,tt=0,Bn=null,ca=!1,xo=Ua(t,i),hg=!1,Co=or=fg=ms=ha=Tt=0,In=wu=null,dg=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-zt(l),p=1<<f;i|=t[f],l&=~p}return Ei=i,fh(),s}function $S(t,i){Ve=null,H.H=Ih,i===ru||i===kh?(i=oE(),tt=3):i===iE?(i=oE(),tt=4):tt=i===lS?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Bn=i,Fe===null&&(Tt=1,Vh(t,nr(i,t.current)))}function HS(){var t=H.H;return H.H=Ih,t===null?Ih:t}function KS(){var t=H.A;return H.A=D6,t}function bg(){Tt=4,ca||(He&4194048)!==He&&sr.current!==null||(xo=!0),(ha&134217727)===0&&(ms&134217727)===0||ct===null||pa(ct,He,or,!1)}function wg(t,i,s){var l=et;et|=2;var f=HS(),p=KS();(ct!==t||He!==i)&&(Bh=null,No(t,i)),i=!1;var w=Tt;e:do try{if(tt!==0&&Fe!==null){var E=Fe,I=Bn;switch(tt){case 8:vg(),w=6;break e;case 3:case 2:case 9:case 6:sr.current===null&&(i=!0);var q=tt;if(tt=0,Bn=null,Do(t,E,I,q),s&&xo){w=0;break e}break;default:q=tt,tt=0,Bn=null,Do(t,E,I,q)}}M6(),w=Tt;break}catch(Y){$S(t,Y)}while(!0);return i&&t.shellSuspendCounter++,di=us=null,et=l,H.H=f,H.A=p,Fe===null&&(ct=null,He=0,fh()),w}function M6(){for(;Fe!==null;)GS(Fe)}function O6(t,i){var s=et;et|=2;var l=HS(),f=KS();ct!==t||He!==i?(Bh=null,qh=mt()+500,No(t,i)):xo=Ua(t,i);e:do try{if(tt!==0&&Fe!==null){i=Fe;var p=Bn;t:switch(tt){case 1:tt=0,Bn=null,Do(t,i,p,1);break;case 2:case 9:if(aE(p)){tt=0,Bn=null,QS(i);break}i=function(){tt!==2&&tt!==9||ct!==t||(tt=7),qr(t)},p.then(i,i);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:aE(p)?(tt=0,Bn=null,QS(i)):(tt=0,Bn=null,Do(t,i,p,7));break;case 5:var w=null;switch(Fe.tag){case 26:w=Fe.memoizedState;case 5:case 27:var E=Fe;if(!w||N2(w)){tt=0,Bn=null;var I=E.sibling;if(I!==null)Fe=I;else{var q=E.return;q!==null?(Fe=q,Hh(q)):Fe=null}break t}}tt=0,Bn=null,Do(t,i,p,5);break;case 6:tt=0,Bn=null,Do(t,i,p,6);break;case 8:vg(),Tt=6;break e;default:throw Error(a(462))}}L6();break}catch(Y){$S(t,Y)}while(!0);return di=us=null,H.H=l,H.A=f,et=s,Fe!==null?0:(ct=null,He=0,fh(),Tt)}function L6(){for(;Fe!==null&&!Ot();)GS(Fe)}function GS(t){var i=wS(t.alternate,t,Ei);t.memoizedProps=t.pendingProps,i===null?Hh(t):Fe=i}function QS(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=pS(s,i,i.pendingProps,i.type,void 0,He);break;case 11:i=pS(s,i,i.pendingProps,i.type.render,i.ref,He);break;case 5:Lm(i);default:ES(s,i),i=Fe=Wk(i,Ei),i=wS(s,i,Ei)}t.memoizedProps=t.pendingProps,i===null?Hh(t):Fe=i}function Do(t,i,s,l){di=us=null,Lm(i),ko=null,fu=0;var f=i.return;try{if(T6(t,f,i,s,He)){Tt=1,Vh(t,nr(s,t.current)),Fe=null;return}}catch(p){if(f!==null)throw Fe=f,p;Tt=1,Vh(t,nr(s,t.current)),Fe=null;return}i.flags&32768?(Ye||l===1?t=!0:xo||(He&536870912)!==0?t=!1:(ca=t=!0,(l===2||l===9||l===3||l===6)&&(l=sr.current,l!==null&&l.tag===13&&(l.flags|=16384))),WS(i,t)):Hh(i)}function Hh(t){var i=t;do{if((i.flags&32768)!==0){WS(i,ca);return}t=i.return;var s=C6(i.alternate,i,Ei);if(s!==null){Fe=s;return}if(i=i.sibling,i!==null){Fe=i;return}Fe=i=t}while(i!==null);Tt===0&&(Tt=5)}function WS(t,i){do{var s=A6(t.alternate,t);if(s!==null){s.flags&=32767,Fe=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){Fe=t;return}Fe=t=s}while(t!==null);Tt=6,Fe=null}function XS(t,i,s,l,f,p,w,E,I){t.cancelPendingCommit=null;do Kh();while(ln!==0);if((et&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(p=i.lanes|i.childLanes,p|=cm,Pl(t,s,p,w,E,I),t===ct&&(Fe=ct=null,He=0),Ao=i,da=t,_o=s,mg=p,gg=f,zS=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,F6(Wr,function(){return t2(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,f=re.p,re.p=2,w=et,et|=4;try{_6(t,i,s)}finally{et=w,re.p=f,H.T=l}}ln=1,YS(),JS(),ZS()}}function YS(){if(ln===1){ln=0;var t=da,i=Ao,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var l=re.p;re.p=2;var f=et;et|=4;try{MS(i,t);var p=Pg,w=Fk(t.containerInfo),E=p.focusedElem,I=p.selectionRange;if(w!==E&&E&&E.ownerDocument&&jk(E.ownerDocument.documentElement,E)){if(I!==null&&am(E)){var q=I.start,Y=I.end;if(Y===void 0&&(Y=q),"selectionStart"in E)E.selectionStart=q,E.selectionEnd=Math.min(Y,E.value.length);else{var ee=E.ownerDocument||document,$=ee&&ee.defaultView||window;if($.getSelection){var K=$.getSelection(),_e=E.textContent.length,Te=Math.min(I.start,_e),st=I.end===void 0?Te:Math.min(I.end,_e);!K.extend&&Te>st&&(w=st,st=Te,Te=w);var R=Rk(E,Te),L=Rk(E,st);if(R&&L&&(K.rangeCount!==1||K.anchorNode!==R.node||K.anchorOffset!==R.offset||K.focusNode!==L.node||K.focusOffset!==L.offset)){var U=ee.createRange();U.setStart(R.node,R.offset),K.removeAllRanges(),Te>st?(K.addRange(U),K.extend(L.node,L.offset)):(U.setEnd(L.node,L.offset),K.addRange(U))}}}}for(ee=[],K=E;K=K.parentNode;)K.nodeType===1&&ee.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<ee.length;E++){var J=ee[E];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}af=!!Ig,Pg=Ig=null}finally{et=f,re.p=l,H.T=s}}t.current=i,ln=2}}function JS(){if(ln===2){ln=0;var t=da,i=Ao,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var l=re.p;re.p=2;var f=et;et|=4;try{NS(t,i.alternate,i)}finally{et=f,re.p=l,H.T=s}}ln=3}}function ZS(){if(ln===4||ln===3){ln=0,mn();var t=da,i=Ao,s=_o,l=zS;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ln=5:(ln=0,Ao=da=null,e2(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(fa=null),Ks(s),i=i.stateNode,We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(dt,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=H.T,f=re.p,re.p=2,H.T=null;try{for(var p=t.onRecoverableError,w=0;w<l.length;w++){var E=l[w];p(E.value,{componentStack:E.stack})}}finally{H.T=i,re.p=f}}(_o&3)!==0&&Kh(),qr(t),f=t.pendingLanes,(s&4194090)!==0&&(f&42)!==0?t===yg?ku++:(ku=0,yg=t):ku=0,Eu(0)}}function e2(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,tu(i)))}function Kh(t){return YS(),JS(),ZS(),t2()}function t2(){if(ln!==5)return!1;var t=da,i=mg;mg=0;var s=Ks(_o),l=H.T,f=re.p;try{re.p=32>s?32:s,H.T=null,s=gg,gg=null;var p=da,w=_o;if(ln=0,Ao=da=null,_o=0,(et&6)!==0)throw Error(a(331));var E=et;if(et|=4,jS(p.current),LS(p,p.current,w,s),et=E,Eu(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(dt,p)}catch{}return!0}finally{re.p=f,H.T=l,e2(t,i)}}function n2(t,i,s){i=nr(s,i),i=Wm(t.stateNode,i,2),t=ra(t,i,2),t!==null&&(Zr(t,2),qr(t))}function lt(t,i,s){if(t.tag===3)n2(t,t,s);else for(;i!==null;){if(i.tag===3){n2(i,t,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(fa===null||!fa.has(l))){t=nr(s,t),s=sS(2),l=ra(i,s,2),l!==null&&(oS(s,l,i,t),Zr(l,2),qr(l));break}}i=i.return}}function kg(t,i,s){var l=t.pingCache;if(l===null){l=t.pingCache=new I6;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(s)||(hg=!0,f.add(s),t=V6.bind(null,t,i,s),i.then(t,t))}function V6(t,i,s){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,ct===t&&(He&s)===s&&(Tt===4||Tt===3&&(He&62914560)===He&&300>mt()-pg?(et&2)===0&&No(t,0):fg|=s,Co===He&&(Co=0)),qr(t)}function r2(t,i){i===0&&(i=Il()),t=co(t,i),t!==null&&(Zr(t,i),qr(t))}function R6(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),r2(t,s)}function j6(t,i){var s=0;switch(t.tag){case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(s=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),r2(t,s)}function F6(t,i){return wt(t,i)}var Gh=null,Io=null,Eg=!1,Qh=!1,Sg=!1,gs=0;function qr(t){t!==Io&&t.next===null&&(Io===null?Gh=Io=t:Io=Io.next=t),Qh=!0,Eg||(Eg=!0,U6())}function Eu(t,i){if(!Sg&&Qh){Sg=!0;do for(var s=!1,l=Gh;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var p=0;else{var w=l.suspendedLanes,E=l.pingedLanes;p=(1<<31-zt(42|t)+1)-1,p&=f&~(w&~E),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(s=!0,o2(l,p))}else p=He,p=Hs(l,l===ct?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||Ua(l,p)||(s=!0,o2(l,p));l=l.next}while(s);Sg=!1}}function z6(){i2()}function i2(){Qh=Eg=!1;var t=0;gs!==0&&(W6()&&(t=gs),gs=0);for(var i=mt(),s=null,l=Gh;l!==null;){var f=l.next,p=a2(l,i);p===0?(l.next=null,s===null?Gh=f:s.next=f,f===null&&(Io=s)):(s=l,(t!==0||(p&3)!==0)&&(Qh=!0)),l=f}Eu(t)}function a2(t,i){for(var s=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,p=t.pendingLanes&-62914561;0<p;){var w=31-zt(p),E=1<<w,I=f[w];I===-1?((E&s)===0||(E&l)!==0)&&(f[w]=Nl(E,i)):I<=i&&(t.expiredLanes|=E),p&=~E}if(i=ct,s=He,s=Hs(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===i&&(tt===2||tt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Me(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Ua(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(l!==null&&Me(l),Ks(s)){case 2:case 8:s=nn;break;case 32:s=Wr;break;case 268435456:s=Hi;break;default:s=Wr}return l=s2.bind(null,t),s=wt(s,l),t.callbackPriority=i,t.callbackNode=s,i}return l!==null&&l!==null&&Me(l),t.callbackPriority=2,t.callbackNode=null,2}function s2(t,i){if(ln!==0&&ln!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Kh()&&t.callbackNode!==s)return null;var l=He;return l=Hs(t,t===ct?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(qS(t,l,i),a2(t,mt()),t.callbackNode!=null&&t.callbackNode===s?s2.bind(null,t):null)}function o2(t,i){if(Kh())return null;qS(t,i,!0)}function U6(){Y6(function(){(et&6)!==0?wt(Rn,z6):i2()})}function Tg(){return gs===0&&(gs=Dl()),gs}function l2(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Js(""+t)}function u2(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function q6(t,i,s,l,f){if(i==="submit"&&s&&s.stateNode===f){var p=l2((f[Lt]||null).action),w=l.submitter;w&&(i=(i=w[Lt]||null)?l2(i.formAction):w.getAttribute("formAction"),i!==null&&(p=i,w=null));var E=new Zs("action","action",null,l,f);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(gs!==0){var I=w?u2(f,w):new FormData(f);$m(s,{pending:!0,data:I,method:f.method,action:p},null,I)}}else typeof p=="function"&&(E.preventDefault(),I=w?u2(f,w):new FormData(f),$m(s,{pending:!0,data:I,method:f.method,action:p},p,I))},currentTarget:f}]})}}for(var xg=0;xg<um.length;xg++){var Cg=um[xg],B6=Cg.toLowerCase(),$6=Cg[0].toUpperCase()+Cg.slice(1);pr(B6,"on"+$6)}pr(qk,"onAnimationEnd"),pr(Bk,"onAnimationIteration"),pr($k,"onAnimationStart"),pr("dblclick","onDoubleClick"),pr("focusin","onFocus"),pr("focusout","onBlur"),pr(o6,"onTransitionRun"),pr(l6,"onTransitionStart"),pr(u6,"onTransitionCancel"),pr(Hk,"onTransitionEnd"),ti("onMouseEnter",["mouseout","mouseover"]),ti("onMouseLeave",["mouseout","mouseover"]),ti("onPointerEnter",["pointerout","pointerover"]),ti("onPointerLeave",["pointerout","pointerover"]),fr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fr("onBeforeInput",["compositionend","keypress","textInput","paste"]),fr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Su="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),H6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Su));function c2(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],f=l.event;l=l.listeners;e:{var p=void 0;if(i)for(var w=l.length-1;0<=w;w--){var E=l[w],I=E.instance,q=E.currentTarget;if(E=E.listener,I!==p&&f.isPropagationStopped())break e;p=E,f.currentTarget=q;try{p(f)}catch(Y){Lh(Y)}f.currentTarget=null,p=I}else for(w=0;w<l.length;w++){if(E=l[w],I=E.instance,q=E.currentTarget,E=E.listener,I!==p&&f.isPropagationStopped())break e;p=E,f.currentTarget=q;try{p(f)}catch(Y){Lh(Y)}f.currentTarget=null,p=I}}}}function ze(t,i){var s=i[Ol];s===void 0&&(s=i[Ol]=new Set);var l=t+"__bubble";s.has(l)||(h2(i,t,2,!1),s.add(l))}function Ag(t,i,s){var l=0;i&&(l|=4),h2(s,t,l,i)}var Wh="_reactListening"+Math.random().toString(36).slice(2);function _g(t){if(!t[Wh]){t[Wh]=!0,Ll.forEach(function(s){s!=="selectionchange"&&(H6.has(s)||Ag(s,!1,t),Ag(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Wh]||(i[Wh]=!0,Ag("selectionchange",!1,i))}}function h2(t,i,s,l){switch(L2(i)){case 2:var f=v3;break;case 8:f=b3;break;default:f=qg}s=f.bind(null,i,s,t),f=void 0,!er||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,s,{capture:!0,passive:f}):t.addEventListener(i,s,!0):f!==void 0?t.addEventListener(i,s,{passive:f}):t.addEventListener(i,s,!1)}function Ng(t,i,s,l,f){var p=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var w=l.tag;if(w===3||w===4){var E=l.stateNode.containerInfo;if(E===f)break;if(w===4)for(w=l.return;w!==null;){var I=w.tag;if((I===3||I===4)&&w.stateNode.containerInfo===f)return;w=w.return}for(;E!==null;){if(w=ei(E),w===null)return;if(I=w.tag,I===5||I===6||I===26||I===27){l=p=w;continue e}E=E.parentNode}}l=l.return}Yc(function(){var q=p,Y=Zn(s),ee=[];e:{var $=Kk.get(t);if($!==void 0){var K=Zs,_e=t;switch(t){case"keypress":if(Or(s)===0)break e;case"keydown":case"keyup":K=ao;break;case"focusin":_e="focus",K=no;break;case"focusout":_e="blur",K=no;break;case"beforeblur":case"afterblur":K=no;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=tr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=tm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=ah;break;case qk:case Bk:case $k:K=ro;break;case Hk:K=oh;break;case"scroll":case"scrollend":K=Jc;break;case"wheel":K=so;break;case"copy":case"cut":case"paste":K=io;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Gl;break;case"toggle":case"beforetoggle":K=uh}var Te=(i&4)!==0,st=!Te&&(t==="scroll"||t==="scrollend"),R=Te?$!==null?$+"Capture":null:$;Te=[];for(var L=q,U;L!==null;){var J=L;if(U=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||U===null||R===null||(J=Wa(L,R),J!=null&&Te.push(Tu(L,J,U))),st)break;L=L.return}0<Te.length&&($=new K($,_e,null,s,Y),ee.push({event:$,listeners:Te}))}}if((i&7)===0){e:{if($=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",$&&s!==ii&&(_e=s.relatedTarget||s.fromElement)&&(ei(_e)||_e[Yn]))break e;if((K||$)&&($=Y.window===Y?Y:($=Y.ownerDocument)?$.defaultView||$.parentWindow:window,K?(_e=s.relatedTarget||s.toElement,K=q,_e=_e?ei(_e):null,_e!==null&&(st=u(_e),Te=_e.tag,_e!==st||Te!==5&&Te!==27&&Te!==6)&&(_e=null)):(K=null,_e=q),K!==_e)){if(Te=tr,J="onMouseLeave",R="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(Te=Gl,J="onPointerLeave",R="onPointerEnter",L="pointer"),st=K==null?$:Dr(K),U=_e==null?$:Dr(_e),$=new Te(J,L+"leave",K,s,Y),$.target=st,$.relatedTarget=U,J=null,ei(Y)===q&&(Te=new Te(R,L+"enter",_e,s,Y),Te.target=U,Te.relatedTarget=st,J=Te),st=J,K&&_e)t:{for(Te=K,R=_e,L=0,U=Te;U;U=Po(U))L++;for(U=0,J=R;J;J=Po(J))U++;for(;0<L-U;)Te=Po(Te),L--;for(;0<U-L;)R=Po(R),U--;for(;L--;){if(Te===R||R!==null&&Te===R.alternate)break t;Te=Po(Te),R=Po(R)}Te=null}else Te=null;K!==null&&f2(ee,$,K,Te,!1),_e!==null&&st!==null&&f2(ee,st,_e,Te,!0)}}e:{if($=q?Dr(q):window,K=$.nodeName&&$.nodeName.toLowerCase(),K==="select"||K==="input"&&$.type==="file")var de=Ik;else if(an($))if(Pk)de=i6;else{de=n6;var Re=t6}else K=$.nodeName,!K||K.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?q&&zl(q.elementType)&&(de=Ik):de=r6;if(de&&(de=de(t,q))){ui(ee,de,s,Y);break e}Re&&Re(t,$,q),t==="focusout"&&q&&$.type==="number"&&q.memoizedProps.value!=null&&Ji($,"number",$.value)}switch(Re=q?Dr(q):window,t){case"focusin":(an(Re)||Re.contentEditable==="true")&&(oo=Re,sm=q,Xl=null);break;case"focusout":Xl=sm=oo=null;break;case"mousedown":om=!0;break;case"contextmenu":case"mouseup":case"dragend":om=!1,zk(ee,s,Y);break;case"selectionchange":if(s6)break;case"keydown":case"keyup":zk(ee,s,Y)}var ke;if(Rr)e:{switch(t){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Ge?G(t,s)&&(xe="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(xe="onCompositionStart");xe&&(b&&s.locale!=="ko"&&(Ge||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Ge&&(ke=ql()):(Mr=Y,Zi="value"in Mr?Mr.value:Mr.textContent,Ge=!0)),Re=Xh(q,xe),0<Re.length&&(xe=new Hl(xe,t,null,s,Y),ee.push({event:xe,listeners:Re}),ke?xe.data=ke:(ke=ue(s),ke!==null&&(xe.data=ke)))),(ke=y?Bt(t,s):Xe(t,s))&&(xe=Xh(q,"onBeforeInput"),0<xe.length&&(Re=new Hl("onBeforeInput","beforeinput",null,s,Y),ee.push({event:Re,listeners:xe}),Re.data=ke)),q6(ee,t,q,s,Y)}c2(ee,i)})}function Tu(t,i,s){return{instance:t,listener:i,currentTarget:s}}function Xh(t,i){for(var s=i+"Capture",l=[];t!==null;){var f=t,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=Wa(t,s),f!=null&&l.unshift(Tu(t,f,p)),f=Wa(t,i),f!=null&&l.push(Tu(t,f,p))),t.tag===3)return l;t=t.return}return[]}function Po(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function f2(t,i,s,l,f){for(var p=i._reactName,w=[];s!==null&&s!==l;){var E=s,I=E.alternate,q=E.stateNode;if(E=E.tag,I!==null&&I===l)break;E!==5&&E!==26&&E!==27||q===null||(I=q,f?(q=Wa(s,p),q!=null&&w.unshift(Tu(s,q,I))):f||(q=Wa(s,p),q!=null&&w.push(Tu(s,q,I)))),s=s.return}w.length!==0&&t.push({event:i,listeners:w})}var K6=/\r\n?/g,G6=/\u0000|\uFFFD/g;function d2(t){return(typeof t=="string"?t:""+t).replace(K6,`
`).replace(G6,"")}function p2(t,i){return i=d2(i),d2(t)===i}function Yh(){}function at(t,i,s,l,f,p){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Jn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Jn(t,""+l);break;case"className":Ir(t,"class",l);break;case"tabIndex":Ir(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ir(t,s,l);break;case"style":Fl(t,l,p);break;case"data":if(i!=="object"){Ir(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Js(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(s==="formAction"?(i!=="input"&&at(t,i,"name",f.name,f,null),at(t,i,"formEncType",f.formEncType,f,null),at(t,i,"formMethod",f.formMethod,f,null),at(t,i,"formTarget",f.formTarget,f,null)):(at(t,i,"encType",f.encType,f,null),at(t,i,"method",f.method,f,null),at(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Js(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Yh);break;case"onScroll":l!=null&&ze("scroll",t);break;case"onScrollEnd":l!=null&&ze("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Js(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":ze("beforetoggle",t),ze("toggle",t),Yi(t,"popover",l);break;case"xlinkActuate":rn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":rn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":rn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":rn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":rn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":rn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":rn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":rn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":rn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Yi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Zp.get(s)||s,Yi(t,s,l))}}function Dg(t,i,s,l,f,p){switch(s){case"style":Fl(t,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?Jn(t,l):(typeof l=="number"||typeof l=="bigint")&&Jn(t,""+l);break;case"onScroll":l!=null&&ze("scroll",t);break;case"onScrollEnd":l!=null&&ze("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Yh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gs.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),i=s.slice(2,f?s.length-7:void 0),p=t[Lt]||null,p=p!=null?p[s]:null,typeof p=="function"&&t.removeEventListener(i,p,f),typeof l=="function")){typeof p!="function"&&p!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,l,f);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Yi(t,s,l)}}}function un(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",t),ze("load",t);var l=!1,f=!1,p;for(p in s)if(s.hasOwnProperty(p)){var w=s[p];if(w!=null)switch(p){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:at(t,i,p,w,s,null)}}f&&at(t,i,"srcSet",s.srcSet,s,null),l&&at(t,i,"src",s.src,s,null);return;case"input":ze("invalid",t);var E=p=w=f=null,I=null,q=null;for(l in s)if(s.hasOwnProperty(l)){var Y=s[l];if(Y!=null)switch(l){case"name":f=Y;break;case"type":w=Y;break;case"checked":I=Y;break;case"defaultChecked":q=Y;break;case"value":p=Y;break;case"defaultValue":E=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,i));break;default:at(t,i,l,Y,s,null)}}Ka(t,p,E,I,q,w,f,!1),Ys(t);return;case"select":ze("invalid",t),l=w=p=null;for(f in s)if(s.hasOwnProperty(f)&&(E=s[f],E!=null))switch(f){case"value":p=E;break;case"defaultValue":w=E;break;case"multiple":l=E;default:at(t,i,f,E,s,null)}i=p,s=w,t.multiple=!!l,i!=null?ri(t,!!l,i,!1):s!=null&&ri(t,!!l,s,!0);return;case"textarea":ze("invalid",t),p=f=l=null;for(w in s)if(s.hasOwnProperty(w)&&(E=s[w],E!=null))switch(w){case"value":l=E;break;case"defaultValue":f=E;break;case"children":p=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:at(t,i,w,E,s,null)}Ga(t,l,f,p),Ys(t);return;case"option":for(I in s)if(s.hasOwnProperty(I)&&(l=s[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:at(t,i,I,l,s,null)}return;case"dialog":ze("beforetoggle",t),ze("toggle",t),ze("cancel",t),ze("close",t);break;case"iframe":case"object":ze("load",t);break;case"video":case"audio":for(l=0;l<Su.length;l++)ze(Su[l],t);break;case"image":ze("error",t),ze("load",t);break;case"details":ze("toggle",t);break;case"embed":case"source":case"link":ze("error",t),ze("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in s)if(s.hasOwnProperty(q)&&(l=s[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:at(t,i,q,l,s,null)}return;default:if(zl(i)){for(Y in s)s.hasOwnProperty(Y)&&(l=s[Y],l!==void 0&&Dg(t,i,Y,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&at(t,i,E,l,s,null))}function Q6(t,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,w=null,E=null,I=null,q=null,Y=null;for(K in s){var ee=s[K];if(s.hasOwnProperty(K)&&ee!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":I=ee;default:l.hasOwnProperty(K)||at(t,i,K,null,l,ee)}}for(var $ in l){var K=l[$];if(ee=s[$],l.hasOwnProperty($)&&(K!=null||ee!=null))switch($){case"type":p=K;break;case"name":f=K;break;case"checked":q=K;break;case"defaultChecked":Y=K;break;case"value":w=K;break;case"defaultValue":E=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,i));break;default:K!==ee&&at(t,i,$,K,l,ee)}}jn(t,w,E,I,q,Y,p,f);return;case"select":K=w=E=$=null;for(p in s)if(I=s[p],s.hasOwnProperty(p)&&I!=null)switch(p){case"value":break;case"multiple":K=I;default:l.hasOwnProperty(p)||at(t,i,p,null,l,I)}for(f in l)if(p=l[f],I=s[f],l.hasOwnProperty(f)&&(p!=null||I!=null))switch(f){case"value":$=p;break;case"defaultValue":E=p;break;case"multiple":w=p;default:p!==I&&at(t,i,f,p,l,I)}i=E,s=w,l=K,$!=null?ri(t,!!s,$,!1):!!l!=!!s&&(i!=null?ri(t,!!s,i,!0):ri(t,!!s,s?[]:"",!1));return;case"textarea":K=$=null;for(E in s)if(f=s[E],s.hasOwnProperty(E)&&f!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:at(t,i,E,null,l,f)}for(w in l)if(f=l[w],p=s[w],l.hasOwnProperty(w)&&(f!=null||p!=null))switch(w){case"value":$=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==p&&at(t,i,w,f,l,p)}rt(t,$,K);return;case"option":for(var _e in s)if($=s[_e],s.hasOwnProperty(_e)&&$!=null&&!l.hasOwnProperty(_e))switch(_e){case"selected":t.selected=!1;break;default:at(t,i,_e,null,l,$)}for(I in l)if($=l[I],K=s[I],l.hasOwnProperty(I)&&$!==K&&($!=null||K!=null))switch(I){case"selected":t.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:at(t,i,I,$,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in s)$=s[Te],s.hasOwnProperty(Te)&&$!=null&&!l.hasOwnProperty(Te)&&at(t,i,Te,null,l,$);for(q in l)if($=l[q],K=s[q],l.hasOwnProperty(q)&&$!==K&&($!=null||K!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(a(137,i));break;default:at(t,i,q,$,l,K)}return;default:if(zl(i)){for(var st in s)$=s[st],s.hasOwnProperty(st)&&$!==void 0&&!l.hasOwnProperty(st)&&Dg(t,i,st,void 0,l,$);for(Y in l)$=l[Y],K=s[Y],!l.hasOwnProperty(Y)||$===K||$===void 0&&K===void 0||Dg(t,i,Y,$,l,K);return}}for(var R in s)$=s[R],s.hasOwnProperty(R)&&$!=null&&!l.hasOwnProperty(R)&&at(t,i,R,null,l,$);for(ee in l)$=l[ee],K=s[ee],!l.hasOwnProperty(ee)||$===K||$==null&&K==null||at(t,i,ee,$,l,K)}var Ig=null,Pg=null;function Jh(t){return t.nodeType===9?t:t.ownerDocument}function m2(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function g2(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Mg(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Og=null;function W6(){var t=window.event;return t&&t.type==="popstate"?t===Og?!1:(Og=t,!0):(Og=null,!1)}var y2=typeof setTimeout=="function"?setTimeout:void 0,X6=typeof clearTimeout=="function"?clearTimeout:void 0,v2=typeof Promise=="function"?Promise:void 0,Y6=typeof queueMicrotask=="function"?queueMicrotask:typeof v2<"u"?function(t){return v2.resolve(null).then(t).catch(J6)}:y2;function J6(t){setTimeout(function(){throw t})}function ma(t){return t==="head"}function b2(t,i){var s=i,l=0,f=0;do{var p=s.nextSibling;if(t.removeChild(s),p&&p.nodeType===8)if(s=p.data,s==="/$"){if(0<l&&8>l){s=l;var w=t.ownerDocument;if(s&1&&xu(w.documentElement),s&2&&xu(w.body),s&4)for(s=w.head,xu(s),w=s.firstChild;w;){var E=w.nextSibling,I=w.nodeName;w[qa]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&w.rel.toLowerCase()==="stylesheet"||s.removeChild(w),w=E}}if(f===0){t.removeChild(p),Mu(i);return}f--}else s==="$"||s==="$?"||s==="$!"?f++:l=s.charCodeAt(0)-48;else l=0;s=p}while(s);Mu(i)}function Lg(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Lg(s),Xi(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function Z6(t,i,s,l){for(;t.nodeType===1;){var f=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[qa])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(p=t.getAttribute("rel"),p==="stylesheet"&&t.hasAttribute("data-precedence")||p!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(p=t.getAttribute("src"),(p!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===p)return t}else return t;if(t=gr(t.nextSibling),t===null)break}return null}function e3(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=gr(t.nextSibling),t===null))return null;return t}function Vg(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function t3(t,i){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function gr(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Rg=null;function w2(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return t;i--}else s==="/$"&&i++}t=t.previousSibling}return null}function k2(t,i,s){switch(i=Jh(s),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function xu(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Xi(t)}var lr=new Map,E2=new Set;function Zh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Si=re.d;re.d={f:n3,r:r3,D:i3,C:a3,L:s3,m:o3,X:u3,S:l3,M:c3};function n3(){var t=Si.f(),i=$h();return t||i}function r3(t){var i=Nr(t);i!==null&&i.tag===5&&i.type==="form"?qE(i):Si.r(t)}var Mo=typeof document>"u"?null:document;function S2(t,i,s){var l=Mo;if(l&&typeof i=="string"&&i){var f=qt(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),E2.has(f)||(E2.add(f),t={rel:t,crossOrigin:s,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),un(i,"link",t),At(i),l.head.appendChild(i)))}}function i3(t){Si.D(t),S2("dns-prefetch",t,null)}function a3(t,i){Si.C(t,i),S2("preconnect",t,i)}function s3(t,i,s){Si.L(t,i,s);var l=Mo;if(l&&t&&i){var f='link[rel="preload"][as="'+qt(i)+'"]';i==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+qt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+qt(s.imageSizes)+'"]')):f+='[href="'+qt(t)+'"]';var p=f;switch(i){case"style":p=Oo(t);break;case"script":p=Lo(t)}lr.has(p)||(t=v({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),lr.set(p,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(Cu(p))||i==="script"&&l.querySelector(Au(p))||(i=l.createElement("link"),un(i,"link",t),At(i),l.head.appendChild(i)))}}function o3(t,i){Si.m(t,i);var s=Mo;if(s&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+qt(l)+'"][href="'+qt(t)+'"]',p=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Lo(t)}if(!lr.has(p)&&(t=v({rel:"modulepreload",href:t},i),lr.set(p,t),s.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Au(p)))return}l=s.createElement("link"),un(l,"link",t),At(l),s.head.appendChild(l)}}}function l3(t,i,s){Si.S(t,i,s);var l=Mo;if(l&&t){var f=wn(l).hoistableStyles,p=Oo(t);i=i||"default";var w=f.get(p);if(!w){var E={loading:0,preload:null};if(w=l.querySelector(Cu(p)))E.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":i},s),(s=lr.get(p))&&jg(t,s);var I=w=l.createElement("link");At(I),un(I,"link",t),I._p=new Promise(function(q,Y){I.onload=q,I.onerror=Y}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ef(w,i,l)}w={type:"stylesheet",instance:w,count:1,state:E},f.set(p,w)}}}function u3(t,i){Si.X(t,i);var s=Mo;if(s&&t){var l=wn(s).hoistableScripts,f=Lo(t),p=l.get(f);p||(p=s.querySelector(Au(f)),p||(t=v({src:t,async:!0},i),(i=lr.get(f))&&Fg(t,i),p=s.createElement("script"),At(p),un(p,"link",t),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function c3(t,i){Si.M(t,i);var s=Mo;if(s&&t){var l=wn(s).hoistableScripts,f=Lo(t),p=l.get(f);p||(p=s.querySelector(Au(f)),p||(t=v({src:t,async:!0,type:"module"},i),(i=lr.get(f))&&Fg(t,i),p=s.createElement("script"),At(p),un(p,"link",t),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function T2(t,i,s,l){var f=(f=oe.current)?Zh(f):null;if(!f)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Oo(s.href),s=wn(f).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Oo(s.href);var p=wn(f).hoistableStyles,w=p.get(t);if(w||(f=f.ownerDocument||f,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(t,w),(p=f.querySelector(Cu(t)))&&!p._p&&(w.instance=p,w.state.loading=5),lr.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},lr.set(t,s),p||h3(f,t,s,w.state))),i&&l===null)throw Error(a(528,""));return w}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Lo(s),s=wn(f).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Oo(t){return'href="'+qt(t)+'"'}function Cu(t){return'link[rel="stylesheet"]['+t+"]"}function x2(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function h3(t,i,s,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),un(i,"link",s),At(i),t.head.appendChild(i))}function Lo(t){return'[src="'+qt(t)+'"]'}function Au(t){return"script[async]"+t}function C2(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+qt(s.href)+'"]');if(l)return i.instance=l,At(l),l;var f=v({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),At(l),un(l,"style",f),ef(l,s.precedence,t),i.instance=l;case"stylesheet":f=Oo(s.href);var p=t.querySelector(Cu(f));if(p)return i.state.loading|=4,i.instance=p,At(p),p;l=x2(s),(f=lr.get(f))&&jg(l,f),p=(t.ownerDocument||t).createElement("link"),At(p);var w=p;return w._p=new Promise(function(E,I){w.onload=E,w.onerror=I}),un(p,"link",l),i.state.loading|=4,ef(p,s.precedence,t),i.instance=p;case"script":return p=Lo(s.src),(f=t.querySelector(Au(p)))?(i.instance=f,At(f),f):(l=s,(f=lr.get(p))&&(l=v({},s),Fg(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),At(f),un(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,ef(l,s.precedence,t));return i.instance}function ef(t,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,p=f,w=0;w<l.length;w++){var E=l[w];if(E.dataset.precedence===i)p=E;else if(p!==f)break}p?p.parentNode.insertBefore(t,p.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function jg(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Fg(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var tf=null;function A2(t,i,s){if(tf===null){var l=new Map,f=tf=new Map;f.set(s,l)}else f=tf,l=f.get(s),l||(l=new Map,f.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),f=0;f<s.length;f++){var p=s[f];if(!(p[qa]||p[Ut]||t==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var w=p.getAttribute(i)||"";w=t+w;var E=l.get(w);E?E.push(p):l.set(w,[p])}}return l}function _2(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function f3(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function N2(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var _u=null;function d3(){}function p3(t,i,s){if(_u===null)throw Error(a(475));var l=_u;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=Oo(s.href),p=t.querySelector(Cu(f));if(p){t=p._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=nf.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=p,At(p);return}p=t.ownerDocument||t,s=x2(s),(f=lr.get(f))&&jg(s,f),p=p.createElement("link"),At(p);var w=p;w._p=new Promise(function(E,I){w.onload=E,w.onerror=I}),un(p,"link",s),i.instance=p}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=nf.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function m3(){if(_u===null)throw Error(a(475));var t=_u;return t.stylesheets&&t.count===0&&zg(t,t.stylesheets),0<t.count?function(i){var s=setTimeout(function(){if(t.stylesheets&&zg(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(s)}}:null}function nf(){if(this.count--,this.count===0){if(this.stylesheets)zg(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var rf=null;function zg(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,rf=new Map,i.forEach(g3,t),rf=null,nf.call(t))}function g3(t,i){if(!(i.state.loading&4)){var s=rf.get(t);if(s)var l=s.get(null);else{s=new Map,rf.set(t,s);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var w=f[p];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(s.set(w.dataset.precedence,w),l=w)}l&&s.set(null,l)}f=i.instance,w=f.getAttribute("data-precedence"),p=s.get(w)||l,p===l&&s.set(null,f),s.set(w,f),this.count++,l=nf.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),p?p.parentNode.insertBefore(f,p.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var Nu={$$typeof:ae,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function y3(t,i,s,l,f,p,w,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jr(0),this.hiddenUpdates=Jr(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function D2(t,i,s,l,f,p,w,E,I,q,Y,ee){return t=new y3(t,i,s,w,E,I,q,ee),i=1,p===!0&&(i|=24),p=zn(3,null,null,i),t.current=p,p.stateNode=t,i=km(),i.refCount++,t.pooledCache=i,i.refCount++,p.memoizedState={element:l,isDehydrated:s,cache:i},xm(p),t}function I2(t){return t?(t=ho,t):ho}function P2(t,i,s,l,f,p){f=I2(f),l.context===null?l.context=f:l.pendingContext=f,l=na(i),l.payload={element:s},p=p===void 0?null:p,p!==null&&(l.callback=p),s=ra(t,l,i),s!==null&&(Hn(s,t,i),au(s,t,i))}function M2(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function Ug(t,i){M2(t,i),(t=t.alternate)&&M2(t,i)}function O2(t){if(t.tag===13){var i=co(t,67108864);i!==null&&Hn(i,t,67108864),Ug(t,67108864)}}var af=!0;function v3(t,i,s,l){var f=H.T;H.T=null;var p=re.p;try{re.p=2,qg(t,i,s,l)}finally{re.p=p,H.T=f}}function b3(t,i,s,l){var f=H.T;H.T=null;var p=re.p;try{re.p=8,qg(t,i,s,l)}finally{re.p=p,H.T=f}}function qg(t,i,s,l){if(af){var f=Bg(l);if(f===null)Ng(t,i,l,sf,s),V2(t,l);else if(k3(f,t,i,s,l))l.stopPropagation();else if(V2(t,l),i&4&&-1<w3.indexOf(t)){for(;f!==null;){var p=Nr(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var w=hr(p.pendingLanes);if(w!==0){var E=p;for(E.pendingLanes|=2,E.entangledLanes|=2;w;){var I=1<<31-zt(w);E.entanglements[1]|=I,w&=~I}qr(p),(et&6)===0&&(qh=mt()+500,Eu(0))}}break;case 13:E=co(p,2),E!==null&&Hn(E,p,2),$h(),Ug(p,2)}if(p=Bg(l),p===null&&Ng(t,i,l,sf,s),p===f)break;f=p}f!==null&&l.stopPropagation()}else Ng(t,i,l,null,s)}}function Bg(t){return t=Zn(t),$g(t)}var sf=null;function $g(t){if(sf=null,t=ei(t),t!==null){var i=u(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=h(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return sf=t,null}function L2(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vn()){case Rn:return 2;case nn:return 8;case Wr:case _l:return 32;case Hi:return 268435456;default:return 32}default:return 32}}var Hg=!1,ga=null,ya=null,va=null,Du=new Map,Iu=new Map,ba=[],w3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function V2(t,i){switch(t){case"focusin":case"focusout":ga=null;break;case"dragenter":case"dragleave":ya=null;break;case"mouseover":case"mouseout":va=null;break;case"pointerover":case"pointerout":Du.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Iu.delete(i.pointerId)}}function Pu(t,i,s,l,f,p){return t===null||t.nativeEvent!==p?(t={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:p,targetContainers:[f]},i!==null&&(i=Nr(i),i!==null&&O2(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function k3(t,i,s,l,f){switch(i){case"focusin":return ga=Pu(ga,t,i,s,l,f),!0;case"dragenter":return ya=Pu(ya,t,i,s,l,f),!0;case"mouseover":return va=Pu(va,t,i,s,l,f),!0;case"pointerover":var p=f.pointerId;return Du.set(p,Pu(Du.get(p)||null,t,i,s,l,f)),!0;case"gotpointercapture":return p=f.pointerId,Iu.set(p,Pu(Iu.get(p)||null,t,i,s,l,f)),!0}return!1}function R2(t){var i=ei(t.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=h(s),i!==null){t.blockedOn=i,$c(t.priority,function(){if(s.tag===13){var l=$n();l=Gi(l);var f=co(s,l);f!==null&&Hn(f,s,l),Ug(s,l)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function of(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=Bg(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);ii=l,s.target.dispatchEvent(l),ii=null}else return i=Nr(s),i!==null&&O2(i),t.blockedOn=s,!1;i.shift()}return!0}function j2(t,i,s){of(t)&&s.delete(i)}function E3(){Hg=!1,ga!==null&&of(ga)&&(ga=null),ya!==null&&of(ya)&&(ya=null),va!==null&&of(va)&&(va=null),Du.forEach(j2),Iu.forEach(j2)}function lf(t,i){t.blockedOn===i&&(t.blockedOn=null,Hg||(Hg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,E3)))}var uf=null;function F2(t){uf!==t&&(uf=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){uf===t&&(uf=null);for(var i=0;i<t.length;i+=3){var s=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if($g(l||s)===null)continue;break}var p=Nr(s);p!==null&&(t.splice(i,3),i-=3,$m(p,{pending:!0,data:f,method:s.method,action:l},l,f))}}))}function Mu(t){function i(I){return lf(I,t)}ga!==null&&lf(ga,t),ya!==null&&lf(ya,t),va!==null&&lf(va,t),Du.forEach(i),Iu.forEach(i);for(var s=0;s<ba.length;s++){var l=ba[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ba.length&&(s=ba[0],s.blockedOn===null);)R2(s),s.blockedOn===null&&ba.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var f=s[l],p=s[l+1],w=f[Lt]||null;if(typeof p=="function")w||F2(s);else if(w){var E=null;if(p&&p.hasAttribute("formAction")){if(f=p,w=p[Lt]||null)E=w.formAction;else if($g(f)!==null)continue}else E=w.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),F2(s)}}}function Kg(t){this._internalRoot=t}cf.prototype.render=Kg.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,l=$n();P2(s,l,t,i,null,null)},cf.prototype.unmount=Kg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;P2(t.current,2,null,t,null,null),$h(),i[Yn]=null}};function cf(t){this._internalRoot=t}cf.prototype.unstable_scheduleHydration=function(t){if(t){var i=Qi();t={blockedOn:null,target:t,priority:i};for(var s=0;s<ba.length&&i!==0&&i<ba[s].priority;s++);ba.splice(s,0,t),s===0&&R2(t)}};var z2=e.version;if(z2!=="19.1.1")throw Error(a(527,z2,"19.1.1"));re.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=m(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var S3={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hf.isDisabled&&hf.supportsFiber)try{dt=hf.inject(S3),We=hf}catch{}}return Ro.createRoot=function(t,i){if(!o(t))throw Error(a(299));var s=!1,l="",f=nS,p=rS,w=iS,E=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=D2(t,1,!1,null,null,s,l,f,p,w,E,null),t[Yn]=i.current,_g(t),new Kg(i)},Ro.hydrateRoot=function(t,i,s){if(!o(t))throw Error(a(299));var l=!1,f="",p=nS,w=rS,E=iS,I=null,q=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(w=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(I=s.unstable_transitionCallbacks),s.formState!==void 0&&(q=s.formState)),i=D2(t,1,!0,i,s??null,l,f,p,w,E,I,q),i.context=I2(null),s=i.current,l=$n(),l=Gi(l),f=na(l),f.callback=null,ra(s,f,l),s=l,i.current.lanes=s,Zr(i,s),qr(i),t[Yn]=i.current,_g(t),new cf(i)},Ro.version="19.1.1",Ro}var iy;function W2(){if(iy)return df.exports;iy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),df.exports=Q2(),df.exports}var X2=W2();const Y2=Pn(X2),J2=()=>{};var ay={};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const sy=function(n){const e=[];let r=0;for(let a=0;a<n.length;a++){let o=n.charCodeAt(a);o<128?e[r++]=o:o<2048?(e[r++]=o>>6|192,e[r++]=o&63|128):(o&64512)===55296&&a+1<n.length&&(n.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++a)&1023),e[r++]=o>>18|240,e[r++]=o>>12&63|128,e[r++]=o>>6&63|128,e[r++]=o&63|128):(e[r++]=o>>12|224,e[r++]=o>>6&63|128,e[r++]=o&63|128)}return e},Z2=function(n){const e=[];let r=0,a=0;for(;r<n.length;){const o=n[r++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[r++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[r++],h=n[r++],d=n[r++],m=((o&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;e[a++]=String.fromCharCode(55296+(m>>10)),e[a++]=String.fromCharCode(56320+(m&1023))}else{const u=n[r++],h=n[r++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},oy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<n.length;o+=3){const u=n[o],h=o+1<n.length,d=h?n[o+1]:0,m=o+2<n.length,g=m?n[o+2]:0,v=u>>2,k=(u&3)<<4|d>>4;let T=(d&15)<<2|g>>6,_=g&63;m||(_=64,h||(T=64)),a.push(r[v],r[k],r[T],r[_])}return a.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(sy(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Z2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<n.length;){const u=r[n.charAt(o++)],h=o<n.length?r[n.charAt(o)]:0;++o;const d=o<n.length?r[n.charAt(o)]:64;++o;const m=o<n.length?r[n.charAt(o)]:64;if(++o,u==null||h==null||d==null||m==null)throw new eT;const g=u<<2|h>>4;if(a.push(g),d!==64){const v=h<<4&240|d>>2;if(a.push(v),m!==64){const k=d<<6&192|m;a.push(k)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class eT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tT=function(n){const e=sy(n);return oy.encodeByteArray(e,!0)},Ou=function(n){return tT(n).replace(/\./g,"")},nT=function(n){try{return oy.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function rT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const iT=()=>rT().__FIREBASE_DEFAULTS__,aT=()=>{if(typeof process>"u"||typeof ay>"u")return;const n=ay.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},sT=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&nT(n[1]);return e&&JSON.parse(e)},mf=()=>{try{return J2()||iT()||aT()||sT()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},oT=n=>{var e,r;return(r=(e=mf())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[n]},lT=n=>{const e=oT(n);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),a]:[e.substring(0,r),a]},ly=()=>{var n;return(n=mf())===null||n===void 0?void 0:n.config};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class uT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,a)=>{r?this.reject(r):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,a))}}}/**
* @license
* Copyright 2025 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function gf(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function cT(n){return(await fetch(n,{credentials:"include"})).ok}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function hT(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},a=e||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ou(JSON.stringify(r)),Ou(JSON.stringify(h)),""].join(".")}const jo={};function fT(){const n={prod:[],emulator:[]};for(const e of Object.keys(jo))jo[e]?n.emulator.push(e):n.prod.push(e);return n}function dT(n){let e=document.getElementById(n),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),r=!0),{created:r,element:e}}let uy=!1;function pT(n,e){if(typeof window>"u"||typeof document>"u"||!gf(window.location.host)||jo[n]===e||jo[n]||uy)return;jo[n]=e;function r(k){return`__firebase__banner__${k}`}const a="__firebase__banner",o=fT().prod.length>0;function u(){const k=document.getElementById(a);k&&k.remove()}function h(k){k.style.display="flex",k.style.background="#7faaf0",k.style.position="fixed",k.style.bottom="5px",k.style.left="5px",k.style.padding=".5em",k.style.borderRadius="5px",k.style.alignItems="center"}function d(k,T){k.setAttribute("width","24"),k.setAttribute("id",T),k.setAttribute("height","24"),k.setAttribute("viewBox","0 0 24 24"),k.setAttribute("fill","none"),k.style.marginLeft="-6px"}function m(){const k=document.createElement("span");return k.style.cursor="pointer",k.style.marginLeft="16px",k.style.fontSize="24px",k.innerHTML=" &times;",k.onclick=()=>{uy=!0,u()},k}function g(k,T){k.setAttribute("id",T),k.innerText="Learn more",k.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",k.setAttribute("target","__blank"),k.style.paddingLeft="5px",k.style.textDecoration="underline"}function v(){const k=dT(a),T=r("text"),_=document.getElementById(T)||document.createElement("span"),j=r("learnmore"),B=document.getElementById(j)||document.createElement("a"),F=r("preprendIcon"),W=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(k.created){const te=k.element;h(te),g(B,j);const ae=m();d(W,F),te.append(W,_,B,ae),document.body.appendChild(te)}o?(_.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function mT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gT(){var n;const e=(n=mf())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cy(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function yT(){return!gT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yf(){try{return typeof indexedDB=="object"}catch{return!1}}function vf(){return new Promise((n,e)=>{try{let r=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),r||self.indexedDB.deleteDatabase(a),n(!0)},o.onupgradeneeded=()=>{r=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(r){e(r)}})}function hy(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const vT="FirebaseError";class Ti extends Error{constructor(e,r,a){super(r),this.code=e,this.customData=a,this.name=vT,Object.setPrototypeOf(this,Ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lu.prototype.create)}}class Lu{constructor(e,r,a){this.service=e,this.serviceName=r,this.errors=a}create(e,...r){const a=r[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?bT(u,a):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new Ti(o,d,a)}}function bT(n,e){return n.replace(wT,(r,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const wT=/\{\$([^}]+)}/g;function Fo(n,e){if(n===e)return!0;const r=Object.keys(n),a=Object.keys(e);for(const o of r){if(!a.includes(o))return!1;const u=n[o],h=e[o];if(fy(u)&&fy(h)){if(!Fo(u,h))return!1}else if(u!==h)return!1}for(const o of a)if(!r.includes(o))return!1;return!0}function fy(n){return n!==null&&typeof n=="object"}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const kT=1e3,ET=2,ST=14400*1e3,TT=.5;function dy(n,e=kT,r=ET){const a=e*Math.pow(r,n),o=Math.round(TT*a*(Math.random()-.5)*2);return Math.min(ST,a+o)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ur(n){return n&&n._delegate?n._delegate:n}class Br{constructor(e,r,a){this.name=e,this.instanceFactory=r,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ka="[DEFAULT]";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xT{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const a=new uT;if(this.instancesDeferred.set(r,a),this.isInitialized(r)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:r});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AT(e))try{this.getOrInitializeService({instanceIdentifier:ka})}catch{}for(const[r,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=ka){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ka){return this.instances.has(e)}getOptions(e=ka){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:r});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);a===d&&h.resolve(o)}return o}onInit(e,r){var a;const o=this.normalizeInstanceIdentifier(r),u=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,r){const a=this.onInitCallbacks.get(r);if(a)for(const o of a)try{o(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:CT(e),options:r}),this.instances.set(e,a),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ka){return this.component?this.component.multipleInstances?e:ka:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CT(n){return n===ka?void 0:n}function AT(n){return n.instantiationMode==="EAGER"}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _T{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new xT(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Be;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Be||(Be={}));const NT={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},DT=Be.INFO,IT={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},PT=(n,e,...r)=>{if(e<n.logLevel)return;const a=new Date().toISOString(),o=IT[e];if(o)console[o](`[${a}]  ${n.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bf{constructor(e){this.name=e,this._logLevel=DT,this._logHandler=PT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?NT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const MT=(n,e)=>e.some(r=>n instanceof r);let py,my;function OT(){return py||(py=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LT(){return my||(my=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gy=new WeakMap,wf=new WeakMap,yy=new WeakMap,kf=new WeakMap,Ef=new WeakMap;function VT(n){const e=new Promise((r,a)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",h)},u=()=>{r(xi(n.result)),o()},h=()=>{a(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",h)});return e.then(r=>{r instanceof IDBCursor&&gy.set(r,n)}).catch(()=>{}),Ef.set(e,n),e}function RT(n){if(wf.has(n))return;const e=new Promise((r,a)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",h),n.removeEventListener("abort",h)},u=()=>{r(),o()},h=()=>{a(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",h),n.addEventListener("abort",h)});wf.set(n,e)}let Sf={get(n,e,r){if(n instanceof IDBTransaction){if(e==="done")return wf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||yy.get(n);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return xi(n[e])},set(n,e,r){return n[e]=r,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function jT(n){Sf=n(Sf)}function FT(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const a=n.call(Tf(this),e,...r);return yy.set(a,e.sort?e.sort():[e]),xi(a)}:LT().includes(n)?function(...e){return n.apply(Tf(this),e),xi(gy.get(this))}:function(...e){return xi(n.apply(Tf(this),e))}}function zT(n){return typeof n=="function"?FT(n):(n instanceof IDBTransaction&&RT(n),MT(n,OT())?new Proxy(n,Sf):n)}function xi(n){if(n instanceof IDBRequest)return VT(n);if(kf.has(n))return kf.get(n);const e=zT(n);return e!==n&&(kf.set(n,e),Ef.set(e,n)),e}const Tf=n=>Ef.get(n);function vy(n,e,{blocked:r,upgrade:a,blocking:o,terminated:u}={}){const h=indexedDB.open(n,e),d=xi(h);return a&&h.addEventListener("upgradeneeded",m=>{a(xi(h.result),m.oldVersion,m.newVersion,xi(h.transaction),m)}),r&&h.addEventListener("blocked",m=>r(m.oldVersion,m.newVersion,m)),d.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const UT=["get","getKey","getAll","getAllKeys","count"],qT=["put","add","delete","clear"],xf=new Map;function by(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(xf.get(e))return xf.get(e);const r=e.replace(/FromIndex$/,""),a=e!==r,o=qT.includes(r);if(!(r in(a?IDBIndex:IDBObjectStore).prototype)||!(o||UT.includes(r)))return;const u=async function(h,...d){const m=this.transaction(h,o?"readwrite":"readonly");let g=m.store;return a&&(g=g.index(d.shift())),(await Promise.all([g[r](...d),o&&m.done]))[0]};return xf.set(e,u),u}jT(n=>({...n,get:(e,r,a)=>by(e,r)||n.get(e,r,a),has:(e,r)=>!!by(e,r)||n.has(e,r)}));/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class BT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if($T(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function $T(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Cf="@firebase/app",wy="0.13.2";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const $r=new bf("@firebase/app"),HT="@firebase/app-compat",KT="@firebase/analytics-compat",GT="@firebase/analytics",QT="@firebase/app-check-compat",WT="@firebase/app-check",XT="@firebase/auth",YT="@firebase/auth-compat",JT="@firebase/database",ZT="@firebase/data-connect",ex="@firebase/database-compat",tx="@firebase/functions",nx="@firebase/functions-compat",rx="@firebase/installations",ix="@firebase/installations-compat",ax="@firebase/messaging",sx="@firebase/messaging-compat",ox="@firebase/performance",lx="@firebase/performance-compat",ux="@firebase/remote-config",cx="@firebase/remote-config-compat",hx="@firebase/storage",fx="@firebase/storage-compat",dx="@firebase/firestore",px="@firebase/ai",mx="@firebase/firestore-compat",gx="firebase",yx="11.10.0";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Af="[DEFAULT]",vx={[Cf]:"fire-core",[HT]:"fire-core-compat",[GT]:"fire-analytics",[KT]:"fire-analytics-compat",[WT]:"fire-app-check",[QT]:"fire-app-check-compat",[XT]:"fire-auth",[YT]:"fire-auth-compat",[JT]:"fire-rtdb",[ZT]:"fire-data-connect",[ex]:"fire-rtdb-compat",[tx]:"fire-fn",[nx]:"fire-fn-compat",[rx]:"fire-iid",[ix]:"fire-iid-compat",[ax]:"fire-fcm",[sx]:"fire-fcm-compat",[ox]:"fire-perf",[lx]:"fire-perf-compat",[ux]:"fire-rc",[cx]:"fire-rc-compat",[hx]:"fire-gcs",[fx]:"fire-gcs-compat",[dx]:"fire-fst",[mx]:"fire-fst-compat",[px]:"fire-vertex","fire-js":"fire-js",[gx]:"fire-js-all"};/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Vu=new Map,bx=new Map,_f=new Map;function ky(n,e){try{n.container.addComponent(e)}catch(r){$r.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,r)}}function Ci(n){const e=n.name;if(_f.has(e))return $r.debug(`There were multiple attempts to register component ${e}.`),!1;_f.set(e,n);for(const r of Vu.values())ky(r,n);for(const r of bx.values())ky(r,n);return!0}function zo(n,e){const r=n.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),n.container.getProvider(e)}function wx(n){return n==null?!1:n.settings!==void 0}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const kx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ai=new Lu("app","Firebase",kx);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ex{constructor(e,r,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Br("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ai.create("app-deleted",{appName:this._name})}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Sx=yx;function Ey(n,e={}){let r=n;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Af,automaticDataCollectionEnabled:!0},e),o=a.name;if(typeof o!="string"||!o)throw Ai.create("bad-app-name",{appName:String(o)});if(r||(r=ly()),!r)throw Ai.create("no-options");const u=Vu.get(o);if(u){if(Fo(r,u.options)&&Fo(a,u.config))return u;throw Ai.create("duplicate-app",{appName:o})}const h=new _T(o);for(const m of _f.values())h.addComponent(m);const d=new Ex(r,a,h);return Vu.set(o,d),d}function Sy(n=Af){const e=Vu.get(n);if(!e&&n===Af&&ly())return Ey();if(!e)throw Ai.create("no-app",{appName:n});return e}function yr(n,e,r){var a;let o=(a=vx[n])!==null&&a!==void 0?a:n;r&&(o+=`-${r}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${o}" with version "${e}":`];u&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$r.warn(d.join(" "));return}Ci(new Br(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Tx="firebase-heartbeat-database",xx=1,Uo="firebase-heartbeat-store";let Nf=null;function Ty(){return Nf||(Nf=vy(Tx,xx,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Uo)}catch(r){console.warn(r)}}}}).catch(n=>{throw Ai.create("idb-open",{originalErrorMessage:n.message})})),Nf}async function Cx(n){try{const e=(await Ty()).transaction(Uo),r=await e.objectStore(Uo).get(Cy(n));return await e.done,r}catch(e){if(e instanceof Ti)$r.warn(e.message);else{const r=Ai.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$r.warn(r.message)}}}async function xy(n,e){try{const r=(await Ty()).transaction(Uo,"readwrite");await r.objectStore(Uo).put(e,Cy(n)),await r.done}catch(r){if(r instanceof Ti)$r.warn(r.message);else{const a=Ai.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});$r.warn(a.message)}}}function Cy(n){return`${n.name}!${n.options.appId}`}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ax=1024,_x=30;class Nx{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Ix(r),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Ay();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>_x){const u=Px(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){$r.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Ay(),{heartbeatsToSend:a,unsentEntries:o}=Dx(this._heartbeatsCache.heartbeats),u=Ou(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(r){return $r.warn(r),""}}}function Ay(){return new Date().toISOString().substring(0,10)}function Dx(n,e=Ax){const r=[];let a=n.slice();for(const o of n){const u=r.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),_y(r)>e){u.dates.pop();break}}else if(r.push({agent:o.agent,dates:[o.date]}),_y(r)>e){r.pop();break}a=a.slice(1)}return{heartbeatsToSend:r,unsentEntries:a}}class Ix{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yf()?vf().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await Cx(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return xy(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return xy(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function _y(n){return Ou(JSON.stringify({version:2,heartbeats:n})).length}function Px(n){if(n.length===0)return-1;let e=0,r=n[0].date;for(let a=1;a<n.length;a++)n[a].date<r&&(r=n[a].date,e=a);return e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Mx(n){Ci(new Br("platform-logger",e=>new BT(e),"PRIVATE")),Ci(new Br("heartbeat",e=>new Nx(e),"PRIVATE")),yr(Cf,wy,n),yr(Cf,wy,"esm2017"),yr("fire-js","")}Mx("");const Ny="@firebase/installations",Df="0.6.18";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Dy=1e4,Iy=`w:${Df}`,Py="FIS_v2",Ox="https://firebaseinstallations.googleapis.com/v1",Lx=3600*1e3,Vx="installations",Rx="Installations";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const jx={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ea=new Lu(Vx,Rx,jx);function My(n){return n instanceof Ti&&n.code.includes("request-failed")}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Oy({projectId:n}){return`${Ox}/projects/${n}/installations`}function Ly(n){return{token:n.token,requestStatus:2,expiresIn:zx(n.expiresIn),creationTime:Date.now()}}async function Vy(n,e){const r=(await e.json()).error;return Ea.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Ry({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Fx(n,{refreshToken:e}){const r=Ry(n);return r.append("Authorization",Ux(e)),r}async function jy(n){const e=await n();return e.status>=500&&e.status<600?n():e}function zx(n){return Number(n.replace("s","000"))}function Ux(n){return`${Py} ${n}`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function qx({appConfig:n,heartbeatServiceProvider:e},{fid:r}){const a=Oy(n),o=Ry(n),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={fid:r,authVersion:Py,appId:n.appId,sdkVersion:Iy},d={method:"POST",headers:o,body:JSON.stringify(h)},m=await jy(()=>fetch(a,d));if(m.ok){const g=await m.json();return{fid:g.fid||r,registrationStatus:2,refreshToken:g.refreshToken,authToken:Ly(g.authToken)}}else throw await Vy("Create Installation",m)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Fy(n){return new Promise(e=>{setTimeout(e,n)})}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Bx(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const $x=/^[cdef][\w-]{21}$/,If="";function Hx(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const e=Kx(n);return $x.test(e)?e:If}catch{return If}}function Kx(n){return Bx(n).substr(0,22)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ru(n){return`${n.appName}!${n.appId}`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const zy=new Map;function Uy(n,e){const r=Ru(n);qy(r,e),Gx(r,e)}function qy(n,e){const r=zy.get(n);if(r)for(const a of r)a(e)}function Gx(n,e){const r=Qx();r&&r.postMessage({key:n,fid:e}),Wx()}let Sa=null;function Qx(){return!Sa&&"BroadcastChannel"in self&&(Sa=new BroadcastChannel("[Firebase] FID Change"),Sa.onmessage=n=>{qy(n.data.key,n.data.fid)}),Sa}function Wx(){zy.size===0&&Sa&&(Sa.close(),Sa=null)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Xx="firebase-installations-database",Yx=1,Ta="firebase-installations-store";let Pf=null;function Mf(){return Pf||(Pf=vy(Xx,Yx,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Ta)}}})),Pf}async function ju(n,e){const r=Ru(n),a=(await Mf()).transaction(Ta,"readwrite"),o=a.objectStore(Ta),u=await o.get(r);return await o.put(e,r),await a.done,(!u||u.fid!==e.fid)&&Uy(n,e.fid),e}async function By(n){const e=Ru(n),r=(await Mf()).transaction(Ta,"readwrite");await r.objectStore(Ta).delete(e),await r.done}async function Fu(n,e){const r=Ru(n),a=(await Mf()).transaction(Ta,"readwrite"),o=a.objectStore(Ta),u=await o.get(r),h=e(u);return h===void 0?await o.delete(r):await o.put(h,r),await a.done,h&&(!u||u.fid!==h.fid)&&Uy(n,h.fid),h}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Of(n){let e;const r=await Fu(n.appConfig,a=>{const o=Jx(a),u=Zx(n,o);return e=u.registrationPromise,u.installationEntry});return r.fid===If?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function Jx(n){const e=n||{fid:Hx(),registrationStatus:0};return Hy(e)}function Zx(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Ea.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},a=eC(n,r);return{installationEntry:r,registrationPromise:a}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:tC(n)}:{installationEntry:e}}async function eC(n,e){try{const r=await qx(n,e);return ju(n.appConfig,r)}catch(r){throw My(r)&&r.customData.serverCode===409?await By(n.appConfig):await ju(n.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function tC(n){let e=await $y(n.appConfig);for(;e.registrationStatus===1;)await Fy(100),e=await $y(n.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:a}=await Of(n);return a||r}return e}function $y(n){return Fu(n,e=>{if(!e)throw Ea.create("installation-not-found");return Hy(e)})}function Hy(n){return nC(n)?{fid:n.fid,registrationStatus:0}:n}function nC(n){return n.registrationStatus===1&&n.registrationTime+Dy<Date.now()}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function rC({appConfig:n,heartbeatServiceProvider:e},r){const a=iC(n,r),o=Fx(n,r),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={installation:{sdkVersion:Iy,appId:n.appId}},d={method:"POST",headers:o,body:JSON.stringify(h)},m=await jy(()=>fetch(a,d));if(m.ok){const g=await m.json();return Ly(g)}else throw await Vy("Generate Auth Token",m)}function iC(n,{fid:e}){return`${Oy(n)}/${e}/authTokens:generate`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Lf(n,e=!1){let r;const a=await Fu(n.appConfig,o=>{if(!Gy(o))throw Ea.create("not-registered");const u=o.authToken;if(!e&&oC(u))return o;if(u.requestStatus===1)return r=aC(n,e),o;{if(!navigator.onLine)throw Ea.create("app-offline");const h=uC(o);return r=sC(n,h),h}});return r?await r:a.authToken}async function aC(n,e){let r=await Ky(n.appConfig);for(;r.authToken.requestStatus===1;)await Fy(100),r=await Ky(n.appConfig);const a=r.authToken;return a.requestStatus===0?Lf(n,e):a}function Ky(n){return Fu(n,e=>{if(!Gy(e))throw Ea.create("not-registered");const r=e.authToken;return cC(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function sC(n,e){try{const r=await rC(n,e),a=Object.assign(Object.assign({},e),{authToken:r});return await ju(n.appConfig,a),r}catch(r){if(My(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await By(n.appConfig);else{const a=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await ju(n.appConfig,a)}throw r}}function Gy(n){return n!==void 0&&n.registrationStatus===2}function oC(n){return n.requestStatus===2&&!lC(n)}function lC(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+Lx}function uC(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function cC(n){return n.requestStatus===1&&n.requestTime+Dy<Date.now()}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function hC(n){const e=n,{installationEntry:r,registrationPromise:a}=await Of(e);return a?a.catch(console.error):Lf(e).catch(console.error),r.fid}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function fC(n,e=!1){const r=n;return await dC(r),(await Lf(r,e)).token}async function dC(n){const{registrationPromise:e}=await Of(n);e&&await e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function pC(n){if(!n||!n.options)throw Vf("App Configuration");if(!n.name)throw Vf("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!n.options[r])throw Vf(r);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Vf(n){return Ea.create("missing-app-config-values",{valueName:n})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Qy="installations",mC="installations-internal",gC=n=>{const e=n.getProvider("app").getImmediate(),r=pC(e),a=zo(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},yC=n=>{const e=n.getProvider("app").getImmediate(),r=zo(e,Qy).getImmediate();return{getId:()=>hC(r),getToken:a=>fC(r,a)}};function vC(){Ci(new Br(Qy,gC,"PUBLIC")),Ci(new Br(mC,yC,"PRIVATE"))}vC(),yr(Ny,Df),yr(Ny,Df,"esm2017");/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const zu="analytics",bC="firebase_id",wC="origin",kC=60*1e3,EC="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Rf="https://www.googletagmanager.com/gtag/js";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const xn=new bf("@firebase/analytics");/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const SC={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Mn=new Lu("analytics","Analytics",SC);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function TC(n){if(!n.startsWith(Rf)){const e=Mn.create("invalid-gtag-resource",{gtagURL:n});return xn.warn(e.message),""}return n}function Wy(n){return Promise.all(n.map(e=>e.catch(r=>r)))}function xC(n,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(n,e)),r}function CC(n,e){const r=xC("firebase-js-sdk-policy",{createScriptURL:TC}),a=document.createElement("script"),o=`${Rf}?l=${n}&id=${e}`;a.src=r?r==null?void 0:r.createScriptURL(o):o,a.async=!0,document.head.appendChild(a)}function AC(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function _C(n,e,r,a,o,u){const h=a[o];try{if(h)await e[h];else{const d=(await Wy(r)).find(m=>m.measurementId===o);d&&await e[d.appId]}}catch(d){xn.error(d)}n("config",o,u)}async function NC(n,e,r,a,o){try{let u=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const d=await Wy(r);for(const m of h){const g=d.find(k=>k.measurementId===m),v=g&&e[g.appId];if(v)u.push(v);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),n("event",a,o||{})}catch(u){xn.error(u)}}function DC(n,e,r,a){async function o(u,...h){try{if(u==="event"){const[d,m]=h;await NC(n,e,r,d,m)}else if(u==="config"){const[d,m]=h;await _C(n,e,r,a,d,m)}else if(u==="consent"){const[d,m]=h;n("consent",d,m)}else if(u==="get"){const[d,m,g]=h;n("get",d,m,g)}else if(u==="set"){const[d]=h;n("set",d)}else n(u,...h)}catch(d){xn.error(d)}}return o}function IC(n,e,r,a,o){let u=function(...h){window[a].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=DC(u,n,e,r),{gtagCore:u,wrappedGtag:window[o]}}function PC(n){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(Rf)&&r.src.includes(n))return r;return null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const MC=30,OC=1e3;class LC{constructor(e={},r=OC){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Xy=new LC;function VC(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function RC(n){var e;const{appId:r,apiKey:a}=n,o={method:"GET",headers:VC(a)},u=EC.replace("{app-id}",r),h=await fetch(u,o);if(h.status!==200&&h.status!==304){let d="";try{const m=await h.json();!((e=m.error)===null||e===void 0)&&e.message&&(d=m.error.message)}catch{}throw Mn.create("config-fetch-failed",{httpStatus:h.status,responseMessage:d})}return h.json()}async function jC(n,e=Xy,r){const{appId:a,apiKey:o,measurementId:u}=n.options;if(!a)throw Mn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:a};throw Mn.create("no-api-key")}const h=e.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new UC;return setTimeout(async()=>{d.abort()},kC),Yy({appId:a,apiKey:o,measurementId:u},h,d,e)}async function Yy(n,{throttleEndTimeMillis:e,backoffCount:r},a,o=Xy){var u;const{appId:h,measurementId:d}=n;try{await FC(a,e)}catch(m){if(d)return xn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:h,measurementId:d};throw m}try{const m=await RC(n);return o.deleteThrottleMetadata(h),m}catch(m){const g=m;if(!zC(g)){if(o.deleteThrottleMetadata(h),d)return xn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:h,measurementId:d};throw m}const v=Number((u=g==null?void 0:g.customData)===null||u===void 0?void 0:u.httpStatus)===503?dy(r,o.intervalMillis,MC):dy(r,o.intervalMillis),k={throttleEndTimeMillis:Date.now()+v,backoffCount:r+1};return o.setThrottleMetadata(h,k),xn.debug(`Calling attemptFetch again in ${v} millis`),Yy(n,k,a,o)}}function FC(n,e){return new Promise((r,a)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(r,o);n.addEventListener(()=>{clearTimeout(u),a(Mn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function zC(n){if(!(n instanceof Ti)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class UC{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function qC(n,e,r,a,o){if(o&&o.global){n("event",r,a);return}else{const u=await e,h=Object.assign(Object.assign({},a),{send_to:u});n("event",r,h)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function BC(){if(yf())try{await vf()}catch(n){return xn.warn(Mn.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return xn.warn(Mn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function $C(n,e,r,a,o,u,h){var d;const m=jC(n);m.then(_=>{r[_.measurementId]=_.appId,n.options.measurementId&&_.measurementId!==n.options.measurementId&&xn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${_.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(_=>xn.error(_)),e.push(m);const g=BC().then(_=>{if(_)return a.getId()}),[v,k]=await Promise.all([m,g]);PC(u)||CC(u,v.measurementId),o("js",new Date);const T=(d=h==null?void 0:h.config)!==null&&d!==void 0?d:{};return T[wC]="firebase",T.update=!0,k!=null&&(T[bC]=k),o("config",v.measurementId,T),v.measurementId}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class HC{constructor(e){this.app=e}_delete(){return delete qo[this.app.options.appId],Promise.resolve()}}let qo={},Jy=[];const Zy={};let jf="dataLayer",KC="gtag",ev,tv,nv=!1;function GC(){const n=[];if(cy()&&n.push("This is a browser extension environment."),hy()||n.push("Cookies are not available."),n.length>0){const e=n.map((a,o)=>`(${o+1}) ${a}`).join(" "),r=Mn.create("invalid-analytics-context",{errorInfo:e});xn.warn(r.message)}}function QC(n,e,r){GC();const a=n.options.appId;if(!a)throw Mn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)xn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Mn.create("no-api-key");if(qo[a]!=null)throw Mn.create("already-exists",{id:a});if(!nv){AC(jf);const{wrappedGtag:o,gtagCore:u}=IC(qo,Jy,Zy,jf,KC);tv=o,ev=u,nv=!0}return qo[a]=$C(n,Jy,Zy,e,ev,jf,r),new HC(n)}function WC(n=Sy()){n=ur(n);const e=zo(n,zu);return e.isInitialized()?e.getImmediate():XC(n)}function XC(n,e={}){const r=zo(n,zu);if(r.isInitialized()){const a=r.getImmediate();if(Fo(e,r.getOptions()))return a;throw Mn.create("already-initialized")}return r.initialize({options:e})}async function YC(){if(cy()||!hy()||!yf())return!1;try{return await vf()}catch{return!1}}function rv(n,e,r,a){n=ur(n),qC(tv,qo[n.app.options.appId],e,r,a).catch(o=>xn.error(o))}const iv="@firebase/analytics",av="0.10.17";function JC(){Ci(new Br(zu,(e,{options:r})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return QC(a,o,r)},"PUBLIC")),Ci(new Br("analytics-internal",n,"PRIVATE")),yr(iv,av),yr(iv,av,"esm2017");function n(e){try{const r=e.getProvider(zu).getImmediate();return{logEvent:(a,o,u)=>rv(r,a,o,u)}}catch(r){throw Mn.create("interop-component-reg-failed",{reason:r})}}}JC();var ZC="firebase",eA="11.10.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/yr(ZC,eA,"app");var sv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _i,ov;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,A){function N(){}N.prototype=A.prototype,M.D=A.prototype,M.prototype=new N,M.prototype.constructor=M,M.C=function(P,O,V){for(var D=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)D[Ke-2]=arguments[Ke];return A.prototype[O].apply(P,D)}}function r(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,r),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,A,N){N||(N=0);var P=Array(16);if(typeof A=="string")for(var O=0;16>O;++O)P[O]=A.charCodeAt(N++)|A.charCodeAt(N++)<<8|A.charCodeAt(N++)<<16|A.charCodeAt(N++)<<24;else for(O=0;16>O;++O)P[O]=A[N++]|A[N++]<<8|A[N++]<<16|A[N++]<<24;A=M.g[0],N=M.g[1],O=M.g[2];var V=M.g[3],D=A+(V^N&(O^V))+P[0]+3614090360&4294967295;A=N+(D<<7&4294967295|D>>>25),D=V+(O^A&(N^O))+P[1]+3905402710&4294967295,V=A+(D<<12&4294967295|D>>>20),D=O+(N^V&(A^N))+P[2]+606105819&4294967295,O=V+(D<<17&4294967295|D>>>15),D=N+(A^O&(V^A))+P[3]+3250441966&4294967295,N=O+(D<<22&4294967295|D>>>10),D=A+(V^N&(O^V))+P[4]+4118548399&4294967295,A=N+(D<<7&4294967295|D>>>25),D=V+(O^A&(N^O))+P[5]+1200080426&4294967295,V=A+(D<<12&4294967295|D>>>20),D=O+(N^V&(A^N))+P[6]+2821735955&4294967295,O=V+(D<<17&4294967295|D>>>15),D=N+(A^O&(V^A))+P[7]+4249261313&4294967295,N=O+(D<<22&4294967295|D>>>10),D=A+(V^N&(O^V))+P[8]+1770035416&4294967295,A=N+(D<<7&4294967295|D>>>25),D=V+(O^A&(N^O))+P[9]+2336552879&4294967295,V=A+(D<<12&4294967295|D>>>20),D=O+(N^V&(A^N))+P[10]+4294925233&4294967295,O=V+(D<<17&4294967295|D>>>15),D=N+(A^O&(V^A))+P[11]+2304563134&4294967295,N=O+(D<<22&4294967295|D>>>10),D=A+(V^N&(O^V))+P[12]+1804603682&4294967295,A=N+(D<<7&4294967295|D>>>25),D=V+(O^A&(N^O))+P[13]+4254626195&4294967295,V=A+(D<<12&4294967295|D>>>20),D=O+(N^V&(A^N))+P[14]+2792965006&4294967295,O=V+(D<<17&4294967295|D>>>15),D=N+(A^O&(V^A))+P[15]+1236535329&4294967295,N=O+(D<<22&4294967295|D>>>10),D=A+(O^V&(N^O))+P[1]+4129170786&4294967295,A=N+(D<<5&4294967295|D>>>27),D=V+(N^O&(A^N))+P[6]+3225465664&4294967295,V=A+(D<<9&4294967295|D>>>23),D=O+(A^N&(V^A))+P[11]+643717713&4294967295,O=V+(D<<14&4294967295|D>>>18),D=N+(V^A&(O^V))+P[0]+3921069994&4294967295,N=O+(D<<20&4294967295|D>>>12),D=A+(O^V&(N^O))+P[5]+3593408605&4294967295,A=N+(D<<5&4294967295|D>>>27),D=V+(N^O&(A^N))+P[10]+38016083&4294967295,V=A+(D<<9&4294967295|D>>>23),D=O+(A^N&(V^A))+P[15]+3634488961&4294967295,O=V+(D<<14&4294967295|D>>>18),D=N+(V^A&(O^V))+P[4]+3889429448&4294967295,N=O+(D<<20&4294967295|D>>>12),D=A+(O^V&(N^O))+P[9]+568446438&4294967295,A=N+(D<<5&4294967295|D>>>27),D=V+(N^O&(A^N))+P[14]+3275163606&4294967295,V=A+(D<<9&4294967295|D>>>23),D=O+(A^N&(V^A))+P[3]+4107603335&4294967295,O=V+(D<<14&4294967295|D>>>18),D=N+(V^A&(O^V))+P[8]+1163531501&4294967295,N=O+(D<<20&4294967295|D>>>12),D=A+(O^V&(N^O))+P[13]+2850285829&4294967295,A=N+(D<<5&4294967295|D>>>27),D=V+(N^O&(A^N))+P[2]+4243563512&4294967295,V=A+(D<<9&4294967295|D>>>23),D=O+(A^N&(V^A))+P[7]+1735328473&4294967295,O=V+(D<<14&4294967295|D>>>18),D=N+(V^A&(O^V))+P[12]+2368359562&4294967295,N=O+(D<<20&4294967295|D>>>12),D=A+(N^O^V)+P[5]+4294588738&4294967295,A=N+(D<<4&4294967295|D>>>28),D=V+(A^N^O)+P[8]+2272392833&4294967295,V=A+(D<<11&4294967295|D>>>21),D=O+(V^A^N)+P[11]+1839030562&4294967295,O=V+(D<<16&4294967295|D>>>16),D=N+(O^V^A)+P[14]+4259657740&4294967295,N=O+(D<<23&4294967295|D>>>9),D=A+(N^O^V)+P[1]+2763975236&4294967295,A=N+(D<<4&4294967295|D>>>28),D=V+(A^N^O)+P[4]+1272893353&4294967295,V=A+(D<<11&4294967295|D>>>21),D=O+(V^A^N)+P[7]+4139469664&4294967295,O=V+(D<<16&4294967295|D>>>16),D=N+(O^V^A)+P[10]+3200236656&4294967295,N=O+(D<<23&4294967295|D>>>9),D=A+(N^O^V)+P[13]+681279174&4294967295,A=N+(D<<4&4294967295|D>>>28),D=V+(A^N^O)+P[0]+3936430074&4294967295,V=A+(D<<11&4294967295|D>>>21),D=O+(V^A^N)+P[3]+3572445317&4294967295,O=V+(D<<16&4294967295|D>>>16),D=N+(O^V^A)+P[6]+76029189&4294967295,N=O+(D<<23&4294967295|D>>>9),D=A+(N^O^V)+P[9]+3654602809&4294967295,A=N+(D<<4&4294967295|D>>>28),D=V+(A^N^O)+P[12]+3873151461&4294967295,V=A+(D<<11&4294967295|D>>>21),D=O+(V^A^N)+P[15]+530742520&4294967295,O=V+(D<<16&4294967295|D>>>16),D=N+(O^V^A)+P[2]+3299628645&4294967295,N=O+(D<<23&4294967295|D>>>9),D=A+(O^(N|~V))+P[0]+4096336452&4294967295,A=N+(D<<6&4294967295|D>>>26),D=V+(N^(A|~O))+P[7]+1126891415&4294967295,V=A+(D<<10&4294967295|D>>>22),D=O+(A^(V|~N))+P[14]+2878612391&4294967295,O=V+(D<<15&4294967295|D>>>17),D=N+(V^(O|~A))+P[5]+4237533241&4294967295,N=O+(D<<21&4294967295|D>>>11),D=A+(O^(N|~V))+P[12]+1700485571&4294967295,A=N+(D<<6&4294967295|D>>>26),D=V+(N^(A|~O))+P[3]+2399980690&4294967295,V=A+(D<<10&4294967295|D>>>22),D=O+(A^(V|~N))+P[10]+4293915773&4294967295,O=V+(D<<15&4294967295|D>>>17),D=N+(V^(O|~A))+P[1]+2240044497&4294967295,N=O+(D<<21&4294967295|D>>>11),D=A+(O^(N|~V))+P[8]+1873313359&4294967295,A=N+(D<<6&4294967295|D>>>26),D=V+(N^(A|~O))+P[15]+4264355552&4294967295,V=A+(D<<10&4294967295|D>>>22),D=O+(A^(V|~N))+P[6]+2734768916&4294967295,O=V+(D<<15&4294967295|D>>>17),D=N+(V^(O|~A))+P[13]+1309151649&4294967295,N=O+(D<<21&4294967295|D>>>11),D=A+(O^(N|~V))+P[4]+4149444226&4294967295,A=N+(D<<6&4294967295|D>>>26),D=V+(N^(A|~O))+P[11]+3174756917&4294967295,V=A+(D<<10&4294967295|D>>>22),D=O+(A^(V|~N))+P[2]+718787259&4294967295,O=V+(D<<15&4294967295|D>>>17),D=N+(V^(O|~A))+P[9]+3951481745&4294967295,M.g[0]=M.g[0]+A&4294967295,M.g[1]=M.g[1]+(O+(D<<21&4294967295|D>>>11))&4294967295,M.g[2]=M.g[2]+O&4294967295,M.g[3]=M.g[3]+V&4294967295}a.prototype.u=function(M,A){A===void 0&&(A=M.length);for(var N=A-this.blockSize,P=this.B,O=this.h,V=0;V<A;){if(O==0)for(;V<=N;)o(this,M,V),V+=this.blockSize;if(typeof M=="string"){for(;V<A;)if(P[O++]=M.charCodeAt(V++),O==this.blockSize){o(this,P),O=0;break}}else for(;V<A;)if(P[O++]=M[V++],O==this.blockSize){o(this,P),O=0;break}}this.h=O,this.o+=A},a.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var A=1;A<M.length-8;++A)M[A]=0;var N=8*this.o;for(A=M.length-8;A<M.length;++A)M[A]=N&255,N/=256;for(this.u(M),M=Array(16),A=N=0;4>A;++A)for(var P=0;32>P;P+=8)M[N++]=this.g[A]>>>P&255;return M};function u(M,A){var N=d;return Object.prototype.hasOwnProperty.call(N,M)?N[M]:N[M]=A(M)}function h(M,A){this.h=A;for(var N=[],P=!0,O=M.length-1;0<=O;O--){var V=M[O]|0;P&&V==A||(N[O]=V,P=!1)}this.g=N}var d={};function m(M){return-128<=M&&128>M?u(M,function(A){return new h([A|0],0>A?-1:0)}):new h([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return k;if(0>M)return F(g(-M));for(var A=[],N=1,P=0;M>=N;P++)A[P]=M/N|0,N*=4294967296;return new h(A,0)}function v(M,A){if(M.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(M.charAt(0)=="-")return F(v(M.substring(1),A));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=g(Math.pow(A,8)),P=k,O=0;O<M.length;O+=8){var V=Math.min(8,M.length-O),D=parseInt(M.substring(O,O+V),A);8>V?(V=g(Math.pow(A,V)),P=P.j(V).add(g(D))):(P=P.j(N),P=P.add(g(D)))}return P}var k=m(0),T=m(1),_=m(16777216);n=h.prototype,n.m=function(){if(B(this))return-F(this).m();for(var M=0,A=1,N=0;N<this.g.length;N++){var P=this.i(N);M+=(0<=P?P:4294967296+P)*A,A*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(j(this))return"0";if(B(this))return"-"+F(this).toString(M);for(var A=g(Math.pow(M,6)),N=this,P="";;){var O=pe(N,A).g;N=W(N,O.j(A));var V=((0<N.g.length?N.g[0]:N.h)>>>0).toString(M);if(N=O,j(N))return V+P;for(;6>V.length;)V="0"+V;P=V+P}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function j(M){if(M.h!=0)return!1;for(var A=0;A<M.g.length;A++)if(M.g[A]!=0)return!1;return!0}function B(M){return M.h==-1}n.l=function(M){return M=W(this,M),B(M)?-1:j(M)?0:1};function F(M){for(var A=M.g.length,N=[],P=0;P<A;P++)N[P]=~M.g[P];return new h(N,~M.h).add(T)}n.abs=function(){return B(this)?F(this):this},n.add=function(M){for(var A=Math.max(this.g.length,M.g.length),N=[],P=0,O=0;O<=A;O++){var V=P+(this.i(O)&65535)+(M.i(O)&65535),D=(V>>>16)+(this.i(O)>>>16)+(M.i(O)>>>16);P=D>>>16,V&=65535,D&=65535,N[O]=D<<16|V}return new h(N,N[N.length-1]&-2147483648?-1:0)};function W(M,A){return M.add(F(A))}n.j=function(M){if(j(this)||j(M))return k;if(B(this))return B(M)?F(this).j(F(M)):F(F(this).j(M));if(B(M))return F(this.j(F(M)));if(0>this.l(_)&&0>M.l(_))return g(this.m()*M.m());for(var A=this.g.length+M.g.length,N=[],P=0;P<2*A;P++)N[P]=0;for(P=0;P<this.g.length;P++)for(var O=0;O<M.g.length;O++){var V=this.i(P)>>>16,D=this.i(P)&65535,Ke=M.i(O)>>>16,qe=M.i(O)&65535;N[2*P+2*O]+=D*qe,te(N,2*P+2*O),N[2*P+2*O+1]+=V*qe,te(N,2*P+2*O+1),N[2*P+2*O+1]+=D*Ke,te(N,2*P+2*O+1),N[2*P+2*O+2]+=V*Ke,te(N,2*P+2*O+2)}for(P=0;P<A;P++)N[P]=N[2*P+1]<<16|N[2*P];for(P=A;P<2*A;P++)N[P]=0;return new h(N,0)};function te(M,A){for(;(M[A]&65535)!=M[A];)M[A+1]+=M[A]>>>16,M[A]&=65535,A++}function ae(M,A){this.g=M,this.h=A}function pe(M,A){if(j(A))throw Error("division by zero");if(j(M))return new ae(k,k);if(B(M))return A=pe(F(M),A),new ae(F(A.g),F(A.h));if(B(A))return A=pe(M,F(A)),new ae(F(A.g),A.h);if(30<M.g.length){if(B(M)||B(A))throw Error("slowDivide_ only works with positive integers.");for(var N=T,P=A;0>=P.l(M);)N=le(N),P=le(P);var O=ye(N,1),V=ye(P,1);for(P=ye(P,2),N=ye(N,2);!j(P);){var D=V.add(P);0>=D.l(M)&&(O=O.add(N),V=D),P=ye(P,1),N=ye(N,1)}return A=W(M,O.j(A)),new ae(O,A)}for(O=k;0<=M.l(A);){for(N=Math.max(1,Math.floor(M.m()/A.m())),P=Math.ceil(Math.log(N)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),V=g(N),D=V.j(A);B(D)||0<D.l(M);)N-=P,V=g(N),D=V.j(A);j(V)&&(V=T),O=O.add(V),M=W(M,D)}return new ae(O,M)}n.A=function(M){return pe(this,M).h},n.and=function(M){for(var A=Math.max(this.g.length,M.g.length),N=[],P=0;P<A;P++)N[P]=this.i(P)&M.i(P);return new h(N,this.h&M.h)},n.or=function(M){for(var A=Math.max(this.g.length,M.g.length),N=[],P=0;P<A;P++)N[P]=this.i(P)|M.i(P);return new h(N,this.h|M.h)},n.xor=function(M){for(var A=Math.max(this.g.length,M.g.length),N=[],P=0;P<A;P++)N[P]=this.i(P)^M.i(P);return new h(N,this.h^M.h)};function le(M){for(var A=M.g.length+1,N=[],P=0;P<A;P++)N[P]=M.i(P)<<1|M.i(P-1)>>>31;return new h(N,M.h)}function ye(M,A){var N=A>>5;A%=32;for(var P=M.g.length-N,O=[],V=0;V<P;V++)O[V]=0<A?M.i(V+N)>>>A|M.i(V+N+1)<<32-A:M.i(V+N);return new h(O,M.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,ov=a,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=v,_i=h}).apply(typeof sv<"u"?sv:typeof self<"u"?self:typeof window<"u"?window:{});var Uu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lv,Bo,uv,qu,Ff,cv,hv,fv;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,b){return c==Array.prototype||c==Object.prototype||(c[y]=b.value),c};function r(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uu=="object"&&Uu];for(var y=0;y<c.length;++y){var b=c[y];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var a=r(this);function o(c,y){if(y)e:{var b=a;c=c.split(".");for(var x=0;x<c.length-1;x++){var z=c[x];if(!(z in b))break e;b=b[z]}c=c[c.length-1],x=b[c],y=y(x),y!=x&&y!=null&&e(b,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var b=0,x=!1,z={next:function(){if(!x&&b<c.length){var G=b++;return{value:y(G,c[G]),done:!1}}return x=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function m(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,b){return c.call.apply(c.bind,arguments)}function k(c,y,b){if(!c)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,x),c.apply(y,z)}}return function(){return c.apply(y,arguments)}}function T(c,y,b){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:k,T.apply(null,arguments)}function _(c,y){var b=Array.prototype.slice.call(arguments,1);return function(){var x=b.slice();return x.push.apply(x,arguments),c.apply(this,x)}}function j(c,y){function b(){}b.prototype=y.prototype,c.aa=y.prototype,c.prototype=new b,c.prototype.constructor=c,c.Qb=function(x,z,G){for(var ue=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)ue[Ge-2]=arguments[Ge];return y.prototype[z].apply(x,ue)}}function B(c){const y=c.length;if(0<y){const b=Array(y);for(let x=0;x<y;x++)b[x]=c[x];return b}return[]}function F(c,y){for(let b=1;b<arguments.length;b++){const x=arguments[b];if(m(x)){const z=c.length||0,G=x.length||0;c.length=z+G;for(let ue=0;ue<G;ue++)c[z+ue]=x[ue]}else c.push(x)}}class W{constructor(y,b){this.i=y,this.j=b,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function te(c){return/^[\s\xa0]*$/.test(c)}function ae(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function pe(c){return pe[" "](c),c}pe[" "]=function(){};var le=ae().indexOf("Gecko")!=-1&&!(ae().toLowerCase().indexOf("webkit")!=-1&&ae().indexOf("Edge")==-1)&&!(ae().indexOf("Trident")!=-1||ae().indexOf("MSIE")!=-1)&&ae().indexOf("Edge")==-1;function ye(c,y,b){for(const x in c)y.call(b,c[x],x,c)}function M(c,y){for(const b in c)y.call(void 0,c[b],b,c)}function A(c){const y={};for(const b in c)y[b]=c[b];return y}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(c,y){let b,x;for(let z=1;z<arguments.length;z++){x=arguments[z];for(b in x)c[b]=x[b];for(let G=0;G<N.length;G++)b=N[G],Object.prototype.hasOwnProperty.call(x,b)&&(c[b]=x[b])}}function O(c){var y=1;c=c.split(":");const b=[];for(;0<y&&c.length;)b.push(c.shift()),y--;return c.length&&b.push(c.join(":")),b}function V(c){d.setTimeout(()=>{throw c},0)}function D(){var c=Oe;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Ke{constructor(){this.h=this.g=null}add(y,b){const x=qe.get();x.set(y,b),this.h?this.h.next=x:this.g=x,this.h=x}}var qe=new W(()=>new H,c=>c.reset());class H{constructor(){this.next=this.g=this.h=null}set(y,b){this.h=y,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let re,fe=!1,Oe=new Ke,S=()=>{const c=d.Promise.resolve(void 0);re=()=>{c.then(C)}};var C=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(b){V(b)}var y=qe;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}fe=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Q(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}Q.prototype.h=function(){this.defaultPrevented=!0};var se=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};d.addEventListener("test",b,y),d.removeEventListener("test",b,y)}catch{}return c})();function ce(c,y){if(Q.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var b=this.type=c.type,x=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(le){e:{try{pe(y.nodeName);var z=!0;break e}catch{}z=!1}z||(y=null)}}else b=="mouseover"?y=c.fromElement:b=="mouseout"&&(y=c.toElement);this.relatedTarget=y,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:oe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ce.aa.h.call(this)}}j(ce,Q);var oe={2:"touch",3:"pen",4:"mouse"};ce.prototype.h=function(){ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var me="closure_listenable_"+(1e6*Math.random()|0),ve=0;function Pe(c,y,b,x,z){this.listener=c,this.proxy=null,this.src=y,this.type=b,this.capture=!!x,this.ha=z,this.key=++ve,this.da=this.fa=!1}function ot(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function je(c){this.src=c,this.g={},this.h=0}je.prototype.add=function(c,y,b,x,z){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var ue=wt(c,y,x,z);return-1<ue?(y=c[ue],b||(y.fa=!1)):(y=new Pe(y,this.src,G,!!x,z),y.fa=b,c.push(y)),y};function nt(c,y){var b=y.type;if(b in c.g){var x=c.g[b],z=Array.prototype.indexOf.call(x,y,void 0),G;(G=0<=z)&&Array.prototype.splice.call(x,z,1),G&&(ot(y),c.g[b].length==0&&(delete c.g[b],c.h--))}}function wt(c,y,b,x){for(var z=0;z<c.length;++z){var G=c[z];if(!G.da&&G.listener==y&&G.capture==!!b&&G.ha==x)return z}return-1}var Me="closure_lm_"+(1e6*Math.random()|0),Ot={};function mn(c,y,b,x,z){if(Array.isArray(y)){for(var G=0;G<y.length;G++)mn(c,y[G],b,x,z);return null}return b=$s(b),c&&c[me]?c.K(y,b,g(x)?!!x.capture:!1,z):mt(c,y,b,!1,x,z)}function mt(c,y,b,x,z,G){if(!y)throw Error("Invalid event type");var ue=g(z)?!!z.capture:!!z,Ge=Hi(c);if(Ge||(c[Me]=Ge=new je(c)),b=Ge.add(y,b,x,ue,G),b.proxy)return b;if(x=Vn(),b.proxy=x,x.src=c,x.listener=b,c.addEventListener)se||(z=ue),z===void 0&&(z=!1),c.addEventListener(y.toString(),x,z);else if(c.attachEvent)c.attachEvent(Wr(y.toString()),x);else if(c.addListener&&c.removeListener)c.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Vn(){function c(b){return y.call(c.src,c.listener,b)}const y=_l;return c}function Rn(c,y,b,x,z){if(Array.isArray(y))for(var G=0;G<y.length;G++)Rn(c,y[G],b,x,z);else x=g(x)?!!x.capture:!!x,b=$s(b),c&&c[me]?(c=c.i,y=String(y).toString(),y in c.g&&(G=c.g[y],b=wt(G,b,x,z),-1<b&&(ot(G[b]),Array.prototype.splice.call(G,b,1),G.length==0&&(delete c.g[y],c.h--)))):c&&(c=Hi(c))&&(y=c.g[y.toString()],c=-1,y&&(c=wt(y,b,x,z)),(b=-1<c?y[c]:null)&&nn(b))}function nn(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[me])nt(y.i,c);else{var b=c.type,x=c.proxy;y.removeEventListener?y.removeEventListener(b,x,c.capture):y.detachEvent?y.detachEvent(Wr(b),x):y.addListener&&y.removeListener&&y.removeListener(x),(b=Hi(y))?(nt(b,c),b.h==0&&(b.src=null,y[Me]=null)):ot(c)}}}function Wr(c){return c in Ot?Ot[c]:Ot[c]="on"+c}function _l(c,y){if(c.da)c=!0;else{y=new ce(y,this);var b=c.listener,x=c.ha||c.src;c.fa&&nn(c),c=b.call(x,y)}return c}function Hi(c){return c=c[Me],c instanceof je?c:null}var Ki="__closure_events_fn_"+(1e9*Math.random()>>>0);function $s(c){return typeof c=="function"?c:(c[Ki]||(c[Ki]=function(y){return c.handleEvent(y)}),c[Ki])}function dt(){X.call(this),this.i=new je(this),this.M=this,this.F=null}j(dt,X),dt.prototype[me]=!0,dt.prototype.removeEventListener=function(c,y,b,x){Rn(this,c,y,b,x)};function We(c,y){var b,x=c.F;if(x)for(b=[];x;x=x.F)b.push(x);if(c=c.M,x=y.type||y,typeof y=="string")y=new Q(y,c);else if(y instanceof Q)y.target=y.target||c;else{var z=y;y=new Q(x,c),P(y,z)}if(z=!0,b)for(var G=b.length-1;0<=G;G--){var ue=y.g=b[G];z=bn(ue,x,!0,y)&&z}if(ue=y.g=c,z=bn(ue,x,!0,y)&&z,z=bn(ue,x,!1,y)&&z,b)for(G=0;G<b.length;G++)ue=y.g=b[G],z=bn(ue,x,!1,y)&&z}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var b=c.g[y],x=0;x<b.length;x++)ot(b[x]);delete c.g[y],c.h--}}this.F=null},dt.prototype.K=function(c,y,b,x){return this.i.add(String(c),y,!1,b,x)},dt.prototype.L=function(c,y,b,x){return this.i.add(String(c),y,!0,b,x)};function bn(c,y,b,x){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,G=0;G<y.length;++G){var ue=y[G];if(ue&&!ue.da&&ue.capture==b){var Ge=ue.listener,Bt=ue.ha||ue.src;ue.fa&&nt(c.i,ue),z=Ge.call(Bt,x)!==!1&&z}}return z&&!x.defaultPrevented}function zt(c,y,b){if(typeof c=="function")b&&(c=T(c,b));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function ja(c){c.g=zt(()=>{c.g=null,c.i&&(c.i=!1,ja(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Fa extends X{constructor(y,b){super(),this.m=y,this.l=b,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ja(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xr(c){X.call(this),this.h=c,this.g={}}j(Xr,X);var Yr=[];function za(c){ye(c.g,function(y,b){this.g.hasOwnProperty(b)&&nn(y)},c),c.g={}}Xr.prototype.N=function(){Xr.aa.N.call(this),za(this)},Xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hr=d.JSON.stringify,Hs=d.JSON.parse,Ua=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Nl(){}Nl.prototype.h=null;function Dl(c){return c.h||(c.h=c.i())}function Il(){}var Jr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zr(){Q.call(this,"d")}j(Zr,Q);function Pl(){Q.call(this,"c")}j(Pl,Q);var _r={},Ml=null;function Gi(){return Ml=Ml||new dt}_r.La="serverreachability";function Ks(c){Q.call(this,_r.La,c)}j(Ks,Q);function Qi(c){const y=Gi();We(y,new Ks(y))}_r.STAT_EVENT="statevent";function $c(c,y){Q.call(this,_r.STAT_EVENT,c),this.stat=y}j($c,Q);function gt(c){const y=Gi();We(y,new $c(y,c))}_r.Ma="timingevent";function Ut(c,y){Q.call(this,_r.Ma,c),this.size=y}j(Ut,Q);function Lt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function Yn(){this.g=!0}Yn.prototype.xa=function(){this.g=!1};function Ol(c,y,b,x,z,G){c.info(function(){if(c.g)if(G)for(var ue="",Ge=G.split("&"),Bt=0;Bt<Ge.length;Bt++){var Xe=Ge[Bt].split("=");if(1<Xe.length){var Qt=Xe[0];Xe=Xe[1];var an=Qt.split("_");ue=2<=an.length&&an[1]=="type"?ue+(Qt+"="+Xe+"&"):ue+(Qt+"=redacted&")}}else ue=null;else ue=G;return"XMLHTTP REQ ("+x+") [attempt "+z+"]: "+y+`
`+b+`
`+ue})}function Xp(c,y,b,x,z,G,ue){c.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+z+"]: "+y+`
`+b+`
`+G+" "+ue})}function Wi(c,y,b,x){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+qa(c,b)+(x?" "+x:"")})}function Hc(c,y){c.info(function(){return"TIMEOUT: "+y})}Yn.prototype.info=function(){};function qa(c,y){if(!c.g)return y;if(!y)return null;try{var b=JSON.parse(y);if(b){for(c=0;c<b.length;c++)if(Array.isArray(b[c])){var x=b[c];if(!(2>x.length)){var z=x[1];if(Array.isArray(z)&&!(1>z.length)){var G=z[0];if(G!="noop"&&G!="stop"&&G!="close")for(var ue=1;ue<z.length;ue++)z[ue]=""}}}}return hr(b)}catch{return y}}var Xi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ei={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Nr;function Dr(){}j(Dr,Nl),Dr.prototype.g=function(){return new XMLHttpRequest},Dr.prototype.i=function(){return{}},Nr=new Dr;function wn(c,y,b,x){this.j=c,this.i=y,this.l=b,this.R=x||1,this.U=new Xr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new At}function At(){this.i=null,this.g="",this.h=!1}var Ll={},Gs={};function fr(c,y,b){c.L=1,c.v=Ga(jn(y)),c.m=b,c.P=!0,ti(c,null)}function ti(c,y){c.F=Date.now(),Ba(c),c.A=jn(c.v);var b=c.A,x=c.R;Array.isArray(x)||(x=[String(x)]),Ul(b.i,"t",x),c.C=0,b=c.j.J,c.h=new At,c.g=oh(c.j,b?y:null,!c.m),0<c.O&&(c.M=new Fa(T(c.Y,c,c.g),c.O)),y=c.U,b=c.g,x=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(Yr[0]=z.toString()),z=Yr);for(var G=0;G<z.length;G++){var ue=mn(b,z[G],x||y.handleEvent,!1,y.h||y);if(!ue)break;y.g[ue.key]=ue}y=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Qi(),Ol(c.i,c.u,c.A,c.l,c.R,c.m)}wn.prototype.ca=function(c){c=c.target;const y=this.M;y&&tr(c)==3?y.j():this.Y(c)},wn.prototype.Y=function(c){try{if(c==this.g)e:{const an=tr(this.g);var y=this.g.Ba();const ui=this.g.Z();if(!(3>an)&&(an!=3||this.g&&(this.h.h||this.g.oa()||Zc(this.g)))){this.J||an!=4||y==7||(y==8||0>=ui?Qi(3):Qi(2)),Yi(this);var b=this.g.Z();this.X=b;t:if(Kc(this)){var x=Zc(this.g);c="";var z=x.length,G=tr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rn(this),Ir(this);var ue="";break t}this.h.i=new d.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,c+=this.h.i.decode(x[y],{stream:!(G&&y==z-1)});x.length=0,this.h.g+=c,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=b==200,Xp(this.i,this.u,this.A,this.l,this.R,an,b),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,Bt=this.g;if((Ge=Bt.g?Bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(Ge)){var Xe=Ge;break t}}Xe=null}if(b=Xe)Wi(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$a(this,b);else{this.o=!1,this.s=3,gt(12),rn(this),Ir(this);break e}}if(this.P){b=!0;let sn;for(;!this.J&&this.C<ue.length;)if(sn=Gc(this,ue),sn==Gs){an==4&&(this.s=4,gt(14),b=!1),Wi(this.i,this.l,null,"[Incomplete Response]");break}else if(sn==Ll){this.s=4,gt(15),Wi(this.i,this.l,ue,"[Invalid Chunk]"),b=!1;break}else Wi(this.i,this.l,sn,null),$a(this,sn);if(Kc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),an!=4||ue.length!=0||this.h.h||(this.s=1,gt(16),b=!1),this.o=this.o&&b,!b)Wi(this.i,this.l,ue,"[Invalid Chunked Response]"),rn(this),Ir(this);else if(0<ue.length&&!this.W){this.W=!0;var Qt=this.j;Qt.g==this&&Qt.ba&&!Qt.M&&(Qt.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),ts(Qt),Qt.M=!0,gt(11))}}else Wi(this.i,this.l,ue,null),$a(this,ue);an==4&&rn(this),this.o&&!this.J&&(an==4?ih(this.j,this):(this.o=!1,Ba(this)))}else tm(this.g),b==400&&0<ue.indexOf("Unknown SID")?(this.s=3,gt(12)):(this.s=0,gt(13)),rn(this),Ir(this)}}}catch{}finally{}};function Kc(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Gc(c,y){var b=c.C,x=y.indexOf(`
`,b);return x==-1?Gs:(b=Number(y.substring(b,x)),isNaN(b)?Ll:(x+=1,x+b>y.length?Gs:(y=y.slice(x,x+b),c.C=x+b,y)))}wn.prototype.cancel=function(){this.J=!0,rn(this)};function Ba(c){c.S=Date.now()+c.I,Qc(c,c.I)}function Qc(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Lt(T(c.ba,c),y)}function Yi(c){c.B&&(d.clearTimeout(c.B),c.B=null)}wn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Hc(this.i,this.A),this.L!=2&&(Qi(),gt(17)),rn(this),this.s=2,Ir(this)):Qc(this,this.S-c)};function Ir(c){c.j.G==0||c.J||ih(c.j,c)}function rn(c){Yi(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,za(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function $a(c,y){try{var b=c.j;if(b.G!=0&&(b.g==c||Vl(b.h,c))){if(!c.K&&Vl(b.h,c)&&b.G==3){try{var x=b.Da.g.parse(y)}catch{x=null}if(Array.isArray(x)&&x.length==3){var z=x;if(z[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<c.F)ao(b),ro(b);else break e;Kl(b),gt(18)}}else b.za=z[1],0<b.za-b.T&&37500>z[2]&&b.F&&b.v==0&&!b.C&&(b.C=Lt(T(b.Za,b),6e3));if(1>=Ws(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else li(b,11)}else if((c.K||b.g==c)&&ao(b),!te(y))for(z=b.Da.g.parse(y),y=0;y<z.length;y++){let Xe=z[y];if(b.T=Xe[0],Xe=Xe[1],b.G==2)if(Xe[0]=="c"){b.K=Xe[1],b.ia=Xe[2];const Qt=Xe[3];Qt!=null&&(b.la=Qt,b.j.info("VER="+b.la));const an=Xe[4];an!=null&&(b.Aa=an,b.j.info("SVER="+b.Aa));const ui=Xe[5];ui!=null&&typeof ui=="number"&&0<ui&&(x=1.5*ui,b.L=x,b.j.info("backChannelRequestTimeoutMs_="+x)),x=b;const sn=c.g;if(sn){const jr=sn.g?sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jr){var G=x.h;G.g||jr.indexOf("spdy")==-1&&jr.indexOf("quic")==-1&&jr.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Xs(G,G.h),G.h=null))}if(x.D){const Ql=sn.g?sn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ql&&(x.ya=Ql,rt(x.I,x.D,Ql))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-c.F,b.j.info("Handshake RTT: "+b.R+"ms")),x=b;var ue=c;if(x.qa=sh(x,x.J?x.ia:null,x.W),ue.K){kn(x.h,ue);var Ge=ue,Bt=x.L;Bt&&(Ge.I=Bt),Ge.B&&(Yi(Ge),Ba(Ge)),x.g=ue}else nh(x);0<b.i.length&&io(b)}else Xe[0]!="stop"&&Xe[0]!="close"||li(b,7);else b.G==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?li(b,7):$l(b):Xe[0]!="noop"&&b.l&&b.l.ta(Xe),b.v=0)}}Qi(4)}catch{}}var Wc=class{constructor(c,y){this.g=c,this.map=y}};function ni(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qs(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ws(c){return c.h?1:c.g?c.g.size:0}function Vl(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Xs(c,y){c.g?c.g.add(y):c.h=y}function kn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}ni.prototype.cancel=function(){if(this.i=Rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Rl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const b of c.g.values())y=y.concat(b.D);return y}return B(c.i)}function Yp(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(m(c)){for(var y=[],b=c.length,x=0;x<b;x++)y.push(c[x]);return y}y=[],b=0;for(x in c)y[b++]=c[x];return y}function Ys(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(m(c)||typeof c=="string"){var y=[];c=c.length;for(var b=0;b<c;b++)y.push(b);return y}y=[],b=0;for(const x in c)y[b++]=x;return y}}}function jl(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(m(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var b=Ys(c),x=Yp(c),z=x.length,G=0;G<z;G++)y.call(void 0,x[G],b&&b[G],c)}var Ha=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jp(c,y){if(c){c=c.split("&");for(var b=0;b<c.length;b++){var x=c[b].indexOf("="),z=null;if(0<=x){var G=c[b].substring(0,x);z=c[b].substring(x+1)}else G=c[b];y(G,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function qt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof qt){this.h=c.h,Ka(this,c.j),this.o=c.o,this.g=c.g,Ji(this,c.s),this.l=c.l;var y=c.i,b=new ii;b.i=y.i,y.g&&(b.g=new Map(y.g),b.h=y.h),ri(this,b),this.m=c.m}else c&&(y=String(c).match(Ha))?(this.h=!1,Ka(this,y[1]||"",!0),this.o=Jn(y[2]||""),this.g=Jn(y[3]||"",!0),Ji(this,y[4]),this.l=Jn(y[5]||"",!0),ri(this,y[6]||"",!0),this.m=Jn(y[7]||"")):(this.h=!1,this.i=new ii(null,this.h))}qt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Qa(y,Fl,!0),":");var b=this.g;return(b||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Qa(y,Fl,!0),"@"),c.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&c.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(Qa(b,b.charAt(0)=="/"?Zp:zl,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",Qa(b,Js)),c.join("")};function jn(c){return new qt(c)}function Ka(c,y,b){c.j=b?Jn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ji(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function ri(c,y,b){y instanceof ii?(c.i=y,Yc(c.i,c.h)):(b||(y=Qa(y,em)),c.i=new ii(y,c.h))}function rt(c,y,b){c.i.set(y,b)}function Ga(c){return rt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Jn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Qa(c,y,b){return typeof c=="string"?(c=encodeURI(c).replace(y,Xc),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Xc(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Fl=/[#\/\?@]/g,zl=/[#\?:]/g,Zp=/[#\?]/g,em=/[#\?@]/g,Js=/#/g;function ii(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Zn(c){c.g||(c.g=new Map,c.h=0,c.i&&Jp(c.i,function(y,b){c.add(decodeURIComponent(y.replace(/\+/g," ")),b)}))}n=ii.prototype,n.add=function(c,y){Zn(this),this.i=null,c=Pr(this,c);var b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(y),this.h+=1,this};function ai(c,y){Zn(c),y=Pr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function si(c,y){return Zn(c),y=Pr(c,y),c.g.has(y)}n.forEach=function(c,y){Zn(this),this.g.forEach(function(b,x){b.forEach(function(z){c.call(y,z,x,this)},this)},this)},n.na=function(){Zn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),b=[];for(let x=0;x<y.length;x++){const z=c[x];for(let G=0;G<z.length;G++)b.push(y[x])}return b},n.V=function(c){Zn(this);let y=[];if(typeof c=="string")si(this,c)&&(y=y.concat(this.g.get(Pr(this,c))));else{c=Array.from(this.g.values());for(let b=0;b<c.length;b++)y=y.concat(c[b])}return y},n.set=function(c,y){return Zn(this),this.i=null,c=Pr(this,c),si(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},n.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Ul(c,y,b){ai(c,y),0<b.length&&(c.i=null,c.g.set(Pr(c,y),B(b)),c.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var b=0;b<y.length;b++){var x=y[b];const G=encodeURIComponent(String(x)),ue=this.V(x);for(x=0;x<ue.length;x++){var z=G;ue[x]!==""&&(z+="="+encodeURIComponent(String(ue[x]))),c.push(z)}}return this.i=c.join("&")};function Pr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Yc(c,y){y&&!c.j&&(Zn(c),c.i=null,c.g.forEach(function(b,x){var z=x.toLowerCase();x!=z&&(ai(this,x),Ul(this,z,b))},c)),c.j=y}function Wa(c,y){const b=new Yn;if(d.Image){const x=new Image;x.onload=_(er,b,"TestLoadImage: loaded",!0,y,x),x.onerror=_(er,b,"TestLoadImage: error",!1,y,x),x.onabort=_(er,b,"TestLoadImage: abort",!1,y,x),x.ontimeout=_(er,b,"TestLoadImage: timeout",!1,y,x),d.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=c}else y(!1)}function dr(c,y){const b=new Yn,x=new AbortController,z=setTimeout(()=>{x.abort(),er(b,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:x.signal}).then(G=>{clearTimeout(z),G.ok?er(b,"TestPingServer: ok",!0,y):er(b,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),er(b,"TestPingServer: error",!1,y)})}function er(c,y,b,x,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),x(b)}catch{}}function Xa(){this.g=new Ua}function Mr(c,y,b){const x=b||"";try{jl(c,function(z,G){let ue=z;g(z)&&(ue=hr(z)),y.push(x+G+"="+encodeURIComponent(ue))})}catch(z){throw y.push(x+"type="+encodeURIComponent("_badmap")),z}}function Zi(c){this.l=c.Ub||null,this.j=c.eb||!1}j(Zi,Nl),Zi.prototype.g=function(){return new oi(this.l,this.j)},Zi.prototype.i=(function(c){return function(){return c}})({});function oi(c,y){dt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(oi,dt),n=oi.prototype,n.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Lr(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Or(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Lr(this)),this.g&&(this.readyState=3,Lr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ql(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ql(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Or(this):Lr(this),this.readyState==3&&ql(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Or(this))},n.Qa=function(c){this.g&&(this.response=c,Or(this))},n.ga=function(){this.g&&Or(this)};function Or(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Lr(c)}n.setRequestHeader=function(c,y){this.u.append(c,y)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var b=y.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=y.next();return c.join(`\r
`)};function Lr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(oi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Bl(c){let y="";return ye(c,function(b,x){y+=x,y+=":",y+=b,y+=`\r
`}),y}function Gt(c,y,b){e:{for(x in b){var x=!1;break e}x=!0}x||(b=Bl(b),typeof c=="string"?b!=null&&encodeURIComponent(String(b)):rt(c,y,b))}function Ze(c){dt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(Ze,dt);var Zs=/^https?$/i,Ya=["POST","PUT"];n=Ze.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,y,b,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Nr.g(),this.v=this.o?Dl(this.o):Dl(Nr),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(G){Jc(this,G);return}if(c=b||"",b=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var z in x)b.set(z,x[z]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const G of x.keys())b.set(G,x.get(G));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(b.keys()).find(G=>G.toLowerCase()=="content-type"),z=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ya,y,void 0))||x||z||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ue]of b)this.g.setRequestHeader(G,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ja(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){Jc(this,G)}};function Jc(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,eo(c),Vr(c)}function eo(c){c.A||(c.A=!0,We(c,"complete"),We(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,We(this,"complete"),We(this,"abort"),Vr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vr(this,!0)),Ze.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?to(this):this.bb())},n.bb=function(){to(this)};function to(c){if(c.h&&typeof h<"u"&&(!c.v[1]||tr(c)!=4||c.Z()!=2)){if(c.u&&tr(c)==4)zt(c.Ea,0,c);else if(We(c,"readystatechange"),tr(c)==4){c.h=!1;try{const ue=c.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var b;if(!(b=y)){var x;if(x=ue===0){var z=String(c.D).match(Ha)[1]||null;!z&&d.self&&d.self.location&&(z=d.self.location.protocol.slice(0,-1)),x=!Zs.test(z?z.toLowerCase():"")}b=x}if(b)We(c,"complete"),We(c,"success");else{c.m=6;try{var G=2<tr(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",eo(c)}}finally{Vr(c)}}}}function Vr(c,y){if(c.g){Ja(c);const b=c.g,x=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||We(c,"ready");try{b.onreadystatechange=x}catch{}}}function Ja(c){c.I&&(d.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function tr(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<tr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Hs(y)}};function Zc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function tm(c){const y={};c=(c.g&&2<=tr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<c.length;x++){if(te(c[x]))continue;var b=O(c[x]);const z=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const G=y[z]||[];y[z]=G,G.push(b)}M(y,function(x){return x.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Za(c,y,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||y}function no(c){this.Aa=0,this.i=[],this.j=new Yn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Za("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Za("baseRetryDelayMs",5e3,c),this.cb=Za("retryDelaySeedMs",1e4,c),this.Wa=Za("forwardChannelMaxRetries",2,c),this.wa=Za("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ni(c&&c.concurrentRequestLimit),this.Da=new Xa,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=no.prototype,n.la=8,n.G=1,n.connect=function(c,y,b,x){gt(0),this.W=c,this.H=y||{},b&&x!==void 0&&(this.H.OSID=b,this.H.OAID=x),this.F=this.X,this.I=sh(this,null,this.W),io(this)};function $l(c){if(eh(c),c.G==3){var y=c.U++,b=jn(c.I);if(rt(b,"SID",c.K),rt(b,"RID",y),rt(b,"TYPE","terminate"),es(c,b),y=new wn(c,c.j,y),y.L=2,y.v=Ga(jn(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!b&&d.Image&&(new Image().src=y.v,b=!0),b||(y.g=oh(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ba(y)}ah(c)}function ro(c){c.g&&(ts(c),c.g.cancel(),c.g=null)}function eh(c){ro(c),c.u&&(d.clearTimeout(c.u),c.u=null),ao(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function io(c){if(!Qs(c.h)&&!c.s){c.s=!0;var y=c.Ga;re||S(),fe||(re(),fe=!0),Oe.add(y,c),c.B=0}}function nm(c,y){return Ws(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Lt(T(c.Ga,c,y),Gl(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new wn(this,this.j,c);let G=this.o;if(this.S&&(G?(G=A(G),P(G,this.S)):G=this.S),this.m!==null||this.O||(z.H=G,G=null),this.P)e:{for(var y=0,b=0;b<this.i.length;b++){t:{var x=this.i[b];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(y+=x,4096<y){y=b;break e}if(y===4096||b===this.i.length-1){y=b+1;break e}}y=1e3}else y=1e3;y=th(this,z,y),b=jn(this.I),rt(b,"RID",c),rt(b,"CVER",22),this.D&&rt(b,"X-HTTP-Session-Id",this.D),es(this,b),G&&(this.O?y="headers="+encodeURIComponent(String(Bl(G)))+"&"+y:this.m&&Gt(b,this.m,G)),Xs(this.h,z),this.Ua&&rt(b,"TYPE","init"),this.P?(rt(b,"$req",y),rt(b,"SID","null"),z.T=!0,fr(z,b,null)):fr(z,b,y),this.G=2}}else this.G==3&&(c?Hl(this,c):this.i.length==0||Qs(this.h)||Hl(this))};function Hl(c,y){var b;y?b=y.l:b=c.U++;const x=jn(c.I);rt(x,"SID",c.K),rt(x,"RID",b),rt(x,"AID",c.T),es(c,x),c.m&&c.o&&Gt(x,c.m,c.o),b=new wn(c,c.j,b,c.B+1),c.m===null&&(b.H=c.o),y&&(c.i=y.D.concat(c.i)),y=th(c,b,1e3),b.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Xs(c.h,b),fr(b,x,y)}function es(c,y){c.H&&ye(c.H,function(b,x){rt(y,x,b)}),c.l&&jl({},function(b,x){rt(y,x,b)})}function th(c,y,b){b=Math.min(c.i.length,b);var x=c.l?T(c.l.Na,c.l,c):null;e:{var z=c.i;let G=-1;for(;;){const ue=["count="+b];G==-1?0<b?(G=z[0].g,ue.push("ofs="+G)):G=0:ue.push("ofs="+G);let Ge=!0;for(let Bt=0;Bt<b;Bt++){let Xe=z[Bt].g;const Qt=z[Bt].map;if(Xe-=G,0>Xe)G=Math.max(0,z[Bt].g-100),Ge=!1;else try{Mr(Qt,ue,"req"+Xe+"_")}catch{x&&x(Qt)}}if(Ge){x=ue.join("&");break e}}}return c=c.i.splice(0,b),y.D=c,x}function nh(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;re||S(),fe||(re(),fe=!0),Oe.add(y,c),c.v=0}}function Kl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Lt(T(c.Fa,c),Gl(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,rh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Lt(T(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gt(10),ro(this),rh(this))};function ts(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function rh(c){c.g=new wn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=jn(c.qa);rt(y,"RID","rpc"),rt(y,"SID",c.K),rt(y,"AID",c.T),rt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&rt(y,"TO",c.ja),rt(y,"TYPE","xmlhttp"),es(c,y),c.m&&c.o&&Gt(y,c.m,c.o),c.L&&(c.g.I=c.L);var b=c.g;c=c.ia,b.L=1,b.v=Ga(jn(y)),b.m=null,b.P=!0,ti(b,c)}n.Za=function(){this.C!=null&&(this.C=null,ro(this),Kl(this),gt(19))};function ao(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function ih(c,y){var b=null;if(c.g==y){ao(c),ts(c),c.g=null;var x=2}else if(Vl(c.h,y))b=y.D,kn(c.h,y),x=1;else return;if(c.G!=0){if(y.o)if(x==1){b=y.m?y.m.length:0,y=Date.now()-y.F;var z=c.B;x=Gi(),We(x,new Ut(x,b)),io(c)}else nh(c);else if(z=y.s,z==3||z==0&&0<y.X||!(x==1&&nm(c,y)||x==2&&Kl(c)))switch(b&&0<b.length&&(y=c.h,y.i=y.i.concat(b)),z){case 1:li(c,5);break;case 4:li(c,10);break;case 3:li(c,6);break;default:li(c,2)}}}function Gl(c,y){let b=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(b*=2),b*y}function li(c,y){if(c.j.info("Error code "+y),y==2){var b=T(c.fb,c),x=c.Xa;const z=!x;x=new qt(x||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ka(x,"https"),Ga(x),z?Wa(x.toString(),b):dr(x.toString(),b)}else gt(2);c.G=0,c.l&&c.l.sa(y),ah(c),eh(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function ah(c){if(c.G=0,c.ka=[],c.l){const y=Rl(c.h);(y.length!=0||c.i.length!=0)&&(F(c.ka,y),F(c.ka,c.i),c.h.i.length=0,B(c.i),c.i.length=0),c.l.ra()}}function sh(c,y,b){var x=b instanceof qt?jn(b):new qt(b);if(x.g!="")y&&(x.g=y+"."+x.g),Ji(x,x.s);else{var z=d.location;x=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var G=new qt(null);x&&Ka(G,x),y&&(G.g=y),z&&Ji(G,z),b&&(G.l=b),x=G}return b=c.D,y=c.ya,b&&y&&rt(x,b,y),rt(x,"VER",c.la),es(c,x),x}function oh(c,y,b){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ze(new Zi({eb:b})):new Ze(c.pa),y.Ha(c.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function lh(){}n=lh.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function so(){}so.prototype.g=function(c,y){return new En(c,y)};function En(c,y){dt.call(this),this.g=new no(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!te(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!te(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Rr(this)}j(En,dt),En.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){$l(this.g)},En.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.u&&(b={},b.__data__=hr(c),c=b);y.i.push(new Wc(y.Ya++,c)),y.G==3&&io(y)},En.prototype.N=function(){this.g.l=null,delete this.j,$l(this.g),delete this.g,En.aa.N.call(this)};function uh(c){Zr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const b in y){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}j(uh,Zr);function ch(){Pl.call(this),this.status=1}j(ch,Pl);function Rr(c){this.g=c}j(Rr,lh),Rr.prototype.ua=function(){We(this.g,"a")},Rr.prototype.ta=function(c){We(this.g,new uh(c))},Rr.prototype.sa=function(c){We(this.g,new ch)},Rr.prototype.ra=function(){We(this.g,"b")},so.prototype.createWebChannel=so.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,fv=function(){return new so},hv=function(){return Gi()},cv=_r,Ff={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xi.NO_ERROR=0,Xi.TIMEOUT=8,Xi.HTTP_ERROR=6,qu=Xi,ei.COMPLETE="complete",uv=ei,Il.EventType=Jr,Jr.OPEN="a",Jr.CLOSE="b",Jr.ERROR="c",Jr.MESSAGE="d",dt.prototype.listen=dt.prototype.K,Bo=Il,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,lv=Ze}).apply(typeof Uu<"u"?Uu:typeof self<"u"?self:typeof window<"u"?window:{});const dv="@firebase/firestore",pv="4.8.0";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let ys="11.10.0";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const xa=new bf("@firebase/firestore");function vs(){return xa.logLevel}function he(n,...e){if(xa.logLevel<=Be.DEBUG){const r=e.map(zf);xa.debug(`Firestore (${ys}): ${n}`,...r)}}function Hr(n,...e){if(xa.logLevel<=Be.ERROR){const r=e.map(zf);xa.error(`Firestore (${ys}): ${n}`,...r)}}function Ni(n,...e){if(xa.logLevel<=Be.WARN){const r=e.map(zf);xa.warn(`Firestore (${ys}): ${n}`,...r)}}function zf(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(n)}catch{return n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ce(n,e,r){let a="Unexpected state";typeof e=="string"?a=e:r=e,mv(n,a,r)}function mv(n,e,r){let a=`FIRESTORE (${ys}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(r!==void 0)try{a+=" CONTEXT: "+JSON.stringify(r)}catch{a+=" CONTEXT: "+r}throw Hr(a),new Error(a)}function Je(n,e,r,a){let o="Unexpected state";typeof r=="string"?o=r:a=r,n||mv(e,o,a)}function De(n,e){return n}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends Ti{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ca{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class gv{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(hn.UNAUTHENTICATED)))}shutdown(){}}class nA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class rA{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Je(this.o===void 0,42304);let a=this.i;const o=m=>this.i!==a?(a=this.i,r(m)):Promise.resolve();let u=new Ca;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ca,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const m=u;e.enqueueRetryable((async()=>{await m.promise,await o(this.currentUser)}))},d=m=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ca)}}),0),h()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((a=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Je(typeof a.accessToken=="string",31837,{l:a}),new gv(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new hn(e)}}class iA{constructor(e,r,a){this.P=e,this.T=r,this.I=a,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class aA{constructor(e,r,a){this.P=e,this.T=r,this.I=a}getToken(){return Promise.resolve(new iA(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable((()=>r(hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class yv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sA{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wx(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){Je(this.o===void 0,3512);const a=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,he("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?r(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>a(u)))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new yv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(Je(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new yv(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function oA(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let a=0;a<n;a++)r[a]=Math.floor(256*Math.random());return r}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function vv(){return new TextEncoder}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Uf{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=oA(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<r&&(a+=e.charAt(o[u]%62))}return a}}function Le(n,e){return n<e?-1:n>e?1:0}function qf(n,e){let r=0;for(;r<n.length&&r<e.length;){const a=n.codePointAt(r),o=e.codePointAt(r);if(a!==o){if(a<128&&o<128)return Le(a,o);{const u=vv(),h=lA(u.encode(bv(n,r)),u.encode(bv(e,r)));return h!==0?h:Le(a,o)}}r+=a>65535?2:1}return Le(n.length,e.length)}function bv(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function lA(n,e){for(let r=0;r<n.length&&r<e.length;++r)if(n[r]!==e[r])return Le(n[r],e[r]);return Le(n.length,e.length)}function bs(n,e,r){return n.length===e.length&&n.every(((a,o)=>r(a,e[o])))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const wv="__name__";class vr{constructor(e,r,a){r===void 0?r=0:r>e.length&&Ce(637,{offset:r,range:e.length}),a===void 0?a=e.length-r:a>e.length-r&&Ce(1746,{length:a,range:e.length-r}),this.segments=e,this.offset=r,this.len=a}get length(){return this.len}isEqual(e){return vr.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof vr?e.forEach((a=>{r.push(a)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,a=this.limit();r<a;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const a=Math.min(e.length,r.length);for(let o=0;o<a;o++){const u=vr.compareSegments(e.get(o),r.get(o));if(u!==0)return u}return Le(e.length,r.length)}static compareSegments(e,r){const a=vr.isNumericId(e),o=vr.isNumericId(r);return a&&!o?-1:!a&&o?1:a&&o?vr.extractNumericId(e).compare(vr.extractNumericId(r)):qf(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _i.fromString(e.substring(4,e.length-2))}}class ht extends vr{construct(e,r,a){return new ht(e,r,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const a of e){if(a.indexOf("//")>=0)throw new be(ne.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);r.push(...a.split("/").filter((o=>o.length>0)))}return new ht(r)}static emptyPath(){return new ht([])}}const uA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends vr{construct(e,r,a){return new Jt(e,r,a)}static isValidIdentifier(e){return uA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wv}static keyField(){return new Jt([wv])}static fromServerFormat(e){const r=[];let a="",o=0;const u=()=>{if(a.length===0)throw new be(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(a),a=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new be(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new be(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=m,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(a+=d,o++):(u(),o++)}if(u(),h)throw new be(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(r)}static emptyPath(){return new Jt([])}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Se{constructor(e){this.path=e}static fromPath(e){return new Se(ht.fromString(e))}static fromName(e){return new Se(ht.fromString(e).popFirst(5))}static empty(){return new Se(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return ht.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new ht(e.slice()))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function kv(n,e,r){if(!r)throw new be(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function cA(n,e,r,a){if(e===!0&&a===!0)throw new be(ne.INVALID_ARGUMENT,`${n} and ${r} cannot be used together.`)}function Ev(n){if(!Se.isDocumentKey(n))throw new be(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Sv(n){if(Se.isDocumentKey(n))throw new be(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Tv(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Bf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ce(12329,{type:typeof n})}function Di(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new be(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Bf(n);throw new be(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return n}/**
* @license
* Copyright 2025 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Dt(n,e){const r={typeString:n};return e&&(r.value=e),r}function $o(n,e){if(!Tv(n))throw new be(ne.INVALID_ARGUMENT,"JSON must be an object");let r;for(const a in e)if(e[a]){const o=e[a].typeString,u="value"in e[a]?{value:e[a].value}:void 0;if(!(a in n)){r=`JSON missing required field: '${a}'`;break}const h=n[a];if(o&&typeof h!==o){r=`JSON field '${a}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){r=`Expected '${a}' field to equal '${u.value}'`;break}}if(r)throw new be(ne.INVALID_ARGUMENT,r);return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const xv=-62135596800,Cv=1e6;class ft{static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),a=Math.floor((e-1e3*r)*Cv);return new ft(r,a)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new be(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new be(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<xv)throw new be(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Cv}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ft._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if($o(e,ft._jsonSchema))return new ft(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-xv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ft._jsonSchemaVersion="firestore/timestamp/1.0",ft._jsonSchema={type:Dt("string",ft._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new ft(0,0))}static max(){return new Ne(new ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ho=-1;function hA(n,e){const r=n.toTimestamp().seconds,a=n.toTimestamp().nanoseconds+1,o=Ne.fromTimestamp(a===1e9?new ft(r+1,0):new ft(r,a));return new Ii(o,Se.empty(),e)}function fA(n){return new Ii(n.readTime,n.key,Ho)}class Ii{constructor(e,r,a){this.readTime=e,this.documentKey=r,this.largestBatchId=a}static min(){return new Ii(Ne.min(),Se.empty(),Ho)}static max(){return new Ii(Ne.max(),Se.empty(),Ho)}}function dA(n,e){let r=n.readTime.compareTo(e.readTime);return r!==0?r:(r=Se.comparator(n.documentKey,e.documentKey),r!==0?r:Le(n.largestBatchId,e.largestBatchId))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const pA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function ws(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==pA)throw n;he("LocalStore","Unexpectedly lost primary lease")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Z(((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(r,u).next(a,o)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof Z?r:Z.resolve(r)}catch(r){return Z.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):Z.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):Z.reject(r)}static resolve(e){return new Z(((r,a)=>{r(e)}))}static reject(e){return new Z(((r,a)=>{a(e)}))}static waitFor(e){return new Z(((r,a)=>{let o=0,u=0,h=!1;e.forEach((d=>{++o,d.next((()=>{++u,h&&u===o&&r()}),(m=>a(m)))})),h=!0,u===o&&r()}))}static or(e){let r=Z.resolve(!1);for(const a of e)r=r.next((o=>o?Z.resolve(o):a()));return r}static forEach(e,r){const a=[];return e.forEach(((o,u)=>{a.push(r.call(this,o,u))})),this.waitFor(a)}static mapArray(e,r){return new Z(((a,o)=>{const u=e.length,h=new Array(u);let d=0;for(let m=0;m<u;m++){const g=m;r(e[g]).next((v=>{h[g]=v,++d,d===u&&a(h)}),(v=>o(v)))}}))}static doWhile(e,r){return new Z(((a,o)=>{const u=()=>{e()===!0?r().next((()=>{u()}),o):a()};u()}))}}function gA(n){const e=n.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function ks(n){return n.name==="IndexedDbTransactionError"}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Bu{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=a=>this._e(a),this.ae=a=>r.writeSequenceNumber(a))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Bu.ue=-1;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const $f=-1;function $u(n){return n==null}function Hu(n){return n===0&&1/n==-1/0}function yA(n){return typeof n=="number"&&Number.isInteger(n)&&!Hu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Av="";function vA(n){let e="";for(let r=0;r<n.length;r++)e.length>0&&(e=_v(e)),e=bA(n.get(r),e);return _v(e)}function bA(n,e){let r=e;const a=n.length;for(let o=0;o<a;o++){const u=n.charAt(o);switch(u){case"\0":r+="";break;case Av:r+="";break;default:r+=u}}return r}function _v(n){return n+Av+""}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Nv(n){let e=0;for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&e++;return e}function Pi(n,e){for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&e(r,n[r])}function Dv(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class vt{constructor(e,r){this.comparator=e,this.root=r||Zt.EMPTY}insert(e,r){return new vt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return r.value;a<0?r=r.left:a>0&&(r=r.right)}return null}indexOf(e){let r=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return r+a.left.size;o<0?a=a.left:(r+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,a)=>(e(r,a),!1)))}toString(){const e=[];return this.inorderTraversal(((r,a)=>(e.push(`${r}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ku(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ku(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ku(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ku(this.root,e,this.comparator,!0)}}class Ku{constructor(e,r,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=r?a(e.key,r):1,r&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,r,a,o,u){this.key=e,this.value=r,this.color=a??Zt.RED,this.left=o??Zt.EMPTY,this.right=u??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,a,o,u){return new Zt(e??this.key,r??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,r,a),null):u===0?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(e,r,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let a,o=this;if(r(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,r),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),r(e,o.key)===0){if(o.right.isEmpty())return Zt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,r))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1,Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(n,e,r,a,o){return this}insert(n,e,r){return new Zt(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class jt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,a)=>(e(r),!1)))}forEachInRange(e,r){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;r(o.key)}}forEachWhile(e,r){let a;for(a=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Iv(this.data.getIterator())}getIteratorFrom(e){return new Iv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((a=>{r=r.add(a)})),r}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const r=this.data.getIterator(),a=e.data.getIterator();for(;r.hasNext();){const o=r.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new jt(this.comparator);return r.data=e,r}}class Iv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class On{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new On([])}unionWith(e){let r=new jt(Jt.comparator);for(const a of this.fields)r=r.add(a);for(const a of e)r=r.add(a);return new On(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return bs(this.fields,e.fields,((r,a)=>r.isEqual(a)))}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Pv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class en{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Pv("Invalid base64 string: "+o):o}})(e);return new en(r)}static fromUint8Array(e){const r=(function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o})(e);return new en(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const r=new Uint8Array(e.length);for(let a=0;a<e.length;a++)r[a]=e.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const wA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mi(n){if(Je(!!n,39018),typeof n=="string"){let e=0;const r=wA.exec(n);if(Je(!!r,46558,{timestamp:n}),r[1]){let o=r[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(n);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:xt(n.seconds),nanos:xt(n.nanos)}}function xt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Oi(n){return typeof n=="string"?en.fromBase64String(n):en.fromUint8Array(n)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Mv="server_timestamp",Ov="__type__",Lv="__previous_value__",Vv="__local_write_time__";function Hf(n){var e,r;return((r=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Ov])===null||r===void 0?void 0:r.stringValue)===Mv}function Gu(n){const e=n.mapValue.fields[Lv];return Hf(e)?Gu(e):e}function Ko(n){const e=Mi(n.mapValue.fields[Vv].timestampValue);return new ft(e.seconds,e.nanos)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class kA{constructor(e,r,a,o,u,h,d,m,g,v){this.databaseId=e,this.appId=r,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=v}}const Qu="(default)";class Go{constructor(e,r){this.projectId=e,this.database=r||Qu}static empty(){return new Go("","")}get isDefaultDatabase(){return this.database===Qu}isEqual(e){return e instanceof Go&&e.projectId===this.projectId&&e.database===this.database}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Rv="__type__",EA="__max__",Wu={mapValue:{}},jv="__vector__",Xu="value";function Li(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Hf(n)?4:TA(n)?9007199254740991:SA(n)?10:11:Ce(28295,{value:n})}function br(n,e){if(n===e)return!0;const r=Li(n);if(r!==Li(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ko(n).isEqual(Ko(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=Mi(a.timestampValue),h=Mi(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,o){return Oi(a.bytesValue).isEqual(Oi(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,o){return xt(a.geoPointValue.latitude)===xt(o.geoPointValue.latitude)&&xt(a.geoPointValue.longitude)===xt(o.geoPointValue.longitude)})(n,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return xt(a.integerValue)===xt(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=xt(a.doubleValue),h=xt(o.doubleValue);return u===h?Hu(u)===Hu(h):isNaN(u)&&isNaN(h)}return!1})(n,e);case 9:return bs(n.arrayValue.values||[],e.arrayValue.values||[],br);case 10:case 11:return(function(a,o){const u=a.mapValue.fields||{},h=o.mapValue.fields||{};if(Nv(u)!==Nv(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!br(u[d],h[d])))return!1;return!0})(n,e);default:return Ce(52216,{left:n})}}function Qo(n,e){return(n.values||[]).find((r=>br(r,e)))!==void 0}function Es(n,e){if(n===e)return 0;const r=Li(n),a=Li(e);if(r!==a)return Le(r,a);switch(r){case 0:case 9007199254740991:return 0;case 1:return Le(n.booleanValue,e.booleanValue);case 2:return(function(o,u){const h=xt(o.integerValue||o.doubleValue),d=xt(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(n,e);case 3:return Fv(n.timestampValue,e.timestampValue);case 4:return Fv(Ko(n),Ko(e));case 5:return qf(n.stringValue,e.stringValue);case 6:return(function(o,u){const h=Oi(o),d=Oi(u);return h.compareTo(d)})(n.bytesValue,e.bytesValue);case 7:return(function(o,u){const h=o.split("/"),d=u.split("/");for(let m=0;m<h.length&&m<d.length;m++){const g=Le(h[m],d[m]);if(g!==0)return g}return Le(h.length,d.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,u){const h=Le(xt(o.latitude),xt(u.latitude));return h!==0?h:Le(xt(o.longitude),xt(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return zv(n.arrayValue,e.arrayValue);case 10:return(function(o,u){var h,d,m,g;const v=o.fields||{},k=u.fields||{},T=(h=v[Xu])===null||h===void 0?void 0:h.arrayValue,_=(d=k[Xu])===null||d===void 0?void 0:d.arrayValue,j=Le(((m=T==null?void 0:T.values)===null||m===void 0?void 0:m.length)||0,((g=_==null?void 0:_.values)===null||g===void 0?void 0:g.length)||0);return j!==0?j:zv(T,_)})(n.mapValue,e.mapValue);case 11:return(function(o,u){if(o===Wu.mapValue&&u===Wu.mapValue)return 0;if(o===Wu.mapValue)return 1;if(u===Wu.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),m=u.fields||{},g=Object.keys(m);d.sort(),g.sort();for(let v=0;v<d.length&&v<g.length;++v){const k=qf(d[v],g[v]);if(k!==0)return k;const T=Es(h[d[v]],m[g[v]]);if(T!==0)return T}return Le(d.length,g.length)})(n.mapValue,e.mapValue);default:throw Ce(23264,{le:r})}}function Fv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Le(n,e);const r=Mi(n),a=Mi(e),o=Le(r.seconds,a.seconds);return o!==0?o:Le(r.nanos,a.nanos)}function zv(n,e){const r=n.values||[],a=e.values||[];for(let o=0;o<r.length&&o<a.length;++o){const u=Es(r[o],a[o]);if(u)return u}return Le(r.length,a.length)}function Ss(n){return Kf(n)}function Kf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const r=Mi(e);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return Oi(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return Se.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let r="[",a=!0;for(const o of e.values||[])a?a=!1:r+=",",r+=Kf(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(e){const r=Object.keys(e.fields||{}).sort();let a="{",o=!0;for(const u of r)o?o=!1:a+=",",a+=`${u}:${Kf(e.fields[u])}`;return a+"}"})(n.mapValue):Ce(61005,{value:n})}function Yu(n){switch(Li(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Gu(n);return e?16+Yu(e):16;case 5:return 2*n.stringValue.length;case 6:return Oi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,o)=>a+Yu(o)),0)})(n.arrayValue);case 10:case 11:return(function(r){let a=0;return Pi(r.fields,((o,u)=>{a+=o.length+Yu(u)})),a})(n.mapValue);default:throw Ce(13486,{value:n})}}function Gf(n){return!!n&&"integerValue"in n}function Qf(n){return!!n&&"arrayValue"in n}function Uv(n){return!!n&&"nullValue"in n}function qv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ju(n){return!!n&&"mapValue"in n}function SA(n){var e,r;return((r=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Rv])===null||r===void 0?void 0:r.stringValue)===jv}function Wo(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Pi(n.mapValue.fields,((r,a)=>e.mapValue.fields[r]=Wo(a))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(n.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Wo(n.arrayValue.values[r]);return e}return Object.assign({},n)}function TA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===EA}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let a=0;a<e.length-1;++a)if(r=(r.mapValue.fields||{})[e.get(a)],!Ju(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wo(r)}setAll(e){let r=Jt.emptyPath(),a={},o=[];e.forEach(((h,d)=>{if(!r.isImmediateParentOf(d)){const m=this.getFieldsMap(r);this.applyChanges(m,a,o),a={},o=[],r=d.popLast()}h?a[d.lastSegment()]=Wo(h):o.push(d.lastSegment())}));const u=this.getFieldsMap(r);this.applyChanges(u,a,o)}delete(e){const r=this.field(e.popLast());Ju(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return br(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=r.mapValue.fields[e.get(a)];Ju(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},r.mapValue.fields[e.get(a)]=o),r=o}return r.mapValue.fields}applyChanges(e,r,a){Pi(r,((o,u)=>e[o]=u));for(const o of a)delete e[o]}clone(){return new Cn(Wo(this.value))}}function Bv(n){const e=[];return Pi(n.fields,((r,a)=>{const o=new Jt([r]);if(Ju(a)){const u=Bv(a.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new On(e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fn{constructor(e,r,a,o,u,h,d){this.key=e,this.documentType=r,this.version=a,this.readTime=o,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(e){return new fn(e,0,Ne.min(),Ne.min(),Ne.min(),Cn.empty(),0)}static newFoundDocument(e,r,a,o){return new fn(e,1,r,Ne.min(),a,o,0)}static newNoDocument(e,r){return new fn(e,2,r,Ne.min(),Ne.min(),Cn.empty(),0)}static newUnknownDocument(e,r){return new fn(e,3,r,Ne.min(),Ne.min(),Cn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Zu{constructor(e,r){this.position=e,this.inclusive=r}}function $v(n,e,r){let a=0;for(let o=0;o<n.position.length;o++){const u=e[o],h=n.position[o];if(u.field.isKeyField()?a=Se.comparator(Se.fromName(h.referenceValue),r.key):a=Es(h,r.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function Hv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let r=0;r<n.position.length;r++)if(!br(n.position[r],e.position[r]))return!1;return!0}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ec{constructor(e,r="asc"){this.field=e,this.dir=r}}function xA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Kv{}class Ft extends Kv{constructor(e,r,a){super(),this.field=e,this.op=r,this.value=a}static create(e,r,a){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,a):new AA(e,r,a):r==="array-contains"?new DA(e,a):r==="in"?new IA(e,a):r==="not-in"?new PA(e,a):r==="array-contains-any"?new MA(e,a):new Ft(e,r,a)}static createKeyFieldInFilter(e,r,a){return r==="in"?new _A(e,a):new NA(e,a)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Es(r,this.value)):r!==null&&Li(this.value)===Li(r)&&this.matchesComparison(Es(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wr extends Kv{constructor(e,r){super(),this.filters=e,this.op=r,this.he=null}static create(e,r){return new wr(e,r)}matches(e){return Gv(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Gv(n){return n.op==="and"}function Qv(n){return CA(n)&&Gv(n)}function CA(n){for(const e of n.filters)if(e instanceof wr)return!1;return!0}function Wf(n){if(n instanceof Ft)return n.field.canonicalString()+n.op.toString()+Ss(n.value);if(Qv(n))return n.filters.map((e=>Wf(e))).join(",");{const e=n.filters.map((r=>Wf(r))).join(",");return`${n.op}(${e})`}}function Wv(n,e){return n instanceof Ft?(function(r,a){return a instanceof Ft&&r.op===a.op&&r.field.isEqual(a.field)&&br(r.value,a.value)})(n,e):n instanceof wr?(function(r,a){return a instanceof wr&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((o,u,h)=>o&&Wv(u,a.filters[h])),!0):!1})(n,e):void Ce(19439)}function Xv(n){return n instanceof Ft?(function(e){return`${e.field.canonicalString()} ${e.op} ${Ss(e.value)}`})(n):n instanceof wr?(function(e){return e.op.toString()+" {"+e.getFilters().map(Xv).join(" ,")+"}"})(n):"Filter"}class AA extends Ft{constructor(e,r,a){super(e,r,a),this.key=Se.fromName(a.referenceValue)}matches(e){const r=Se.comparator(e.key,this.key);return this.matchesComparison(r)}}class _A extends Ft{constructor(e,r){super(e,"in",r),this.keys=Yv("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class NA extends Ft{constructor(e,r){super(e,"not-in",r),this.keys=Yv("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function Yv(n,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map((a=>Se.fromName(a.referenceValue)))}class DA extends Ft{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Qf(r)&&Qo(r.arrayValue,this.value)}}class IA extends Ft{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Qo(this.value.arrayValue,r)}}class PA extends Ft{constructor(e,r){super(e,"not-in",r)}matches(e){if(Qo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Qo(this.value.arrayValue,r)}}class MA extends Ft{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Qf(r)||!r.arrayValue.values)&&r.arrayValue.values.some((a=>Qo(this.value.arrayValue,a)))}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class OA{constructor(e,r=null,a=[],o=[],u=null,h=null,d=null){this.path=e,this.collectionGroup=r,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=h,this.endAt=d,this.Pe=null}}function Jv(n,e=null,r=[],a=[],o=null,u=null,h=null){return new OA(n,e,r,a,o,u,h)}function Xf(n){const e=De(n);if(e.Pe===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((a=>Wf(a))).join(","),r+="|ob:",r+=e.orderBy.map((a=>(function(o){return o.field.canonicalString()+o.dir})(a))).join(","),$u(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((a=>Ss(a))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((a=>Ss(a))).join(",")),e.Pe=r}return e.Pe}function Yf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!xA(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if(!Wv(n.filters[r],e.filters[r]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Hv(n.startAt,e.startAt)&&Hv(n.endAt,e.endAt)}function Jf(n){return Se.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tc{constructor(e,r=null,a=[],o=[],u=null,h="F",d=null,m=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=m,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function LA(n,e,r,a,o,u,h,d){return new tc(n,e,r,a,o,u,h,d)}function Zf(n){return new tc(n)}function Zv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function VA(n){return n.collectionGroup!==null}function Xo(n){const e=De(n);if(e.Te===null){e.Te=[];const r=new Set;for(const o of e.explicitOrderBy)e.Te.push(o),r.add(o.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let u=new jt(Jt.comparator);return o.filters.forEach((h=>{h.getFlattenedFilters().forEach((d=>{d.isInequality()&&(u=u.add(d.field))}))})),u})(e).forEach((o=>{r.has(o.canonicalString())||o.isKeyField()||e.Te.push(new ec(o,a))})),r.has(Jt.keyField().canonicalString())||e.Te.push(new ec(Jt.keyField(),a))}return e.Te}function kr(n){const e=De(n);return e.Ie||(e.Ie=RA(e,Xo(n))),e.Ie}function RA(n,e){if(n.limitType==="F")return Jv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new ec(o.field,u)}));const r=n.endAt?new Zu(n.endAt.position,n.endAt.inclusive):null,a=n.startAt?new Zu(n.startAt.position,n.startAt.inclusive):null;return Jv(n.path,n.collectionGroup,e,n.filters,n.limit,r,a)}}function ed(n,e,r){return new tc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,r,n.startAt,n.endAt)}function nc(n,e){return Yf(kr(n),kr(e))&&n.limitType===e.limitType}function e0(n){return`${Xf(kr(n))}|lt:${n.limitType}`}function Ts(n){return`Query(target=${(function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map((a=>Xv(a))).join(", ")}]`),$u(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map((a=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(a))).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((a=>Ss(a))).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((a=>Ss(a))).join(",")),`Target(${r})`})(kr(n))}; limitType=${n.limitType})`}function rc(n,e){return e.isFoundDocument()&&(function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Se.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,a){for(const o of Xo(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0})(n,e)&&(function(r,a){return!(r.startAt&&!(function(o,u,h){const d=$v(o,u,h);return o.inclusive?d<=0:d<0})(r.startAt,Xo(r),a)||r.endAt&&!(function(o,u,h){const d=$v(o,u,h);return o.inclusive?d>=0:d>0})(r.endAt,Xo(r),a))})(n,e)}function jA(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function t0(n){return(e,r)=>{let a=!1;for(const o of Xo(n)){const u=FA(o,e,r);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function FA(n,e,r){const a=n.field.isKeyField()?Se.comparator(e.key,r.key):(function(o,u,h){const d=u.data.field(o),m=h.data.field(o);return d!==null&&m!==null?Es(d,m):Ce(42886)})(n.field,e,r);switch(n.dir){case"asc":return a;case"desc":return-1*a;default:return Ce(19790,{direction:n.dir})}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Aa{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),a=this.inner[r];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,r){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,r]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,r]);o.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[r]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Pi(this.inner,((r,a)=>{for(const[o,u]of a)e(o,u)}))}isEmpty(){return Dv(this.inner)}size(){return this.innerSize}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const zA=new vt(Se.comparator);function Kr(){return zA}const n0=new vt(Se.comparator);function Yo(...n){let e=n0;for(const r of n)e=e.insert(r.key,r);return e}function r0(n){let e=n0;return n.forEach(((r,a)=>e=e.insert(r,a.overlayedDocument))),e}function _a(){return Jo()}function i0(){return Jo()}function Jo(){return new Aa((n=>n.toString()),((n,e)=>n.isEqual(e)))}const UA=new vt(Se.comparator),qA=new jt(Se.comparator);function Ue(...n){let e=qA;for(const r of n)e=e.add(r);return e}const BA=new jt(Le);function $A(){return BA}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function td(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hu(e)?"-0":e}}function a0(n){return{integerValue:""+n}}function s0(n,e){return yA(e)?a0(e):td(n,e)}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ic{constructor(){this._=void 0}}function HA(n,e,r){return n instanceof ac?(function(a,o){const u={fields:{[Ov]:{stringValue:Mv},[Vv]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&Hf(o)&&(o=Gu(o)),o&&(u.fields[Lv]=o),{mapValue:u}})(r,e):n instanceof Zo?l0(n,e):n instanceof el?u0(n,e):(function(a,o){const u=o0(a,o),h=c0(u)+c0(a.Ee);return Gf(u)&&Gf(a.Ee)?a0(h):td(a.serializer,h)})(n,e)}function KA(n,e,r){return n instanceof Zo?l0(n,e):n instanceof el?u0(n,e):r}function o0(n,e){return n instanceof tl?(function(r){return Gf(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class ac extends ic{}class Zo extends ic{constructor(e){super(),this.elements=e}}function l0(n,e){const r=h0(e);for(const a of n.elements)r.some((o=>br(o,a)))||r.push(a);return{arrayValue:{values:r}}}class el extends ic{constructor(e){super(),this.elements=e}}function u0(n,e){let r=h0(e);for(const a of n.elements)r=r.filter((o=>!br(o,a)));return{arrayValue:{values:r}}}class tl extends ic{constructor(e,r){super(),this.serializer=e,this.Ee=r}}function c0(n){return xt(n.integerValue||n.doubleValue)}function h0(n){return Qf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class GA{constructor(e,r){this.field=e,this.transform=r}}function QA(n,e){return n.field.isEqual(e.field)&&(function(r,a){return r instanceof Zo&&a instanceof Zo||r instanceof el&&a instanceof el?bs(r.elements,a.elements,br):r instanceof tl&&a instanceof tl?br(r.Ee,a.Ee):r instanceof ac&&a instanceof ac})(n.transform,e.transform)}class WA{constructor(e,r){this.version=e,this.transformResults=r}}class Er{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Er}static exists(e){return new Er(void 0,e)}static updateTime(e){return new Er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class oc{}function f0(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new y0(n.key,Er.none()):new rl(n.key,n.data,Er.none());{const r=n.data,a=Cn.empty();let o=new jt(Jt.comparator);for(let u of e.fields)if(!o.has(u)){let h=r.field(u);h===null&&u.length>1&&(u=u.popLast(),h=r.field(u)),h===null?a.delete(u):a.set(u,h),o=o.add(u)}return new Vi(n.key,a,new On(o.toArray()),Er.none())}}function XA(n,e,r){n instanceof rl?(function(a,o,u){const h=a.value.clone(),d=m0(a.fieldTransforms,o,u.transformResults);h.setAll(d),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,e,r):n instanceof Vi?(function(a,o,u){if(!sc(a.precondition,o))return void o.convertToUnknownDocument(u.version);const h=m0(a.fieldTransforms,o,u.transformResults),d=o.data;d.setAll(p0(a)),d.setAll(h),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(n,e,r):(function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,r)}function nl(n,e,r,a){return n instanceof rl?(function(o,u,h,d){if(!sc(o.precondition,u))return h;const m=o.value.clone(),g=g0(o.fieldTransforms,d,u);return m.setAll(g),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(n,e,r,a):n instanceof Vi?(function(o,u,h,d){if(!sc(o.precondition,u))return h;const m=g0(o.fieldTransforms,d,u),g=u.data;return g.setAll(p0(o)),g.setAll(m),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((v=>v.field)))})(n,e,r,a):(function(o,u,h){return sc(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(n,e,r)}function YA(n,e){let r=null;for(const a of n.fieldTransforms){const o=e.data.field(a.field),u=o0(a.transform,o||null);u!=null&&(r===null&&(r=Cn.empty()),r.set(a.field,u))}return r||null}function d0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&bs(r,a,((o,u)=>QA(o,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class rl extends oc{constructor(e,r,a,o=[]){super(),this.key=e,this.value=r,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Vi extends oc{constructor(e,r,a,o,u=[]){super(),this.key=e,this.data=r,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function p0(n){const e=new Map;return n.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const a=n.data.field(r);e.set(r,a)}})),e}function m0(n,e,r){const a=new Map;Je(n.length===r.length,32656,{Ae:r.length,Re:n.length});for(let o=0;o<r.length;o++){const u=n[o],h=u.transform,d=e.data.field(u.field);a.set(u.field,KA(h,d,r[o]))}return a}function g0(n,e,r){const a=new Map;for(const o of n){const u=o.transform,h=r.data.field(o.field);a.set(o.field,HA(u,h,e))}return a}class y0 extends oc{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JA extends oc{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ZA{constructor(e,r,a,o){this.batchId=e,this.localWriteTime=r,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,r){const a=r.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&XA(u,e,a[o])}}applyToLocalView(e,r){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(r=nl(a,e,r,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(r=nl(a,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const a=i0();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=r.has(o.key)?null:d;const m=f0(h,d);m!==null&&a.set(o.key,m),h.isValidDocument()||h.convertToNoDocument(Ne.min())})),a}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&bs(this.mutations,e.mutations,((r,a)=>d0(r,a)))&&bs(this.baseMutations,e.baseMutations,((r,a)=>d0(r,a)))}}class nd{constructor(e,r,a,o){this.batch=e,this.commitVersion=r,this.mutationResults=a,this.docVersions=o}static from(e,r,a){Je(e.mutations.length===a.length,58842,{Ve:e.mutations.length,me:a.length});let o=(function(){return UA})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,a[h].version);return new nd(e,r,a,o)}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class e_{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class t_{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var It,$e;function n_(n){switch(n){case ne.OK:return Ce(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Ce(15467,{code:n})}}function v0(n){if(n===void 0)return Hr("GRPC error has no .code"),ne.UNKNOWN;switch(n){case It.OK:return ne.OK;case It.CANCELLED:return ne.CANCELLED;case It.UNKNOWN:return ne.UNKNOWN;case It.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case It.INTERNAL:return ne.INTERNAL;case It.UNAVAILABLE:return ne.UNAVAILABLE;case It.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case It.NOT_FOUND:return ne.NOT_FOUND;case It.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case It.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case It.ABORTED:return ne.ABORTED;case It.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case It.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case It.DATA_LOSS:return ne.DATA_LOSS;default:return Ce(39323,{code:n})}}($e=It||(It={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const r_=new _i([4294967295,4294967295],0);function b0(n){const e=vv().encode(n),r=new ov;return r.update(e),new Uint8Array(r.digest())}function w0(n){const e=new DataView(n.buffer),r=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new _i([r,a],0),new _i([o,u],0)]}class rd{constructor(e,r,a){if(this.bitmap=e,this.padding=r,this.hashCount=a,r<0||r>=8)throw new il(`Invalid padding: ${r}`);if(a<0)throw new il(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new il(`Invalid hash count: ${a}`);if(e.length===0&&r!==0)throw new il(`Invalid padding when bitmap length is 0: ${r}`);this.fe=8*e.length-r,this.ge=_i.fromNumber(this.fe)}pe(e,r,a){let o=e.add(r.multiply(_i.fromNumber(a)));return o.compare(r_)===1&&(o=new _i([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const r=b0(e),[a,o]=w0(r);for(let u=0;u<this.hashCount;u++){const h=this.pe(a,o,u);if(!this.ye(h))return!1}return!0}static create(e,r,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new rd(u,o,r);return a.forEach((d=>h.insert(d))),h}insert(e){if(this.fe===0)return;const r=b0(e),[a,o]=w0(r);for(let u=0;u<this.hashCount;u++){const h=this.pe(a,o,u);this.we(h)}}we(e){const r=Math.floor(e/8),a=e%8;this.bitmap[r]|=1<<a}}class il extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class lc{constructor(e,r,a,o,u){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,r,a){const o=new Map;return o.set(e,al.createSynthesizedTargetChangeForCurrentChange(e,r,a)),new lc(Ne.min(),o,new vt(Le),Kr(),Ue())}}class al{constructor(e,r,a,o,u){this.resumeToken=e,this.current=r,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,r,a){return new al(a,r,Ue(),Ue(),Ue())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class uc{constructor(e,r,a,o){this.Se=e,this.removedTargetIds=r,this.key=a,this.be=o}}class k0{constructor(e,r){this.targetId=e,this.De=r}}class E0{constructor(e,r,a=en.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=r,this.resumeToken=a,this.cause=o}}class S0{constructor(){this.ve=0,this.Ce=T0(),this.Fe=en.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ue(),r=Ue(),a=Ue();return this.Ce.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:r=r.add(o);break;case 1:a=a.add(o);break;default:Ce(38017,{changeType:u})}})),new al(this.Fe,this.Me,e,r,a)}ke(){this.xe=!1,this.Ce=T0()}qe(e,r){this.xe=!0,this.Ce=this.Ce.insert(e,r)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Je(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class i_{constructor(e){this.We=e,this.Ge=new Map,this.ze=Kr(),this.je=cc(),this.Je=cc(),this.He=new vt(Le)}Ye(e){for(const r of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(r,e.be):this.Xe(r,e.key,e.be);for(const r of e.removedTargetIds)this.Xe(r,e.key,e.be)}et(e){this.forEachTarget(e,(r=>{const a=this.tt(r);switch(e.state){case 0:this.nt(r)&&a.Be(e.resumeToken);break;case 1:a.Ue(),a.Oe||a.ke(),a.Be(e.resumeToken);break;case 2:a.Ue(),a.Oe||this.removeTarget(r);break;case 3:this.nt(r)&&(a.Ke(),a.Be(e.resumeToken));break;case 4:this.nt(r)&&(this.rt(r),a.Be(e.resumeToken));break;default:Ce(56790,{state:e.state})}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Ge.forEach(((a,o)=>{this.nt(o)&&r(o)}))}it(e){const r=e.targetId,a=e.De.count,o=this.st(r);if(o){const u=o.target;if(Jf(u))if(a===0){const h=new Se(u.path);this.Xe(r,h,fn.newNoDocument(h,Ne.min()))}else Je(a===1,20013,{expectedCount:a});else{const h=this.ot(r);if(h!==a){const d=this._t(e),m=d?this.ut(d,e,h):1;if(m!==0){this.rt(r);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(r,g)}}}}}_t(e){const r=e.De.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=r;let h,d;try{h=Oi(a).toUint8Array()}catch(m){if(m instanceof Pv)return Ni("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new rd(h,o,u)}catch(m){return Ni(m instanceof il?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.fe===0?null:d}ut(e,r,a){return r.De.count===a-this.ht(e,r.targetId)?0:2}ht(e,r){const a=this.We.getRemoteKeysForTarget(r);let o=0;return a.forEach((u=>{const h=this.We.lt(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(d)||(this.Xe(r,u,null),o++)})),o}Pt(e){const r=new Map;this.Ge.forEach(((u,h)=>{const d=this.st(h);if(d){if(u.current&&Jf(d.target)){const m=new Se(d.target.path);this.Tt(m).has(h)||this.It(h,m)||this.Xe(h,m,fn.newNoDocument(m,e))}u.Ne&&(r.set(h,u.Le()),u.ke())}}));let a=Ue();this.Je.forEach(((u,h)=>{let d=!0;h.forEachWhile((m=>{const g=this.st(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(a=a.add(u))})),this.ze.forEach(((u,h)=>h.setReadTime(e)));const o=new lc(e,r,this.He,this.ze,a);return this.ze=Kr(),this.je=cc(),this.Je=cc(),this.He=new vt(Le),o}Ze(e,r){if(!this.nt(e))return;const a=this.It(e,r.key)?2:0;this.tt(e).qe(r.key,a),this.ze=this.ze.insert(r.key,r),this.je=this.je.insert(r.key,this.Tt(r.key).add(e)),this.Je=this.Je.insert(r.key,this.dt(r.key).add(e))}Xe(e,r,a){if(!this.nt(e))return;const o=this.tt(e);this.It(e,r)?o.qe(r,1):o.Qe(r),this.Je=this.Je.insert(r,this.dt(r).delete(e)),this.Je=this.Je.insert(r,this.dt(r).add(e)),a&&(this.ze=this.ze.insert(r,a))}removeTarget(e){this.Ge.delete(e)}ot(e){const r=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let r=this.Ge.get(e);return r||(r=new S0,this.Ge.set(e,r)),r}dt(e){let r=this.Je.get(e);return r||(r=new jt(Le),this.Je=this.Je.insert(e,r)),r}Tt(e){let r=this.je.get(e);return r||(r=new jt(Le),this.je=this.je.insert(e,r)),r}nt(e){const r=this.st(e)!==null;return r||he("WatchChangeAggregator","Detected inactive target",e),r}st(e){const r=this.Ge.get(e);return r&&r.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new S0),this.We.getRemoteKeysForTarget(e).forEach((r=>{this.Xe(e,r,null)}))}It(e,r){return this.We.getRemoteKeysForTarget(e).has(r)}}function cc(){return new vt(Se.comparator)}function T0(){return new vt(Se.comparator)}const a_={asc:"ASCENDING",desc:"DESCENDING"},s_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},o_={and:"AND",or:"OR"};class l_{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function id(n,e){return n.useProto3Json||$u(e)?e:{value:e}}function hc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function x0(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function u_(n,e){return hc(n,e.toTimestamp())}function Sr(n){return Je(!!n,49232),Ne.fromTimestamp((function(e){const r=Mi(e);return new ft(r.seconds,r.nanos)})(n))}function ad(n,e){return sd(n,e).canonicalString()}function sd(n,e){const r=(function(a){return new ht(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?r:r.child(e)}function C0(n){const e=ht.fromString(n);return Je(P0(e),10190,{key:e.toString()}),e}function od(n,e){return ad(n.databaseId,e.path)}function ld(n,e){const r=C0(e);if(r.get(1)!==n.databaseId.projectId)throw new be(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+n.databaseId.projectId);if(r.get(3)!==n.databaseId.database)throw new be(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+n.databaseId.database);return new Se(_0(r))}function A0(n,e){return ad(n.databaseId,e)}function c_(n){const e=C0(n);return e.length===4?ht.emptyPath():_0(e)}function ud(n){return new ht(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function _0(n){return Je(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function N0(n,e,r){return{name:od(n,e),fields:r.value.mapValue.fields}}function h_(n,e){let r;if("targetChange"in e){e.targetChange;const a=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ce(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(m,g){return m.useProto3Json?(Je(g===void 0||typeof g=="string",58123),en.fromBase64String(g||"")):(Je(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),en.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&(function(m){const g=m.code===void 0?ne.UNKNOWN:v0(m.code);return new be(g,m.message||"")})(h);r=new E0(a,o,u,d||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=ld(n,a.document.name),u=Sr(a.document.updateTime),h=a.document.createTime?Sr(a.document.createTime):Ne.min(),d=new Cn({mapValue:{fields:a.document.fields}}),m=fn.newFoundDocument(o,u,h,d),g=a.targetIds||[],v=a.removedTargetIds||[];r=new uc(g,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=ld(n,a.document),u=a.readTime?Sr(a.readTime):Ne.min(),h=fn.newNoDocument(o,u),d=a.removedTargetIds||[];r=new uc([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=ld(n,a.document),u=a.removedTargetIds||[];r=new uc([],u,o,null)}else{if(!("filter"in e))return Ce(11601,{At:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,h=new t_(o,u),d=a.targetId;r=new k0(d,h)}}return r}function f_(n,e){let r;if(e instanceof rl)r={update:N0(n,e.key,e.value)};else if(e instanceof y0)r={delete:od(n,e.key)};else if(e instanceof Vi)r={update:N0(n,e.key,e.data),updateMask:k_(e.fieldMask)};else{if(!(e instanceof JA))return Ce(16599,{Rt:e.type});r={verify:od(n,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((a=>(function(o,u){const h=u.transform;if(h instanceof ac)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Zo)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof el)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof tl)return{fieldPath:u.field.canonicalString(),increment:h.Ee};throw Ce(20930,{transform:u.transform})})(0,a)))),e.precondition.isNone||(r.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:u_(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ce(27497)})(n,e.precondition)),r}function d_(n,e){return n&&n.length>0?(Je(e!==void 0,14353),n.map((r=>(function(a,o){let u=a.updateTime?Sr(a.updateTime):Sr(o);return u.isEqual(Ne.min())&&(u=Sr(o)),new WA(u,a.transformResults||[])})(r,e)))):[]}function p_(n,e){return{documents:[A0(n,e.path)]}}function m_(n,e){const r={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),r.structuredQuery.from=[{collectionId:a.lastSegment()}]),r.parent=A0(n,o);const u=(function(m){if(m.length!==0)return I0(wr.create(m,"and"))})(e.filters);u&&(r.structuredQuery.where=u);const h=(function(m){if(m.length!==0)return m.map((g=>(function(v){return{field:xs(v.field),direction:v_(v.dir)}})(g)))})(e.orderBy);h&&(r.structuredQuery.orderBy=h);const d=id(n,e.limit);return d!==null&&(r.structuredQuery.limit=d),e.startAt&&(r.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{Vt:r,parent:o}}function g_(n){let e=c_(n.parent);const r=n.structuredQuery,a=r.from?r.from.length:0;let o=null;if(a>0){Je(a===1,65062);const v=r.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];r.where&&(u=(function(v){const k=D0(v);return k instanceof wr&&Qv(k)?k.getFilters():[k]})(r.where));let h=[];r.orderBy&&(h=(function(v){return v.map((k=>(function(T){return new ec(Cs(T.field),(function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(k)))})(r.orderBy));let d=null;r.limit&&(d=(function(v){let k;return k=typeof v=="object"?v.value:v,$u(k)?null:k})(r.limit));let m=null;r.startAt&&(m=(function(v){const k=!!v.before,T=v.values||[];return new Zu(T,k)})(r.startAt));let g=null;return r.endAt&&(g=(function(v){const k=!v.before,T=v.values||[];return new Zu(T,k)})(r.endAt)),LA(e,o,h,u,d,"F",m,g)}function y_(n,e){const r=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:a})}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function D0(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=Cs(e.unaryFilter.field);return Ft.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Cs(e.unaryFilter.field);return Ft.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Cs(e.unaryFilter.field);return Ft.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Cs(e.unaryFilter.field);return Ft.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}})(n):n.fieldFilter!==void 0?(function(e){return Ft.create(Cs(e.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return wr.create(e.compositeFilter.filters.map((r=>D0(r))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}})(e.compositeFilter.op))})(n):Ce(30097,{filter:n})}function v_(n){return a_[n]}function b_(n){return s_[n]}function w_(n){return o_[n]}function xs(n){return{fieldPath:n.canonicalString()}}function Cs(n){return Jt.fromServerFormat(n.fieldPath)}function I0(n){return n instanceof Ft?(function(e){if(e.op==="=="){if(qv(e.value))return{unaryFilter:{field:xs(e.field),op:"IS_NAN"}};if(Uv(e.value))return{unaryFilter:{field:xs(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(qv(e.value))return{unaryFilter:{field:xs(e.field),op:"IS_NOT_NAN"}};if(Uv(e.value))return{unaryFilter:{field:xs(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xs(e.field),op:b_(e.op),value:e.value}}})(n):n instanceof wr?(function(e){const r=e.getFilters().map((a=>I0(a)));return r.length===1?r[0]:{compositeFilter:{op:w_(e.op),filters:r}}})(n):Ce(54877,{filter:n})}function k_(n){const e=[];return n.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function P0(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ri{constructor(e,r,a,o,u=Ne.min(),h=Ne.min(),d=en.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=r,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new Ri(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class E_{constructor(e){this.gt=e}}function S_(n){const e=g_({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ed(e,e.limit,"L"):e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class T_{constructor(){this.Dn=new x_}addToCollectionParentIndex(e,r){return this.Dn.add(r),Z.resolve()}getCollectionParents(e,r){return Z.resolve(this.Dn.getEntries(r))}addFieldIndex(e,r){return Z.resolve()}deleteFieldIndex(e,r){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,r){return Z.resolve()}getDocumentsMatchingTarget(e,r){return Z.resolve(null)}getIndexType(e,r){return Z.resolve(0)}getFieldIndexes(e,r){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,r){return Z.resolve(Ii.min())}getMinOffsetFromCollectionGroup(e,r){return Z.resolve(Ii.min())}updateCollectionGroup(e,r,a){return Z.resolve()}updateIndexEntries(e,r){return Z.resolve()}}class x_{constructor(){this.index={}}add(e){const r=e.lastSegment(),a=e.popLast(),o=this.index[r]||new jt(ht.comparator),u=!o.has(a);return this.index[r]=o.add(a),u}has(e){const r=e.lastSegment(),a=e.popLast(),o=this.index[r];return o&&o.has(a)}getEntries(e){return(this.index[e]||new jt(ht.comparator)).toArray()}}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const M0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},O0=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=a}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(O0,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class As{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new As(0)}static ur(){return new As(-1)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const L0="LruGarbageCollector",C_=1048576;function V0([n,e],[r,a]){const o=Le(n,r);return o===0?Le(e,a):o}class A_{constructor(e){this.Tr=e,this.buffer=new jt(V0),this.Ir=0}dr(){return++this.Ir}Er(e){const r=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(r);else{const a=this.buffer.last();V0(r,a)<0&&(this.buffer=this.buffer.delete(a).add(r))}}get maxValue(){return this.buffer.last()[0]}}class __{constructor(e,r,a){this.garbageCollector=e,this.asyncQueue=r,this.localStore=a,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){he(L0,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){ks(r)?he(L0,"Ignoring IndexedDB error during garbage collection: ",r):await ws(r)}await this.Rr(3e5)}))}}class N_{constructor(e,r){this.Vr=e,this.params=r}calculateTargetCount(e,r){return this.Vr.mr(e).next((a=>Math.floor(r/100*a)))}nthSequenceNumber(e,r){if(r===0)return Z.resolve(Bu.ue);const a=new A_(r);return this.Vr.forEachTarget(e,(o=>a.Er(o.sequenceNumber))).next((()=>this.Vr.gr(e,(o=>a.Er(o))))).next((()=>a.maxValue))}removeTargets(e,r,a){return this.Vr.removeTargets(e,r,a)}removeOrphanedDocuments(e,r){return this.Vr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(M0)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),M0):this.pr(e,r)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,r){let a,o,u,h,d,m,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((k=>(k>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${k}`),o=this.params.maximumSequenceNumbersToCollect):o=k,h=Date.now(),this.nthSequenceNumber(e,o)))).next((k=>(a=k,d=Date.now(),this.removeTargets(e,a,r)))).next((k=>(u=k,m=Date.now(),this.removeOrphanedDocuments(e,a)))).next((k=>(g=Date.now(),vs()<=Be.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${u} targets in `+(m-d)+`ms
	Removed ${k} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:k}))))}}function D_(n,e){return new N_(n,e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class I_{constructor(){this.changes=new Aa((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const a=this.changes.get(r);return a!==void 0?Z.resolve(a):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class P_{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class M_{constructor(e,r,a,o){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,r){let a=null;return this.documentOverlayCache.getOverlay(e,r).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,r)))).next((o=>(a!==null&&nl(a.mutation,o,On.empty(),ft.now()),o)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((a=>this.getLocalViewOfDocuments(e,a,Ue()).next((()=>a))))}getLocalViewOfDocuments(e,r,a=Ue()){const o=_a();return this.populateOverlays(e,o,r).next((()=>this.computeViews(e,r,o,a).next((u=>{let h=Yo();return u.forEach(((d,m)=>{h=h.insert(d,m.overlayedDocument)})),h}))))}getOverlayedDocuments(e,r){const a=_a();return this.populateOverlays(e,a,r).next((()=>this.computeViews(e,r,a,Ue())))}populateOverlays(e,r,a){const o=[];return a.forEach((u=>{r.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,d)=>{r.set(h,d)}))}))}computeViews(e,r,a,o){let u=Kr();const h=Jo(),d=(function(){return Jo()})();return r.forEach(((m,g)=>{const v=a.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Vi)?u=u.insert(g.key,g):v!==void 0?(h.set(g.key,v.mutation.getFieldMask()),nl(v.mutation,g,v.mutation.getFieldMask(),ft.now())):h.set(g.key,On.empty())})),this.recalculateAndSaveOverlays(e,u).next((m=>(m.forEach(((g,v)=>h.set(g,v))),r.forEach(((g,v)=>{var k;return d.set(g,new P_(v,(k=h.get(g))!==null&&k!==void 0?k:null))})),d)))}recalculateAndSaveOverlays(e,r){const a=Jo();let o=new vt(((h,d)=>h-d)),u=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((h=>{for(const d of h)d.keys().forEach((m=>{const g=r.get(m);if(g===null)return;let v=a.get(m)||On.empty();v=d.applyToLocalView(g,v),a.set(m,v);const k=(o.get(d.batchId)||Ue()).add(m);o=o.insert(d.batchId,k)}))})).next((()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,v=m.value,k=i0();v.forEach((T=>{if(!u.has(T)){const _=f0(r.get(T),a.get(T));_!==null&&k.set(T,_),u=u.add(T)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,k))}return Z.waitFor(h)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,r,a,o){return(function(u){return Se.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):VA(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,a,o):this.getDocumentsMatchingCollectionQuery(e,r,a,o)}getNextDocuments(e,r,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,a,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,a.largestBatchId,o-u.size):Z.resolve(_a());let d=Ho,m=u;return h.next((g=>Z.forEach(g,((v,k)=>(d<k.largestBatchId&&(d=k.largestBatchId),u.get(v)?Z.resolve():this.remoteDocumentCache.getEntry(e,v).next((T=>{m=m.insert(v,T)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,m,g,Ue()))).next((v=>({batchId:d,changes:r0(v)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Se(r)).next((a=>{let o=Yo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,r,a,o){const u=r.collectionGroup;let h=Yo();return this.indexManager.getCollectionParents(e,u).next((d=>Z.forEach(d,(m=>{const g=(function(v,k){return new tc(k,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(r,m.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,a,o).next((v=>{v.forEach(((k,T)=>{h=h.insert(k,T)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,r,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,a.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,a,u,o)))).next((h=>{u.forEach(((m,g)=>{const v=g.getKey();h.get(v)===null&&(h=h.insert(v,fn.newInvalidDocument(v)))}));let d=Yo();return h.forEach(((m,g)=>{const v=u.get(m);v!==void 0&&nl(v.mutation,g,On.empty(),ft.now()),rc(r,g)&&(d=d.insert(m,g))})),d}))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class O_{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,r){return Z.resolve(this.Br.get(r))}saveBundleMetadata(e,r){return this.Br.set(r.id,(function(a){return{id:a.id,version:a.version,createTime:Sr(a.createTime)}})(r)),Z.resolve()}getNamedQuery(e,r){return Z.resolve(this.Lr.get(r))}saveNamedQuery(e,r){return this.Lr.set(r.name,(function(a){return{name:a.name,query:S_(a.bundledQuery),readTime:Sr(a.readTime)}})(r)),Z.resolve()}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class L_{constructor(){this.overlays=new vt(Se.comparator),this.kr=new Map}getOverlay(e,r){return Z.resolve(this.overlays.get(r))}getOverlays(e,r){const a=_a();return Z.forEach(r,(o=>this.getOverlay(e,o).next((u=>{u!==null&&a.set(o,u)})))).next((()=>a))}saveOverlays(e,r,a){return a.forEach(((o,u)=>{this.wt(e,r,u)})),Z.resolve()}removeOverlaysForBatchId(e,r,a){const o=this.kr.get(a);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.kr.delete(a)),Z.resolve()}getOverlaysForCollection(e,r,a){const o=_a(),u=r.length+1,h=new Se(r.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!r.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>a&&o.set(m.getKey(),m)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,r,a,o){let u=new vt(((g,v)=>g-v));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===r&&g.largestBatchId>a){let v=u.get(g.largestBatchId);v===null&&(v=_a(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=_a(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,v)=>d.set(g,v))),!(d.size()>=o)););return Z.resolve(d)}wt(e,r,a){const o=this.overlays.get(a.key);if(o!==null){const h=this.kr.get(o.largestBatchId).delete(a.key);this.kr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(a.key,new e_(r,a));let u=this.kr.get(r);u===void 0&&(u=Ue(),this.kr.set(r,u)),this.kr.set(r,u.add(a.key))}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class V_{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,Z.resolve()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class cd{constructor(){this.qr=new jt(Kt.Qr),this.$r=new jt(Kt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,r){const a=new Kt(e,r);this.qr=this.qr.add(a),this.$r=this.$r.add(a)}Kr(e,r){e.forEach((a=>this.addReference(a,r)))}removeReference(e,r){this.Wr(new Kt(e,r))}Gr(e,r){e.forEach((a=>this.removeReference(a,r)))}zr(e){const r=new Se(new ht([])),a=new Kt(r,e),o=new Kt(r,e+1),u=[];return this.$r.forEachInRange([a,o],(h=>{this.Wr(h),u.push(h.key)})),u}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const r=new Se(new ht([])),a=new Kt(r,e),o=new Kt(r,e+1);let u=Ue();return this.$r.forEachInRange([a,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const r=new Kt(e,0),a=this.qr.firstAfterOrEqual(r);return a!==null&&e.isEqual(a.key)}}class Kt{constructor(e,r){this.key=e,this.Hr=r}static Qr(e,r){return Se.comparator(e.key,r.key)||Le(e.Hr,r.Hr)}static Ur(e,r){return Le(e.Hr,r.Hr)||Se.comparator(e.key,r.key)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class R_{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.er=1,this.Yr=new jt(Kt.Qr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,a,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new ZA(u,r,a,o);this.mutationQueue.push(h);for(const d of o)this.Yr=this.Yr.add(new Kt(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Z.resolve(h)}lookupMutationBatch(e,r){return Z.resolve(this.Zr(r))}getNextMutationBatchAfterBatchId(e,r){const a=r+1,o=this.Xr(a),u=o<0?0:o;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?$f:this.er-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const a=new Kt(r,0),o=new Kt(r,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([a,o],(h=>{const d=this.Zr(h.Hr);u.push(d)})),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,r){let a=new jt(Le);return r.forEach((o=>{const u=new Kt(o,0),h=new Kt(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,h],(d=>{a=a.add(d.Hr)}))})),Z.resolve(this.ei(a))}getAllMutationBatchesAffectingQuery(e,r){const a=r.path,o=a.length+1;let u=a;Se.isDocumentKey(u)||(u=u.child(""));const h=new Kt(new Se(u),0);let d=new jt(Le);return this.Yr.forEachWhile((m=>{const g=m.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(d=d.add(m.Hr)),!0)}),h),Z.resolve(this.ei(d))}ei(e){const r=[];return e.forEach((a=>{const o=this.Zr(a);o!==null&&r.push(o)})),r}removeMutationBatch(e,r){Je(this.ti(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Yr;return Z.forEach(r.mutations,(o=>{const u=new Kt(o.key,r.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Yr=a}))}rr(e){}containsKey(e,r){const a=new Kt(r,0),o=this.Yr.firstAfterOrEqual(a);return Z.resolve(r.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ti(e,r){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const r=this.Xr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class j_{constructor(e){this.ni=e,this.docs=(function(){return new vt(Se.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const a=r.key,o=this.docs.get(a),u=o?o.size:0,h=this.ni(r);return this.docs=this.docs.insert(a,{document:r.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const a=this.docs.get(r);return Z.resolve(a?a.document.mutableCopy():fn.newInvalidDocument(r))}getEntries(e,r){let a=Kr();return r.forEach((o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():fn.newInvalidDocument(o))})),Z.resolve(a)}getDocumentsMatchingQuery(e,r,a,o){let u=Kr();const h=r.path,d=new Se(h.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||dA(fA(v),a)<=0||(o.has(v.key)||rc(r,v))&&(u=u.insert(v.key,v.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(e,r,a,o){Ce(9500)}ri(e,r){return Z.forEach(this.docs,(a=>r(a)))}newChangeBuffer(e){return new F_(this)}getSize(e){return Z.resolve(this.size)}}class F_ extends I_{constructor(e){super(),this.Or=e}applyChanges(e){const r=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?r.push(this.Or.addEntry(e,o)):this.Or.removeEntry(a)})),Z.waitFor(r)}getFromCache(e,r){return this.Or.getEntry(e,r)}getAllFromCache(e,r){return this.Or.getEntries(e,r)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class z_{constructor(e){this.persistence=e,this.ii=new Aa((r=>Xf(r)),Yf),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.si=0,this.oi=new cd,this.targetCount=0,this._i=As.ar()}forEachTarget(e,r){return this.ii.forEach(((a,o)=>r(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,r,a){return a&&(this.lastRemoteSnapshotVersion=a),r>this.si&&(this.si=r),Z.resolve()}hr(e){this.ii.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this._i=new As(r),this.highestTargetId=r),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,r){return this.hr(r),this.targetCount+=1,Z.resolve()}updateTargetData(e,r){return this.hr(r),Z.resolve()}removeTargetData(e,r){return this.ii.delete(r.target),this.oi.zr(r.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,r,a){let o=0;const u=[];return this.ii.forEach(((h,d)=>{d.sequenceNumber<=r&&a.get(d.targetId)===null&&(this.ii.delete(h),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)})),Z.waitFor(u).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,r){const a=this.ii.get(r)||null;return Z.resolve(a)}addMatchingKeys(e,r,a){return this.oi.Kr(r,a),Z.resolve()}removeMatchingKeys(e,r,a){this.oi.Gr(r,a);const o=this.persistence.referenceDelegate,u=[];return o&&r.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),Z.waitFor(u)}removeMatchingKeysForTargetId(e,r){return this.oi.zr(r),Z.resolve()}getMatchingKeysForTargetId(e,r){const a=this.oi.Jr(r);return Z.resolve(a)}containsKey(e,r){return Z.resolve(this.oi.containsKey(r))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class R0{constructor(e,r){this.ai={},this.overlays={},this.ui=new Bu(0),this.ci=!1,this.ci=!0,this.li=new V_,this.referenceDelegate=e(this),this.hi=new z_(this),this.indexManager=new T_,this.remoteDocumentCache=(function(a){return new j_(a)})((a=>this.referenceDelegate.Pi(a))),this.serializer=new E_(r),this.Ti=new O_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new L_,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let a=this.ai[e.toKey()];return a||(a=new R_(r,this.referenceDelegate),this.ai[e.toKey()]=a),a}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,r,a){he("MemoryPersistence","Starting transaction:",e);const o=new U_(this.ui.next());return this.referenceDelegate.Ii(),a(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,r){return Z.or(Object.values(this.ai).map((a=>()=>a.containsKey(e,r))))}}class U_ extends mA{constructor(e){super(),this.currentSequenceNumber=e}}class hd{constructor(e){this.persistence=e,this.Ai=new cd,this.Ri=null}static Vi(e){return new hd(e)}get mi(){if(this.Ri)return this.Ri;throw Ce(60996)}addReference(e,r,a){return this.Ai.addReference(a,r),this.mi.delete(a.toString()),Z.resolve()}removeReference(e,r,a){return this.Ai.removeReference(a,r),this.mi.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(e,r){return this.mi.add(r.toString()),Z.resolve()}removeTarget(e,r){this.Ai.zr(r.targetId).forEach((o=>this.mi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,r.targetId).next((o=>{o.forEach((u=>this.mi.add(u.toString())))})).next((()=>a.removeTargetData(e,r)))}Ii(){this.Ri=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.mi,(a=>{const o=Se.fromPath(a);return this.fi(e,o).next((u=>{u||r.removeEntry(o,Ne.min())}))})).next((()=>(this.Ri=null,r.apply(e))))}updateLimboDocument(e,r){return this.fi(e,r).next((a=>{a?this.mi.delete(r.toString()):this.mi.add(r.toString())}))}Pi(e){return 0}fi(e,r){return Z.or([()=>Z.resolve(this.Ai.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ei(e,r)])}}class fc{constructor(e,r){this.persistence=e,this.gi=new Aa((a=>vA(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=D_(this,r)}static Vi(e,r){return new fc(e,r)}Ii(){}di(e){return Z.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}mr(e){const r=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>r.next((o=>a+o))))}yr(e){let r=0;return this.gr(e,(a=>{r++})).next((()=>r))}gr(e,r){return Z.forEach(this.gi,((a,o)=>this.Sr(e,a,o).next((u=>u?Z.resolve():r(o)))))}removeTargets(e,r,a){return this.persistence.getTargetCache().removeTargets(e,r,a)}removeOrphanedDocuments(e,r){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(e,(h=>this.Sr(e,h,r).next((d=>{d||(a++,u.removeEntry(h,Ne.min()))})))).next((()=>u.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,r){return this.gi.set(r,e.currentSequenceNumber),Z.resolve()}removeTarget(e,r){const a=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,r,a){return this.gi.set(a,e.currentSequenceNumber),Z.resolve()}removeReference(e,r,a){return this.gi.set(a,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,r){return this.gi.set(r,e.currentSequenceNumber),Z.resolve()}Pi(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Yu(e.data.value)),r}Sr(e,r,a){return Z.or([()=>this.persistence.Ei(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const o=this.gi.get(r);return Z.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fd{constructor(e,r,a,o){this.targetId=e,this.fromCache=r,this.Is=a,this.ds=o}static Es(e,r){let a=Ue(),o=Ue();for(const u of r.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new fd(e,r.fromCache,a,o)}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class q_{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class B_{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return yT()?8:gA(mT())>0?6:4})()}initialize(e,r){this.gs=e,this.indexManager=r,this.As=!0}getDocumentsMatchingQuery(e,r,a,o){const u={result:null};return this.ps(e,r).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ys(e,r,o,a).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new q_;return this.ws(e,r,h).next((d=>{if(u.result=d,this.Rs)return this.Ss(e,r,h,d.size)}))})).next((()=>u.result))}Ss(e,r,a,o){return a.documentReadCount<this.Vs?(vs()<=Be.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Ts(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Z.resolve()):(vs()<=Be.DEBUG&&he("QueryEngine","Query:",Ts(r),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.fs*o?(vs()<=Be.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Ts(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kr(r))):Z.resolve())}ps(e,r){if(Zv(r))return Z.resolve(null);let a=kr(r);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(r.limit!==null&&o===1&&(r=ed(r,null,"F"),a=kr(r)),this.indexManager.getDocumentsMatchingTarget(e,a).next((u=>{const h=Ue(...u);return this.gs.getDocuments(e,h).next((d=>this.indexManager.getMinOffset(e,a).next((m=>{const g=this.bs(r,d);return this.Ds(r,g,h,m.readTime)?this.ps(e,ed(r,null,"F")):this.vs(e,g,r,m)}))))})))))}ys(e,r,a,o){return Zv(r)||o.isEqual(Ne.min())?Z.resolve(null):this.gs.getDocuments(e,a).next((u=>{const h=this.bs(r,u);return this.Ds(r,h,a,o)?Z.resolve(null):(vs()<=Be.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ts(r)),this.vs(e,h,r,hA(o,Ho)).next((d=>d)))}))}bs(e,r){let a=new jt(t0(e));return r.forEach(((o,u)=>{rc(e,u)&&(a=a.add(u))})),a}Ds(e,r,a,o){if(e.limit===null)return!1;if(a.size!==r.size)return!0;const u=e.limitType==="F"?r.last():r.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(e,r,a){return vs()<=Be.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Ts(r)),this.gs.getDocumentsMatchingQuery(e,r,Ii.min(),a)}vs(e,r,a,o){return this.gs.getDocumentsMatchingQuery(e,a,o).next((u=>(r.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const dd="LocalStore",$_=3e8;class H_{constructor(e,r,a,o){this.persistence=e,this.Cs=r,this.serializer=o,this.Fs=new vt(Le),this.Ms=new Aa((u=>Xf(u)),Yf),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(a)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new M_(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.Fs)))}}function K_(n,e,r,a){return new H_(n,e,r,a)}async function j0(n,e){const r=De(n);return await r.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return r.mutationQueue.getAllMutationBatches(a).next((u=>(o=u,r.Ns(e),r.mutationQueue.getAllMutationBatches(a)))).next((u=>{const h=[],d=[];let m=Ue();for(const g of o){h.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of u){d.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return r.localDocuments.getDocuments(a,m).next((g=>({Bs:g,removedBatchIds:h,addedBatchIds:d})))}))}))}function G_(n,e){const r=De(n);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),u=r.Os.newChangeBuffer({trackRemovals:!0});return(function(h,d,m,g){const v=m.batch,k=v.keys();let T=Z.resolve();return k.forEach((_=>{T=T.next((()=>g.getEntry(d,_))).next((j=>{const B=m.docVersions.get(_);Je(B!==null,48541),j.version.compareTo(B)<0&&(v.applyToRemoteDocument(j,m),j.isValidDocument()&&(j.setReadTime(m.commitVersion),g.addEntry(j)))}))})),T.next((()=>h.mutationQueue.removeMutationBatch(d,v)))})(r,a,e,u).next((()=>u.apply(a))).next((()=>r.mutationQueue.performConsistencyCheck(a))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(h){let d=Ue();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(d=d.add(h.batch.mutations[m].key));return d})(e)))).next((()=>r.localDocuments.getDocuments(a,o)))}))}function F0(n){const e=De(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.hi.getLastRemoteSnapshotVersion(r)))}function Q_(n,e){const r=De(n),a=e.snapshotVersion;let o=r.Fs;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=r.Os.newChangeBuffer({trackRemovals:!0});o=r.Fs;const d=[];e.targetChanges.forEach(((v,k)=>{const T=o.get(k);if(!T)return;d.push(r.hi.removeMatchingKeys(u,v.removedDocuments,k).next((()=>r.hi.addMatchingKeys(u,v.addedDocuments,k))));let _=T.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(k)!==null?_=_.withResumeToken(en.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):v.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(v.resumeToken,a)),o=o.insert(k,_),(function(j,B,F){return j.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=$_?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(T,_,v)&&d.push(r.hi.updateTargetData(u,_))}));let m=Kr(),g=Ue();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(r.persistence.referenceDelegate.updateLimboDocument(u,v))})),d.push(W_(u,h,e.documentUpdates).next((v=>{m=v.Ls,g=v.ks}))),!a.isEqual(Ne.min())){const v=r.hi.getLastRemoteSnapshotVersion(u).next((k=>r.hi.setTargetsMetadata(u,u.currentSequenceNumber,a)));d.push(v)}return Z.waitFor(d).next((()=>h.apply(u))).next((()=>r.localDocuments.getLocalViewOfDocuments(u,m,g))).next((()=>m))})).then((u=>(r.Fs=o,u)))}function W_(n,e,r){let a=Ue(),o=Ue();return r.forEach((u=>a=a.add(u))),e.getEntries(n,a).next((u=>{let h=Kr();return r.forEach(((d,m)=>{const g=u.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),m.isNoDocument()&&m.version.isEqual(Ne.min())?(e.removeEntry(d,m.readTime),h=h.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),h=h.insert(d,m)):he(dd,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)})),{Ls:h,ks:o}}))}function X_(n,e){const r=De(n);return r.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=$f),r.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function Y_(n,e){const r=De(n);return r.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return r.hi.getTargetData(a,e).next((u=>u?(o=u,Z.resolve(o)):r.hi.allocateTargetId(a).next((h=>(o=new Ri(e,h,"TargetPurposeListen",a.currentSequenceNumber),r.hi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=r.Fs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(r.Fs=r.Fs.insert(a.targetId,a),r.Ms.set(e,a.targetId)),a}))}async function pd(n,e,r){const a=De(n),o=a.Fs.get(e),u=r?"readwrite":"readwrite-primary";try{r||await a.persistence.runTransaction("Release target",u,(h=>a.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!ks(h))throw h;he(dd,`Failed to update sequence numbers for target ${e}: ${h}`)}a.Fs=a.Fs.remove(e),a.Ms.delete(o.target)}function z0(n,e,r){const a=De(n);let o=Ne.min(),u=Ue();return a.persistence.runTransaction("Execute query","readwrite",(h=>(function(d,m,g){const v=De(d),k=v.Ms.get(g);return k!==void 0?Z.resolve(v.Fs.get(k)):v.hi.getTargetData(m,g)})(a,h,kr(e)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,a.hi.getMatchingKeysForTargetId(h,d.targetId).next((m=>{u=m}))})).next((()=>a.Cs.getDocumentsMatchingQuery(h,e,r?o:Ne.min(),r?u:Ue()))).next((d=>(J_(a,jA(e),d),{documents:d,qs:u})))))}function J_(n,e,r){let a=n.xs.get(e)||Ne.min();r.forEach(((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)})),n.xs.set(e,a)}class U0{constructor(){this.activeTargetIds=$A()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Z_{constructor(){this.Fo=new U0,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,a){}addLocalQueryTarget(e,r=!0){return r&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,r,a){this.Mo[e]=r}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new U0,Promise.resolve()}handleUserChange(e,r,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class eN{xo(e){}shutdown(){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const q0="ConnectivityMonitor";class B0{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){he(q0,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){he(q0,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let dc=null;function md(){return dc===null?dc=(function(){return 268435456+Math.round(2147483648*Math.random())})():dc++,"0x"+dc.toString(16)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const gd="RestConnection",tN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nN{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=r+"://"+e.host,this.Uo=`projects/${a}/databases/${o}`,this.Ko=this.databaseId.database===Qu?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(e,r,a,o,u){const h=md(),d=this.Go(e,r.toUriEncodedString());he(gd,`Sending RPC '${e}' ${h}:`,d,a);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(m,o,u);const{host:g}=new URL(d),v=gf(g);return this.jo(e,d,m,a,v).then((k=>(he(gd,`Received RPC '${e}' ${h}: `,k),k)),(k=>{throw Ni(gd,`RPC '${e}' ${h} failed with error: `,k,"url: ",d,"request:",a),k}))}Jo(e,r,a,o,u,h){return this.Wo(e,r,a,o,u)}zo(e,r,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ys})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((o,u)=>e[u]=o)),a&&a.headers.forEach(((o,u)=>e[u]=o))}Go(e,r){const a=tN[e];return`${this.$o}/v1/${r}:${a}`}terminate(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rN{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const dn="WebChannelConnection";class iN extends nN{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,r,a,o,u){const h=md();return new Promise(((d,m)=>{const g=new lv;g.setWithCredentials(!0),g.listenOnce(uv.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case qu.NO_ERROR:const k=g.getResponseJson();he(dn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(k)),d(k);break;case qu.TIMEOUT:he(dn,`RPC '${e}' ${h} timed out`),m(new be(ne.DEADLINE_EXCEEDED,"Request time out"));break;case qu.HTTP_ERROR:const T=g.getStatus();if(he(dn,`RPC '${e}' ${h} failed with status:`,T,"response text:",g.getResponseText()),T>0){let _=g.getResponseJson();Array.isArray(_)&&(_=_[0]);const j=_==null?void 0:_.error;if(j&&j.status&&j.message){const B=(function(F){const W=F.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(W)>=0?W:ne.UNKNOWN})(j.status);m(new be(B,j.message))}else m(new be(ne.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new be(ne.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{c_:e,streamId:h,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{he(dn,`RPC '${e}' ${h} completed.`)}}));const v=JSON.stringify(o);he(dn,`RPC '${e}' ${h} sending request:`,o),g.send(r,"POST",v,a,15)}))}P_(e,r,a){const o=md(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=fv(),d=hv(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.zo(m.initMessageHeaders,r,a),m.encodeInitMessageHeaders=!0;const v=u.join("");he(dn,`Creating RPC '${e}' stream ${o}: ${v}`,m);const k=h.createWebChannel(v,m);this.T_(k);let T=!1,_=!1;const j=new rN({Ho:F=>{_?he(dn,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(T||(he(dn,`Opening RPC '${e}' stream ${o} transport.`),k.open(),T=!0),he(dn,`RPC '${e}' stream ${o} sending:`,F),k.send(F))},Yo:()=>k.close()}),B=(F,W,te)=>{F.listen(W,(ae=>{try{te(ae)}catch(pe){setTimeout((()=>{throw pe}),0)}}))};return B(k,Bo.EventType.OPEN,(()=>{_||(he(dn,`RPC '${e}' stream ${o} transport opened.`),j.s_())})),B(k,Bo.EventType.CLOSE,(()=>{_||(_=!0,he(dn,`RPC '${e}' stream ${o} transport closed`),j.__(),this.I_(k))})),B(k,Bo.EventType.ERROR,(F=>{_||(_=!0,Ni(dn,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),j.__(new be(ne.UNAVAILABLE,"The operation could not be completed")))})),B(k,Bo.EventType.MESSAGE,(F=>{var W;if(!_){const te=F.data[0];Je(!!te,16349);const ae=te,pe=(ae==null?void 0:ae.error)||((W=ae[0])===null||W===void 0?void 0:W.error);if(pe){he(dn,`RPC '${e}' stream ${o} received error:`,pe);const le=pe.status;let ye=(function(A){const N=It[A];if(N!==void 0)return v0(N)})(le),M=pe.message;ye===void 0&&(ye=ne.INTERNAL,M="Unknown error status: "+le+" with message "+pe.message),_=!0,j.__(new be(ye,M)),k.close()}else he(dn,`RPC '${e}' stream ${o} received:`,te),j.a_(te)}})),B(d,cv.STAT_EVENT,(F=>{F.stat===Ff.PROXY?he(dn,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===Ff.NOPROXY&&he(dn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{j.o_()}),0),j}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((r=>r===e))}}function yd(){return typeof document<"u"?document:null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function pc(n){return new l_(n,!0)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $0{constructor(e,r,a=1e3,o=1.5,u=6e4){this.Fi=e,this.timerId=r,this.d_=a,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const r=Math.floor(this.R_+this.p_()),a=Math.max(0,Date.now()-this.m_),o=Math.max(0,r-a);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${r} ms, last attempt: ${a} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const H0="PersistentStream";class K0{constructor(e,r,a,o,u,h,d,m){this.Fi=e,this.w_=a,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new $0(e,r)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():r&&r.code===ne.RESOURCE_EXHAUSTED?(Hr(r.toString()),Hr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):r&&r.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(r)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),r=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.b_===r&&this.W_(a,o)}),(a=>{e((()=>{const o=new be(ne.UNKNOWN,"Fetching auth token failed: "+a.message);return this.G_(o)}))}))}W_(e,r){const a=this.K_(this.b_);this.stream=this.z_(e,r),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.e_((()=>{a((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((o=>{a((()=>this.G_(o)))})),this.stream.onMessage((o=>{a((()=>++this.C_==1?this.j_(o):this.onNext(o)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return he(H0,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return r=>{this.Fi.enqueueAndForget((()=>this.b_===e?r():(he(H0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class aN extends K0{constructor(e,r,a,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,a,o,h),this.serializer=u}z_(e,r){return this.connection.P_("Listen",e,r)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const r=h_(this.serializer,e),a=(function(o){if(!("targetChange"in o))return Ne.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Ne.min():u.readTime?Sr(u.readTime):Ne.min()})(e);return this.listener.J_(r,a)}H_(e){const r={};r.database=ud(this.serializer),r.addTarget=(function(o,u){let h;const d=u.target;if(h=Jf(d)?{documents:p_(o,d)}:{query:m_(o,d).Vt},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=x0(o,u.resumeToken);const m=id(o,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(Ne.min())>0){h.readTime=hc(o,u.snapshotVersion.toTimestamp());const m=id(o,u.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,e);const a=y_(this.serializer,e);a&&(r.labels=a),this.k_(r)}Y_(e){const r={};r.database=ud(this.serializer),r.removeTarget=e,this.k_(r)}}class sN extends K0{constructor(e,r,a,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,a,o,h),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,r){return this.connection.P_("Write",e,r)}j_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const r=d_(e.writeResults,e.commitTime),a=Sr(e.commitTime);return this.listener.ta(a,r)}na(){const e={};e.database=ud(this.serializer),this.k_(e)}X_(e){const r={streamToken:this.lastStreamToken,writes:e.map((a=>f_(this.serializer,a)))};this.k_(r)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class oN{}class lN extends oN{constructor(e,r,a,o){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=a,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new be(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,r,a,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Wo(e,sd(r,a),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new be(ne.UNKNOWN,u.toString())}))}Jo(e,r,a,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Jo(e,sd(r,a),o,h,d,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new be(ne.UNKNOWN,h.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class uN{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Hr(r),this._a=!1):he("OnlineStateTracker",r)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Na="RemoteStore";class cN{constructor(e,r,a,o,u){this.localStore=e,this.datastore=r,this.asyncQueue=a,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo((h=>{a.enqueueAndForget((async()=>{Da(this)&&(he(Na,"Restarting streams for network reachability change."),await(async function(d){const m=De(d);m.Ia.add(4),await sl(m),m.Aa.set("Unknown"),m.Ia.delete(4),await mc(m)})(this))}))})),this.Aa=new uN(a,o)}}async function mc(n){if(Da(n))for(const e of n.da)await e(!0)}async function sl(n){for(const e of n.da)await e(!1)}function G0(n,e){const r=De(n);r.Ta.has(e.targetId)||(r.Ta.set(e.targetId,e),kd(r)?wd(r):_s(r).x_()&&bd(r,e))}function vd(n,e){const r=De(n),a=_s(r);r.Ta.delete(e),a.x_()&&Q0(r,e),r.Ta.size===0&&(a.x_()?a.B_():Da(r)&&r.Aa.set("Unknown"))}function bd(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const r=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}_s(n).H_(e)}function Q0(n,e){n.Ra.$e(e),_s(n).Y_(e)}function wd(n){n.Ra=new i_({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),_s(n).start(),n.Aa.aa()}function kd(n){return Da(n)&&!_s(n).M_()&&n.Ta.size>0}function Da(n){return De(n).Ia.size===0}function W0(n){n.Ra=void 0}async function hN(n){n.Aa.set("Online")}async function fN(n){n.Ta.forEach(((e,r)=>{bd(n,e)}))}async function dN(n,e){W0(n),kd(n)?(n.Aa.la(e),wd(n)):n.Aa.set("Unknown")}async function pN(n,e,r){if(n.Aa.set("Online"),e instanceof E0&&e.state===2&&e.cause)try{await(async function(a,o){const u=o.cause;for(const h of o.targetIds)a.Ta.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ta.delete(h),a.Ra.removeTarget(h))})(n,e)}catch(a){he(Na,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await gc(n,a)}else if(e instanceof uc?n.Ra.Ye(e):e instanceof k0?n.Ra.it(e):n.Ra.et(e),!r.isEqual(Ne.min()))try{const a=await F0(n.localStore);r.compareTo(a)>=0&&await(function(o,u){const h=o.Ra.Pt(u);return h.targetChanges.forEach(((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const g=o.Ta.get(m);g&&o.Ta.set(m,g.withResumeToken(d.resumeToken,u))}})),h.targetMismatches.forEach(((d,m)=>{const g=o.Ta.get(d);if(!g)return;o.Ta.set(d,g.withResumeToken(en.EMPTY_BYTE_STRING,g.snapshotVersion)),Q0(o,d);const v=new Ri(g.target,d,m,g.sequenceNumber);bd(o,v)})),o.remoteSyncer.applyRemoteEvent(h)})(n,r)}catch(a){he(Na,"Failed to raise snapshot:",a),await gc(n,a)}}async function gc(n,e,r){if(!ks(e))throw e;n.Ia.add(1),await sl(n),n.Aa.set("Offline"),r||(r=()=>F0(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{he(Na,"Retrying IndexedDB access"),await r(),n.Ia.delete(1),await mc(n)}))}function X0(n,e){return e().catch((r=>gc(n,r,e)))}async function yc(n){const e=De(n),r=ji(e);let a=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:$f;for(;mN(e);)try{const o=await X_(e.localStore,a);if(o===null){e.Pa.length===0&&r.B_();break}a=o.batchId,gN(e,o)}catch(o){await gc(e,o)}Y0(e)&&J0(e)}function mN(n){return Da(n)&&n.Pa.length<10}function gN(n,e){n.Pa.push(e);const r=ji(n);r.x_()&&r.Z_&&r.X_(e.mutations)}function Y0(n){return Da(n)&&!ji(n).M_()&&n.Pa.length>0}function J0(n){ji(n).start()}async function yN(n){ji(n).na()}async function vN(n){const e=ji(n);for(const r of n.Pa)e.X_(r.mutations)}async function bN(n,e,r){const a=n.Pa.shift(),o=nd.from(a,e,r);await X0(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await yc(n)}async function wN(n,e){e&&ji(n).Z_&&await(async function(r,a){if((function(o){return n_(o)&&o!==ne.ABORTED})(a.code)){const o=r.Pa.shift();ji(r).N_(),await X0(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a))),await yc(r)}})(n,e),Y0(n)&&J0(n)}async function Z0(n,e){const r=De(n);r.asyncQueue.verifyOperationInProgress(),he(Na,"RemoteStore received new credentials");const a=Da(r);r.Ia.add(3),await sl(r),a&&r.Aa.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ia.delete(3),await mc(r)}async function kN(n,e){const r=De(n);e?(r.Ia.delete(2),await mc(r)):e||(r.Ia.add(2),await sl(r),r.Aa.set("Unknown"))}function _s(n){return n.Va||(n.Va=(function(e,r,a){const o=De(e);return o.ia(),new aN(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Zo:hN.bind(null,n),e_:fN.bind(null,n),n_:dN.bind(null,n),J_:pN.bind(null,n)}),n.da.push((async e=>{e?(n.Va.N_(),kd(n)?wd(n):n.Aa.set("Unknown")):(await n.Va.stop(),W0(n))}))),n.Va}function ji(n){return n.ma||(n.ma=(function(e,r,a){const o=De(e);return o.ia(),new sN(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:yN.bind(null,n),n_:wN.bind(null,n),ea:vN.bind(null,n),ta:bN.bind(null,n)}),n.da.push((async e=>{e?(n.ma.N_(),await yc(n)):(await n.ma.stop(),n.Pa.length>0&&(he(Na,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ed{constructor(e,r,a,o,u){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new Ca,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,a,o,u){const h=Date.now()+a,d=new Ed(e,r,h,o,u);return d.start(a),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sd(n,e){if(Hr("AsyncQueue",`${e}: ${n}`),ks(n))return new be(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ns{static emptySet(e){return new Ns(e.comparator)}constructor(e){this.comparator=e?(r,a)=>e(r,a)||Se.comparator(r.key,a.key):(r,a)=>Se.comparator(r.key,a.key),this.keyedMap=Yo(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,a)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Ns)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;r.hasNext();){const o=r.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const a=new Ns;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=r,a}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class eb{constructor(){this.fa=new vt(Se.comparator)}track(e){const r=e.doc.key,a=this.fa.get(r);a?e.type!==0&&a.type===3?this.fa=this.fa.insert(r,e):e.type===3&&a.type!==1?this.fa=this.fa.insert(r,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.fa=this.fa.insert(r,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.fa=this.fa.insert(r,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.fa=this.fa.remove(r):e.type===1&&a.type===2?this.fa=this.fa.insert(r,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.fa=this.fa.insert(r,{type:2,doc:e.doc}):Ce(63341,{At:e,ga:a}):this.fa=this.fa.insert(r,e)}pa(){const e=[];return this.fa.inorderTraversal(((r,a)=>{e.push(a)})),e}}class Ds{constructor(e,r,a,o,u,h,d,m,g){this.query=e,this.docs=r,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,r,a,o,u){const h=[];return r.forEach((d=>{h.push({type:0,doc:d})})),new Ds(e,r,Ns.emptySet(r),h,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,a=e.docChanges;if(r.length!==a.length)return!1;for(let o=0;o<r.length;o++)if(r[o].type!==a[o].type||!r[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class EN{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class SN{constructor(){this.queries=tb(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(e,r){const a=De(e),o=a.queries;a.queries=tb(),o.forEach(((u,h)=>{for(const d of h.wa)d.onError(r)}))})(this,new be(ne.ABORTED,"Firestore shutting down"))}}function tb(){return new Aa((n=>e0(n)),nc)}async function TN(n,e){const r=De(n);let a=3;const o=e.query;let u=r.queries.get(o);u?!u.Sa()&&e.ba()&&(a=2):(u=new EN,a=e.ba()?0:1);try{switch(a){case 0:u.ya=await r.onListen(o,!0);break;case 1:u.ya=await r.onListen(o,!1);break;case 2:await r.onFirstRemoteStoreListen(o)}}catch(h){const d=Sd(h,`Initialization of query '${Ts(e.query)}' failed`);return void e.onError(d)}r.queries.set(o,u),u.wa.push(e),e.va(r.onlineState),u.ya&&e.Ca(u.ya)&&Td(r)}async function xN(n,e){const r=De(n),a=e.query;let o=3;const u=r.queries.get(a);if(u){const h=u.wa.indexOf(e);h>=0&&(u.wa.splice(h,1),u.wa.length===0?o=e.ba()?0:1:!u.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return r.queries.delete(a),r.onUnlisten(a,!0);case 1:return r.queries.delete(a),r.onUnlisten(a,!1);case 2:return r.onLastRemoteStoreUnlisten(a);default:return}}function CN(n,e){const r=De(n);let a=!1;for(const o of e){const u=o.query,h=r.queries.get(u);if(h){for(const d of h.wa)d.Ca(o)&&(a=!0);h.ya=o}}a&&Td(r)}function AN(n,e,r){const a=De(n),o=a.queries.get(e);if(o)for(const u of o.wa)u.onError(r);a.queries.delete(e)}function Td(n){n.Da.forEach((e=>{e.next()}))}var xd,nb;(nb=xd||(xd={})).Fa="default",nb.Cache="cache";class _N{constructor(e,r,a){this.query=e,this.Ma=r,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=a||{}}Ca(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Ds(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),r=!0):this.Ba(e,this.onlineState)&&(this.La(e),r=!0),this.Oa=e,r}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let r=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),r=!0),r}Ba(e,r){if(!e.fromCache||!this.ba())return!0;const a=r!=="Offline";return(!this.options.ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const r=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}La(e){e=Ds.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==xd.Cache}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rb{constructor(e){this.key=e}}class ib{constructor(e){this.key=e}}class NN{constructor(e,r){this.query=e,this.Ha=r,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ue(),this.mutatedKeys=Ue(),this.Xa=t0(e),this.eu=new Ns(this.Xa)}get tu(){return this.Ha}nu(e,r){const a=r?r.ru:new eb,o=r?r.eu:this.eu;let u=r?r.mutatedKeys:this.mutatedKeys,h=o,d=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,k)=>{const T=o.get(v),_=rc(this.query,k)?k:null,j=!!T&&this.mutatedKeys.has(T.key),B=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let F=!1;T&&_?T.data.isEqual(_.data)?j!==B&&(a.track({type:3,doc:_}),F=!0):this.iu(T,_)||(a.track({type:2,doc:_}),F=!0,(m&&this.Xa(_,m)>0||g&&this.Xa(_,g)<0)&&(d=!0)):!T&&_?(a.track({type:0,doc:_}),F=!0):T&&!_&&(a.track({type:1,doc:T}),F=!0,(m||g)&&(d=!0)),F&&(_?(h=h.add(_),u=B?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),a.track({type:1,doc:v})}return{eu:h,ru:a,Ds:d,mutatedKeys:u}}iu(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,a,o){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const h=e.ru.pa();h.sort(((v,k)=>(function(T,_){const j=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{At:B})}};return j(T)-j(_)})(v.type,k.type)||this.Xa(v.doc,k.doc))),this.su(a),o=o!=null&&o;const d=r&&!o?this.ou():[],m=this.Za.size===0&&this.current&&!o?1:0,g=m!==this.Ya;return this.Ya=m,h.length!==0||g?{snapshot:new Ds(this.query,e.eu,u,h,e.mutatedKeys,m===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),_u:d}:{_u:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new eb,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((r=>this.Ha=this.Ha.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ha=this.Ha.delete(r))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Ue(),this.eu.forEach((a=>{this.au(a.key)&&(this.Za=this.Za.add(a.key))}));const r=[];return e.forEach((a=>{this.Za.has(a)||r.push(new ib(a))})),this.Za.forEach((a=>{e.has(a)||r.push(new rb(a))})),r}uu(e){this.Ha=e.qs,this.Za=Ue();const r=this.nu(e.documents);return this.applyChanges(r,!0)}cu(){return Ds.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Cd="SyncEngine";class DN{constructor(e,r,a){this.query=e,this.targetId=r,this.view=a}}class IN{constructor(e){this.key=e,this.lu=!1}}class PN{constructor(e,r,a,o,u,h){this.localStore=e,this.remoteStore=r,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.hu={},this.Pu=new Aa((d=>e0(d)),nc),this.Tu=new Map,this.Iu=new Set,this.du=new vt(Se.comparator),this.Eu=new Map,this.Au=new cd,this.Ru={},this.Vu=new Map,this.mu=As.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function MN(n,e,r=!0){const a=fb(n);let o;const u=a.Pu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await ab(a,e,r,!0),o}async function ON(n,e){const r=fb(n);await ab(r,e,!0,!1)}async function ab(n,e,r,a){const o=await Y_(n.localStore,kr(e)),u=o.targetId,h=n.sharedClientState.addLocalQueryTarget(u,r);let d;return a&&(d=await LN(n,e,u,h==="current",o.resumeToken)),n.isPrimaryClient&&r&&G0(n.remoteStore,o),d}async function LN(n,e,r,a,o){n.gu=(k,T,_)=>(async function(j,B,F,W){let te=B.view.nu(F);te.Ds&&(te=await z0(j.localStore,B.query,!1).then((({documents:ye})=>B.view.nu(ye,te))));const ae=W&&W.targetChanges.get(B.targetId),pe=W&&W.targetMismatches.get(B.targetId)!=null,le=B.view.applyChanges(te,j.isPrimaryClient,ae,pe);return hb(j,B.targetId,le._u),le.snapshot})(n,k,T,_);const u=await z0(n.localStore,e,!0),h=new NN(e,u.qs),d=h.nu(u.documents),m=al.createSynthesizedTargetChangeForCurrentChange(r,a&&n.onlineState!=="Offline",o),g=h.applyChanges(d,n.isPrimaryClient,m);hb(n,r,g._u);const v=new DN(e,r,h);return n.Pu.set(e,v),n.Tu.has(r)?n.Tu.get(r).push(e):n.Tu.set(r,[e]),g.snapshot}async function VN(n,e,r){const a=De(n),o=a.Pu.get(e),u=a.Tu.get(o.targetId);if(u.length>1)return a.Tu.set(o.targetId,u.filter((h=>!nc(h,e)))),void a.Pu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await pd(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),r&&vd(a.remoteStore,o.targetId),Ad(a,o.targetId)})).catch(ws)):(Ad(a,o.targetId),await pd(a.localStore,o.targetId,!0))}async function RN(n,e){const r=De(n),a=r.Pu.get(e),o=r.Tu.get(a.targetId);r.isPrimaryClient&&o.length===1&&(r.sharedClientState.removeLocalQueryTarget(a.targetId),vd(r.remoteStore,a.targetId))}async function jN(n,e,r){const a=HN(n);try{const o=await(function(u,h){const d=De(u),m=ft.now(),g=h.reduce(((T,_)=>T.add(_.key)),Ue());let v,k;return d.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let _=Kr(),j=Ue();return d.Os.getEntries(T,g).next((B=>{_=B,_.forEach(((F,W)=>{W.isValidDocument()||(j=j.add(F))}))})).next((()=>d.localDocuments.getOverlayedDocuments(T,_))).next((B=>{v=B;const F=[];for(const W of h){const te=YA(W,v.get(W.key).overlayedDocument);te!=null&&F.push(new Vi(W.key,te,Bv(te.value.mapValue),Er.exists(!0)))}return d.mutationQueue.addMutationBatch(T,m,F,h)})).next((B=>{k=B;const F=B.applyToLocalDocumentSet(v,j);return d.documentOverlayCache.saveOverlays(T,B.batchId,F)}))})).then((()=>({batchId:k.batchId,changes:r0(v)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(u,h,d){let m=u.Ru[u.currentUser.toKey()];m||(m=new vt(Le)),m=m.insert(h,d),u.Ru[u.currentUser.toKey()]=m})(a,o.batchId,r),await ol(a,o.changes),await yc(a.remoteStore)}catch(o){const u=Sd(o,"Failed to persist write");r.reject(u)}}async function sb(n,e){const r=De(n);try{const a=await Q_(r.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=r.Eu.get(u);h&&(Je(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.lu=!0:o.modifiedDocuments.size>0?Je(h.lu,14607):o.removedDocuments.size>0&&(Je(h.lu,42227),h.lu=!1))})),await ol(r,a,e)}catch(a){await ws(a)}}function ob(n,e,r){const a=De(n);if(a.isPrimaryClient&&r===0||!a.isPrimaryClient&&r===1){const o=[];a.Pu.forEach(((u,h)=>{const d=h.view.va(e);d.snapshot&&o.push(d.snapshot)})),(function(u,h){const d=De(u);d.onlineState=h;let m=!1;d.queries.forEach(((g,v)=>{for(const k of v.wa)k.va(h)&&(m=!0)})),m&&Td(d)})(a.eventManager,e),o.length&&a.hu.J_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function FN(n,e,r){const a=De(n);a.sharedClientState.updateQueryState(e,"rejected",r);const o=a.Eu.get(e),u=o&&o.key;if(u){let h=new vt(Se.comparator);h=h.insert(u,fn.newNoDocument(u,Ne.min()));const d=Ue().add(u),m=new lc(Ne.min(),new Map,new vt(Le),h,d);await sb(a,m),a.du=a.du.remove(u),a.Eu.delete(e),_d(a)}else await pd(a.localStore,e,!1).then((()=>Ad(a,e,r))).catch(ws)}async function zN(n,e){const r=De(n),a=e.batch.batchId;try{const o=await G_(r.localStore,e);ub(r,a,null),lb(r,a),r.sharedClientState.updateMutationState(a,"acknowledged"),await ol(r,o)}catch(o){await ws(o)}}async function UN(n,e,r){const a=De(n);try{const o=await(function(u,h){const d=De(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let g;return d.mutationQueue.lookupMutationBatch(m,h).next((v=>(Je(v!==null,37113),g=v.keys(),d.mutationQueue.removeMutationBatch(m,v)))).next((()=>d.mutationQueue.performConsistencyCheck(m))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(m,g,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g))).next((()=>d.localDocuments.getDocuments(m,g)))}))})(a.localStore,e);ub(a,e,r),lb(a,e),a.sharedClientState.updateMutationState(e,"rejected",r),await ol(a,o)}catch(o){await ws(o)}}function lb(n,e){(n.Vu.get(e)||[]).forEach((r=>{r.resolve()})),n.Vu.delete(e)}function ub(n,e,r){const a=De(n);let o=a.Ru[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(r?u.reject(r):u.resolve(),o=o.remove(e)),a.Ru[a.currentUser.toKey()]=o}}function Ad(n,e,r=null){n.sharedClientState.removeLocalQueryTarget(e);for(const a of n.Tu.get(e))n.Pu.delete(a),r&&n.hu.pu(a,r);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach((a=>{n.Au.containsKey(a)||cb(n,a)}))}function cb(n,e){n.Iu.delete(e.path.canonicalString());const r=n.du.get(e);r!==null&&(vd(n.remoteStore,r),n.du=n.du.remove(e),n.Eu.delete(r),_d(n))}function hb(n,e,r){for(const a of r)a instanceof rb?(n.Au.addReference(a.key,e),qN(n,a)):a instanceof ib?(he(Cd,"Document no longer in limbo: "+a.key),n.Au.removeReference(a.key,e),n.Au.containsKey(a.key)||cb(n,a.key)):Ce(19791,{yu:a})}function qN(n,e){const r=e.key,a=r.path.canonicalString();n.du.get(r)||n.Iu.has(a)||(he(Cd,"New document in limbo: "+r),n.Iu.add(a),_d(n))}function _d(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const r=new Se(ht.fromString(e)),a=n.mu.next();n.Eu.set(a,new IN(r)),n.du=n.du.insert(r,a),G0(n.remoteStore,new Ri(kr(Zf(r.path)),a,"TargetPurposeLimboResolution",Bu.ue))}}async function ol(n,e,r){const a=De(n),o=[],u=[],h=[];a.Pu.isEmpty()||(a.Pu.forEach(((d,m)=>{h.push(a.gu(m,e,r).then((g=>{var v;if((g||r)&&a.isPrimaryClient){const k=g?!g.fromCache:(v=r==null?void 0:r.targetChanges.get(m.targetId))===null||v===void 0?void 0:v.current;a.sharedClientState.updateQueryState(m.targetId,k?"current":"not-current")}if(g){o.push(g);const k=fd.Es(m.targetId,g);u.push(k)}})))})),await Promise.all(h),a.hu.J_(o),await(async function(d,m){const g=De(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>Z.forEach(m,(k=>Z.forEach(k.Is,(T=>g.persistence.referenceDelegate.addReference(v,k.targetId,T))).next((()=>Z.forEach(k.ds,(T=>g.persistence.referenceDelegate.removeReference(v,k.targetId,T)))))))))}catch(v){if(!ks(v))throw v;he(dd,"Failed to update sequence numbers: "+v)}for(const v of m){const k=v.targetId;if(!v.fromCache){const T=g.Fs.get(k),_=T.snapshotVersion,j=T.withLastLimboFreeSnapshotVersion(_);g.Fs=g.Fs.insert(k,j)}}})(a.localStore,u))}async function BN(n,e){const r=De(n);if(!r.currentUser.isEqual(e)){he(Cd,"User change. New user:",e.toKey());const a=await j0(r.localStore,e);r.currentUser=e,(function(o,u){o.Vu.forEach((h=>{h.forEach((d=>{d.reject(new be(ne.CANCELLED,u))}))})),o.Vu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await ol(r,a.Bs)}}function $N(n,e){const r=De(n),a=r.Eu.get(e);if(a&&a.lu)return Ue().add(a.key);{let o=Ue();const u=r.Tu.get(e);if(!u)return o;for(const h of u){const d=r.Pu.get(h);o=o.unionWith(d.view.tu)}return o}}function fb(n){const e=De(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=sb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$N.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=FN.bind(null,e),e.hu.J_=CN.bind(null,e.eventManager),e.hu.pu=AN.bind(null,e.eventManager),e}function HN(n){const e=De(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=UN.bind(null,e),e}class vc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pc(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,r){return null}Fu(e,r){return null}vu(e){return K_(this.persistence,new B_,e.initialUser,this.serializer)}Du(e){return new R0(hd.Vi,this.serializer)}bu(e){return new Z_}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vc.provider={build:()=>new vc};class KN extends vc{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,r){Je(this.persistence.referenceDelegate instanceof fc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new __(a,e.asyncQueue,r)}Du(e){const r=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new R0((a=>fc.Vi(a,r)),this.serializer)}}class Nd{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>ob(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=BN.bind(null,this.syncEngine),await kN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new SN})()}createDatastore(e){const r=pc(e.databaseInfo.databaseId),a=(function(o){return new iN(o)})(e.databaseInfo);return(function(o,u,h,d){return new lN(o,u,h,d)})(e.authCredentials,e.appCheckCredentials,a,r)}createRemoteStore(e){return(function(r,a,o,u,h){return new cN(r,a,o,u,h)})(this.localStore,this.datastore,e.asyncQueue,(r=>ob(this.syncEngine,r,0)),(function(){return B0.C()?new B0:new eN})())}createSyncEngine(e,r){return(function(a,o,u,h,d,m,g){const v=new PN(a,o,u,h,d,m);return g&&(v.fu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await(async function(a){const o=De(a);he(Na,"RemoteStore shutting down."),o.Ia.add(5),await sl(o),o.Ea.shutdown(),o.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Nd.provider={build:()=>new Nd};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class GN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Hr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Fi="FirestoreClient";class QN{constructor(e,r,a,o,u){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=a,this.databaseInfo=o,this.user=hn.UNAUTHENTICATED,this.clientId=Uf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,(async h=>{he(Fi,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(a,(h=>(he(Fi,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ca;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const a=Sd(r,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Dd(n,e){n.asyncQueue.verifyOperationInProgress(),he(Fi,"Initializing OfflineComponentProvider");const r=n.configuration;await e.initialize(r);let a=r.initialUser;n.setCredentialChangeListener((async o=>{a.isEqual(o)||(await j0(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>{Ni("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then((()=>{he("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((o=>{Ni("Terminating Firestore due to IndexedDb database deletion failed",o)}))})),n._offlineComponents=e}async function db(n,e){n.asyncQueue.verifyOperationInProgress();const r=await WN(n);he(Fi,"Initializing OnlineComponentProvider"),await e.initialize(r,n.configuration),n.setCredentialChangeListener((a=>Z0(e.remoteStore,a))),n.setAppCheckTokenChangeListener(((a,o)=>Z0(e.remoteStore,o))),n._onlineComponents=e}async function WN(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){he(Fi,"Using user provided OfflineComponentProvider");try{await Dd(n,n._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ne.FAILED_PRECONDITION||a.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(r))throw r;Ni("Error using user provided cache. Falling back to memory cache: "+r),await Dd(n,new vc)}}else he(Fi,"Using default OfflineComponentProvider"),await Dd(n,new KN(void 0));return n._offlineComponents}async function pb(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(he(Fi,"Using user provided OnlineComponentProvider"),await db(n,n._uninitializedComponentsProvider._online)):(he(Fi,"Using default OnlineComponentProvider"),await db(n,new Nd))),n._onlineComponents}function XN(n){return pb(n).then((e=>e.syncEngine))}async function mb(n){const e=await pb(n),r=e.eventManager;return r.onListen=MN.bind(null,e.syncEngine),r.onUnlisten=VN.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=ON.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=RN.bind(null,e.syncEngine),r}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function gb(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const yb=new Map;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const vb="firestore.googleapis.com",bb=!0;class wb{constructor(e){var r,a;if(e.host===void 0){if(e.ssl!==void 0)throw new be(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vb,this.ssl=bb}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:bb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=O0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<C_)throw new be(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gb((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new be(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new be(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new be(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bc{constructor(e,r,a,o){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new tA;switch(r.type){case"firstParty":return new aA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new be(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const r=yb.get(e);r&&(he("ComponentProvider","Removing Datastore"),yb.delete(e),r.terminate())})(this),Promise.resolve()}}function YN(n,e,r,a={}){var o;n=Di(n,bc);const u=gf(e),h=n._getSettings(),d=Object.assign(Object.assign({},h),{emulatorOptions:n._getEmulatorOptions()}),m=`${e}:${r}`;u&&(cT(`https://${m}`),pT("Firestore",!0)),h.host!==vb&&h.host!==m&&Ni("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},h),{host:m,ssl:u,emulatorOptions:a});if(!Fo(g,d)&&(n._setSettings(g),a.mockUserToken)){let v,k;if(typeof a.mockUserToken=="string")v=a.mockUserToken,k=hn.MOCK_USER;else{v=hT(a.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const T=a.mockUserToken.sub||a.mockUserToken.user_id;if(!T)throw new be(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");k=new hn(T)}n._authCredentials=new nA(new gv(v,k))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class wc{constructor(e,r,a){this.converter=r,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new wc(this.firestore,e,this._query)}}class Pt{constructor(e,r,a){this.converter=r,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pt(this.firestore,e,this._key)}toJSON(){return{type:Pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,a){if($o(r,Pt._jsonSchema))return new Pt(e,a||null,new Se(ht.fromString(r.referencePath)))}}Pt._jsonSchemaVersion="firestore/documentReference/1.0",Pt._jsonSchema={type:Dt("string",Pt._jsonSchemaVersion),referencePath:Dt("string")};class zi extends wc{constructor(e,r,a){super(e,r,Zf(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pt(this.firestore,null,new Se(e))}withConverter(e){return new zi(this.firestore,e,this._path)}}function JN(n,e,...r){if(n=ur(n),kv("collection","path",e),n instanceof bc){const a=ht.fromString(e,...r);return Sv(a),new zi(n,null,a)}{if(!(n instanceof Pt||n instanceof zi))throw new be(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=n._path.child(ht.fromString(e,...r));return Sv(a),new zi(n.firestore,null,a)}}function kc(n,e,...r){if(n=ur(n),arguments.length===1&&(e=Uf.newId()),kv("doc","path",e),n instanceof bc){const a=ht.fromString(e,...r);return Ev(a),new Pt(n,null,new Se(a))}{if(!(n instanceof Pt||n instanceof zi))throw new be(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=n._path.child(ht.fromString(e,...r));return Ev(a),new Pt(n.firestore,n instanceof zi?n.converter:null,new Se(a))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const kb="AsyncQueue";class Eb{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new $0(this,"async_queue_retry"),this.oc=()=>{const a=yd();a&&he(kb,"Visibility state changed to "+a.visibilityState),this.F_.y_()},this._c=e;const r=yd();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const r=yd();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const r=new Ca;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!ks(e))throw e;he(kb,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const r=this._c.then((()=>(this.nc=!0,e().catch((a=>{throw this.tc=a,this.nc=!1,Hr("INTERNAL UNHANDLED ERROR: ",Sb(a)),a})).then((a=>(this.nc=!1,a))))));return this._c=r,r}enqueueAfterDelay(e,r,a){this.ac(),this.sc.indexOf(e)>-1&&(r=0);const o=Ed.createAndSchedule(this,e,r,a,(u=>this.lc(u)));return this.ec.push(o),o}ac(){this.tc&&Ce(47125,{hc:Sb(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const r of this.ec)if(r.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((r,a)=>r.targetTimeMs-a.targetTimeMs));for(const r of this.ec)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const r=this.ec.indexOf(e);this.ec.splice(r,1)}}function Sb(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Tb(n){return(function(e,r){if(typeof e!="object"||e===null)return!1;const a=e;for(const o of r)if(o in a&&typeof a[o]=="function")return!0;return!1})(n,["next","error","complete"])}class ll extends bc{constructor(e,r,a,o){super(e,r,a,o),this.type="firestore",this._queue=new Eb,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Eb(e),this._firestoreClient=void 0,await e}}}function ZN(n,e){const r=typeof n=="object"?n:Sy(),a=typeof n=="string"?n:Qu,o=zo(r,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=lT("firestore");u&&YN(o,...u)}return o}function xb(n){if(n._terminated)throw new be(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||eD(n),n._firestoreClient}function eD(n){var e,r,a;const o=n._freezeSettings(),u=(function(h,d,m,g){return new kA(h,d,m,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,gb(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((r=o.localCache)===null||r===void 0)&&r._offlineComponentProvider&&!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new QN(n._authCredentials,n._appCheckCredentials,n._queue,u,n._componentsProvider&&(function(h){const d=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(d),_online:d}})(n._componentsProvider))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Kn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kn(en.fromBase64String(e))}catch(r){throw new be(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Kn(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if($o(e,Kn._jsonSchema))return Kn.fromBase64String(e.bytes)}}Kn._jsonSchemaVersion="firestore/bytes/1.0",Kn._jsonSchema={type:Dt("string",Kn._jsonSchemaVersion),bytes:Dt("string")};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ec{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new be(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Sc{constructor(e){this._methodName=e}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Tr{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new be(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new be(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Tr._jsonSchemaVersion}}static fromJSON(e){if($o(e,Tr._jsonSchema))return new Tr(e.latitude,e.longitude)}}Tr._jsonSchemaVersion="firestore/geoPoint/1.0",Tr._jsonSchema={type:Dt("string",Tr._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xr{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:xr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if($o(e,xr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((r=>typeof r=="number")))return new xr(e.vectorValues);throw new be(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xr._jsonSchemaVersion="firestore/vectorValue/1.0",xr._jsonSchema={type:Dt("string",xr._jsonSchemaVersion),vectorValues:Dt("object")};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const tD=/^__.*__$/;class nD{constructor(e,r,a){this.data=e,this.fieldMask=r,this.fieldTransforms=a}toMutation(e,r){return this.fieldMask!==null?new Vi(e,this.data,this.fieldMask,r,this.fieldTransforms):new rl(e,this.data,r,this.fieldTransforms)}}class Cb{constructor(e,r,a){this.data=e,this.fieldMask=r,this.fieldTransforms=a}toMutation(e,r){return new Vi(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function Ab(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ec:n})}}class Id{constructor(e,r,a,o,u,h){this.settings=e,this.databaseId=r,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Id(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var r;const a=(r=this.path)===null||r===void 0?void 0:r.child(e),o=this.Rc({path:a,mc:!1});return o.fc(e),o}gc(e){var r;const a=(r=this.path)===null||r===void 0?void 0:r.child(e),o=this.Rc({path:a,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Cc(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(Ab(this.Ec)&&tD.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class rD{constructor(e,r,a){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=a||pc(e)}Dc(e,r,a,o=!1){return new Id({Ec:e,methodName:r,bc:a,path:Jt.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _b(n){const e=n._freezeSettings(),r=pc(n._databaseId);return new rD(n._databaseId,!!e.ignoreUndefinedProperties,r)}function iD(n,e,r,a,o,u={}){const h=n.Dc(u.merge||u.mergeFields?2:0,e,r,o);Md("Data must be an object, but it was:",h,a);const d=Nb(a,h);let m,g;if(u.merge)m=new On(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const v=[];for(const k of u.mergeFields){const T=Od(e,k,r);if(!h.contains(T))throw new be(ne.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);Ib(v,T)||v.push(T)}m=new On(v),g=h.fieldTransforms.filter((k=>m.covers(k.field)))}else m=null,g=h.fieldTransforms;return new nD(new Cn(d),m,g)}class Tc extends Sc{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Tc}}class Pd extends Sc{constructor(e,r){super(e),this.Cc=r}_toFieldTransform(e){const r=new tl(e.serializer,s0(e.serializer,this.Cc));return new GA(e.path,r)}isEqual(e){return e instanceof Pd&&this.Cc===e.Cc}}function aD(n,e,r,a){const o=n.Dc(1,e,r);Md("Data must be an object, but it was:",o,a);const u=[],h=Cn.empty();Pi(a,((m,g)=>{const v=Ld(e,m,r);g=ur(g);const k=o.gc(v);if(g instanceof Tc)u.push(v);else{const T=xc(g,k);T!=null&&(u.push(v),h.set(v,T))}}));const d=new On(u);return new Cb(h,d,o.fieldTransforms)}function sD(n,e,r,a,o,u){const h=n.Dc(1,e,r),d=[Od(e,a,r)],m=[o];if(u.length%2!=0)throw new be(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<u.length;T+=2)d.push(Od(e,u[T])),m.push(u[T+1]);const g=[],v=Cn.empty();for(let T=d.length-1;T>=0;--T)if(!Ib(g,d[T])){const _=d[T];let j=m[T];j=ur(j);const B=h.gc(_);if(j instanceof Tc)g.push(_);else{const F=xc(j,B);F!=null&&(g.push(_),v.set(_,F))}}const k=new On(g);return new Cb(v,k,h.fieldTransforms)}function xc(n,e){if(Db(n=ur(n)))return Md("Unsupported field value:",e,n),Nb(n,e);if(n instanceof Sc)return(function(r,a){if(!Ab(a.Ec))throw a.wc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.wc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,a){const o=[];let u=0;for(const h of r){let d=xc(h,a.yc(u));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),u++}return{arrayValue:{values:o}}})(n,e)}return(function(r,a){if((r=ur(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return s0(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=ft.fromDate(r);return{timestampValue:hc(a.serializer,o)}}if(r instanceof ft){const o=new ft(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hc(a.serializer,o)}}if(r instanceof Tr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Kn)return{bytesValue:x0(a.serializer,r._byteString)};if(r instanceof Pt){const o=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw a.wc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ad(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof xr)return(function(o,u){return{mapValue:{fields:{[Rv]:{stringValue:jv},[Xu]:{arrayValue:{values:o.toArray().map((h=>{if(typeof h!="number")throw u.wc("VectorValues must only contain numeric values.");return td(u.serializer,h)}))}}}}}})(r,a);throw a.wc(`Unsupported field value: ${Bf(r)}`)})(n,e)}function Nb(n,e){const r={};return Dv(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pi(n,((a,o)=>{const u=xc(o,e.Vc(a));u!=null&&(r[a]=u)})),{mapValue:{fields:r}}}function Db(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ft||n instanceof Tr||n instanceof Kn||n instanceof Pt||n instanceof Sc||n instanceof xr)}function Md(n,e,r){if(!Db(r)||!Tv(r)){const a=Bf(r);throw a==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+a)}}function Od(n,e,r){if((e=ur(e))instanceof Ec)return e._internalPath;if(typeof e=="string")return Ld(n,e);throw Cc("Field path arguments must be of type string or ",n,!1,void 0,r)}const oD=new RegExp("[~\\*/\\[\\]]");function Ld(n,e,r){if(e.search(oD)>=0)throw Cc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,r);try{return new Ec(...e.split("."))._internalPath}catch{throw Cc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,r)}}function Cc(n,e,r,a,o){const u=a&&!a.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;r&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(u||h)&&(m+=" (found",u&&(m+=` in field ${a}`),h&&(m+=` in document ${o}`),m+=")"),new be(ne.INVALID_ARGUMENT,d+n+m)}function Ib(n,e){return n.some((r=>r.isEqual(e)))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Pb{constructor(e,r,a,o,u){this._firestore=e,this._userDataWriter=r,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Mb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class lD extends Pb{data(){return super.data()}}function Mb(n,e){return typeof e=="string"?Ld(n,e):e instanceof Ec?e._internalPath:e._delegate._internalPath}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function uD(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new be(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cD{convertValue(e,r="none"){switch(Li(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Oi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const a={};return Pi(e,((o,u)=>{a[o]=this.convertValue(u,r)})),a}convertVectorValue(e){var r,a,o;const u=(o=(a=(r=e.fields)===null||r===void 0?void 0:r[Xu].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map((h=>xt(h.doubleValue)));return new xr(u)}convertGeoPoint(e){return new Tr(xt(e.latitude),xt(e.longitude))}convertArray(e,r){return(e.values||[]).map((a=>this.convertValue(a,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const a=Gu(e);return a==null?null:this.convertValue(a,r);case"estimate":return this.convertTimestamp(Ko(e));default:return null}}convertTimestamp(e){const r=Mi(e);return new ft(r.seconds,r.nanos)}convertDocumentKey(e,r){const a=ht.fromString(e);Je(P0(a),9688,{name:e});const o=new Go(a.get(1),a.get(3)),u=new Se(a.popFirst(5));return o.isEqual(r)||Hr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),u}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function hD(n,e,r){let a;return a=n?n.toFirestore(e):e,a}class ul{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ia extends Pb{constructor(e,r,a,o,u,h){super(e,r,a,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Ac(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const a=this._document.data.field(Mb("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new be(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=Ia._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()||(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED")),r}}Ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ia._jsonSchema={type:Dt("string",Ia._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class Ac extends Ia{data(e={}){return super.data(e)}}class Is{constructor(e,r,a,o){this._firestore=e,this._userDataWriter=r,this._snapshot=o,this.metadata=new ul(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((a=>{e.call(r,new Ac(this._firestore,this._userDataWriter,a.key,a,new ul(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new be(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((h=>{const d=new Ac(a._firestore,a._userDataWriter,h.doc.key,h.doc,new ul(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const d=new Ac(a._firestore,a._userDataWriter,h.doc.key,h.doc,new ul(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,g=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),g=u.indexOf(h.doc.key)),{type:fD(h.type),doc:d,oldIndex:m,newIndex:g}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new be(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Is._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Uf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],a=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(r.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function fD(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:n})}}Is._jsonSchemaVersion="firestore/querySnapshot/1.0",Is._jsonSchema={type:Dt("string",Is._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class Ob extends cD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kn(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,r)}}function Lb(n,e,r){n=Di(n,Pt);const a=Di(n.firestore,ll),o=hD(n.converter,e);return Rb(a,[iD(_b(a),"setDoc",n._key,o,n.converter!==null,r).toMutation(n._key,Er.none())])}function Vb(n,e,r,...a){n=Di(n,Pt);const o=Di(n.firestore,ll),u=_b(o);let h;return h=typeof(e=ur(e))=="string"||e instanceof Ec?sD(u,"updateDoc",n._key,e,r,a):aD(u,"updateDoc",n._key,e),Rb(o,[h.toMutation(n._key,Er.exists(!0))])}function dD(n,...e){var r,a,o;n=ur(n);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||Tb(e[h])||(u=e[h++]);const d={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(Tb(e[h])){const k=e[h];e[h]=(r=k.next)===null||r===void 0?void 0:r.bind(k),e[h+1]=(a=k.error)===null||a===void 0?void 0:a.bind(k),e[h+2]=(o=k.complete)===null||o===void 0?void 0:o.bind(k)}let m,g,v;if(n instanceof Pt)g=Di(n.firestore,ll),v=Zf(n._key.path),m={next:k=>{e[h]&&e[h](pD(g,n,k))},error:e[h+1],complete:e[h+2]};else{const k=Di(n,wc);g=Di(k.firestore,ll),v=k._query;const T=new Ob(g);m={next:_=>{e[h]&&e[h](new Is(g,T,k,_))},error:e[h+1],complete:e[h+2]},uD(n._query)}return(function(k,T,_,j){const B=new GN(j),F=new _N(T,B,_);return k.asyncQueue.enqueueAndForget((async()=>TN(await mb(k),F))),()=>{B.Ou(),k.asyncQueue.enqueueAndForget((async()=>xN(await mb(k),F)))}})(xb(g),v,d,m)}function Rb(n,e){return(function(r,a){const o=new Ca;return r.asyncQueue.enqueueAndForget((async()=>jN(await XN(r),a,o))),o.promise})(xb(n),e)}function pD(n,e,r){const a=r.docs.get(e._key),o=new Ob(n);return new Ia(n,o,e._key,a,new ul(r.hasPendingWrites,r.fromCache),e.converter)}function Ps(n){return new Pd("increment",n)}(function(n,e=!0){(function(r){ys=r})(Sx),Ci(new Br("firestore",((r,{instanceIdentifier:a,options:o})=>{const u=r.getProvider("app").getImmediate(),h=new ll(new rA(r.getProvider("auth-internal")),new sA(u,r.getProvider("app-check-internal")),(function(d,m){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new be(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Go(d.options.projectId,m)})(u,a),u);return o=Object.assign({useFetchStreams:e},o),h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),yr(dv,pv,n),yr(dv,pv,"esm2017")})();const jb={apiKey:"AIzaSyBDD29_0DyHGF2J6804sOothQileESrLuA",authDomain:"fragen-katalog.firebaseapp.com",projectId:"fragen-katalog",storageBucket:"fragen-katalog.firebasestorage.app",messagingSenderId:"208859056966",appId:"1:208859056966:web:039f86d0b8722e4395f347",measurementId:"G-STMLG4PCQ1"},Fb=Ey(jb),cl=ZN(Fb),mD=()=>YC().then(n=>{if(n){let e=function(){window.dataLayer.push(arguments)};const r=WC(Fb);return window.dataLayer=window.dataLayer||[],e("js",new Date),e("config",jb.measurementId,{debug_mode:!0}),console.log(" Firebase Analytics initialized with debug_mode"),r}else return console.warn(" Firebase Analytics not supported on this device."),null});function gD({question:n,answers:e,correctIndex:r,selectedAnswer:a,onSelectAnswer:o,id:u,imageId:h}){const[d,m]=ge.useState(!1);if(ge.useEffect(()=>{const v=k=>{k.key==="Escape"&&m(!1)};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[]),!n||!e||e.length===0)return ie.jsx("p",{className:"text-base",children:"Loading question..."});const g=h?`/images/${h}.png`:null;return ie.jsxs(ie.Fragment,{children:[ie.jsxs("div",{className:"flashcard",children:[ie.jsxs("div",{className:"question-section",children:[g&&ie.jsx("img",{src:g,alt:`Bild zur Frage ${u}`,className:"question-image",onClick:()=>m(!0)}),ie.jsx("p",{className:"question-text text-base font-medium mb-4 mt-2",children:n}),ie.jsx("div",{className:"answer-list",children:e.map((v,k)=>{const T=a!==null,_=k===r,j=k===a;let B="answer-button text-base";return T&&(_?B+=" correct":j&&(B+=" wrong")),ie.jsx("button",{className:B,onClick:F=>{F.preventDefault(),o(k)},disabled:T,children:v},k)})})]}),ie.jsxs("div",{className:"question-meta text-sm text-muted-light",children:["Frage #",u]})]}),d&&g&&ie.jsx("div",{className:"lightbox-overlay",onClick:()=>m(!1),children:ie.jsx("img",{src:g,alt:`Frage ${u} gro`,className:"lightbox-image",onClick:v=>v.stopPropagation()})})]})}function Ln(n,e={}){mD().then(r=>{r?(rv(r,n,e),console.log(` Logged: ${n}`,e)):console.warn(` Analytics not initialized  could not log ${n}`)})}function zb({variant:n="soft",style:e={},className:r="",fullWidth:a=!1}){const o=()=>{Ln("support_this_project_clicked"),window.open("https://www.buymeacoffee.com/roiesh","_blank")},u={padding:"12px 20px",borderRadius:"12px",fontWeight:"500",fontSize:"15px",border:"none",cursor:"pointer",display:"inline-block",padding:"12px 20px",maxWidth:"90vw",whiteSpace:"nowrap",textAlign:"center",transition:"all 0.2s ease",zindex:1e3,...e},h=n==="modal"?{backgroundColor:"var(--color-primary)",color:"white"}:{backgroundColor:"#f2f7fc",color:"var(--color-primary)",boxShadow:"0 2px 6px rgba(0,0,0,0.08)"};return ie.jsx("button",{onClick:o,className:`support-button ${r}`,style:{...u,...h},children:ie.jsxs("span",{style:{display:"inline-block",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:"15px"},children:[ie.jsx("span",{role:"img","aria-label":"heart",children:""})," Support this project"]})})}function yD({onClose:n}){const[e,r]=ge.useState("de"),a=h=>{h.target.classList.contains("about-modal-overlay")&&(Ln("modal_closed_without_click",{modal:"about"}),u())},o=h=>{r(h)},u=()=>{Ln("about_language_read",{language:e}),n()};return ie.jsx("div",{className:"about-modal-overlay",onClick:a,children:ie.jsxs("div",{className:"about-modal overflow-y-auto max-h-[90vh] flex flex-col relative pb-[180px]",children:[ie.jsxs("div",{className:"w-full flex justify-between items-center px-4 mb-4",children:[ie.jsxs("h2",{className:"text-xl font-bold flex items-center gap-4",children:["ber",ie.jsxs("span",{className:"flex gap-2",children:[ie.jsx("button",{onClick:()=>o("de"),style:{fontSize:"18px",background:"none",border:"none",cursor:"pointer",opacity:e==="de"?1:.4},"aria-label":"Deutsch",children:""}),ie.jsx("button",{onClick:()=>o("en"),style:{fontSize:"18px",background:"none",border:"none",cursor:"pointer",opacity:e==="en"?1:.4},"aria-label":"English",children:""})]})]}),ie.jsx("button",{className:"close-button",onClick:u,children:""})]}),ie.jsx("div",{className:"max-w-prose w-full px-4 text-center",children:e==="de"?ie.jsxs("p",{className:"text-base",children:[ie.jsx("span",{className:"text-base font-semibold",children:"Diese Seite enthlt alle offiziellen Fragen und Antworten fr den Einbrgerungstest in Berlin."}),ie.jsx("br",{}),"Ich habe diese Website als Lernhilfe fr den Einbrgerungstest Leben in Deutschland erstellt. Die Fragen basieren auf dem offiziellen Fragenkatalog der Bundeszentrale fr politische Bildung  inklusive des landesspezifischen Teils fr Berlin. Ich bernehme keine Gewhr fr Richtigkeit oder Aktualitt. Dies ist ein rein privates Nebenprojekt  keine Anmeldung, keine Werbung, keine Verbindung zu staatlichen Stellen.",ie.jsx("br",{}),"Diese Website verwendet Google Analytics, um anonyme Nutzungsstatistiken zu erfassen. Es werden keine persnlichen Daten gespeichert oder weitergegeben."]}):ie.jsxs("p",{className:"text-base",children:[ie.jsx("span",{className:"text-base font-semibold",children:"This site includes all official questions and answers for the Berlin naturalization test."}),ie.jsx("br",{}),ie.jsx("br",{}),"I built this website as a personal study tool for the Leben in Deutschland naturalization test. The questions are based on the official public catalog  including the state-specific questions for Berlin. Some states have different regional questions. I cant guarantee accuracy or updates. This is a private side project  no login, no ads, no government affiliation.",ie.jsx("br",{}),ie.jsx("br",{}),"This site uses Google Analytics to collect anonymous usage data. No personal data is stored or shared."]})}),ie.jsxs("div",{style:{position:"absolute",bottom:"40px",left:"50%",transform:"translateX(-50%)",display:"flex",flexDirection:"column",alignItems:"center",width:"90%",gap:"30px"},children:[ie.jsx("a",{href:"mailto:fragen@fragen-katalog.com",className:"text-base text-center",style:{textDecoration:"underline",color:"var(--color-primary)",fontWeight:500},children:"fragen@fragen-katalog.com"}),ie.jsx(zb,{fullWidth:!0,variant:"modal",style:{whiteSpace:"nowrap"}})]})]})})}const Ub=ge.createContext({});function vD(n){const e=ge.useRef(null);return e.current===null&&(e.current=n()),e.current}const Vd=typeof window<"u",bD=Vd?ge.useLayoutEffect:ge.useEffect,Rd=ge.createContext(null);function jd(n,e){n.indexOf(e)===-1&&n.push(e)}function Fd(n,e){const r=n.indexOf(e);r>-1&&n.splice(r,1)}const Gr=(n,e,r)=>r>e?e:r<n?n:r;let zd=()=>{};const Qr={},qb=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function Bb(n){return typeof n=="object"&&n!==null}const $b=n=>/^0[^.\s]+$/u.test(n);function Ud(n){let e;return()=>(e===void 0&&(e=n()),e)}const Gn=n=>n,wD=(n,e)=>r=>e(n(r)),hl=(...n)=>n.reduce(wD),fl=(n,e,r)=>{const a=e-n;return a===0?1:(r-n)/a};class qd{constructor(){this.subscriptions=[]}add(e){return jd(this.subscriptions,e),()=>Fd(this.subscriptions,e)}notify(e,r,a){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,r,a);else for(let u=0;u<o;u++){const h=this.subscriptions[u];h&&h(e,r,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Cr=n=>n*1e3,Qn=n=>n/1e3;function Hb(n,e){return e?n*(1e3/e):0}const Kb=(n,e,r)=>(((1-3*r+3*e)*n+(3*r-6*e))*n+3*e)*n,kD=1e-7,ED=12;function SD(n,e,r,a,o){let u,h,d=0;do h=e+(r-e)/2,u=Kb(h,a,o)-n,u>0?r=h:e=h;while(Math.abs(u)>kD&&++d<ED);return h}function dl(n,e,r,a){if(n===e&&r===a)return Gn;const o=u=>SD(u,0,1,n,r);return u=>u===0||u===1?u:Kb(o(u),e,a)}const Gb=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,Qb=n=>e=>1-n(1-e),Wb=dl(.33,1.53,.69,.99),Bd=Qb(Wb),Xb=Gb(Bd),Yb=n=>(n*=2)<1?.5*Bd(n):.5*(2-Math.pow(2,-10*(n-1))),$d=n=>1-Math.sin(Math.acos(n)),Jb=Qb($d),Zb=Gb($d),TD=dl(.42,0,1,1),xD=dl(0,0,.58,1),ew=dl(.42,0,.58,1),CD=n=>Array.isArray(n)&&typeof n[0]!="number",tw=n=>Array.isArray(n)&&typeof n[0]=="number",AD={linear:Gn,easeIn:TD,easeInOut:ew,easeOut:xD,circIn:$d,circInOut:Zb,circOut:Jb,backIn:Bd,backInOut:Xb,backOut:Wb,anticipate:Yb},_D=n=>typeof n=="string",nw=n=>{if(tw(n)){zd(n.length===4);const[e,r,a,o]=n;return dl(e,r,a,o)}else if(_D(n))return AD[n];return n},_c=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function ND(n,e){let r=new Set,a=new Set,o=!1,u=!1;const h=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(v){h.has(v)&&(g.schedule(v),n()),v(d)}const g={schedule:(v,k=!1,T=!1)=>{const _=T&&o?r:a;return k&&h.add(v),_.has(v)||_.add(v),v},cancel:v=>{a.delete(v),h.delete(v)},process:v=>{if(d=v,o){u=!0;return}o=!0,[r,a]=[a,r],r.forEach(m),r.clear(),o=!1,u&&(u=!1,g.process(v))}};return g}const DD=40;function rw(n,e){let r=!1,a=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>r=!0,h=_c.reduce((W,te)=>(W[te]=ND(u),W),{}),{setup:d,read:m,resolveKeyframes:g,preUpdate:v,update:k,preRender:T,render:_,postRender:j}=h,B=()=>{const W=Qr.useManualTiming?o.timestamp:performance.now();r=!1,Qr.useManualTiming||(o.delta=a?1e3/60:Math.max(Math.min(W-o.timestamp,DD),1)),o.timestamp=W,o.isProcessing=!0,d.process(o),m.process(o),g.process(o),v.process(o),k.process(o),T.process(o),_.process(o),j.process(o),o.isProcessing=!1,r&&e&&(a=!1,n(B))},F=()=>{r=!0,a=!0,o.isProcessing||n(B)};return{schedule:_c.reduce((W,te)=>{const ae=h[te];return W[te]=(pe,le=!1,ye=!1)=>(r||F(),ae.schedule(pe,le,ye)),W},{}),cancel:W=>{for(let te=0;te<_c.length;te++)h[_c[te]].cancel(W)},state:o,steps:h}}const{schedule:pt,cancel:Ui,state:tn,steps:Hd}=rw(typeof requestAnimationFrame<"u"?requestAnimationFrame:Gn,!0);let Nc;function ID(){Nc=void 0}const _n={now:()=>(Nc===void 0&&_n.set(tn.isProcessing||Qr.useManualTiming?tn.timestamp:performance.now()),Nc),set:n=>{Nc=n,queueMicrotask(ID)}},iw=n=>e=>typeof e=="string"&&e.startsWith(n),Kd=iw("--"),PD=iw("var(--"),Gd=n=>PD(n)?MD.test(n.split("/*")[0].trim()):!1,MD=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ms={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},pl={...Ms,transform:n=>Gr(0,1,n)},Dc={...Ms,default:1},ml=n=>Math.round(n*1e5)/1e5,Qd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function OD(n){return n==null}const LD=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Wd=(n,e)=>r=>!!(typeof r=="string"&&LD.test(r)&&r.startsWith(n)||e&&!OD(r)&&Object.prototype.hasOwnProperty.call(r,e)),aw=(n,e,r)=>a=>{if(typeof a!="string")return a;const[o,u,h,d]=a.match(Qd);return{[n]:parseFloat(o),[e]:parseFloat(u),[r]:parseFloat(h),alpha:d!==void 0?parseFloat(d):1}},VD=n=>Gr(0,255,n),Xd={...Ms,transform:n=>Math.round(VD(n))},Pa={test:Wd("rgb","red"),parse:aw("red","green","blue"),transform:({red:n,green:e,blue:r,alpha:a=1})=>"rgba("+Xd.transform(n)+", "+Xd.transform(e)+", "+Xd.transform(r)+", "+ml(pl.transform(a))+")"};function RD(n){let e="",r="",a="",o="";return n.length>5?(e=n.substring(1,3),r=n.substring(3,5),a=n.substring(5,7),o=n.substring(7,9)):(e=n.substring(1,2),r=n.substring(2,3),a=n.substring(3,4),o=n.substring(4,5),e+=e,r+=r,a+=a,o+=o),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(a,16),alpha:o?parseInt(o,16)/255:1}}const Yd={test:Wd("#"),parse:RD,transform:Pa.transform},gl=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),qi=gl("deg"),Ar=gl("%"),Ae=gl("px"),jD=gl("vh"),FD=gl("vw"),sw={...Ar,parse:n=>Ar.parse(n)/100,transform:n=>Ar.transform(n*100)},Os={test:Wd("hsl","hue"),parse:aw("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:r,alpha:a=1})=>"hsla("+Math.round(n)+", "+Ar.transform(ml(e))+", "+Ar.transform(ml(r))+", "+ml(pl.transform(a))+")"},Mt={test:n=>Pa.test(n)||Yd.test(n)||Os.test(n),parse:n=>Pa.test(n)?Pa.parse(n):Os.test(n)?Os.parse(n):Yd.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Pa.transform(n):Os.transform(n),getAnimatableNone:n=>{const e=Mt.parse(n);return e.alpha=0,Mt.transform(e)}},zD=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function UD(n){var e,r;return isNaN(n)&&typeof n=="string"&&(((e=n.match(Qd))==null?void 0:e.length)||0)+(((r=n.match(zD))==null?void 0:r.length)||0)>0}const ow="number",lw="color",qD="var",BD="var(",uw="${}",$D=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function yl(n){const e=n.toString(),r=[],a={color:[],number:[],var:[]},o=[];let u=0;const h=e.replace($D,d=>(Mt.test(d)?(a.color.push(u),o.push(lw),r.push(Mt.parse(d))):d.startsWith(BD)?(a.var.push(u),o.push(qD),r.push(d)):(a.number.push(u),o.push(ow),r.push(parseFloat(d))),++u,uw)).split(uw);return{values:r,split:h,indexes:a,types:o}}function cw(n){return yl(n).values}function hw(n){const{split:e,types:r}=yl(n),a=e.length;return o=>{let u="";for(let h=0;h<a;h++)if(u+=e[h],o[h]!==void 0){const d=r[h];d===ow?u+=ml(o[h]):d===lw?u+=Mt.transform(o[h]):u+=o[h]}return u}}const HD=n=>typeof n=="number"?0:Mt.test(n)?Mt.getAnimatableNone(n):n;function KD(n){const e=cw(n);return hw(n)(e.map(HD))}const Bi={test:UD,parse:cw,createTransformer:hw,getAnimatableNone:KD};function Jd(n,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?n+(e-n)*6*r:r<1/2?e:r<2/3?n+(e-n)*(2/3-r)*6:n}function GD({hue:n,saturation:e,lightness:r,alpha:a}){n/=360,e/=100,r/=100;let o=0,u=0,h=0;if(!e)o=u=h=r;else{const d=r<.5?r*(1+e):r+e-r*e,m=2*r-d;o=Jd(m,d,n+1/3),u=Jd(m,d,n),h=Jd(m,d,n-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(h*255),alpha:a}}function Ic(n,e){return r=>r>0?e:n}const bt=(n,e,r)=>n+(e-n)*r,Zd=(n,e,r)=>{const a=n*n,o=r*(e*e-a)+a;return o<0?0:Math.sqrt(o)},QD=[Yd,Pa,Os],WD=n=>QD.find(e=>e.test(n));function fw(n){const e=WD(n);if(!e)return!1;let r=e.parse(n);return e===Os&&(r=GD(r)),r}const dw=(n,e)=>{const r=fw(n),a=fw(e);if(!r||!a)return Ic(n,e);const o={...r};return u=>(o.red=Zd(r.red,a.red,u),o.green=Zd(r.green,a.green,u),o.blue=Zd(r.blue,a.blue,u),o.alpha=bt(r.alpha,a.alpha,u),Pa.transform(o))},ep=new Set(["none","hidden"]);function XD(n,e){return ep.has(n)?r=>r<=0?n:e:r=>r>=1?e:n}function YD(n,e){return r=>bt(n,e,r)}function tp(n){return typeof n=="number"?YD:typeof n=="string"?Gd(n)?Ic:Mt.test(n)?dw:e4:Array.isArray(n)?pw:typeof n=="object"?Mt.test(n)?dw:JD:Ic}function pw(n,e){const r=[...n],a=r.length,o=n.map((u,h)=>tp(u)(u,e[h]));return u=>{for(let h=0;h<a;h++)r[h]=o[h](u);return r}}function JD(n,e){const r={...n,...e},a={};for(const o in r)n[o]!==void 0&&e[o]!==void 0&&(a[o]=tp(n[o])(n[o],e[o]));return o=>{for(const u in a)r[u]=a[u](o);return r}}function ZD(n,e){const r=[],a={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const u=e.types[o],h=n.indexes[u][a[u]],d=n.values[h]??0;r[o]=d,a[u]++}return r}const e4=(n,e)=>{const r=Bi.createTransformer(e),a=yl(n),o=yl(e);return a.indexes.var.length===o.indexes.var.length&&a.indexes.color.length===o.indexes.color.length&&a.indexes.number.length>=o.indexes.number.length?ep.has(n)&&!o.values.length||ep.has(e)&&!a.values.length?XD(n,e):hl(pw(ZD(a,o),o.values),r):Ic(n,e)};function mw(n,e,r){return typeof n=="number"&&typeof e=="number"&&typeof r=="number"?bt(n,e,r):tp(n)(n,e)}const t4=n=>{const e=({timestamp:r})=>n(r);return{start:(r=!0)=>pt.update(e,r),stop:()=>Ui(e),now:()=>tn.isProcessing?tn.timestamp:_n.now()}},gw=(n,e,r=10)=>{let a="";const o=Math.max(Math.round(e/r),2);for(let u=0;u<o;u++)a+=Math.round(n(u/(o-1))*1e4)/1e4+", ";return`linear(${a.substring(0,a.length-2)})`},Pc=2e4;function np(n){let e=0;const r=50;let a=n.next(e);for(;!a.done&&e<Pc;)e+=r,a=n.next(e);return e>=Pc?1/0:e}function n4(n,e=100,r){const a=r({...n,keyframes:[0,e]}),o=Math.min(np(a),Pc);return{type:"keyframes",ease:u=>a.next(o*u).value/e,duration:Qn(o)}}const r4=5;function yw(n,e,r){const a=Math.max(e-r4,0);return Hb(r-n(a),e-a)}const Et={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},rp=.001;function i4({duration:n=Et.duration,bounce:e=Et.bounce,velocity:r=Et.velocity,mass:a=Et.mass}){let o,u,h=1-e;h=Gr(Et.minDamping,Et.maxDamping,h),n=Gr(Et.minDuration,Et.maxDuration,Qn(n)),h<1?(o=g=>{const v=g*h,k=v*n,T=v-r,_=ip(g,h),j=Math.exp(-k);return rp-T/_*j},u=g=>{const v=g*h*n,k=v*r+r,T=Math.pow(h,2)*Math.pow(g,2)*n,_=Math.exp(-v),j=ip(Math.pow(g,2),h);return(-o(g)+rp>0?-1:1)*((k-T)*_)/j}):(o=g=>{const v=Math.exp(-g*n),k=(g-r)*n+1;return-rp+v*k},u=g=>{const v=Math.exp(-g*n),k=(r-g)*(n*n);return v*k});const d=5/n,m=s4(o,u,d);if(n=Cr(n),isNaN(m))return{stiffness:Et.stiffness,damping:Et.damping,duration:n};{const g=Math.pow(m,2)*a;return{stiffness:g,damping:h*2*Math.sqrt(a*g),duration:n}}}const a4=12;function s4(n,e,r){let a=r;for(let o=1;o<a4;o++)a=a-n(a)/e(a);return a}function ip(n,e){return n*Math.sqrt(1-e*e)}const o4=["duration","bounce"],l4=["stiffness","damping","mass"];function vw(n,e){return e.some(r=>n[r]!==void 0)}function u4(n){let e={velocity:Et.velocity,stiffness:Et.stiffness,damping:Et.damping,mass:Et.mass,isResolvedFromDuration:!1,...n};if(!vw(n,l4)&&vw(n,o4))if(n.visualDuration){const r=n.visualDuration,a=2*Math.PI/(r*1.2),o=a*a,u=2*Gr(.05,1,1-(n.bounce||0))*Math.sqrt(o);e={...e,mass:Et.mass,stiffness:o,damping:u}}else{const r=i4(n);e={...e,...r,mass:Et.mass},e.isResolvedFromDuration=!0}return e}function Mc(n=Et.visualDuration,e=Et.bounce){const r=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:a,restDelta:o}=r;const u=r.keyframes[0],h=r.keyframes[r.keyframes.length-1],d={done:!1,value:u},{stiffness:m,damping:g,mass:v,duration:k,velocity:T,isResolvedFromDuration:_}=u4({...r,velocity:-Qn(r.velocity||0)}),j=T||0,B=g/(2*Math.sqrt(m*v)),F=h-u,W=Qn(Math.sqrt(m/v)),te=Math.abs(F)<5;a||(a=te?Et.restSpeed.granular:Et.restSpeed.default),o||(o=te?Et.restDelta.granular:Et.restDelta.default);let ae;if(B<1){const le=ip(W,B);ae=ye=>{const M=Math.exp(-B*W*ye);return h-M*((j+B*W*F)/le*Math.sin(le*ye)+F*Math.cos(le*ye))}}else if(B===1)ae=le=>h-Math.exp(-W*le)*(F+(j+W*F)*le);else{const le=W*Math.sqrt(B*B-1);ae=ye=>{const M=Math.exp(-B*W*ye),A=Math.min(le*ye,300);return h-M*((j+B*W*F)*Math.sinh(A)+le*F*Math.cosh(A))/le}}const pe={calculatedDuration:_&&k||null,next:le=>{const ye=ae(le);if(_)d.done=le>=k;else{let M=le===0?j:0;B<1&&(M=le===0?Cr(j):yw(ae,le,ye));const A=Math.abs(M)<=a,N=Math.abs(h-ye)<=o;d.done=A&&N}return d.value=d.done?h:ye,d},toString:()=>{const le=Math.min(np(pe),Pc),ye=gw(M=>pe.next(le*M).value,le,30);return le+"ms "+ye},toTransition:()=>{}};return pe}Mc.applyToOptions=n=>{const e=n4(n,100,Mc);return n.ease=e.ease,n.duration=Cr(e.duration),n.type="keyframes",n};function ap({keyframes:n,velocity:e=0,power:r=.8,timeConstant:a=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:h,min:d,max:m,restDelta:g=.5,restSpeed:v}){const k=n[0],T={done:!1,value:k},_=A=>d!==void 0&&A<d||m!==void 0&&A>m,j=A=>d===void 0?m:m===void 0||Math.abs(d-A)<Math.abs(m-A)?d:m;let B=r*e;const F=k+B,W=h===void 0?F:h(F);W!==F&&(B=W-k);const te=A=>-B*Math.exp(-A/a),ae=A=>W+te(A),pe=A=>{const N=te(A),P=ae(A);T.done=Math.abs(N)<=g,T.value=T.done?W:P};let le,ye;const M=A=>{_(T.value)&&(le=A,ye=Mc({keyframes:[T.value,j(T.value)],velocity:yw(ae,A,T.value),damping:o,stiffness:u,restDelta:g,restSpeed:v}))};return M(0),{calculatedDuration:null,next:A=>{let N=!1;return!ye&&le===void 0&&(N=!0,pe(A),M(A)),le!==void 0&&A>=le?ye.next(A-le):(!N&&pe(A),T)}}}function c4(n,e,r){const a=[],o=r||Qr.mix||mw,u=n.length-1;for(let h=0;h<u;h++){let d=o(n[h],n[h+1]);if(e){const m=Array.isArray(e)?e[h]||Gn:e;d=hl(m,d)}a.push(d)}return a}function h4(n,e,{clamp:r=!0,ease:a,mixer:o}={}){const u=n.length;if(zd(u===e.length),u===1)return()=>e[0];if(u===2&&e[0]===e[1])return()=>e[1];const h=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),e=[...e].reverse());const d=c4(e,a,o),m=d.length,g=v=>{if(h&&v<n[0])return e[0];let k=0;if(m>1)for(;k<n.length-2&&!(v<n[k+1]);k++);const T=fl(n[k],n[k+1],v);return d[k](T)};return r?v=>g(Gr(n[0],n[u-1],v)):g}function f4(n,e){const r=n[n.length-1];for(let a=1;a<=e;a++){const o=fl(0,e,a);n.push(bt(r,1,o))}}function d4(n){const e=[0];return f4(e,n.length-1),e}function p4(n,e){return n.map(r=>r*e)}function m4(n,e){return n.map(()=>e||ew).splice(0,n.length-1)}function vl({duration:n=300,keyframes:e,times:r,ease:a="easeInOut"}){const o=CD(a)?a.map(nw):nw(a),u={done:!1,value:e[0]},h=p4(r&&r.length===e.length?r:d4(e),n),d=h4(h,e,{ease:Array.isArray(o)?o:m4(e,o)});return{calculatedDuration:n,next:m=>(u.value=d(m),u.done=m>=n,u)}}const g4=n=>n!==null;function sp(n,{repeat:e,repeatType:r="loop"},a,o=1){const u=n.filter(g4),h=o<0||e&&r!=="loop"&&e%2===1?0:u.length-1;return!h||a===void 0?u[h]:a}const y4={decay:ap,inertia:ap,tween:vl,keyframes:vl,spring:Mc};function bw(n){typeof n.type=="string"&&(n.type=y4[n.type])}class op{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const v4=n=>n/100;class lp extends op{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,a;const{motionValue:o}=this.options;o&&o.updatedAt!==_n.now()&&this.tick(_n.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(r=this.options).onStop)==null||a.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;bw(e);const{type:r=vl,repeat:a=0,repeatDelay:o=0,repeatType:u,velocity:h=0}=e;let{keyframes:d}=e;const m=r||vl;m!==vl&&typeof d[0]!="number"&&(this.mixKeyframes=hl(v4,mw(d[0],d[1])),d=[0,100]);const g=m({...e,keyframes:d});u==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...d].reverse(),velocity:-h})),g.calculatedDuration===null&&(g.calculatedDuration=np(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+o,this.totalDuration=this.resolvedDuration*(a+1)-o,this.generator=g}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:a,totalDuration:o,mixKeyframes:u,mirroredGenerator:h,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return a.next(0);const{delay:g=0,keyframes:v,repeat:k,repeatType:T,repeatDelay:_,type:j,onUpdate:B,finalKeyframe:F}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const W=this.currentTime-g*(this.playbackSpeed>=0?1:-1),te=this.playbackSpeed>=0?W<0:W>o;this.currentTime=Math.max(W,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let ae=this.currentTime,pe=a;if(k){const A=Math.min(this.currentTime,o)/d;let N=Math.floor(A),P=A%1;!P&&A>=1&&(P=1),P===1&&N--,N=Math.min(N,k+1),N%2&&(T==="reverse"?(P=1-P,_&&(P-=_/d)):T==="mirror"&&(pe=h)),ae=Gr(0,1,P)*d}const le=te?{done:!1,value:v[0]}:pe.next(ae);u&&(le.value=u(le.value));let{done:ye}=le;!te&&m!==null&&(ye=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ye);return M&&j!==ap&&(le.value=sp(v,this.options,F,this.speed)),B&&B(le.value),M&&this.finish(),le}then(e,r){return this.finished.then(e,r)}get duration(){return Qn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Qn(e)}get time(){return Qn(this.currentTime)}set time(e){var r;e=Cr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(_n.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=Qn(this.currentTime))}play(){var e,r;if(this.isStopped)return;const{driver:a=t4,startTime:o}=this.options;this.driver||(this.driver=a(h=>this.tick(h))),(r=(e=this.options).onPlay)==null||r.call(e);const u=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=u):this.holdTime!==null?this.startTime=u-this.holdTime:this.startTime||(this.startTime=o??u),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(_n.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(e=this.options).onComplete)==null||r.call(e)}cancel(){var e,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(e=this.options).onCancel)==null||r.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),e.observe(this)}}function b4(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Ma=n=>n*180/Math.PI,up=n=>{const e=Ma(Math.atan2(n[1],n[0]));return cp(e)},w4={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:up,rotateZ:up,skewX:n=>Ma(Math.atan(n[1])),skewY:n=>Ma(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},cp=n=>(n=n%360,n<0&&(n+=360),n),ww=up,kw=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),Ew=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),k4={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:kw,scaleY:Ew,scale:n=>(kw(n)+Ew(n))/2,rotateX:n=>cp(Ma(Math.atan2(n[6],n[5]))),rotateY:n=>cp(Ma(Math.atan2(-n[2],n[0]))),rotateZ:ww,rotate:ww,skewX:n=>Ma(Math.atan(n[4])),skewY:n=>Ma(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function hp(n){return n.includes("scale")?1:0}function fp(n,e){if(!n||n==="none")return hp(e);const r=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,o;if(r)a=k4,o=r;else{const d=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=w4,o=d}if(!o)return hp(e);const u=a[e],h=o[1].split(",").map(S4);return typeof u=="function"?u(h):h[u]}const E4=(n,e)=>{const{transform:r="none"}=getComputedStyle(n);return fp(r,e)};function S4(n){return parseFloat(n.trim())}const Ls=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Vs=new Set(Ls),Sw=n=>n===Ms||n===Ae,T4=new Set(["x","y","z"]),x4=Ls.filter(n=>!T4.has(n));function C4(n){const e=[];return x4.forEach(r=>{const a=n.getValue(r);a!==void 0&&(e.push([r,a.get()]),a.set(r.startsWith("scale")?1:0))}),e}const Oa={width:({x:n},{paddingLeft:e="0",paddingRight:r="0"})=>n.max-n.min-parseFloat(e)-parseFloat(r),height:({y:n},{paddingTop:e="0",paddingBottom:r="0"})=>n.max-n.min-parseFloat(e)-parseFloat(r),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>fp(e,"x"),y:(n,{transform:e})=>fp(e,"y")};Oa.translateX=Oa.x,Oa.translateY=Oa.y;const La=new Set;let dp=!1,pp=!1,mp=!1;function Tw(){if(pp){const n=Array.from(La).filter(a=>a.needsMeasurement),e=new Set(n.map(a=>a.element)),r=new Map;e.forEach(a=>{const o=C4(a);o.length&&(r.set(a,o),a.render())}),n.forEach(a=>a.measureInitialState()),e.forEach(a=>{a.render();const o=r.get(a);o&&o.forEach(([u,h])=>{var d;(d=a.getValue(u))==null||d.set(h)})}),n.forEach(a=>a.measureEndState()),n.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}pp=!1,dp=!1,La.forEach(n=>n.complete(mp)),La.clear()}function xw(){La.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(pp=!0)})}function A4(){mp=!0,xw(),Tw(),mp=!1}class gp{constructor(e,r,a,o,u,h=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=a,this.motionValue=o,this.element=u,this.isAsync=h}scheduleResolve(){this.state="scheduled",this.isAsync?(La.add(this),dp||(dp=!0,pt.read(xw),pt.resolveKeyframes(Tw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:a,motionValue:o}=this;if(e[0]===null){const u=o==null?void 0:o.get(),h=e[e.length-1];if(u!==void 0)e[0]=u;else if(a&&r){const d=a.readValue(r,h);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=h),o&&u===void 0&&o.set(e[0])}b4(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),La.delete(this)}cancel(){this.state==="scheduled"&&(La.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const _4=n=>n.startsWith("--");function N4(n,e,r){_4(e)?n.style.setProperty(e,r):n.style[e]=r}const D4=Ud(()=>window.ScrollTimeline!==void 0),I4={};function P4(n,e){const r=Ud(n);return()=>I4[e]??r()}const Cw=P4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),bl=([n,e,r,a])=>`cubic-bezier(${n}, ${e}, ${r}, ${a})`,Aw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:bl([0,.65,.55,1]),circOut:bl([.55,0,1,.45]),backIn:bl([.31,.01,.66,-.59]),backOut:bl([.33,1.53,.69,.99])};function _w(n,e){if(n)return typeof n=="function"?Cw()?gw(n,e):"ease-out":tw(n)?bl(n):Array.isArray(n)?n.map(r=>_w(r,e)||Aw.easeOut):Aw[n]}function M4(n,e,r,{delay:a=0,duration:o=300,repeat:u=0,repeatType:h="loop",ease:d="easeOut",times:m}={},g=void 0){const v={[e]:r};m&&(v.offset=m);const k=_w(d,o);Array.isArray(k)&&(v.easing=k);const T={delay:a,duration:o,easing:Array.isArray(k)?"linear":k,fill:"both",iterations:u+1,direction:h==="reverse"?"alternate":"normal"};return g&&(T.pseudoElement=g),n.animate(v,T)}function Nw(n){return typeof n=="function"&&"applyToOptions"in n}function O4({type:n,...e}){return Nw(n)&&Cw()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class L4 extends op{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:a,keyframes:o,pseudoElement:u,allowFlatten:h=!1,finalKeyframe:d,onComplete:m}=e;this.isPseudoElement=!!u,this.allowFlatten=h,this.options=e,zd(typeof e.type!="string");const g=O4(e);this.animation=M4(r,a,o,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const v=sp(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(v):N4(r,a,v),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var e,r;const a=((r=(e=this.animation.effect)==null?void 0:e.getComputedTiming)==null?void 0:r.call(e).duration)||0;return Qn(Number(a))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Qn(e)}get time(){return Qn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Cr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var a;return this.allowFlatten&&((a=this.animation.effect)==null||a.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&D4()?(this.animation.timeline=e,Gn):r(this)}}const Dw={anticipate:Yb,backInOut:Xb,circInOut:Zb};function V4(n){return n in Dw}function R4(n){typeof n.ease=="string"&&V4(n.ease)&&(n.ease=Dw[n.ease])}const Iw=10;class j4 extends L4{constructor(e){R4(e),bw(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:a,onComplete:o,element:u,...h}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const d=new lp({...h,autoplay:!1}),m=Cr(this.finishedTime??this.time);r.setWithVelocity(d.sample(m-Iw).value,d.sample(m).value,Iw),d.stop()}}const Pw=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Bi.test(n)||n==="0")&&!n.startsWith("url("));function F4(n){const e=n[0];if(n.length===1)return!0;for(let r=0;r<n.length;r++)if(n[r]!==e)return!0}function z4(n,e,r,a){const o=n[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const u=n[n.length-1],h=Pw(o,e),d=Pw(u,e);return!h||!d?!1:F4(n)||(r==="spring"||Nw(r))&&a}function yp(n){n.duration=0,n.type="keyframes"}const U4=new Set(["opacity","clipPath","filter","transform"]),q4=Ud(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function B4(n){var e;const{motionValue:r,name:a,repeatDelay:o,repeatType:u,damping:h,type:d}=n;if(!(((e=r==null?void 0:r.owner)==null?void 0:e.current)instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=r.owner.getProps();return q4()&&a&&U4.has(a)&&(a!=="transform"||!g)&&!m&&!o&&u!=="mirror"&&h!==0&&d!=="inertia"}const $4=40;class H4 extends op{constructor({autoplay:e=!0,delay:r=0,type:a="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:h="loop",keyframes:d,name:m,motionValue:g,element:v,...k}){var T;super(),this.stop=()=>{var B,F;this._animation&&(this._animation.stop(),(B=this.stopTimeline)==null||B.call(this)),(F=this.keyframeResolver)==null||F.cancel()},this.createdAt=_n.now();const _={autoplay:e,delay:r,type:a,repeat:o,repeatDelay:u,repeatType:h,name:m,motionValue:g,element:v,...k},j=(v==null?void 0:v.KeyframeResolver)||gp;this.keyframeResolver=new j(d,(B,F,W)=>this.onKeyframesResolved(B,F,_,!W),m,g,v),(T=this.keyframeResolver)==null||T.scheduleResolve()}onKeyframesResolved(e,r,a,o){this.keyframeResolver=void 0;const{name:u,type:h,velocity:d,delay:m,isHandoff:g,onUpdate:v}=a;this.resolvedAt=_n.now(),z4(e,u,h,d)||((Qr.instantAnimations||!m)&&(v==null||v(sp(e,a,r))),e[0]=e[e.length-1],yp(a),a.repeat=0);const k={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>$4?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...a,keyframes:e},T=!g&&B4(k)?new j4({...k,element:k.motionValue.owner.current}):new lp(k);T.finished.then(()=>this.notifyFinished()).catch(Gn),this.pendingTimeline&&(this.stopTimeline=T.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=T}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),A4()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const K4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function G4(n){const e=K4.exec(n);if(!e)return[,];const[,r,a,o]=e;return[`--${r??a}`,o]}function Mw(n,e,r=1){const[a,o]=G4(n);if(!a)return;const u=window.getComputedStyle(e).getPropertyValue(a);if(u){const h=u.trim();return qb(h)?parseFloat(h):h}return Gd(o)?Mw(o,e,r+1):o}function vp(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const Ow=new Set(["width","height","top","left","right","bottom",...Ls]),Q4={test:n=>n==="auto",parse:n=>n},Lw=n=>e=>e.test(n),Vw=[Ms,Ae,Ar,qi,FD,jD,Q4],Rw=n=>Vw.find(Lw(n));function W4(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||$b(n):!0}const X4=new Set(["brightness","contrast","saturate","opacity"]);function Y4(n){const[e,r]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[a]=r.match(Qd)||[];if(!a)return n;const o=r.replace(a,"");let u=X4.has(e)?1:0;return a!==r&&(u*=100),e+"("+u+o+")"}const J4=/\b([a-z-]*)\(.*?\)/gu,bp={...Bi,getAnimatableNone:n=>{const e=n.match(J4);return e?e.map(Y4).join(" "):n}},jw={...Ms,transform:Math.round},Z4={rotate:qi,rotateX:qi,rotateY:qi,rotateZ:qi,scale:Dc,scaleX:Dc,scaleY:Dc,scaleZ:Dc,skew:qi,skewX:qi,skewY:qi,distance:Ae,translateX:Ae,translateY:Ae,translateZ:Ae,x:Ae,y:Ae,z:Ae,perspective:Ae,transformPerspective:Ae,opacity:pl,originX:sw,originY:sw,originZ:Ae},wp={borderWidth:Ae,borderTopWidth:Ae,borderRightWidth:Ae,borderBottomWidth:Ae,borderLeftWidth:Ae,borderRadius:Ae,radius:Ae,borderTopLeftRadius:Ae,borderTopRightRadius:Ae,borderBottomRightRadius:Ae,borderBottomLeftRadius:Ae,width:Ae,maxWidth:Ae,height:Ae,maxHeight:Ae,top:Ae,right:Ae,bottom:Ae,left:Ae,padding:Ae,paddingTop:Ae,paddingRight:Ae,paddingBottom:Ae,paddingLeft:Ae,margin:Ae,marginTop:Ae,marginRight:Ae,marginBottom:Ae,marginLeft:Ae,backgroundPositionX:Ae,backgroundPositionY:Ae,...Z4,zIndex:jw,fillOpacity:pl,strokeOpacity:pl,numOctaves:jw},eI={...wp,color:Mt,backgroundColor:Mt,outlineColor:Mt,fill:Mt,stroke:Mt,borderColor:Mt,borderTopColor:Mt,borderRightColor:Mt,borderBottomColor:Mt,borderLeftColor:Mt,filter:bp,WebkitFilter:bp},Fw=n=>eI[n];function zw(n,e){let r=Fw(n);return r!==bp&&(r=Bi),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const tI=new Set(["auto","none","0"]);function nI(n,e,r){let a=0,o;for(;a<n.length&&!o;){const u=n[a];typeof u=="string"&&!tI.has(u)&&yl(u).values.length&&(o=n[a]),a++}if(o&&r)for(const u of e)n[u]=zw(r,o)}class rI extends gp{constructor(e,r,a,o,u){super(e,r,a,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:a}=this;if(!r||!r.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let g=e[m];if(typeof g=="string"&&(g=g.trim(),Gd(g))){const v=Mw(g,r.current);v!==void 0&&(e[m]=v),m===e.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!Ow.has(a)||e.length!==2)return;const[o,u]=e,h=Rw(o),d=Rw(u);if(h!==d)if(Sw(h)&&Sw(d))for(let m=0;m<e.length;m++){const g=e[m];typeof g=="string"&&(e[m]=parseFloat(g))}else Oa[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,a=[];for(let o=0;o<e.length;o++)(e[o]===null||W4(e[o]))&&a.push(o);a.length&&nI(e,a,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:a}=this;if(!e||!e.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Oa[a](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const o=r[r.length-1];o!==void 0&&e.getValue(a,o).jump(o,!1)}measureEndState(){var e;const{element:r,name:a,unresolvedKeyframes:o}=this;if(!r||!r.current)return;const u=r.getValue(a);u&&u.jump(this.measuredOrigin,!1);const h=o.length-1,d=o[h];o[h]=Oa[a](r.measureViewportBox(),window.getComputedStyle(r.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),(e=this.removedTransforms)!=null&&e.length&&this.removedTransforms.forEach(([m,g])=>{r.getValue(m).set(g)}),this.resolveNoneKeyframes()}}function iI(n,e,r){if(n instanceof EventTarget)return[n];if(typeof n=="string"){const a=document.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}const Uw=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function aI(n){return Bb(n)&&"offsetHeight"in n}const qw=30,sI=n=>!isNaN(parseFloat(n));class oI{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=a=>{var o;const u=_n.now();if(this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const h of this.dependents)h.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=_n.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=sI(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new qd);const a=this.events[e].add(r);return e==="change"?()=>{a(),pt.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,a){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-a}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=_n.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>qw)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,qw);return Hb(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Rs(n,e){return new oI(n,e)}const{schedule:kp}=rw(queueMicrotask,!1),cr={x:!1,y:!1};function Bw(){return cr.x||cr.y}function lI(n){return n==="x"||n==="y"?cr[n]?null:(cr[n]=!0,()=>{cr[n]=!1}):cr.x||cr.y?null:(cr.x=cr.y=!0,()=>{cr.x=cr.y=!1})}function $w(n,e){const r=iI(n),a=new AbortController,o={passive:!0,...e,signal:a.signal};return[r,o,()=>a.abort()]}function Hw(n){return!(n.pointerType==="touch"||Bw())}function uI(n,e,r={}){const[a,o,u]=$w(n,r),h=d=>{if(!Hw(d))return;const{target:m}=d,g=e(m,d);if(typeof g!="function"||!m)return;const v=k=>{Hw(k)&&(g(k),m.removeEventListener("pointerleave",v))};m.addEventListener("pointerleave",v,o)};return a.forEach(d=>{d.addEventListener("pointerenter",h,o)}),u}const Kw=(n,e)=>e?n===e?!0:Kw(n,e.parentElement):!1,Ep=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,cI=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function hI(n){return cI.has(n.tagName)||n.tabIndex!==-1}const Oc=new WeakSet;function Gw(n){return e=>{e.key==="Enter"&&n(e)}}function Sp(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const fI=(n,e)=>{const r=n.currentTarget;if(!r)return;const a=Gw(()=>{if(Oc.has(r))return;Sp(r,"down");const o=Gw(()=>{Sp(r,"up")}),u=()=>Sp(r,"cancel");r.addEventListener("keyup",o,e),r.addEventListener("blur",u,e)});r.addEventListener("keydown",a,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",a),e)};function Qw(n){return Ep(n)&&!Bw()}function dI(n,e,r={}){const[a,o,u]=$w(n,r),h=d=>{const m=d.currentTarget;if(!Qw(d))return;Oc.add(m);const g=e(m,d),v=(_,j)=>{window.removeEventListener("pointerup",k),window.removeEventListener("pointercancel",T),Oc.has(m)&&Oc.delete(m),Qw(_)&&typeof g=="function"&&g(_,{success:j})},k=_=>{v(_,m===window||m===document||r.useGlobalTarget||Kw(m,_.target))},T=_=>{v(_,!1)};window.addEventListener("pointerup",k,o),window.addEventListener("pointercancel",T,o)};return a.forEach(d=>{(r.useGlobalTarget?window:d).addEventListener("pointerdown",h,o),aI(d)&&(d.addEventListener("focus",m=>fI(m,o)),!hI(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),u}function Ww(n){return Bb(n)&&"ownerSVGElement"in n}function pI(n){return Ww(n)&&n.tagName==="svg"}const pn=n=>!!(n&&n.getVelocity),mI=[...Vw,Mt,Bi],gI=n=>mI.find(Lw(n)),Xw=ge.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function yI(n=!0){const e=ge.useContext(Rd);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:a,register:o}=e,u=ge.useId();ge.useEffect(()=>{if(n)return o(u)},[n]);const h=ge.useCallback(()=>n&&a&&a(u),[u,a,n]);return!r&&a?[!1,h]:[!0]}const Yw=ge.createContext({strict:!1}),Jw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},js={};for(const n in Jw)js[n]={isEnabled:e=>Jw[n].some(r=>!!e[r])};function vI(n){for(const e in n)js[e]={...js[e],...n[e]}}const bI=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Lc(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||bI.has(n)}let Zw=n=>!Lc(n);function wI(n){typeof n=="function"&&(Zw=e=>e.startsWith("on")?!Lc(e):n(e))}try{wI(require("@emotion/is-prop-valid").default)}catch{}function kI(n,e,r){const a={};for(const o in n)o==="values"&&typeof n.values=="object"||(Zw(o)||r===!0&&Lc(o)||!e&&!Lc(o)||n.draggable&&o.startsWith("onDrag"))&&(a[o]=n[o]);return a}const Vc=ge.createContext({});function Rc(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function wl(n){return typeof n=="string"||Array.isArray(n)}const Tp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xp=["initial",...Tp];function jc(n){return Rc(n.animate)||xp.some(e=>wl(n[e]))}function e1(n){return!!(jc(n)||n.variants)}function EI(n,e){if(jc(n)){const{initial:r,animate:a}=n;return{initial:r===!1||wl(r)?r:void 0,animate:wl(a)?a:void 0}}return n.inherit!==!1?e:{}}function SI(n){const{initial:e,animate:r}=EI(n,ge.useContext(Vc));return ge.useMemo(()=>({initial:e,animate:r}),[t1(e),t1(r)])}function t1(n){return Array.isArray(n)?n.join(" "):n}const kl={};function TI(n){for(const e in n)kl[e]=n[e],Kd(e)&&(kl[e].isCSSVariable=!0)}function n1(n,{layout:e,layoutId:r}){return Vs.has(n)||n.startsWith("origin")||(e||r!==void 0)&&(!!kl[n]||n==="opacity")}const xI={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},CI=Ls.length;function AI(n,e,r){let a="",o=!0;for(let u=0;u<CI;u++){const h=Ls[u],d=n[h];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(h.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||r){const g=Uw(d,wp[h]);if(!m){o=!1;const v=xI[h]||h;a+=`${v}(${g}) `}r&&(e[h]=g)}}return a=a.trim(),r?a=r(e,o?"":a):o&&(a="none"),a}function Cp(n,e,r){const{style:a,vars:o,transformOrigin:u}=n;let h=!1,d=!1;for(const m in e){const g=e[m];if(Vs.has(m)){h=!0;continue}else if(Kd(m)){o[m]=g;continue}else{const v=Uw(g,wp[m]);m.startsWith("origin")?(d=!0,u[m]=v):a[m]=v}}if(e.transform||(h||r?a.transform=AI(e,n.transform,r):a.transform&&(a.transform="none")),d){const{originX:m="50%",originY:g="50%",originZ:v=0}=u;a.transformOrigin=`${m} ${g} ${v}`}}const Ap=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function r1(n,e,r){for(const a in e)!pn(e[a])&&!n1(a,r)&&(n[a]=e[a])}function _I({transformTemplate:n},e){return ge.useMemo(()=>{const r=Ap();return Cp(r,e,n),Object.assign({},r.vars,r.style)},[e])}function NI(n,e){const r=n.style||{},a={};return r1(a,r,n),Object.assign(a,_I(n,e)),a}function DI(n,e){const r={},a=NI(n,e);return n.drag&&n.dragListener!==!1&&(r.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(r.tabIndex=0),r.style=a,r}const II={offset:"stroke-dashoffset",array:"stroke-dasharray"},PI={offset:"strokeDashoffset",array:"strokeDasharray"};function MI(n,e,r=1,a=0,o=!0){n.pathLength=1;const u=o?II:PI;n[u.offset]=Ae.transform(-a);const h=Ae.transform(e),d=Ae.transform(r);n[u.array]=`${h} ${d}`}function i1(n,{attrX:e,attrY:r,attrScale:a,pathLength:o,pathSpacing:u=1,pathOffset:h=0,...d},m,g,v){if(Cp(n,d,g),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:k,style:T}=n;k.transform&&(T.transform=k.transform,delete k.transform),(T.transform||k.transformOrigin)&&(T.transformOrigin=k.transformOrigin??"50% 50%",delete k.transformOrigin),T.transform&&(T.transformBox=(v==null?void 0:v.transformBox)??"fill-box",delete k.transformBox),e!==void 0&&(k.x=e),r!==void 0&&(k.y=r),a!==void 0&&(k.scale=a),o!==void 0&&MI(k,o,u,h,!1)}const a1=()=>({...Ap(),attrs:{}}),s1=n=>typeof n=="string"&&n.toLowerCase()==="svg";function OI(n,e,r,a){const o=ge.useMemo(()=>{const u=a1();return i1(u,e,s1(a),n.transformTemplate,n.style),{...u.attrs,style:{...u.style}}},[e]);if(n.style){const u={};r1(u,n.style,n),o.style={...u,...o.style}}return o}const LI=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _p(n){return typeof n!="string"||n.includes("-")?!1:!!(LI.indexOf(n)>-1||/[A-Z]/u.test(n))}function VI(n,e,r,{latestValues:a},o,u=!1){const h=(_p(n)?OI:DI)(e,a,o,n),d=kI(e,typeof n=="string",u),m=n!==ge.Fragment?{...d,...h,ref:r}:{},{children:g}=e,v=ge.useMemo(()=>pn(g)?g.get():g,[g]);return ge.createElement(n,{...m,children:v})}function o1(n){const e=[{},{}];return n==null||n.values.forEach((r,a)=>{e[0][a]=r.get(),e[1][a]=r.getVelocity()}),e}function Np(n,e,r,a){if(typeof e=="function"){const[o,u]=o1(a);e=e(r!==void 0?r:n.custom,o,u)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[o,u]=o1(a);e=e(r!==void 0?r:n.custom,o,u)}return e}function Fc(n){return pn(n)?n.get():n}function RI({scrapeMotionValuesFromProps:n,createRenderState:e},r,a,o){return{latestValues:jI(r,a,o,n),renderState:e()}}function jI(n,e,r,a){const o={},u=a(n,{});for(const T in u)o[T]=Fc(u[T]);let{initial:h,animate:d}=n;const m=jc(n),g=e1(n);e&&g&&!m&&n.inherit!==!1&&(h===void 0&&(h=e.initial),d===void 0&&(d=e.animate));let v=r?r.initial===!1:!1;v=v||h===!1;const k=v?d:h;if(k&&typeof k!="boolean"&&!Rc(k)){const T=Array.isArray(k)?k:[k];for(let _=0;_<T.length;_++){const j=Np(n,T[_]);if(j){const{transitionEnd:B,transition:F,...W}=j;for(const te in W){let ae=W[te];if(Array.isArray(ae)){const pe=v?ae.length-1:0;ae=ae[pe]}ae!==null&&(o[te]=ae)}for(const te in B)o[te]=B[te]}}}return o}const l1=n=>(e,r)=>{const a=ge.useContext(Vc),o=ge.useContext(Rd),u=()=>RI(n,e,a,o);return r?u():vD(u)};function Dp(n,e,r){var a;const{style:o}=n,u={};for(const h in o)(pn(o[h])||e.style&&pn(e.style[h])||n1(h,n)||((a=r==null?void 0:r.getValue(h))==null?void 0:a.liveStyle)!==void 0)&&(u[h]=o[h]);return u}const FI=l1({scrapeMotionValuesFromProps:Dp,createRenderState:Ap});function u1(n,e,r){const a=Dp(n,e,r);for(const o in n)if(pn(n[o])||pn(e[o])){const u=Ls.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;a[u]=n[o]}return a}const zI=l1({scrapeMotionValuesFromProps:u1,createRenderState:a1}),UI=Symbol.for("motionComponentSymbol");function Fs(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function qI(n,e,r){return ge.useCallback(a=>{a&&n.onMount&&n.onMount(a),e&&(a?e.mount(a):e.unmount()),r&&(typeof r=="function"?r(a):Fs(r)&&(r.current=a))},[e])}const Ip=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),BI="framerAppearId",c1="data-"+Ip(BI),h1=ge.createContext({});function $I(n,e,r,a,o){var u,h;const{visualElement:d}=ge.useContext(Vc),m=ge.useContext(Yw),g=ge.useContext(Rd),v=ge.useContext(Xw).reducedMotion,k=ge.useRef(null);a=a||m.renderer,!k.current&&a&&(k.current=a(n,{visualState:e,parent:d,props:r,presenceContext:g,blockInitialAnimation:g?g.initial===!1:!1,reducedMotionConfig:v}));const T=k.current,_=ge.useContext(h1);T&&!T.projection&&o&&(T.type==="html"||T.type==="svg")&&HI(k.current,r,o,_);const j=ge.useRef(!1);ge.useInsertionEffect(()=>{T&&j.current&&T.update(r,g)});const B=r[c1],F=ge.useRef(!!B&&!((u=window.MotionHandoffIsComplete)!=null&&u.call(window,B))&&((h=window.MotionHasOptimisedAnimation)==null?void 0:h.call(window,B)));return bD(()=>{T&&(j.current=!0,window.MotionIsMounted=!0,T.updateFeatures(),T.scheduleRenderMicrotask(),F.current&&T.animationState&&T.animationState.animateChanges())}),ge.useEffect(()=>{T&&(!F.current&&T.animationState&&T.animationState.animateChanges(),F.current&&(queueMicrotask(()=>{var W;(W=window.MotionHandoffMarkAsComplete)==null||W.call(window,B)}),F.current=!1),T.enteringChildren=void 0)}),T}function HI(n,e,r,a){const{layoutId:o,layout:u,drag:h,dragConstraints:d,layoutScroll:m,layoutRoot:g,layoutCrossfade:v}=e;n.projection=new r(n.latestValues,e["data-framer-portal-id"]?void 0:f1(n.parent)),n.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!h||d&&Fs(d),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:a,crossfade:v,layoutScroll:m,layoutRoot:g})}function f1(n){if(n)return n.options.allowProjection!==!1?n.projection:f1(n.parent)}function Pp(n,{forwardMotionProps:e=!1}={},r,a){r&&vI(r);const o=_p(n)?zI:FI;function u(d,m){let g;const v={...ge.useContext(Xw),...d,layoutId:KI(d)},{isStatic:k}=v,T=SI(d),_=o(d,k);if(!k&&Vd){GI();const j=QI(v);g=j.MeasureLayout,T.visualElement=$I(n,_,v,a,j.ProjectionNode)}return ie.jsxs(Vc.Provider,{value:T,children:[g&&T.visualElement?ie.jsx(g,{visualElement:T.visualElement,...v}):null,VI(n,d,qI(_,T.visualElement,m),_,k,e)]})}u.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const h=ge.forwardRef(u);return h[UI]=n,h}function KI({layoutId:n}){const e=ge.useContext(Ub).id;return e&&n!==void 0?e+"-"+n:n}function GI(n,e){ge.useContext(Yw).strict}function QI(n){const{drag:e,layout:r}=js;if(!e&&!r)return{};const a={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(n)||r!=null&&r.isEnabled(n)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function WI(n,e){if(typeof Proxy>"u")return Pp;const r=new Map,a=(u,h)=>Pp(u,h,n,e),o=(u,h)=>a(u,h);return new Proxy(o,{get:(u,h)=>h==="create"?a:(r.has(h)||r.set(h,Pp(h,void 0,n,e)),r.get(h))})}function d1({top:n,left:e,right:r,bottom:a}){return{x:{min:e,max:r},y:{min:n,max:a}}}function XI({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function YI(n,e){if(!e)return n;const r=e({x:n.left,y:n.top}),a=e({x:n.right,y:n.bottom});return{top:r.y,left:r.x,bottom:a.y,right:a.x}}function Mp(n){return n===void 0||n===1}function Op({scale:n,scaleX:e,scaleY:r}){return!Mp(n)||!Mp(e)||!Mp(r)}function Va(n){return Op(n)||p1(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function p1(n){return m1(n.x)||m1(n.y)}function m1(n){return n&&n!=="0%"}function zc(n,e,r){const a=n-r,o=e*a;return r+o}function g1(n,e,r,a,o){return o!==void 0&&(n=zc(n,o,a)),zc(n,r,a)+e}function Lp(n,e=0,r=1,a,o){n.min=g1(n.min,e,r,a,o),n.max=g1(n.max,e,r,a,o)}function y1(n,{x:e,y:r}){Lp(n.x,e.translate,e.scale,e.originPoint),Lp(n.y,r.translate,r.scale,r.originPoint)}const v1=.999999999999,b1=1.0000000000001;function JI(n,e,r,a=!1){const o=r.length;if(!o)return;e.x=e.y=1;let u,h;for(let d=0;d<o;d++){u=r[d],h=u.projectionDelta;const{visualElement:m}=u.options;m&&m.props.style&&m.props.style.display==="contents"||(a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Us(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),h&&(e.x*=h.x.scale,e.y*=h.y.scale,y1(n,h)),a&&Va(u.latestValues)&&Us(n,u.latestValues))}e.x<b1&&e.x>v1&&(e.x=1),e.y<b1&&e.y>v1&&(e.y=1)}function zs(n,e){n.min=n.min+e,n.max=n.max+e}function w1(n,e,r,a,o=.5){const u=bt(n.min,n.max,o);Lp(n,e,r,u,a)}function Us(n,e){w1(n.x,e.x,e.scaleX,e.scale,e.originX),w1(n.y,e.y,e.scaleY,e.scale,e.originY)}function k1(n,e){return d1(YI(n.getBoundingClientRect(),e))}function ZI(n,e,r){const a=k1(n,r),{scroll:o}=e;return o&&(zs(a.x,o.offset.x),zs(a.y,o.offset.y)),a}const E1=()=>({translate:0,scale:1,origin:0,originPoint:0}),qs=()=>({x:E1(),y:E1()}),S1=()=>({min:0,max:0}),Ct=()=>({x:S1(),y:S1()}),Vp={current:null},T1={current:!1};function eP(){if(T1.current=!0,!!Vd)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Vp.current=n.matches;n.addEventListener("change",e),e()}else Vp.current=!1}const tP=new WeakMap;function nP(n,e,r){for(const a in e){const o=e[a],u=r[a];if(pn(o))n.addValue(a,o);else if(pn(u))n.addValue(a,Rs(o,{owner:n}));else if(u!==o)if(n.hasValue(a)){const h=n.getValue(a);h.liveStyle===!0?h.jump(o):h.hasAnimated||h.set(o)}else{const h=n.getStaticValue(a);n.addValue(a,Rs(h!==void 0?h:o,{owner:n}))}}for(const a in r)e[a]===void 0&&n.removeValue(a);return e}const x1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class rP{scrapeMotionValuesFromProps(e,r,a){return{}}constructor({parent:e,props:r,presenceContext:a,reducedMotionConfig:o,blockInitialAnimation:u,visualState:h},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=gp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=_n.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,pt.render(this.render,!1,!0))};const{latestValues:m,renderState:g}=h;this.latestValues=m,this.baseTarget={...m},this.initialValues=r.initial?{...m}:{},this.renderState=g,this.parent=e,this.props=r,this.presenceContext=a,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!u,this.isControllingVariants=jc(r),this.isVariantNode=e1(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...k}=this.scrapeMotionValuesFromProps(r,{},this);for(const T in k){const _=k[T];m[T]!==void 0&&pn(_)&&_.set(m[T])}}mount(e){var r;this.current=e,tP.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,o)=>this.bindToMotionValue(o,a)),T1.current||eP(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Vp.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Ui(this.notifyUpdate),Ui(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const a=this.features[r];a&&(a.unmount(),a.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const a=Vs.has(e);a&&this.onBindTransform&&this.onBindTransform();const o=r.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&pt.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{o(),u&&u(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in js){const r=js[e];if(!r)continue;const{isEnabled:a,Feature:o}=r;if(!this.features[e]&&o&&a(this.props)&&(this.features[e]=new o(this)),this.features[e]){const u=this.features[e];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ct()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let a=0;a<x1.length;a++){const o=x1[a];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,h=e[u];h&&(this.propEventSubscriptions[o]=this.on(o,h))}this.prevMotionValues=nP(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const a=this.values.get(e);r!==a&&(a&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let a=this.values.get(e);return a===void 0&&r!==void 0&&(a=Rs(r===null?void 0:r,{owner:this}),this.addValue(e,a)),a}readValue(e,r){let a=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return a!=null&&(typeof a=="string"&&(qb(a)||$b(a))?a=parseFloat(a):!gI(a)&&Bi.test(r)&&(a=zw(e,r)),this.setBaseTarget(e,pn(a)?a.get():a)),pn(a)?a.get():a}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:a}=this.props;let o;if(typeof a=="string"||typeof a=="object"){const h=Np(this.props,a,(r=this.presenceContext)==null?void 0:r.custom);h&&(o=h[e])}if(a&&o!==void 0)return o;const u=this.getBaseTargetFromProps(this.props,e);return u!==void 0&&!pn(u)?u:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new qd),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){kp.render(this.render)}}class C1 extends rP{constructor(){super(...arguments),this.KeyframeResolver=rI}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:a}){delete r[e],delete a[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;pn(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function A1(n,{style:e,vars:r},a,o){const u=n.style;let h;for(h in e)u[h]=e[h];o==null||o.applyProjectionStyles(u,a);for(h in r)u.setProperty(h,r[h])}function iP(n){return window.getComputedStyle(n)}class aP extends C1{constructor(){super(...arguments),this.type="html",this.renderInstance=A1}readValueFromInstance(e,r){var a;if(Vs.has(r))return(a=this.projection)!=null&&a.isProjecting?hp(r):E4(e,r);{const o=iP(e),u=(Kd(r)?o.getPropertyValue(r):o[r])||0;return typeof u=="string"?u.trim():u}}measureInstanceViewportBox(e,{transformPagePoint:r}){return k1(e,r)}build(e,r,a){Cp(e,r,a.transformTemplate)}scrapeMotionValuesFromProps(e,r,a){return Dp(e,r,a)}}const _1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function sP(n,e,r,a){A1(n,e,void 0,a);for(const o in e.attrs)n.setAttribute(_1.has(o)?o:Ip(o),e.attrs[o])}class oP extends C1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ct}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Vs.has(r)){const a=Fw(r);return a&&a.default||0}return r=_1.has(r)?r:Ip(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,a){return u1(e,r,a)}build(e,r,a){i1(e,r,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(e,r,a,o){sP(e,r,a,o)}mount(e){this.isSVGTag=s1(e.tagName),super.mount(e)}}const lP=(n,e)=>_p(n)?new oP(e):new aP(e,{allowProjection:n!==ge.Fragment});function Bs(n,e,r){const a=n.getProps();return Np(a,e,r!==void 0?r:a.custom,n)}const Rp=n=>Array.isArray(n);function uP(n,e,r){n.hasValue(e)?n.getValue(e).set(r):n.addValue(e,Rs(r))}function cP(n){return Rp(n)?n[n.length-1]||0:n}function hP(n,e){const r=Bs(n,e);let{transitionEnd:a={},transition:o={},...u}=r||{};u={...u,...a};for(const h in u){const d=cP(u[h]);uP(n,h,d)}}function fP(n){return!!(pn(n)&&n.add)}function jp(n,e){const r=n.getValue("willChange");if(fP(r))return r.add(e);if(!r&&Qr.WillChange){const a=new Qr.WillChange("auto");n.addValue("willChange",a),a.add(e)}}function N1(n){return n.props[c1]}const dP=n=>n!==null;function pP(n,{repeat:e,repeatType:r="loop"},a){const o=n.filter(dP),u=e&&r!=="loop"&&e%2===1?0:o.length-1;return o[u]}const mP={type:"spring",stiffness:500,damping:25,restSpeed:10},gP=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),yP={type:"keyframes",duration:.8},vP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},bP=(n,{keyframes:e})=>e.length>2?yP:Vs.has(n)?n.startsWith("scale")?gP(e[1]):mP:vP;function wP({when:n,delay:e,delayChildren:r,staggerChildren:a,staggerDirection:o,repeat:u,repeatType:h,repeatDelay:d,from:m,elapsed:g,...v}){return!!Object.keys(v).length}const Fp=(n,e,r,a={},o,u)=>h=>{const d=vp(a,n)||{},m=d.delay||a.delay||0;let{elapsed:g=0}=a;g=g-Cr(m);const v={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-g,onUpdate:T=>{e.set(T),d.onUpdate&&d.onUpdate(T)},onComplete:()=>{h(),d.onComplete&&d.onComplete()},name:n,motionValue:e,element:u?void 0:o};wP(d)||Object.assign(v,bP(n,v)),v.duration&&(v.duration=Cr(v.duration)),v.repeatDelay&&(v.repeatDelay=Cr(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let k=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(yp(v),v.delay===0&&(k=!0)),(Qr.instantAnimations||Qr.skipAnimations)&&(k=!0,yp(v),v.delay=0),v.allowFlatten=!d.type&&!d.ease,k&&!u&&e.get()!==void 0){const T=pP(v.keyframes,d);if(T!==void 0){pt.update(()=>{v.onUpdate(T),v.onComplete()});return}}return d.isSync?new lp(v):new H4(v)};function kP({protectedKeys:n,needsAnimating:e},r){const a=n.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,a}function D1(n,e,{delay:r=0,transitionOverride:a,type:o}={}){let{transition:u=n.getDefaultTransition(),transitionEnd:h,...d}=e;a&&(u=a);const m=[],g=o&&n.animationState&&n.animationState.getState()[o];for(const v in d){const k=n.getValue(v,n.latestValues[v]??null),T=d[v];if(T===void 0||g&&kP(g,v))continue;const _={delay:r,...vp(u||{},v)},j=k.get();if(j!==void 0&&!k.isAnimating&&!Array.isArray(T)&&T===j&&!_.velocity)continue;let B=!1;if(window.MotionHandoffAnimation){const W=N1(n);if(W){const te=window.MotionHandoffAnimation(W,v,pt);te!==null&&(_.startTime=te,B=!0)}}jp(n,v),k.start(Fp(v,k,T,n.shouldReduceMotion&&Ow.has(v)?{type:!1}:_,n,B));const F=k.animation;F&&m.push(F)}return h&&Promise.all(m).then(()=>{pt.update(()=>{h&&hP(n,h)})}),m}function I1(n,e,r,a=0,o=1){const u=Array.from(n).sort((m,g)=>m.sortNodePosition(g)).indexOf(e),h=n.size,d=(h-1)*a;return typeof r=="function"?r(u,h):o===1?u*a:d-u*a}function zp(n,e,r={}){var a;const o=Bs(n,e,r.type==="exit"?(a=n.presenceContext)==null?void 0:a.custom:void 0);let{transition:u=n.getDefaultTransition()||{}}=o||{};r.transitionOverride&&(u=r.transitionOverride);const h=o?()=>Promise.all(D1(n,o,r)):()=>Promise.resolve(),d=n.variantChildren&&n.variantChildren.size?(g=0)=>{const{delayChildren:v=0,staggerChildren:k,staggerDirection:T}=u;return EP(n,e,g,v,k,T,r)}:()=>Promise.resolve(),{when:m}=u;if(m){const[g,v]=m==="beforeChildren"?[h,d]:[d,h];return g().then(()=>v())}else return Promise.all([h(),d(r.delay)])}function EP(n,e,r=0,a=0,o=0,u=1,h){const d=[];for(const m of n.variantChildren)m.notify("AnimationStart",e),d.push(zp(m,e,{...h,delay:r+(typeof a=="function"?0:a)+I1(n.variantChildren,m,a,o,u)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(d)}function SP(n,e,r={}){n.notify("AnimationStart",e);let a;if(Array.isArray(e)){const o=e.map(u=>zp(n,u,r));a=Promise.all(o)}else if(typeof e=="string")a=zp(n,e,r);else{const o=typeof e=="function"?Bs(n,e,r.custom):e;a=Promise.all(D1(n,o,r))}return a.then(()=>{n.notify("AnimationComplete",e)})}function P1(n,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==n.length)return!1;for(let a=0;a<r;a++)if(e[a]!==n[a])return!1;return!0}const TP=xp.length;function M1(n){if(!n)return;if(!n.isControllingVariants){const r=n.parent?M1(n.parent)||{}:{};return n.props.initial!==void 0&&(r.initial=n.props.initial),r}const e={};for(let r=0;r<TP;r++){const a=xp[r],o=n.props[a];(wl(o)||o===!1)&&(e[a]=o)}return e}const xP=[...Tp].reverse(),CP=Tp.length;function AP(n){return e=>Promise.all(e.map(({animation:r,options:a})=>SP(n,r,a)))}function _P(n){let e=AP(n),r=O1(),a=!0;const o=m=>(g,v)=>{var k;const T=Bs(n,v,m==="exit"?(k=n.presenceContext)==null?void 0:k.custom:void 0);if(T){const{transition:_,transitionEnd:j,...B}=T;g={...g,...B,...j}}return g};function u(m){e=m(n)}function h(m){const{props:g}=n,v=M1(n.parent)||{},k=[],T=new Set;let _={},j=1/0;for(let F=0;F<CP;F++){const W=xP[F],te=r[W],ae=g[W]!==void 0?g[W]:v[W],pe=wl(ae),le=W===m?te.isActive:null;le===!1&&(j=F);let ye=ae===v[W]&&ae!==g[W]&&pe;if(ye&&a&&n.manuallyAnimateOnMount&&(ye=!1),te.protectedKeys={..._},!te.isActive&&le===null||!ae&&!te.prevProp||Rc(ae)||typeof ae=="boolean")continue;const M=NP(te.prevProp,ae);let A=M||W===m&&te.isActive&&!ye&&pe||F>j&&pe,N=!1;const P=Array.isArray(ae)?ae:[ae];let O=P.reduce(o(W),{});le===!1&&(O={});const{prevResolvedValues:V={}}=te,D={...V,...O},Ke=H=>{A=!0,T.has(H)&&(N=!0,T.delete(H)),te.needsAnimating[H]=!0;const re=n.getValue(H);re&&(re.liveStyle=!1)};for(const H in D){const re=O[H],fe=V[H];if(_.hasOwnProperty(H))continue;let Oe=!1;Rp(re)&&Rp(fe)?Oe=!P1(re,fe):Oe=re!==fe,Oe?re!=null?Ke(H):T.add(H):re!==void 0&&T.has(H)?Ke(H):te.protectedKeys[H]=!0}te.prevProp=ae,te.prevResolvedValues=O,te.isActive&&(_={..._,...O}),a&&n.blockInitialAnimation&&(A=!1);const qe=ye&&M;A&&(!qe||N)&&k.push(...P.map(H=>{const re={type:W};if(typeof H=="string"&&a&&!qe&&n.manuallyAnimateOnMount&&n.parent){const{parent:fe}=n,Oe=Bs(fe,H);if(fe.enteringChildren&&Oe){const{delayChildren:S}=Oe.transition||{};re.delay=I1(fe.enteringChildren,n,S)}}return{animation:H,options:re}}))}if(T.size){const F={};if(typeof g.initial!="boolean"){const W=Bs(n,Array.isArray(g.initial)?g.initial[0]:g.initial);W&&W.transition&&(F.transition=W.transition)}T.forEach(W=>{const te=n.getBaseTarget(W),ae=n.getValue(W);ae&&(ae.liveStyle=!0),F[W]=te??null}),k.push({animation:F})}let B=!!k.length;return a&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(B=!1),a=!1,B?e(k):Promise.resolve()}function d(m,g){var v;if(r[m].isActive===g)return Promise.resolve();(v=n.variantChildren)==null||v.forEach(T=>{var _;return(_=T.animationState)==null?void 0:_.setActive(m,g)}),r[m].isActive=g;const k=h(m);for(const T in r)r[T].protectedKeys={};return k}return{animateChanges:h,setActive:d,setAnimateFunction:u,getState:()=>r,reset:()=>{r=O1(),a=!0}}}function NP(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!P1(e,n):!1}function Ra(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function O1(){return{animate:Ra(!0),whileInView:Ra(),whileHover:Ra(),whileTap:Ra(),whileDrag:Ra(),whileFocus:Ra(),exit:Ra()}}class $i{constructor(e){this.isMounted=!1,this.node=e}update(){}}class DP extends $i{constructor(e){super(e),e.animationState||(e.animationState=_P(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Rc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let IP=0;class PP extends $i{constructor(){super(...arguments),this.id=IP++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===a)return;const o=this.node.animationState.setActive("exit",!e);r&&!e&&o.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const MP={animation:{Feature:DP},exit:{Feature:PP}};function El(n,e,r,a={passive:!0}){return n.addEventListener(e,r,a),()=>n.removeEventListener(e,r)}function Sl(n){return{point:{x:n.pageX,y:n.pageY}}}const OP=n=>e=>Ep(e)&&n(e,Sl(e));function Tl(n,e,r,a){return El(n,e,OP(r),a)}const L1=1e-4,LP=1-L1,VP=1+L1,V1=.01,RP=0-V1,jP=0+V1;function vn(n){return n.max-n.min}function FP(n,e,r){return Math.abs(n-e)<=r}function R1(n,e,r,a=.5){n.origin=a,n.originPoint=bt(e.min,e.max,n.origin),n.scale=vn(r)/vn(e),n.translate=bt(r.min,r.max,n.origin)-n.originPoint,(n.scale>=LP&&n.scale<=VP||isNaN(n.scale))&&(n.scale=1),(n.translate>=RP&&n.translate<=jP||isNaN(n.translate))&&(n.translate=0)}function xl(n,e,r,a){R1(n.x,e.x,r.x,a?a.originX:void 0),R1(n.y,e.y,r.y,a?a.originY:void 0)}function j1(n,e,r){n.min=r.min+e.min,n.max=n.min+vn(e)}function zP(n,e,r){j1(n.x,e.x,r.x),j1(n.y,e.y,r.y)}function F1(n,e,r){n.min=e.min-r.min,n.max=n.min+vn(e)}function Cl(n,e,r){F1(n.x,e.x,r.x),F1(n.y,e.y,r.y)}function Wn(n){return[n("x"),n("y")]}const z1=({current:n})=>n?n.ownerDocument.defaultView:null,U1=(n,e)=>Math.abs(n-e);function UP(n,e){const r=U1(n.x,e.x),a=U1(n.y,e.y);return Math.sqrt(r**2+a**2)}class q1{constructor(e,r,{transformPagePoint:a,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:h=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=qp(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,j=UP(T.offset,{x:0,y:0})>=this.distanceThreshold;if(!_&&!j)return;const{point:B}=T,{timestamp:F}=tn;this.history.push({...B,timestamp:F});const{onStart:W,onMove:te}=this.handlers;_||(W&&W(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),te&&te(this.lastMoveEvent,T)},this.handlePointerMove=(T,_)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=Up(_,this.transformPagePoint),pt.update(this.updatePoint,!0)},this.handlePointerUp=(T,_)=>{this.end();const{onEnd:j,onSessionEnd:B,resumeAnimation:F}=this.handlers;if(this.dragSnapToOrigin&&F&&F(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const W=qp(T.type==="pointercancel"?this.lastMoveEventInfo:Up(_,this.transformPagePoint),this.history);this.startEvent&&j&&j(T,W),B&&B(T,W)},!Ep(e))return;this.dragSnapToOrigin=u,this.handlers=r,this.transformPagePoint=a,this.distanceThreshold=h,this.contextWindow=o||window;const d=Sl(e),m=Up(d,this.transformPagePoint),{point:g}=m,{timestamp:v}=tn;this.history=[{...g,timestamp:v}];const{onSessionStart:k}=r;k&&k(e,qp(m,this.history)),this.removeListeners=hl(Tl(this.contextWindow,"pointermove",this.handlePointerMove),Tl(this.contextWindow,"pointerup",this.handlePointerUp),Tl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ui(this.updatePoint)}}function Up(n,e){return e?{point:e(n.point)}:n}function B1(n,e){return{x:n.x-e.x,y:n.y-e.y}}function qp({point:n},e){return{point:n,delta:B1(n,$1(e)),offset:B1(n,qP(e)),velocity:BP(e,.1)}}function qP(n){return n[0]}function $1(n){return n[n.length-1]}function BP(n,e){if(n.length<2)return{x:0,y:0};let r=n.length-1,a=null;const o=$1(n);for(;r>=0&&(a=n[r],!(o.timestamp-a.timestamp>Cr(e)));)r--;if(!a)return{x:0,y:0};const u=Qn(o.timestamp-a.timestamp);if(u===0)return{x:0,y:0};const h={x:(o.x-a.x)/u,y:(o.y-a.y)/u};return h.x===1/0&&(h.x=0),h.y===1/0&&(h.y=0),h}function $P(n,{min:e,max:r},a){return e!==void 0&&n<e?n=a?bt(e,n,a.min):Math.max(n,e):r!==void 0&&n>r&&(n=a?bt(r,n,a.max):Math.min(n,r)),n}function H1(n,e,r){return{min:e!==void 0?n.min+e:void 0,max:r!==void 0?n.max+r-(n.max-n.min):void 0}}function HP(n,{top:e,left:r,bottom:a,right:o}){return{x:H1(n.x,r,o),y:H1(n.y,e,a)}}function K1(n,e){let r=e.min-n.min,a=e.max-n.max;return e.max-e.min<n.max-n.min&&([r,a]=[a,r]),{min:r,max:a}}function KP(n,e){return{x:K1(n.x,e.x),y:K1(n.y,e.y)}}function GP(n,e){let r=.5;const a=vn(n),o=vn(e);return o>a?r=fl(e.min,e.max-a,n.min):a>o&&(r=fl(n.min,n.max-o,e.min)),Gr(0,1,r)}function QP(n,e){const r={};return e.min!==void 0&&(r.min=e.min-n.min),e.max!==void 0&&(r.max=e.max-n.min),r}const Bp=.35;function WP(n=Bp){return n===!1?n=0:n===!0&&(n=Bp),{x:G1(n,"left","right"),y:G1(n,"top","bottom")}}function G1(n,e,r){return{min:Q1(n,e),max:Q1(n,r)}}function Q1(n,e){return typeof n=="number"?n:n[e]||0}const XP=new WeakMap;class YP{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ct(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:a}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=k=>{const{dragSnapToOrigin:T}=this.getProps();T?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Sl(k).point)},h=(k,T)=>{const{drag:_,dragPropagation:j,onDragStart:B}=this.getProps();if(_&&!j&&(this.openDragLock&&this.openDragLock(),this.openDragLock=lI(_),!this.openDragLock))return;this.latestPointerEvent=k,this.latestPanInfo=T,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Wn(W=>{let te=this.getAxisMotionValue(W).get()||0;if(Ar.test(te)){const{projection:ae}=this.visualElement;if(ae&&ae.layout){const pe=ae.layout.layoutBox[W];pe&&(te=vn(pe)*(parseFloat(te)/100))}}this.originPoint[W]=te}),B&&pt.postRender(()=>B(k,T)),jp(this.visualElement,"transform");const{animationState:F}=this.visualElement;F&&F.setActive("whileDrag",!0)},d=(k,T)=>{this.latestPointerEvent=k,this.latestPanInfo=T;const{dragPropagation:_,dragDirectionLock:j,onDirectionLock:B,onDrag:F}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:W}=T;if(j&&this.currentDirection===null){this.currentDirection=JP(W),this.currentDirection!==null&&B&&B(this.currentDirection);return}this.updateAxis("x",T.point,W),this.updateAxis("y",T.point,W),this.visualElement.render(),F&&F(k,T)},m=(k,T)=>{this.latestPointerEvent=k,this.latestPanInfo=T,this.stop(k,T),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Wn(k=>{var T;return this.getAnimationState(k)==="paused"&&((T=this.getAxisMotionValue(k).animation)==null?void 0:T.play())}),{dragSnapToOrigin:v}=this.getProps();this.panSession=new q1(e,{onSessionStart:u,onStart:h,onMove:d,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:a,contextWindow:z1(this.visualElement)})}stop(e,r){const a=e||this.latestPointerEvent,o=r||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!a)return;const{velocity:h}=o;this.startAnimation(h);const{onDragEnd:d}=this.getProps();d&&pt.postRender(()=>d(a,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,a){const{drag:o}=this.getProps();if(!a||!Uc(e,o,this.currentDirection))return;const u=this.getAxisMotionValue(e);let h=this.originPoint[e]+a[e];this.constraints&&this.constraints[e]&&(h=$P(h,this.constraints[e],this.elastic[e])),u.set(h)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:a}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)==null?void 0:e.layout,u=this.constraints;r&&Fs(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&o?this.constraints=HP(o.layoutBox,r):this.constraints=!1,this.elastic=WP(a),u!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Wn(h=>{this.constraints!==!1&&this.getAxisMotionValue(h)&&(this.constraints[h]=QP(o.layoutBox[h],this.constraints[h]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Fs(e))return!1;const a=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=ZI(a,o.root,this.visualElement.getTransformPagePoint());let h=KP(o.layout.layoutBox,u);if(r){const d=r(XI(h));this.hasMutatedConstraints=!!d,d&&(h=d1(d))}return h}startAnimation(e){const{drag:r,dragMomentum:a,dragElastic:o,dragTransition:u,dragSnapToOrigin:h,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},g=Wn(v=>{if(!Uc(v,r,this.currentDirection))return;let k=m&&m[v]||{};h&&(k={min:0,max:0});const T=o?200:1e6,_=o?40:1e7,j={type:"inertia",velocity:a?e[v]:0,bounceStiffness:T,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...u,...k};return this.startAxisValueAnimation(v,j)});return Promise.all(g).then(d)}startAxisValueAnimation(e,r){const a=this.getAxisMotionValue(e);return jp(this.visualElement,e),a.start(Fp(e,a,0,r,this.visualElement,!1))}stopAnimation(){Wn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Wn(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,a=this.visualElement.getProps();return a[r]||this.visualElement.getValue(e,(a.initial?a.initial[e]:void 0)||0)}snapToCursor(e){Wn(r=>{const{drag:a}=this.getProps();if(!Uc(r,a,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(r);if(o&&o.layout){const{min:h,max:d}=o.layout.layoutBox[r];u.set(e[r]-bt(h,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:a}=this.visualElement;if(!Fs(r)||!a||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Wn(h=>{const d=this.getAxisMotionValue(h);if(d&&this.constraints!==!1){const m=d.get();o[h]=GP({min:m,max:m},this.constraints[h])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),Wn(h=>{if(!Uc(h,e,null))return;const d=this.getAxisMotionValue(h),{min:m,max:g}=this.constraints[h];d.set(bt(m,g,o[h]))})}addListeners(){if(!this.visualElement.current)return;XP.set(this.visualElement,this);const e=this.visualElement.current,r=Tl(e,"pointerdown",m=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(m)}),a=()=>{const{dragConstraints:m}=this.getProps();Fs(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",a);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),pt.read(a);const h=El(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(Wn(v=>{const k=this.getAxisMotionValue(v);k&&(this.originPoint[v]+=m[v].translate,k.set(k.get()+m[v].translate))}),this.visualElement.render())}));return()=>{h(),r(),u(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:a=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:h=Bp,dragMomentum:d=!0}=e;return{...e,drag:r,dragDirectionLock:a,dragPropagation:o,dragConstraints:u,dragElastic:h,dragMomentum:d}}}function Uc(n,e,r){return(e===!0||e===n)&&(r===null||r===n)}function JP(n,e=10){let r=null;return Math.abs(n.y)>e?r="y":Math.abs(n.x)>e&&(r="x"),r}class ZP extends $i{constructor(e){super(e),this.removeGroupControls=Gn,this.removeListeners=Gn,this.controls=new YP(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Gn}unmount(){this.removeGroupControls(),this.removeListeners()}}const W1=n=>(e,r)=>{n&&pt.postRender(()=>n(e,r))};class eM extends $i{constructor(){super(...arguments),this.removePointerDownListener=Gn}onPointerDown(e){this.session=new q1(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:z1(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:a,onPanEnd:o}=this.node.getProps();return{onSessionStart:W1(e),onStart:W1(r),onMove:a,onEnd:(u,h)=>{delete this.session,o&&pt.postRender(()=>o(u,h))}}}mount(){this.removePointerDownListener=Tl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const qc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function X1(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Al={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Ae.test(n))n=parseFloat(n);else return n;const r=X1(n,e.target.x),a=X1(n,e.target.y);return`${r}% ${a}%`}},tM={correct:(n,{treeScale:e,projectionDelta:r})=>{const a=n,o=Bi.parse(n);if(o.length>5)return a;const u=Bi.createTransformer(n),h=typeof o[0]!="number"?1:0,d=r.x.scale*e.x,m=r.y.scale*e.y;o[0+h]/=d,o[1+h]/=m;const g=bt(d,m,.5);return typeof o[2+h]=="number"&&(o[2+h]/=g),typeof o[3+h]=="number"&&(o[3+h]/=g),u(o)}};let $p=!1;class nM extends ge.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:a,layoutId:o}=this.props,{projection:u}=e;TI(rM),u&&(r.group&&r.group.add(u),a&&a.register&&o&&a.register(u),$p&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),qc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:a,drag:o,isPresent:u}=this.props,{projection:h}=a;return h&&(h.isPresent=u,$p=!0,o||e.layoutDependency!==r||r===void 0||e.isPresent!==u?h.willUpdate():this.safeToRemove(),e.isPresent!==u&&(u?h.promote():h.relegate()||pt.postRender(()=>{const d=h.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),kp.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:a}=this.props,{projection:o}=e;$p=!0,o&&(o.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(o),a&&a.deregister&&a.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Y1(n){const[e,r]=yI(),a=ge.useContext(Ub);return ie.jsx(nM,{...n,layoutGroup:a,switchLayoutGroup:ge.useContext(h1),isPresent:e,safeToRemove:r})}const rM={borderRadius:{...Al,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Al,borderTopRightRadius:Al,borderBottomLeftRadius:Al,borderBottomRightRadius:Al,boxShadow:tM};function iM(n,e,r){const a=pn(n)?n:Rs(n);return a.start(Fp("",a,e,r)),a.animation}const aM=(n,e)=>n.depth-e.depth;class sM{constructor(){this.children=[],this.isDirty=!1}add(e){jd(this.children,e),this.isDirty=!0}remove(e){Fd(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(aM),this.isDirty=!1,this.children.forEach(e)}}function oM(n,e){const r=_n.now(),a=({timestamp:o})=>{const u=o-r;u>=e&&(Ui(a),n(u-e))};return pt.setup(a,!0),()=>Ui(a)}const J1=["TopLeft","TopRight","BottomLeft","BottomRight"],lM=J1.length,Z1=n=>typeof n=="string"?parseFloat(n):n,ek=n=>typeof n=="number"||Ae.test(n);function uM(n,e,r,a,o,u){o?(n.opacity=bt(0,r.opacity??1,cM(a)),n.opacityExit=bt(e.opacity??1,0,hM(a))):u&&(n.opacity=bt(e.opacity??1,r.opacity??1,a));for(let h=0;h<lM;h++){const d=`border${J1[h]}Radius`;let m=tk(e,d),g=tk(r,d);m===void 0&&g===void 0||(m||(m=0),g||(g=0),m===0||g===0||ek(m)===ek(g)?(n[d]=Math.max(bt(Z1(m),Z1(g),a),0),(Ar.test(g)||Ar.test(m))&&(n[d]+="%")):n[d]=g)}(e.rotate||r.rotate)&&(n.rotate=bt(e.rotate||0,r.rotate||0,a))}function tk(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const cM=nk(0,.5,Jb),hM=nk(.5,.95,Gn);function nk(n,e,r){return a=>a<n?0:a>e?1:r(fl(n,e,a))}function rk(n,e){n.min=e.min,n.max=e.max}function Xn(n,e){rk(n.x,e.x),rk(n.y,e.y)}function ik(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function ak(n,e,r,a,o){return n-=e,n=zc(n,1/r,a),o!==void 0&&(n=zc(n,1/o,a)),n}function fM(n,e=0,r=1,a=.5,o,u=n,h=n){if(Ar.test(e)&&(e=parseFloat(e),e=bt(h.min,h.max,e/100)-h.min),typeof e!="number")return;let d=bt(u.min,u.max,a);n===u&&(d-=e),n.min=ak(n.min,e,r,d,o),n.max=ak(n.max,e,r,d,o)}function sk(n,e,[r,a,o],u,h){fM(n,e[r],e[a],e[o],e.scale,u,h)}const dM=["x","scaleX","originX"],pM=["y","scaleY","originY"];function ok(n,e,r,a){sk(n.x,e,dM,r?r.x:void 0,a?a.x:void 0),sk(n.y,e,pM,r?r.y:void 0,a?a.y:void 0)}function lk(n){return n.translate===0&&n.scale===1}function uk(n){return lk(n.x)&&lk(n.y)}function ck(n,e){return n.min===e.min&&n.max===e.max}function mM(n,e){return ck(n.x,e.x)&&ck(n.y,e.y)}function hk(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function fk(n,e){return hk(n.x,e.x)&&hk(n.y,e.y)}function dk(n){return vn(n.x)/vn(n.y)}function pk(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class gM{constructor(){this.members=[]}add(e){jd(this.members,e),e.scheduleRender()}remove(e){if(Fd(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(o=>e===o);if(r===0)return!1;let a;for(let o=r;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){a=u;break}}return a?(this.promote(a),!0):!1}promote(e,r){const a=this.lead;if(e!==a&&(this.prevLead=a,this.lead=e,e.show(),a)){a.instance&&a.scheduleRender(),e.scheduleRender(),e.resumeFrom=a,r&&(e.resumeFrom.preserveOpacity=!0),a.snapshot&&(e.snapshot=a.snapshot,e.snapshot.latestValues=a.animationValues||a.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:a}=e;r.onExitComplete&&r.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function yM(n,e,r){let a="";const o=n.x.translate/e.x,u=n.y.translate/e.y,h=(r==null?void 0:r.z)||0;if((o||u||h)&&(a=`translate3d(${o}px, ${u}px, ${h}px) `),(e.x!==1||e.y!==1)&&(a+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:g,rotate:v,rotateX:k,rotateY:T,skewX:_,skewY:j}=r;g&&(a=`perspective(${g}px) ${a}`),v&&(a+=`rotate(${v}deg) `),k&&(a+=`rotateX(${k}deg) `),T&&(a+=`rotateY(${T}deg) `),_&&(a+=`skewX(${_}deg) `),j&&(a+=`skewY(${j}deg) `)}const d=n.x.scale*e.x,m=n.y.scale*e.y;return(d!==1||m!==1)&&(a+=`scale(${d}, ${m})`),a||"none"}const Hp=["","X","Y","Z"],vM=1e3;let bM=0;function Kp(n,e,r,a){const{latestValues:o}=e;o[n]&&(r[n]=o[n],e.setStaticValue(n,0),a&&(a[n]=0))}function mk(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const r=N1(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:o,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(r,"transform",pt,!(o||u))}const{parent:a}=n;a&&!a.hasCheckedOptimisedAppear&&mk(a)}function gk({attachResizeListener:n,defaultParent:e,measureScroll:r,checkIsScrollRoot:a,resetTransform:o}){return class{constructor(u={},h=e==null?void 0:e()){this.id=bM++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(EM),this.nodes.forEach(CM),this.nodes.forEach(AM),this.nodes.forEach(SM)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new sM)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new qd),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const d=this.eventHandlers.get(u);d&&d.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=Ww(u)&&!pI(u),this.instance=u;const{layoutId:h,layout:d,visualElement:m}=this.options;if(m&&!m.current&&m.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||h)&&(this.isLayoutDirty=!0),n){let g,v=0;const k=()=>this.root.updateBlockedByResize=!1;pt.read(()=>{v=window.innerWidth}),n(u,()=>{const T=window.innerWidth;T!==v&&(v=T,this.root.updateBlockedByResize=!0,g&&g(),g=oM(k,250),qc.hasAnimatedSinceResize&&(qc.hasAnimatedSinceResize=!1,this.nodes.forEach(bk)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||d)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:k,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||m.getDefaultTransition()||PM,{onLayoutAnimationStart:j,onLayoutAnimationComplete:B}=m.getProps(),F=!this.targetLayout||!fk(this.targetLayout,T),W=!v&&k;if(this.options.layoutRoot||this.resumeFrom||W||v&&(F||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const te={...vp(_,"layout"),onPlay:j,onComplete:B};(m.shouldReduceMotion||this.options.layoutRoot)&&(te.delay=0,te.type=!1),this.startAnimation(te),this.setAnimationOrigin(g,W)}else v||bk(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ui(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(_M),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&mk(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(yk);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(vk);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(xM),this.nodes.forEach(wM),this.nodes.forEach(kM)):this.nodes.forEach(vk),this.clearAllSnapshots();const u=_n.now();tn.delta=Gr(0,1e3/60,u-tn.timestamp),tn.timestamp=u,tn.isProcessing=!0,Hd.update.process(tn),Hd.preRender.process(tn),Hd.render.process(tn),tn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,kp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(TM),this.sharedNodes.forEach(NM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,pt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){pt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!vn(this.snapshot.measuredBox.x)&&!vn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ct(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const d=a(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!uk(this.projectionDelta),d=this.getTransformTemplate(),m=d?d(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;u&&this.instance&&(h||Va(this.latestValues)||g)&&(o(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return u&&(d=this.removeTransform(d)),MM(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:h}=this.options;if(!h)return Ct();const d=h.measureViewportBox();if(!((u=this.scroll)!=null&&u.wasRoot||this.path.some(OM))){const{scroll:m}=this.root;m&&(zs(d.x,m.offset.x),zs(d.y,m.offset.y))}return d}removeElementScroll(u){var h;const d=Ct();if(Xn(d,u),(h=this.scroll)!=null&&h.wasRoot)return d;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:v,options:k}=g;g!==this.root&&v&&k.layoutScroll&&(v.wasRoot&&Xn(d,u),zs(d.x,v.offset.x),zs(d.y,v.offset.y))}return d}applyTransform(u,h=!1){const d=Ct();Xn(d,u);for(let m=0;m<this.path.length;m++){const g=this.path[m];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Us(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Va(g.latestValues)&&Us(d,g.latestValues)}return Va(this.latestValues)&&Us(d,this.latestValues),d}removeTransform(u){const h=Ct();Xn(h,u);for(let d=0;d<this.path.length;d++){const m=this.path[d];if(!m.instance||!Va(m.latestValues))continue;Op(m.latestValues)&&m.updateSnapshot();const g=Ct(),v=m.measurePageBox();Xn(g,v),ok(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return Va(this.latestValues)&&ok(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==tn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var h;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=tn.timestamp,!this.targetDelta&&!this.relativeTarget){const k=this.getClosestProjectingParent();k&&k.layout&&this.animationProgress!==1?(this.relativeParent=k,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),Cl(this.relativeTargetOrigin,this.layout.layoutBox,k.layout.layoutBox),Xn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ct(),this.targetWithTransforms=Ct()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),zP(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Xn(this.target,this.layout.layoutBox),y1(this.target,this.targetDelta)):Xn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const k=this.getClosestProjectingParent();k&&!!k.resumingFrom==!!this.resumingFrom&&!k.options.layoutScroll&&k.target&&this.animationProgress!==1?(this.relativeParent=k,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),Cl(this.relativeTargetOrigin,this.target,k.target),Xn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Op(this.parent.latestValues)||p1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const h=this.getLead(),d=!!this.resumingFrom||this!==h;let m=!0;if((this.isProjectionDirty||(u=this.parent)!=null&&u.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===tn.timestamp&&(m=!1),m)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;Xn(this.layoutCorrected,this.layout.layoutBox);const k=this.treeScale.x,T=this.treeScale.y;JI(this.layoutCorrected,this.treeScale,this.path,d),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=Ct());const{target:_}=h;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ik(this.prevProjectionDelta.x,this.projectionDelta.x),ik(this.prevProjectionDelta.y,this.projectionDelta.y)),xl(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==k||this.treeScale.y!==T||!pk(this.projectionDelta.x,this.prevProjectionDelta.x)||!pk(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=qs(),this.projectionDelta=qs(),this.projectionDeltaWithTransform=qs()}setAnimationOrigin(u,h=!1){const d=this.snapshot,m=d?d.latestValues:{},g={...this.latestValues},v=qs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const k=Ct(),T=d?d.source:void 0,_=this.layout?this.layout.source:void 0,j=T!==_,B=this.getStack(),F=!B||B.members.length<=1,W=!!(j&&!F&&this.options.crossfade===!0&&!this.path.some(IM));this.animationProgress=0;let te;this.mixTargetDelta=ae=>{const pe=ae/1e3;wk(v.x,u.x,pe),wk(v.y,u.y,pe),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Cl(k,this.layout.layoutBox,this.relativeParent.layout.layoutBox),DM(this.relativeTarget,this.relativeTargetOrigin,k,pe),te&&mM(this.relativeTarget,te)&&(this.isProjectionDirty=!1),te||(te=Ct()),Xn(te,this.relativeTarget)),j&&(this.animationValues=g,uM(g,m,this.latestValues,pe,W,F)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=pe},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var h,d,m;this.notifyListeners("animationStart"),(h=this.currentAnimation)==null||h.stop(),(m=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||m.stop(),this.pendingAnimation&&(Ui(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=pt.update(()=>{qc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Rs(0)),this.currentAnimation=iM(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),u.onUpdate&&u.onUpdate(g)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(vM),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:d,layout:m,latestValues:g}=u;if(!(!h||!d||!m)){if(this!==u&&this.layout&&m&&xk(this.options.animationType,this.layout.layoutBox,m.layoutBox)){d=this.target||Ct();const v=vn(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+v;const k=vn(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+k}Xn(h,d),Us(h,g),xl(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new gM),this.sharedNodes.get(u).add(h);const d=h.options.initialPromotionConfig;h.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:h}=this.options;return h?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:h}=this.options;return h?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:d}={}){const m=this.getStack();m&&m.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const m={};d.z&&Kp("z",u,m,this.animationValues);for(let g=0;g<Hp.length;g++)Kp(`rotate${Hp[g]}`,u,m,this.animationValues),Kp(`skew${Hp[g]}`,u,m,this.animationValues);u.render();for(const g in m)u.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Fc(h==null?void 0:h.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Fc(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!Va(this.latestValues)&&(u.transform=d?d({},""):"none",this.hasProjected=!1);return}u.visibility="";const g=m.animationValues||m.latestValues;this.applyTransformsToTarget();let v=yM(this.projectionDeltaWithTransform,this.treeScale,g);d&&(v=d(g,v)),u.transform=v;const{x:k,y:T}=this.projectionDelta;u.transformOrigin=`${k.origin*100}% ${T.origin*100}% 0`,m.animationValues?u.opacity=m===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const _ in kl){if(g[_]===void 0)continue;const{correct:j,applyTo:B,isCSSVariable:F}=kl[_],W=v==="none"?g[_]:j(g[_],m);if(B){const te=B.length;for(let ae=0;ae<te;ae++)u[B[ae]]=W}else F?this.options.visualElement.renderState.vars[_]=W:u[_]=W}this.options.layoutId&&(u.pointerEvents=m===this?Fc(h==null?void 0:h.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var h;return(h=u.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(yk),this.root.sharedNodes.clear()}}}function wM(n){n.updateLayout()}function kM(n){var e;const r=((e=n.resumeFrom)==null?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&r&&n.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:o}=n.layout,{animationType:u}=n.options,h=r.source!==n.layout.source;u==="size"?Wn(k=>{const T=h?r.measuredBox[k]:r.layoutBox[k],_=vn(T);T.min=a[k].min,T.max=T.min+_}):xk(u,r.layoutBox,a)&&Wn(k=>{const T=h?r.measuredBox[k]:r.layoutBox[k],_=vn(a[k]);T.max=T.min+_,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[k].max=n.relativeTarget[k].min+_)});const d=qs();xl(d,a,r.layoutBox);const m=qs();h?xl(m,n.applyTransform(o,!0),r.measuredBox):xl(m,a,r.layoutBox);const g=!uk(d);let v=!1;if(!n.resumeFrom){const k=n.getClosestProjectingParent();if(k&&!k.resumeFrom){const{snapshot:T,layout:_}=k;if(T&&_){const j=Ct();Cl(j,r.layoutBox,T.layoutBox);const B=Ct();Cl(B,a,_.layoutBox),fk(j,B)||(v=!0),k.options.layoutRoot&&(n.relativeTarget=B,n.relativeTargetOrigin=j,n.relativeParent=k)}}}n.notifyListeners("didUpdate",{layout:a,snapshot:r,delta:m,layoutDelta:d,hasLayoutChanged:g,hasRelativeLayoutChanged:v})}else if(n.isLead()){const{onExitComplete:a}=n.options;a&&a()}n.options.transition=void 0}function EM(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function SM(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function TM(n){n.clearSnapshot()}function yk(n){n.clearMeasurements()}function vk(n){n.isLayoutDirty=!1}function xM(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function bk(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function CM(n){n.resolveTargetDelta()}function AM(n){n.calcProjection()}function _M(n){n.resetSkewAndRotation()}function NM(n){n.removeLeadSnapshot()}function wk(n,e,r){n.translate=bt(e.translate,0,r),n.scale=bt(e.scale,1,r),n.origin=e.origin,n.originPoint=e.originPoint}function kk(n,e,r,a){n.min=bt(e.min,r.min,a),n.max=bt(e.max,r.max,a)}function DM(n,e,r,a){kk(n.x,e.x,r.x,a),kk(n.y,e.y,r.y,a)}function IM(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const PM={duration:.45,ease:[.4,0,.1,1]},Ek=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),Sk=Ek("applewebkit/")&&!Ek("chrome/")?Math.round:Gn;function Tk(n){n.min=Sk(n.min),n.max=Sk(n.max)}function MM(n){Tk(n.x),Tk(n.y)}function xk(n,e,r){return n==="position"||n==="preserve-aspect"&&!FP(dk(e),dk(r),.2)}function OM(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const LM=gk({attachResizeListener:(n,e)=>El(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Gp={current:void 0},Ck=gk({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Gp.current){const n=new LM({});n.mount(window),n.setOptions({layoutScroll:!0}),Gp.current=n}return Gp.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),VM={pan:{Feature:eM},drag:{Feature:ZP,ProjectionNode:Ck,MeasureLayout:Y1}};function Ak(n,e,r){const{props:a}=n;n.animationState&&a.whileHover&&n.animationState.setActive("whileHover",r==="Start");const o="onHover"+r,u=a[o];u&&pt.postRender(()=>u(e,Sl(e)))}class RM extends $i{mount(){const{current:e}=this.node;e&&(this.unmount=uI(e,(r,a)=>(Ak(this.node,a,"Start"),o=>Ak(this.node,o,"End"))))}unmount(){}}class jM extends $i{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=hl(El(this.node.current,"focus",()=>this.onFocus()),El(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function _k(n,e,r){const{props:a}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&a.whileTap&&n.animationState.setActive("whileTap",r==="Start");const o="onTap"+(r==="End"?"":r),u=a[o];u&&pt.postRender(()=>u(e,Sl(e)))}class FM extends $i{mount(){const{current:e}=this.node;e&&(this.unmount=dI(e,(r,a)=>(_k(this.node,a,"Start"),(o,{success:u})=>_k(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Qp=new WeakMap,Wp=new WeakMap,zM=n=>{const e=Qp.get(n.target);e&&e(n)},UM=n=>{n.forEach(zM)};function qM({root:n,...e}){const r=n||document;Wp.has(r)||Wp.set(r,{});const a=Wp.get(r),o=JSON.stringify(e);return a[o]||(a[o]=new IntersectionObserver(UM,{root:n,...e})),a[o]}function BM(n,e,r){const a=qM(e);return Qp.set(n,r),a.observe(n),()=>{Qp.delete(n),a.unobserve(n)}}const $M={some:0,all:1};class HM extends $i{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:a,amount:o="some",once:u}=e,h={root:r?r.current:void 0,rootMargin:a,threshold:typeof o=="number"?o:$M[o]},d=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:k}=this.node.getProps(),T=g?v:k;T&&T(m)};return BM(this.node.current,h,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(KM(e,r))&&this.startObserver()}unmount(){}}function KM({viewport:n={}},{viewport:e={}}={}){return r=>n[r]!==e[r]}const GM={inView:{Feature:HM},tap:{Feature:FM},focus:{Feature:jM},hover:{Feature:RM}},QM={layout:{ProjectionNode:Ck,MeasureLayout:Y1}},WM={...MP,...GM,...VM,...QM},XM=WI(WM,lP);var Bc={};(function n(e,r,a,o){var u=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),h=typeof Path2D=="function"&&typeof DOMMatrix=="function",d=(function(){if(!e.OffscreenCanvas)return!1;var S=new OffscreenCanvas(1,1),C=S.getContext("2d");C.fillRect(0,0,1,1);var X=S.transferToImageBitmap();try{C.createPattern(X,"no-repeat")}catch{return!1}return!0})();function m(){}function g(S){var C=r.exports.Promise,X=C!==void 0?C:e.Promise;return typeof X=="function"?new X(S):(S(m,m),null)}var v=(function(S,C){return{transform:function(X){if(S)return X;if(C.has(X))return C.get(X);var Q=new OffscreenCanvas(X.width,X.height),se=Q.getContext("2d");return se.drawImage(X,0,0),C.set(X,Q),Q},clear:function(){C.clear()}}})(d,new Map),k=(function(){var S=Math.floor(16.666666666666668),C,X,Q={},se=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(C=function(ce){var oe=Math.random();return Q[oe]=requestAnimationFrame(function me(ve){se===ve||se+S-1<ve?(se=ve,delete Q[oe],ce()):Q[oe]=requestAnimationFrame(me)}),oe},X=function(ce){Q[ce]&&cancelAnimationFrame(Q[ce])}):(C=function(ce){return setTimeout(ce,S)},X=function(ce){return clearTimeout(ce)}),{frame:C,cancel:X}})(),T=(function(){var S,C,X={};function Q(se){function ce(oe,me){se.postMessage({options:oe||{},callback:me})}se.init=function(oe){var me=oe.transferControlToOffscreen();se.postMessage({canvas:me},[me])},se.fire=function(oe,me,ve){if(C)return ce(oe,null),C;var Pe=Math.random().toString(36).slice(2);return C=g(function(ot){function je(nt){nt.data.callback===Pe&&(delete X[Pe],se.removeEventListener("message",je),C=null,v.clear(),ve(),ot())}se.addEventListener("message",je),ce(oe,Pe),X[Pe]=je.bind(null,{data:{callback:Pe}})}),C},se.reset=function(){se.postMessage({reset:!0});for(var oe in X)X[oe](),delete X[oe]}}return function(){if(S)return S;if(!a&&u){var se=["var CONFETTI, SIZE = {}, module = {};","("+n.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{S=new Worker(URL.createObjectURL(new Blob([se])))}catch(ce){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn(" Could not load worker",ce),null}Q(S)}return S}})(),_={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function j(S,C){return C?C(S):S}function B(S){return S!=null}function F(S,C,X){return j(S&&B(S[C])?S[C]:_[C],X)}function W(S){return S<0?0:Math.floor(S)}function te(S,C){return Math.floor(Math.random()*(C-S))+S}function ae(S){return parseInt(S,16)}function pe(S){return S.map(le)}function le(S){var C=String(S).replace(/[^0-9a-f]/gi,"");return C.length<6&&(C=C[0]+C[0]+C[1]+C[1]+C[2]+C[2]),{r:ae(C.substring(0,2)),g:ae(C.substring(2,4)),b:ae(C.substring(4,6))}}function ye(S){var C=F(S,"origin",Object);return C.x=F(C,"x",Number),C.y=F(C,"y",Number),C}function M(S){S.width=document.documentElement.clientWidth,S.height=document.documentElement.clientHeight}function A(S){var C=S.getBoundingClientRect();S.width=C.width,S.height=C.height}function N(S){var C=document.createElement("canvas");return C.style.position="fixed",C.style.top="0px",C.style.left="0px",C.style.pointerEvents="none",C.style.zIndex=S,C}function P(S,C,X,Q,se,ce,oe,me,ve){S.save(),S.translate(C,X),S.rotate(ce),S.scale(Q,se),S.arc(0,0,1,oe,me,ve),S.restore()}function O(S){var C=S.angle*(Math.PI/180),X=S.spread*(Math.PI/180);return{x:S.x,y:S.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:S.startVelocity*.5+Math.random()*S.startVelocity,angle2D:-C+(.5*X-Math.random()*X),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:S.color,shape:S.shape,tick:0,totalTicks:S.ticks,decay:S.decay,drift:S.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:S.gravity*3,ovalScalar:.6,scalar:S.scalar,flat:S.flat}}function V(S,C){C.x+=Math.cos(C.angle2D)*C.velocity+C.drift,C.y+=Math.sin(C.angle2D)*C.velocity+C.gravity,C.velocity*=C.decay,C.flat?(C.wobble=0,C.wobbleX=C.x+10*C.scalar,C.wobbleY=C.y+10*C.scalar,C.tiltSin=0,C.tiltCos=0,C.random=1):(C.wobble+=C.wobbleSpeed,C.wobbleX=C.x+10*C.scalar*Math.cos(C.wobble),C.wobbleY=C.y+10*C.scalar*Math.sin(C.wobble),C.tiltAngle+=.1,C.tiltSin=Math.sin(C.tiltAngle),C.tiltCos=Math.cos(C.tiltAngle),C.random=Math.random()+2);var X=C.tick++/C.totalTicks,Q=C.x+C.random*C.tiltCos,se=C.y+C.random*C.tiltSin,ce=C.wobbleX+C.random*C.tiltCos,oe=C.wobbleY+C.random*C.tiltSin;if(S.fillStyle="rgba("+C.color.r+", "+C.color.g+", "+C.color.b+", "+(1-X)+")",S.beginPath(),h&&C.shape.type==="path"&&typeof C.shape.path=="string"&&Array.isArray(C.shape.matrix))S.fill(re(C.shape.path,C.shape.matrix,C.x,C.y,Math.abs(ce-Q)*.1,Math.abs(oe-se)*.1,Math.PI/10*C.wobble));else if(C.shape.type==="bitmap"){var me=Math.PI/10*C.wobble,ve=Math.abs(ce-Q)*.1,Pe=Math.abs(oe-se)*.1,ot=C.shape.bitmap.width*C.scalar,je=C.shape.bitmap.height*C.scalar,nt=new DOMMatrix([Math.cos(me)*ve,Math.sin(me)*ve,-Math.sin(me)*Pe,Math.cos(me)*Pe,C.x,C.y]);nt.multiplySelf(new DOMMatrix(C.shape.matrix));var wt=S.createPattern(v.transform(C.shape.bitmap),"no-repeat");wt.setTransform(nt),S.globalAlpha=1-X,S.fillStyle=wt,S.fillRect(C.x-ot/2,C.y-je/2,ot,je),S.globalAlpha=1}else if(C.shape==="circle")S.ellipse?S.ellipse(C.x,C.y,Math.abs(ce-Q)*C.ovalScalar,Math.abs(oe-se)*C.ovalScalar,Math.PI/10*C.wobble,0,2*Math.PI):P(S,C.x,C.y,Math.abs(ce-Q)*C.ovalScalar,Math.abs(oe-se)*C.ovalScalar,Math.PI/10*C.wobble,0,2*Math.PI);else if(C.shape==="star")for(var Me=Math.PI/2*3,Ot=4*C.scalar,mn=8*C.scalar,mt=C.x,Vn=C.y,Rn=5,nn=Math.PI/Rn;Rn--;)mt=C.x+Math.cos(Me)*mn,Vn=C.y+Math.sin(Me)*mn,S.lineTo(mt,Vn),Me+=nn,mt=C.x+Math.cos(Me)*Ot,Vn=C.y+Math.sin(Me)*Ot,S.lineTo(mt,Vn),Me+=nn;else S.moveTo(Math.floor(C.x),Math.floor(C.y)),S.lineTo(Math.floor(C.wobbleX),Math.floor(se)),S.lineTo(Math.floor(ce),Math.floor(oe)),S.lineTo(Math.floor(Q),Math.floor(C.wobbleY));return S.closePath(),S.fill(),C.tick<C.totalTicks}function D(S,C,X,Q,se){var ce=C.slice(),oe=S.getContext("2d"),me,ve,Pe=g(function(ot){function je(){me=ve=null,oe.clearRect(0,0,Q.width,Q.height),v.clear(),se(),ot()}function nt(){a&&!(Q.width===o.width&&Q.height===o.height)&&(Q.width=S.width=o.width,Q.height=S.height=o.height),!Q.width&&!Q.height&&(X(S),Q.width=S.width,Q.height=S.height),oe.clearRect(0,0,Q.width,Q.height),ce=ce.filter(function(wt){return V(oe,wt)}),ce.length?me=k.frame(nt):je()}me=k.frame(nt),ve=je});return{addFettis:function(ot){return ce=ce.concat(ot),Pe},canvas:S,promise:Pe,reset:function(){me&&k.cancel(me),ve&&ve()}}}function Ke(S,C){var X=!S,Q=!!F(C||{},"resize"),se=!1,ce=F(C,"disableForReducedMotion",Boolean),oe=u&&!!F(C||{},"useWorker"),me=oe?T():null,ve=X?M:A,Pe=S&&me?!!S.__confetti_initialized:!1,ot=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,je;function nt(Me,Ot,mn){for(var mt=F(Me,"particleCount",W),Vn=F(Me,"angle",Number),Rn=F(Me,"spread",Number),nn=F(Me,"startVelocity",Number),Wr=F(Me,"decay",Number),_l=F(Me,"gravity",Number),Hi=F(Me,"drift",Number),Ki=F(Me,"colors",pe),$s=F(Me,"ticks",Number),dt=F(Me,"shapes"),We=F(Me,"scalar"),bn=!!F(Me,"flat"),zt=ye(Me),ja=mt,Fa=[],Xr=S.width*zt.x,Yr=S.height*zt.y;ja--;)Fa.push(O({x:Xr,y:Yr,angle:Vn,spread:Rn,startVelocity:nn,color:Ki[ja%Ki.length],shape:dt[te(0,dt.length)],ticks:$s,decay:Wr,gravity:_l,drift:Hi,scalar:We,flat:bn}));return je?je.addFettis(Fa):(je=D(S,Fa,ve,Ot,mn),je.promise)}function wt(Me){var Ot=ce||F(Me,"disableForReducedMotion",Boolean),mn=F(Me,"zIndex",Number);if(Ot&&ot)return g(function(nn){nn()});X&&je?S=je.canvas:X&&!S&&(S=N(mn),document.body.appendChild(S)),Q&&!Pe&&ve(S);var mt={width:S.width,height:S.height};me&&!Pe&&me.init(S),Pe=!0,me&&(S.__confetti_initialized=!0);function Vn(){if(me){var nn={getBoundingClientRect:function(){if(!X)return S.getBoundingClientRect()}};ve(nn),me.postMessage({resize:{width:nn.width,height:nn.height}});return}mt.width=mt.height=null}function Rn(){je=null,Q&&(se=!1,e.removeEventListener("resize",Vn)),X&&S&&(document.body.contains(S)&&document.body.removeChild(S),S=null,Pe=!1)}return Q&&!se&&(se=!0,e.addEventListener("resize",Vn,!1)),me?me.fire(Me,mt,Rn):nt(Me,mt,Rn)}return wt.reset=function(){me&&me.reset(),je&&je.reset()},wt}var qe;function H(){return qe||(qe=Ke(null,{useWorker:!0,resize:!0})),qe}function re(S,C,X,Q,se,ce,oe){var me=new Path2D(S),ve=new Path2D;ve.addPath(me,new DOMMatrix(C));var Pe=new Path2D;return Pe.addPath(ve,new DOMMatrix([Math.cos(oe)*se,Math.sin(oe)*se,-Math.sin(oe)*ce,Math.cos(oe)*ce,X,Q])),Pe}function fe(S){if(!h)throw new Error("path confetti are not supported in this browser");var C,X;typeof S=="string"?C=S:(C=S.path,X=S.matrix);var Q=new Path2D(C),se=document.createElement("canvas"),ce=se.getContext("2d");if(!X){for(var oe=1e3,me=oe,ve=oe,Pe=0,ot=0,je,nt,wt=0;wt<oe;wt+=2)for(var Me=0;Me<oe;Me+=2)ce.isPointInPath(Q,wt,Me,"nonzero")&&(me=Math.min(me,wt),ve=Math.min(ve,Me),Pe=Math.max(Pe,wt),ot=Math.max(ot,Me));je=Pe-me,nt=ot-ve;var Ot=10,mn=Math.min(Ot/je,Ot/nt);X=[mn,0,0,mn,-Math.round(je/2+me)*mn,-Math.round(nt/2+ve)*mn]}return{type:"path",path:C,matrix:X}}function Oe(S){var C,X=1,Q="#000000",se='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof S=="string"?C=S:(C=S.text,X="scalar"in S?S.scalar:X,se="fontFamily"in S?S.fontFamily:se,Q="color"in S?S.color:Q);var ce=10*X,oe=""+ce+"px "+se,me=new OffscreenCanvas(ce,ce),ve=me.getContext("2d");ve.font=oe;var Pe=ve.measureText(C),ot=Math.ceil(Pe.actualBoundingBoxRight+Pe.actualBoundingBoxLeft),je=Math.ceil(Pe.actualBoundingBoxAscent+Pe.actualBoundingBoxDescent),nt=2,wt=Pe.actualBoundingBoxLeft+nt,Me=Pe.actualBoundingBoxAscent+nt;ot+=nt+nt,je+=nt+nt,me=new OffscreenCanvas(ot,je),ve=me.getContext("2d"),ve.font=oe,ve.fillStyle=Q,ve.fillText(C,wt,Me);var Ot=1/X;return{type:"bitmap",bitmap:me.transferToImageBitmap(),matrix:[Ot,0,0,Ot,-ot*Ot/2,-je*Ot/2]}}r.exports=function(){return H().apply(this,arguments)},r.exports.reset=function(){H().reset()},r.exports.create=Ke,r.exports.shapeFromPath=fe,r.exports.shapeFromText=Oe})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),Bc,!1);const Nk=Bc.exports;Bc.exports.create;const Dk=17;function YM({streak:n,triggerCelebration:e,onResetStreak:r}){const a=Math.min(n/Dk*100,100),o=n===Dk;return ge.useEffect(()=>{o&&(Nk({particleCount:500,startVelocity:60,spread:90,angle:90,gravity:.5,origin:{y:1.2}}),setTimeout(()=>{Nk({particleCount:500,startVelocity:60,spread:90,angle:90,gravity:.5,origin:{y:1.2}})},500))},[o]),ie.jsx("div",{className:"streak-wrapper",children:ie.jsxs("div",{className:"streak-bar-background",children:[ie.jsx(XM.div,{className:"streak-bar-fill",initial:{width:0},animate:{width:`${a}%`},transition:{duration:.4}}),ie.jsxs("div",{className:"streak-bar-content",children:[ie.jsx("span",{className:"streak-text",children:"17 richtige Fragen"}),o&&ie.jsx("button",{className:"streak-reset-inline",onClick:r,children:"Reset"})]})]})})}function JM({onClose:n,questions:e}){const[r,a]=ge.useState([]),[o,u]=ge.useState(0),[h,d]=ge.useState(0);ge.useEffect(()=>{Ln("stats_modal_opened");const _=dD(JN(cl,"questionStats"),j=>{const B=[];let F=0,W=0;j.forEach(te=>{const ae=te.data();B.push({id:te.id,...ae}),F+=ae.total||0,W+=ae.correct||0}),a(B),u(F),d(W)});return()=>_()},[]);const m=o?Math.round(h/o*100):0,g=[...r].filter(_=>_.correct>0).sort((_,j)=>j.correct-_.correct).slice(0,3),v=[...r].filter(_=>_.wrong>0).sort((_,j)=>j.wrong-_.wrong).slice(0,3),k=_=>{if(!Array.isArray(e))return`Frage #${_}`;const j=e.find(B=>String(B.id)===String(_));return(j==null?void 0:j.question)||`Frage #${_}`},T=(_,j)=>{Ln("stats_question_clicked",{question_id:_,type:j});const B=e.findIndex(F=>String(F.id)===String(_));B!==-1&&n(B)};return ie.jsx("div",{className:"about-modal-overlay",onClick:_=>{_.target.classList.contains("about-modal-overlay")&&n()},children:ie.jsxs("div",{className:"about-modal",children:[ie.jsx("button",{className:"close-button",onClick:()=>n(),children:""}),ie.jsx("h2",{className:"text-xl font-bold mb-4",children:"Globale Statistiken"}),ie.jsxs("div",{className:"modal-content",children:[ie.jsxs("div",{className:"stats-summary",children:[ie.jsxs("div",{className:"stats-summary-box",children:[ie.jsxs("p",{className:"text-sm",children:["Beantwortete",ie.jsx("br",{}),"Fragen"]}),ie.jsx("p",{className:"big-number",children:o})]}),ie.jsxs("div",{className:"stats-summary-box",children:[ie.jsxs("p",{className:"text-sm",children:["Richtig",ie.jsx("br",{}),"beantwortet"]}),ie.jsxs("p",{className:"big-number",children:[m,"%"]})]})]}),ie.jsxs("h3",{className:"modal-subtitle text-lg font-semibold mb-2",children:["Top 3 ",ie.jsx("span",{className:"green-text",children:"Richtig"})," beantwortete Fragen"]}),ie.jsx("div",{className:"answer-list mb-4",children:g.map(_=>ie.jsx("div",{className:"answer-button text-sm",onClick:()=>T(_.id,"correct"),children:k(_.id)},_.id))}),ie.jsxs("h3",{className:"modal-subtitle text-lg font-semibold mb-2",children:["Top 3 ",ie.jsx("span",{className:"red-text",children:"Falsch"})," beantwortete Fragen"]}),ie.jsx("div",{className:"answer-list",children:v.map(_=>ie.jsx("div",{className:"answer-button text-sm",onClick:()=>T(_.id,"wrong"),children:k(_.id)},_.id))})]})]})})}function ZM(){const[n,e]=ge.useState(()=>localStorage.getItem("user_consent")==="true");ge.useEffect(()=>{var a;n||(a=window.gtag)==null||a.call(window,"consent","default",{ad_storage:"denied",analytics_storage:"granted"})},[n]);const r=()=>{var a;localStorage.setItem("user_consent","true"),e(!0),(a=window.gtag)==null||a.call(window,"consent","update",{ad_storage:"granted",analytics_storage:"granted"}),console.log(" User accepted cookies")};return n?null:ie.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(255, 255, 255, 0.5)",zIndex:9999,display:"flex",justifyContent:"center",alignItems:"center",padding:"1rem"},children:ie.jsxs("div",{style:{background:"white",color:"#222",borderRadius:"12px",padding:"24px",maxWidth:"300px",textAlign:"center",boxShadow:"0 6px 16px rgba(0,0,0,0.1)"},children:[ie.jsx("p",{style:{marginBottom:"16px",fontSize:"15px",lineHeight:1.5},children:"Diese Website verwendet Google Analytics, um anonyme Nutzungsdaten zu sammeln. Keine persnlichen Daten werden gespeichert oder weitergegeben."}),ie.jsx("button",{onClick:r,style:{fontSize:"15px",padding:"10px 16px",fontWeight:"500",backgroundColor:"var(--color-primary)",color:"white",borderRadius:"8px",border:"none",cursor:"pointer"},children:"OK, verstanden"})]})})}function e6(){var n,e,r,a,o;const[u,h]=ge.useState([]),[d,m]=ge.useState(0),[g,v]=ge.useState(null),[k,T]=ge.useState(!0),[_,j]=ge.useState(!1),[B,F]=ge.useState(!1),[W,te]=ge.useState(0),[ae,pe]=ge.useState(!1),le=new Set([21,55,70,130,176,181,187,209,216,226,235,301,308]);ge.useEffect(()=>{const P=setInterval(()=>{var O;(window.gtag||(O=window.firebase)!=null&&O.analytics)&&(Ln("session_start"),clearInterval(P))},100);return fetch("/data/questions.json").then(O=>O.json()).then(O=>{const V=O.map(Ke=>{var qe;const H=Ke.question_number;return{id:H??"N/A",question:Ke.question??"No question provided",answers:Ke.options??[],correct:((qe=Ke.options)==null?void 0:qe.indexOf(Ke.correct_answer))??-1,imageId:le.has(H)?H:null}});h(V);const D=Math.floor(Math.random()*V.length);m(D),T(!1)}).catch(O=>{console.error(" Failed to load questions:",O),T(!1)}),()=>clearInterval(P)},[]);const ye=async P=>{var O,V;const D=P===((O=u[d])==null?void 0:O.correct);v(P);const Ke=D?W+1:0;te(Ke),Ke===17&&(Ln("completed_streak_17"),pe(!0),setTimeout(()=>pe(!1),3e3));const qe=String((V=u[d])==null?void 0:V.id);Ln("question_answered",{question_id:qe,correct:D});let H=Number(sessionStorage.getItem("answered_count")||0)+1;sessionStorage.setItem("answered_count",H),H===3&&(Ln("answered_3_in_session"),console.log(" Logged: answered_3_in_session"));try{const re=kc(cl,"questionStats",qe);await Vb(re,{total:Ps(1),correct:Ps(D?1:0),wrong:Ps(D?0:1)})}catch(re){re.code==="not-found"?await Lb(kc(cl,"questionStats",qe),{total:1,correct:D?1:0,wrong:D?0:1}):console.error(" Firestore update failed:",re)}try{const re=kc(cl,"metrics","totals");await Vb(re,{total:Ps(1),correct:Ps(D?1:0),wrong:Ps(D?0:1)})}catch(re){re.code==="not-found"?await Lb(kc(cl,"metrics","totals"),{total:1,correct:D?1:0,wrong:D?0:1}):console.error(" Failed to update global totals:",re)}},M=()=>{v(null),m(Math.floor(Math.random()*u.length)),Ln("random_question_clicked")},A=()=>{F(!1),j(!0),Ln("about_modal_opened")},N=()=>{j(!1),F(!0),Ln("stats_modal_opened")};return ie.jsxs("div",{className:"app-wrapper",children:[ie.jsx("header",{className:"app-header",children:ie.jsxs("div",{className:"header-inner",children:[ie.jsx("div",{className:"header-titles",children:ie.jsx("h1",{className:"app-title",children:"Fragen Katalog"})}),ie.jsxs("div",{className:"header-links",children:[ie.jsx("a",{href:"#",className:"about-link",onClick:P=>{P.preventDefault(),N()},children:"Statistiken"}),ie.jsx("a",{href:"#",className:"about-link",onClick:P=>{P.preventDefault(),A()},children:"ber"})]})]})}),ie.jsx("main",{className:"main-content",children:k?ie.jsx("p",{className:"loading-text",children:"Loading questions..."}):ie.jsxs(ie.Fragment,{children:[ie.jsx(YM,{streak:W,triggerCelebration:ae,onResetStreak:()=>te(0)}),ie.jsx(gD,{id:(n=u[d])==null?void 0:n.id,question:(e=u[d])==null?void 0:e.question,answers:(r=u[d])==null?void 0:r.answers,correctIndex:(a=u[d])==null?void 0:a.correct,selectedAnswer:g,onSelectAnswer:ye,imageId:(o=u[d])==null?void 0:o.imageId}),ie.jsx("div",{className:"controls",children:ie.jsx("button",{className:"controls-button",onClick:()=>{Ln("next_question_clicked"),M()},children:"Nchste Frage"})}),ie.jsx("div",{style:{height:"10px"}})]})}),_&&!B&&ie.jsx(yD,{onClose:()=>j(!1)}),B&&!_&&ie.jsx(JM,{onClose:P=>{F(!1),typeof P=="number"&&m(P)},questions:u}),ie.jsx(ZM,{}),!_&&!B&&ie.jsx("div",{style:{position:"fixed",bottom:16,right:16,zIndex:1e3,width:"100%",maxWidth:"200px"},children:ie.jsx(zb,{})})]})}(function(n,e,r,a,o,u,h){n[r]=n[r]||function(){(n[r].q=n[r].q||[]).push(arguments)},u=e.createElement(a),u.async=1,u.src="https://www.clarity.ms/tag/qyg3chkjg3",h=e.getElementsByTagName(a)[0],h.parentNode.insertBefore(u,h)})(window,document,"clarity","script"),Y2.createRoot(document.getElementById("root")).render(ie.jsx(B2.StrictMode,{children:ie.jsx(e6,{})}))});C3();
