(function(){const qn=document.createElement("link").relList;if(qn&&qn.supports&&qn.supports("modulepreload"))return;for(const Ie of document.querySelectorAll('link[rel="modulepreload"]'))Le(Ie);new MutationObserver(Ie=>{for(const Et of Ie)if(Et.type==="childList")for(const Oa of Et.addedNodes)Oa.tagName==="LINK"&&Oa.rel==="modulepreload"&&Le(Oa)}).observe(document,{childList:!0,subtree:!0});function gr(Ie){const Et={};return Ie.integrity&&(Et.integrity=Ie.integrity),Ie.referrerPolicy&&(Et.referrerPolicy=Ie.referrerPolicy),Ie.crossOrigin==="use-credentials"?Et.credentials="include":Ie.crossOrigin==="anonymous"?Et.credentials="omit":Et.credentials="same-origin",Et}function Le(Ie){if(Ie.ep)return;Ie.ep=!0;const Et=gr(Ie);fetch(Ie.href,Et)}})();(function(){const ar=document.createElement("link").relList;if(ar&&ar.supports&&ar.supports("modulepreload"))return;for(const Le of document.querySelectorAll('link[rel="modulepreload"]'))gr(Le);new MutationObserver(Le=>{for(const Ie of Le)if(Ie.type==="childList")for(const Et of Ie.addedNodes)Et.tagName==="LINK"&&Et.rel==="modulepreload"&&gr(Et)}).observe(document,{childList:!0,subtree:!0});function qn(Le){const Ie={};return Le.integrity&&(Ie.integrity=Le.integrity),Le.referrerPolicy&&(Ie.referrerPolicy=Le.referrerPolicy),Le.crossOrigin==="use-credentials"?Ie.credentials="include":Le.crossOrigin==="anonymous"?Ie.credentials="omit":Ie.credentials="same-origin",Ie}function gr(Le){if(Le.ep)return;Le.ep=!0;const Ie=qn(Le);fetch(Le.href,Ie)}})();(function(){const ar=document.createElement("link").relList;if(ar&&ar.supports&&ar.supports("modulepreload"))return;for(const Le of document.querySelectorAll('link[rel="modulepreload"]'))gr(Le);new MutationObserver(Le=>{for(const Ie of Le)if(Ie.type==="childList")for(const Et of Ie.addedNodes)Et.tagName==="LINK"&&Et.rel==="modulepreload"&&gr(Et)}).observe(document,{childList:!0,subtree:!0});function qn(Le){const Ie={};return Le.integrity&&(Ie.integrity=Le.integrity),Le.referrerPolicy&&(Ie.referrerPolicy=Le.referrerPolicy),Le.crossOrigin==="use-credentials"?Ie.credentials="include":Le.crossOrigin==="anonymous"?Ie.credentials="omit":Ie.credentials="same-origin",Ie}function gr(Le){if(Le.ep)return;Le.ep=!0;const Ie=qn(Le);fetch(Le.href,Ie)}})();var C3=(ar,qn)=>()=>(qn||ar((qn={exports:{}}).exports,qn),qn.exports),x3=C3((ar,qc)=>{(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function e(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=e(i);fetch(i.href,a)}})();function gr(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Le={exports:{}},Ie={};/**
* @license React
* react-jsx-runtime.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Et;function Oa(){if(Et)return Ie;Et=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(i,a,u){var h=null;if(u!==void 0&&(h=""+u),a.key!==void 0&&(h=""+a.key),"key"in a){u={};for(var f in a)f!=="key"&&(u[f]=a[f])}else u=a;return a=u.ref,{$$typeof:n,type:i,key:h,ref:a!==void 0?a:null,props:u}}return Ie.Fragment=e,Ie.jsx=r,Ie.jsxs=r,Ie}var Hg;function Bk(){return Hg||(Hg=1,Le.exports=Oa()),Le.exports}var se=Bk(),Xg={exports:{}},Ne={};/**
* @license React
* react.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Qg;function Uk(){if(Qg)return Ne;Qg=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function k(T){return T===null||typeof T!="object"?null:(T=E&&T[E]||T["@@iterator"],typeof T=="function"?T:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,q={};function j(T,x,G){this.props=T,this.context=x,this.refs=q,this.updater=G||A}j.prototype.isReactComponent={},j.prototype.setState=function(T,x){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,x,"setState")},j.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function Q(){}Q.prototype=j.prototype;function te(T,x,G){this.props=T,this.context=x,this.refs=q,this.updater=G||A}var ie=te.prototype=new Q;ie.constructor=te,V(ie,j.prototype),ie.isPureReactComponent=!0;var pe=Array.isArray,le={H:null,A:null,T:null,S:null,V:null},ye=Object.prototype.hasOwnProperty;function M(T,x,G,X,oe,ce){return G=ce.ref,{$$typeof:n,type:T,key:x,ref:G!==void 0?G:null,props:ce}}function I(T,x){return M(T.type,x,void 0,void 0,void 0,T.props)}function P(T){return typeof T=="object"&&T!==null&&T.$$typeof===n}function D(T){var x={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(G){return x[G]})}var F=/\/+/g;function O(T,x){return typeof T=="object"&&T!==null&&T.key!=null?D(""+T.key):x.toString(36)}function N(){}function We(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(N,N):(T.status="pending",T.then(function(x){T.status==="pending"&&(T.status="fulfilled",T.value=x)},function(x){T.status==="pending"&&(T.status="rejected",T.reason=x)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function Ue(T,x,G,X,oe){var ce=typeof T;(ce==="undefined"||ce==="boolean")&&(T=null);var ae=!1;if(T===null)ae=!0;else switch(ce){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(T.$$typeof){case n:case e:ae=!0;break;case v:return ae=T._init,Ue(ae(T._payload),x,G,X,oe)}}if(ae)return oe=oe(T),ae=X===""?"."+O(T,0):X,pe(oe)?(G="",ae!=null&&(G=ae.replace(F,"$&/")+"/"),Ue(oe,x,G,"",function(_e){return _e})):oe!=null&&(P(oe)&&(oe=I(oe,G+(oe.key==null||T&&T.key===oe.key?"":(""+oe.key).replace(F,"$&/")+"/")+ae)),x.push(oe)),1;ae=0;var me=X===""?".":X+":";if(pe(T))for(var ve=0;ve<T.length;ve++)X=T[ve],ce=me+O(X,ve),ae+=Ue(X,x,G,ce,oe);else if(ve=k(T),typeof ve=="function")for(T=ve.call(T),ve=0;!(X=T.next()).done;)X=X.value,ce=me+O(X,ve++),ae+=Ue(X,x,G,ce,oe);else if(ce==="object"){if(typeof T.then=="function")return Ue(We(T),x,G,X,oe);throw x=String(T),Error("Objects are not valid as a React child (found: "+(x==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":x)+"). If you meant to render a collection of children, use an array instead.")}return ae}function K(T,x,G){if(T==null)return T;var X=[],oe=0;return Ue(T,X,"","",function(ce){return x.call(G,ce,oe++)}),X}function re(T){if(T._status===-1){var x=T._result;x=x(),x.then(function(G){(T._status===0||T._status===-1)&&(T._status=1,T._result=G)},function(G){(T._status===0||T._status===-1)&&(T._status=2,T._result=G)}),T._status===-1&&(T._status=0,T._result=x)}if(T._status===1)return T._result.default;throw T._result}var de=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var x=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(x))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)};function Me(){}return Ne.Children={map:K,forEach:function(T,x,G){K(T,function(){x.apply(this,arguments)},G)},count:function(T){var x=0;return K(T,function(){x++}),x},toArray:function(T){return K(T,function(x){return x})||[]},only:function(T){if(!P(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},Ne.Component=j,Ne.Fragment=r,Ne.Profiler=a,Ne.PureComponent=te,Ne.StrictMode=i,Ne.Suspense=m,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(T){return le.H.useMemoCache(T)}},Ne.cache=function(T){return function(){return T.apply(null,arguments)}},Ne.cloneElement=function(T,x,G){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var X=V({},T.props),oe=T.key,ce=void 0;if(x!=null)for(ae in x.ref!==void 0&&(ce=void 0),x.key!==void 0&&(oe=""+x.key),x)!ye.call(x,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&x.ref===void 0||(X[ae]=x[ae]);var ae=arguments.length-2;if(ae===1)X.children=G;else if(1<ae){for(var me=Array(ae),ve=0;ve<ae;ve++)me[ve]=arguments[ve+2];X.children=me}return M(T.type,oe,void 0,void 0,ce,X)},Ne.createContext=function(T){return T={$$typeof:h,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:u,_context:T},T},Ne.createElement=function(T,x,G){var X,oe={},ce=null;if(x!=null)for(X in x.key!==void 0&&(ce=""+x.key),x)ye.call(x,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(oe[X]=x[X]);var ae=arguments.length-2;if(ae===1)oe.children=G;else if(1<ae){for(var me=Array(ae),ve=0;ve<ae;ve++)me[ve]=arguments[ve+2];oe.children=me}if(T&&T.defaultProps)for(X in ae=T.defaultProps,ae)oe[X]===void 0&&(oe[X]=ae[X]);return M(T,ce,void 0,void 0,null,oe)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(T){return{$$typeof:f,render:T}},Ne.isValidElement=P,Ne.lazy=function(T){return{$$typeof:v,_payload:{_status:-1,_result:T},_init:re}},Ne.memo=function(T,x){return{$$typeof:g,type:T,compare:x===void 0?null:x}},Ne.startTransition=function(T){var x=le.T,G={};le.T=G;try{var X=T(),oe=le.S;oe!==null&&oe(G,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(Me,de)}catch(ce){de(ce)}finally{le.T=x}},Ne.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},Ne.use=function(T){return le.H.use(T)},Ne.useActionState=function(T,x,G){return le.H.useActionState(T,x,G)},Ne.useCallback=function(T,x){return le.H.useCallback(T,x)},Ne.useContext=function(T){return le.H.useContext(T)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(T,x){return le.H.useDeferredValue(T,x)},Ne.useEffect=function(T,x,G){var X=le.H;if(typeof G=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return X.useEffect(T,x)},Ne.useId=function(){return le.H.useId()},Ne.useImperativeHandle=function(T,x,G){return le.H.useImperativeHandle(T,x,G)},Ne.useInsertionEffect=function(T,x){return le.H.useInsertionEffect(T,x)},Ne.useLayoutEffect=function(T,x){return le.H.useLayoutEffect(T,x)},Ne.useMemo=function(T,x){return le.H.useMemo(T,x)},Ne.useOptimistic=function(T,x){return le.H.useOptimistic(T,x)},Ne.useReducer=function(T,x,G){return le.H.useReducer(T,x,G)},Ne.useRef=function(T){return le.H.useRef(T)},Ne.useState=function(T){return le.H.useState(T)},Ne.useSyncExternalStore=function(T,x,G){return le.H.useSyncExternalStore(T,x,G)},Ne.useTransition=function(){return le.H.useTransition()},Ne.version="19.1.1",Ne}var Gg;function hd(){return Gg||(Gg=1,Xg.exports=Uk()),Xg.exports}var ge=hd();const qk=gr(ge);var dd={exports:{}},La={},Yg={exports:{}},Zg={};/**
* @license React
* scheduler.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Jg;function $k(){return Jg||(Jg=1,(function(n){function e(K,re){var de=K.length;K.push(re);e:for(;0<de;){var Me=de-1>>>1,T=K[Me];if(0<a(T,re))K[Me]=re,K[de]=T,de=Me;else break e}}function r(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var re=K[0],de=K.pop();if(de!==re){K[0]=de;e:for(var Me=0,T=K.length,x=T>>>1;Me<x;){var G=2*(Me+1)-1,X=K[G],oe=G+1,ce=K[oe];if(0>a(X,de))oe<T&&0>a(ce,X)?(K[Me]=ce,K[oe]=de,Me=oe):(K[Me]=X,K[G]=de,Me=G);else if(oe<T&&0>a(ce,de))K[Me]=ce,K[oe]=de,Me=oe;else break e}}return re}function a(K,re){var de=K.sortIndex-re.sortIndex;return de!==0?de:K.id-re.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var h=Date,f=h.now();n.unstable_now=function(){return h.now()-f}}var m=[],g=[],v=1,E=null,k=3,A=!1,V=!1,q=!1,j=!1,Q=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function pe(K){for(var re=r(g);re!==null;){if(re.callback===null)i(g);else if(re.startTime<=K)i(g),re.sortIndex=re.expirationTime,e(m,re);else break;re=r(g)}}function le(K){if(q=!1,pe(K),!V)if(r(m)!==null)V=!0,ye||(ye=!0,O());else{var re=r(g);re!==null&&Ue(le,re.startTime-K)}}var ye=!1,M=-1,I=5,P=-1;function D(){return j?!0:!(n.unstable_now()-P<I)}function F(){if(j=!1,ye){var K=n.unstable_now();P=K;var re=!0;try{e:{V=!1,q&&(q=!1,te(M),M=-1),A=!0;var de=k;try{t:{for(pe(K),E=r(m);E!==null&&!(E.expirationTime>K&&D());){var Me=E.callback;if(typeof Me=="function"){E.callback=null,k=E.priorityLevel;var T=Me(E.expirationTime<=K);if(K=n.unstable_now(),typeof T=="function"){E.callback=T,pe(K),re=!0;break t}E===r(m)&&i(m),pe(K)}else i(m);E=r(m)}if(E!==null)re=!0;else{var x=r(g);x!==null&&Ue(le,x.startTime-K),re=!1}}break e}finally{E=null,k=de,A=!1}re=void 0}}finally{re?O():ye=!1}}}var O;if(typeof ie=="function")O=function(){ie(F)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,We=N.port2;N.port1.onmessage=F,O=function(){We.postMessage(null)}}else O=function(){Q(F,0)};function Ue(K,re){M=Q(function(){K(n.unstable_now())},re)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return k},n.unstable_next=function(K){switch(k){case 1:case 2:case 3:var re=3;break;default:re=k}var de=k;k=re;try{return K()}finally{k=de}},n.unstable_requestPaint=function(){j=!0},n.unstable_runWithPriority=function(K,re){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var de=k;k=K;try{return re()}finally{k=de}},n.unstable_scheduleCallback=function(K,re,de){var Me=n.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Me+de:Me):de=Me,K){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=de+T,K={id:v++,callback:re,priorityLevel:K,startTime:de,expirationTime:T,sortIndex:-1},de>Me?(K.sortIndex=de,e(g,K),r(m)===null&&K===r(g)&&(q?(te(M),M=-1):q=!0,Ue(le,de-Me))):(K.sortIndex=T,e(m,K),V||A||(V=!0,ye||(ye=!0,O()))),K},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(K){var re=k;return function(){var de=k;k=re;try{return K.apply(this,arguments)}finally{k=de}}}})(Zg)),Zg}var ey;function Kk(){return ey||(ey=1,Yg.exports=$k()),Yg.exports}var fd={exports:{}},cn={};/**
* @license React
* react-dom.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var ty;function Wk(){if(ty)return cn;ty=1;var n=hd();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var i={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function u(m,g,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:E==null?null:""+E,children:m,containerInfo:g,implementation:v}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,cn.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(m,g,null,v)},cn.flushSync=function(m){var g=h.T,v=i.p;try{if(h.T=null,i.p=2,m)return m()}finally{h.T=g,i.p=v,i.d.f()}},cn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(m,g))},cn.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},cn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,E=f(v,g.crossOrigin),k=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?i.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:k,fetchPriority:A}):v==="script"&&i.d.X(m,{crossOrigin:E,integrity:k,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},cn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=f(g.as,g.crossOrigin);i.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(m)},cn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,E=f(v,g.crossOrigin);i.d.L(m,v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},cn.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=f(g.as,g.crossOrigin);i.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(m)},cn.requestFormReset=function(m){i.d.r(m)},cn.unstable_batchedUpdates=function(m,g){return m(g)},cn.useFormState=function(m,g,v){return h.H.useFormState(m,g,v)},cn.useFormStatus=function(){return h.H.useHostTransitionStatus()},cn.version="19.1.1",cn}var ny;function Hk(){if(ny)return fd.exports;ny=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),fd.exports=Wk(),fd.exports}/**
* @license React
* react-dom-client.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var ry;function Xk(){if(ry)return La;ry=1;var n=Kk(),e=hd(),r=Hk();function i(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var s=t,o=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(o=s.return),t=s.return;while(t)}return s.tag===3?o:null}function h(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function f(t){if(u(t)!==t)throw Error(i(188))}function m(t){var s=t.alternate;if(!s){if(s=u(t),s===null)throw Error(i(188));return s!==t?null:t}for(var o=t,l=s;;){var d=o.return;if(d===null)break;var p=d.alternate;if(p===null){if(l=d.return,l!==null){o=l;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===o)return f(d),t;if(p===l)return f(d),s;p=p.sibling}throw Error(i(188))}if(o.return!==l.return)o=d,l=p;else{for(var w=!1,S=d.child;S;){if(S===o){w=!0,o=d,l=p;break}if(S===l){w=!0,l=d,o=p;break}S=S.sibling}if(!w){for(S=p.child;S;){if(S===o){w=!0,o=p,l=d;break}if(S===l){w=!0,l=p,o=d;break}S=S.sibling}if(!w)throw Error(i(189))}}if(o.alternate!==l)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?t:s}function g(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=g(t),s!==null)return s;t=t.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),te=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function O(t){return t===null||typeof t!="object"?null:(t=F&&t[F]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function We(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case V:return"Fragment";case j:return"Profiler";case q:return"StrictMode";case le:return"Suspense";case ye:return"SuspenseList";case P:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case A:return"Portal";case ie:return(t.displayName||"Context")+".Provider";case te:return(t._context.displayName||"Context")+".Consumer";case pe:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case M:return s=t.displayName||null,s!==null?s:We(t.type)||"Memo";case I:s=t._payload,t=t._init;try{return We(t(s))}catch{}}return null}var Ue=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Me=[],T=-1;function x(t){return{current:t}}function G(t){0>T||(t.current=Me[T],Me[T]=null,T--)}function X(t,s){T++,Me[T]=t.current,t.current=s}var oe=x(null),ce=x(null),ae=x(null),me=x(null);function ve(t,s){switch(X(ae,s),X(ce,t),X(oe,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?mk(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=mk(s),t=gk(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}G(oe),X(oe,t)}function _e(){G(oe),G(ce),G(ae)}function at(t){t.memoizedState!==null&&X(me,t);var s=oe.current,o=gk(s,t.type);s!==o&&(X(ce,t),X(oe,o))}function Ve(t){ce.current===t&&(G(oe),G(ce)),me.current===t&&(G(me),Pu._currentValue=de)}var nt=Object.prototype.hasOwnProperty,bt=n.unstable_scheduleCallback,De=n.unstable_cancelCallback,Ft=n.unstable_shouldYield,mn=n.unstable_requestPaint,pt=n.unstable_now,Mn=n.unstable_getCurrentPriorityLevel,Fn=n.unstable_ImmediatePriority,nn=n.unstable_UserBlockingPriority,Qr=n.unstable_NormalPriority,Al=n.unstable_LowPriority,Ks=n.unstable_IdlePriority,Ws=n.log,Ko=n.unstable_setDisableYieldValue,dt=null,Qe=null;function vn(t){if(typeof Ws=="function"&&Ko(t),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(dt,t)}catch{}}var zt=Math.clz32?Math.clz32:Gr,Vi=Math.log,ji=Math.LN2;function Gr(t){return t>>>=0,t===0?32:31-(Vi(t)/ji|0)|0}var Yr=256,zi=4194304;function cr(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Wo(t,s,o){var l=t.pendingLanes;if(l===0)return 0;var d=0,p=t.suspendedLanes,w=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~p,l!==0?d=cr(l):(w&=S,w!==0?d=cr(w):o||(o=S&~t,o!==0&&(d=cr(o))))):(S=l&~p,S!==0?d=cr(S):w!==0?d=cr(w):o||(o=l&~t,o!==0&&(d=cr(o)))),d===0?0:s!==0&&s!==d&&(s&p)===0&&(p=d&-d,o=s&-s,p>=o||p===32&&(o&4194048)!==0)?s:d}function Bi(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function Pl(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nl(){var t=Yr;return Yr<<=1,(Yr&4194048)===0&&(Yr=256),t}function _l(){var t=zi;return zi<<=1,(zi&62914560)===0&&(zi=4194304),t}function Zr(t){for(var s=[],o=0;31>o;o++)s.push(t);return s}function Jr(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Dl(t,s,o,l,d,p){var w=t.pendingLanes;t.pendingLanes=o,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=o,t.entangledLanes&=o,t.errorRecoveryDisabledLanes&=o,t.shellSuspendCounter=0;var S=t.entanglements,_=t.expirationTimes,U=t.hiddenUpdates;for(o=w&~o;0<o;){var Y=31-zt(o),ee=1<<Y;S[Y]=0,_[Y]=-1;var $=U[Y];if($!==null)for(U[Y]=null,Y=0;Y<$.length;Y++){var W=$[Y];W!==null&&(W.lane&=-536870913)}o&=~ee}l!==0&&Ar(t,l,0),p!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=p&~(w&~s))}function Ar(t,s,o){t.pendingLanes|=s,t.suspendedLanes&=~s;var l=31-zt(s);t.entangledLanes|=s,t.entanglements[l]=t.entanglements[l]|1073741824|o&4194090}function Ml(t,s){var o=t.entangledLanes|=s;for(t=t.entanglements;o;){var l=31-zt(o),d=1<<l;d&s|t[l]&s&&(t[l]|=s),o&=~d}}function Hs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ho(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Xs(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:Rk(t.type))}function $c(t,s){var o=re.p;try{return re.p=t,s()}finally{re.p=o}}var mt=Math.random().toString(36).slice(2),Bt="__reactFiber$"+mt,Rt="__reactProps$"+mt,Qn="__reactContainer$"+mt,Fl="__reactEvents$"+mt,Gp="__reactListeners$"+mt,Qs="__reactHandles$"+mt,Kc="__reactResources$"+mt,Ui="__reactMarker$"+mt;function Gs(t){delete t[Bt],delete t[Rt],delete t[Fl],delete t[Gp],delete t[Qs]}function es(t){var s=t[Bt];if(s)return s;for(var o=t.parentNode;o;){if(s=o[Qn]||o[Bt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(t=wk(t);t!==null;){if(o=t[Bt])return o;t=wk(t)}return s}t=o,o=t.parentNode}return null}function Pr(t){if(t=t[Bt]||t[Qn]){var s=t.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return t}return null}function Nr(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(i(33))}function bn(t){var s=t[Kc];return s||(s=t[Kc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function It(t){t[Ui]=!0}var Rl=new Set,Xo={};function hr(t,s){ts(t,s),ts(t+"Capture",s)}function ts(t,s){for(Xo[t]=s,t=0;t<s.length;t++)Rl.add(s[t])}var Wc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hc={},qi={};function Xc(t){return nt.call(qi,t)?!0:nt.call(Hc,t)?!1:Wc.test(t)?qi[t]=!0:(Hc[t]=!0,!1)}function Ys(t,s,o){if(Xc(s))if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+o)}}function _r(t,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+o)}}function rn(t,s,o,l){if(l===null)t.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(o);return}t.setAttributeNS(s,o,""+l)}}var $i,Qc;function ns(t){if($i===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);$i=s&&s[1]||"",Qc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$i+t+Qc}var Qo=!1;function Go(t,s){if(!t||Qo)return"";Qo=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(W){var $=W}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(W){$=W}t.call(ee.prototype)}}else{try{throw Error()}catch(W){$=W}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(W){if(W&&$&&typeof W.stack=="string")return[W.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),w=p[0],S=p[1];if(w&&S){var _=w.split(`
`),U=S.split(`
`);for(d=l=0;l<_.length&&!_[l].includes("DetermineComponentFrameRoot");)l++;for(;d<U.length&&!U[d].includes("DetermineComponentFrameRoot");)d++;if(l===_.length||d===U.length)for(l=_.length-1,d=U.length-1;1<=l&&0<=d&&_[l]!==U[d];)d--;for(;1<=l&&0<=d;l--,d--)if(_[l]!==U[d]){if(l!==1||d!==1)do if(l--,d--,0>d||_[l]!==U[d]){var Y=`
`+_[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=d);break}}}finally{Qo=!1,Error.prepareStackTrace=o}return(o=t?t.displayName||t.name:"")?ns(o):""}function Ol(t){switch(t.tag){case 26:case 27:case 5:return ns(t.type);case 16:return ns("Lazy");case 13:return ns("Suspense");case 19:return ns("SuspenseList");case 0:case 15:return Go(t.type,!1);case 11:return Go(t.type.render,!1);case 1:return Go(t.type,!0);case 31:return ns("Activity");default:return""}}function Yo(t){try{var s="";do s+=Ol(t),t=t.return;while(t);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function wn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ll(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Yp(t){var s=Ll(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),l=""+t[s];if(!t.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,p=o.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return d.call(this)},set:function(w){l=""+w,p.call(this,w)}}),Object.defineProperty(t,s,{enumerable:o.enumerable}),{getValue:function(){return l},setValue:function(w){l=""+w},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Zo(t){t._valueTracker||(t._valueTracker=Yp(t))}function Vl(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var o=s.getValue(),l="";return t&&(l=Ll(t)?t.checked?"true":"false":t.value),t=l,t!==o?(s.setValue(t),!0):!1}function Ki(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Zp=/[\n"\\]/g;function Ut(t){return t.replace(Zp,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Rn(t,s,o,l,d,p,w,S){t.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.type=w:t.removeAttribute("type"),s!=null?w==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+wn(s)):t.value!==""+wn(s)&&(t.value=""+wn(s)):w!=="submit"&&w!=="reset"||t.removeAttribute("value"),s!=null?Zs(t,w,wn(s)):o!=null?Zs(t,w,wn(o)):l!=null&&t.removeAttribute("value"),d==null&&p!=null&&(t.defaultChecked=!!p),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+wn(S):t.removeAttribute("name")}function Wi(t,s,o,l,d,p,w,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.type=p),s!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||s!=null))return;o=o!=null?""+wn(o):"",s=s!=null?""+wn(s):o,S||s===t.value||(t.value=s),t.defaultValue=s}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(t.name=w)}function Zs(t,s,o){s==="number"&&Ki(t.ownerDocument)===t||t.defaultValue===""+o||(t.defaultValue=""+o)}function rs(t,s,o,l){if(t=t.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<t.length;o++)d=s.hasOwnProperty("$"+t[o].value),t[o].selected!==d&&(t[o].selected=d),d&&l&&(t[o].defaultSelected=!0)}else{for(o=""+wn(o),s=null,d=0;d<t.length;d++){if(t[d].value===o){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}s!==null||t[d].disabled||(s=t[d])}s!==null&&(s.selected=!0)}}function rt(t,s,o){if(s!=null&&(s=""+wn(s),s!==t.value&&(t.value=s),o==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=o!=null?""+wn(o):""}function Hi(t,s,o,l){if(s==null){if(l!=null){if(o!=null)throw Error(i(92));if(Ue(l)){if(1<l.length)throw Error(i(93));l=l[0]}o=l}o==null&&(o=""),s=o}o=wn(s),t.defaultValue=o,l=t.textContent,l===o&&l!==""&&l!==null&&(t.value=l)}function Gn(t,s){if(s){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=s;return}}t.textContent=s}var Xi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gc(t,s,o){var l=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?l?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":l?t.setProperty(s,o):typeof o!="number"||o===0||Xi.has(s)?s==="float"?t.cssFloat=o:t[s]=(""+o).trim():t[s]=o+"px"}function jl(t,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(t=t.style,o!=null){for(var l in o)!o.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in s)l=s[d],s.hasOwnProperty(d)&&o[d]!==l&&Gc(t,d,l)}else for(var p in s)s.hasOwnProperty(p)&&Gc(t,p,s[p])}function zl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),em=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jo(t){return em.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var ss=null;function Yn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var is=null,os=null;function Bl(t){var s=Pr(t);if(s&&(t=s.stateNode)){var o=t[Rt]||null;e:switch(t=s.stateNode,s.type){case"input":if(Rn(t,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ut(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var l=o[s];if(l!==t&&l.form===t.form){var d=l[Rt]||null;if(!d)throw Error(i(90));Rn(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<o.length;s++)l=o[s],l.form===t.form&&Vl(l)}break e;case"textarea":rt(t,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&rs(t,!!o.multiple,s,!1)}}}var Dr=!1;function Yc(t,s,o){if(Dr)return t(s,o);Dr=!0;try{var l=t(s);return l}finally{if(Dr=!1,(is!==null||os!==null)&&($h(),is&&(s=is,t=os,os=is=null,Bl(s),t)))for(s=0;s<t.length;s++)Bl(t[s])}}function Qi(t,s){var o=t.stateNode;if(o===null)return null;var l=o[Rt]||null;if(l===null)return null;o=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zn=!1;if(dr)try{var Gi={};Object.defineProperty(Gi,"passive",{get:function(){Zn=!0}}),window.addEventListener("test",Gi,Gi),window.removeEventListener("test",Gi,Gi)}catch{Zn=!1}var Mr=null,Js=null,as=null;function Ul(){if(as)return as;var t,s=Js,o=s.length,l,d="value"in Mr?Mr.value:Mr.textContent,p=d.length;for(t=0;t<o&&s[t]===d[t];t++);var w=o-t;for(l=1;l<=w&&s[o-l]===d[p-l];l++);return as=d.slice(t,1<l?1-l:void 0)}function Fr(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Rr(){return!0}function ql(){return!1}function Ht(t){function s(o,l,d,p,w){this._reactName=o,this._targetInst=d,this.type=l,this.nativeEvent=p,this.target=w,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(o=t[S],this[S]=o?o(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Rr:ql,this.isPropagationStopped=ql,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Rr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Rr)},persist:function(){},isPersistent:Rr}),s}var Je={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ea=Ht(Je),Yi=v({},Je,{view:0,detail:0}),Zc=Ht(Yi),ta,na,Or,Zi=v({},Yi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:to,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Or&&(Or&&t.type==="mousemove"?(ta=t.screenX-Or.screenX,na=t.screenY-Or.screenY):na=ta=0,Or=t),ta)},movementY:function(t){return"movementY"in t?t.movementY:na}}),Jn=Ht(Zi),Jc=v({},Zi,{dataTransfer:0}),tm=Ht(Jc),Ji=v({},Yi,{relatedTarget:0}),ra=Ht(Ji),$l=v({},Je,{animationName:0,elapsedTime:0,pseudoElement:0}),sa=Ht($l),eh=v({},Je,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ia=Ht(eh),nm=v({},Je,{data:0}),Kl=Ht(nm),eo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},th={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wl(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=nh[t])?!!s[t]:!1}function to(){return Wl}var rh=v({},Yi,{key:function(t){if(t.key){var s=eo[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Fr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?th[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:to,charCode:function(t){return t.type==="keypress"?Fr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),oa=Ht(rh),sh=v({},Zi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hl=Ht(sh),ls=v({},Yi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:to}),ih=Ht(ls),oh=v({},Je,{propertyName:0,elapsedTime:0,pseudoElement:0}),ah=Ht(oh),lh=v({},Zi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),aa=Ht(lh),En=v({},Je,{newState:0,oldState:0}),uh=Ht(En),ch=[9,13,27,32],Lr=dr&&"CompositionEvent"in window,c=null;dr&&"documentMode"in document&&(c=document.documentMode);var y=dr&&"TextEvent"in window&&!c,b=dr&&(!Lr||c&&8<c&&11>=c),C=" ",z=!1;function H(t,s){switch(t){case"keyup":return ch.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ue(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var He=!1;function qt(t,s){switch(t){case"compositionend":return ue(s);case"keypress":return s.which!==32?null:(z=!0,C);case"textInput":return t=s.data,t===C&&z?null:t;default:return null}}function Ge(t,s){if(He)return t==="compositionend"||!Lr&&H(t,s)?(t=Ul(),as=Js=Mr=null,He=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return b&&s.locale!=="ko"?null:s.data;default:return null}}var Xt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sn(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!Xt[t.type]:s==="textarea"}function us(t,s,o,l){is?os?os.push(l):os=[l]:is=l,s=Gh(s,"onChange"),0<s.length&&(o=new ea("onChange","change",null,o,l),t.push({event:o,listeners:s}))}var on=null,Vr=null;function Xl(t){ck(t,0)}function hh(t){var s=Nr(t);if(Vl(s))return t}function _E(t,s){if(t==="change")return s}var DE=!1;if(dr){var rm;if(dr){var sm="oninput"in document;if(!sm){var ME=document.createElement("div");ME.setAttribute("oninput","return;"),sm=typeof ME.oninput=="function"}rm=sm}else rm=!1;DE=rm&&(!document.documentMode||9<document.documentMode)}function FE(){on&&(on.detachEvent("onpropertychange",RE),Vr=on=null)}function RE(t){if(t.propertyName==="value"&&hh(Vr)){var s=[];us(s,Vr,t,Yn(t)),Yc(Xl,s)}}function t6(t,s,o){t==="focusin"?(FE(),on=s,Vr=o,on.attachEvent("onpropertychange",RE)):t==="focusout"&&FE()}function n6(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hh(Vr)}function r6(t,s){if(t==="click")return hh(s)}function s6(t,s){if(t==="input"||t==="change")return hh(s)}function i6(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var On=typeof Object.is=="function"?Object.is:i6;function Ql(t,s){if(On(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var o=Object.keys(t),l=Object.keys(s);if(o.length!==l.length)return!1;for(l=0;l<o.length;l++){var d=o[l];if(!nt.call(s,d)||!On(t[d],s[d]))return!1}return!0}function OE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function LE(t,s){var o=OE(t);t=0;for(var l;o;){if(o.nodeType===3){if(l=t+o.textContent.length,t<=s&&l>=s)return{node:o,offset:s-t};t=l}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=OE(o)}}function VE(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?VE(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function jE(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=Ki(t.document);s instanceof t.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)t=s.contentWindow;else break;s=Ki(t.document)}return s}function im(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var o6=dr&&"documentMode"in document&&11>=document.documentMode,la=null,om=null,Gl=null,am=!1;function zE(t,s,o){var l=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;am||la==null||la!==Ki(l)||(l=la,"selectionStart"in l&&im(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Gl&&Ql(Gl,l)||(Gl=l,l=Gh(om,"onSelect"),0<l.length&&(s=new ea("onSelect","select",null,s,o),t.push({event:s,listeners:l}),s.target=la)))}function no(t,s){var o={};return o[t.toLowerCase()]=s.toLowerCase(),o["Webkit"+t]="webkit"+s,o["Moz"+t]="moz"+s,o}var ua={animationend:no("Animation","AnimationEnd"),animationiteration:no("Animation","AnimationIteration"),animationstart:no("Animation","AnimationStart"),transitionrun:no("Transition","TransitionRun"),transitionstart:no("Transition","TransitionStart"),transitioncancel:no("Transition","TransitionCancel"),transitionend:no("Transition","TransitionEnd")},lm={},BE={};dr&&(BE=document.createElement("div").style,"AnimationEvent"in window||(delete ua.animationend.animation,delete ua.animationiteration.animation,delete ua.animationstart.animation),"TransitionEvent"in window||delete ua.transitionend.transition);function ro(t){if(lm[t])return lm[t];if(!ua[t])return t;var s=ua[t],o;for(o in s)if(s.hasOwnProperty(o)&&o in BE)return lm[t]=s[o];return t}var UE=ro("animationend"),qE=ro("animationiteration"),$E=ro("animationstart"),a6=ro("transitionrun"),l6=ro("transitionstart"),u6=ro("transitioncancel"),KE=ro("transitionend"),WE=new Map,um="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");um.push("scrollEnd");function fr(t,s){WE.set(t,s),hr(s,[t])}var HE=new WeakMap;function er(t,s){if(typeof t=="object"&&t!==null){var o=HE.get(t);return o!==void 0?o:(s={value:t,source:s,stack:Yo(s)},HE.set(t,s),s)}return{value:t,source:s,stack:Yo(s)}}var tr=[],ca=0,cm=0;function dh(){for(var t=ca,s=cm=ca=0;s<t;){var o=tr[s];tr[s++]=null;var l=tr[s];tr[s++]=null;var d=tr[s];tr[s++]=null;var p=tr[s];if(tr[s++]=null,l!==null&&d!==null){var w=l.pending;w===null?d.next=d:(d.next=w.next,w.next=d),l.pending=d}p!==0&&XE(o,d,p)}}function fh(t,s,o,l){tr[ca++]=t,tr[ca++]=s,tr[ca++]=o,tr[ca++]=l,cm|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function hm(t,s,o,l){return fh(t,s,o,l),ph(t)}function ha(t,s){return fh(t,null,null,s),ph(t)}function XE(t,s,o){t.lanes|=o;var l=t.alternate;l!==null&&(l.lanes|=o);for(var d=!1,p=t.return;p!==null;)p.childLanes|=o,l=p.alternate,l!==null&&(l.childLanes|=o),p.tag===22&&(t=p.stateNode,t===null||t._visibility&1||(d=!0)),t=p,p=p.return;return t.tag===3?(p=t.stateNode,d&&s!==null&&(d=31-zt(o),t=p.hiddenUpdates,l=t[d],l===null?t[d]=[s]:l.push(s),s.lane=o|536870912),p):null}function ph(t){if(50<Eu)throw Eu=0,yg=null,Error(i(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var da={};function c6(t,s,o,l){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(t,s,o,l){return new c6(t,s,o,l)}function dm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cs(t,s){var o=t.alternate;return o===null?(o=Ln(t.tag,s,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=s,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&65011712,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,s=t.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o.refCleanup=t.refCleanup,o}function QE(t,s){t.flags&=65011714;var o=t.alternate;return o===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=o.childLanes,t.lanes=o.lanes,t.child=o.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=o.memoizedProps,t.memoizedState=o.memoizedState,t.updateQueue=o.updateQueue,t.type=o.type,s=o.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function mh(t,s,o,l,d,p){var w=0;if(l=t,typeof t=="function")dm(t)&&(w=1);else if(typeof t=="string")w=d3(t,o,oe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case P:return t=Ln(31,o,s,d),t.elementType=P,t.lanes=p,t;case V:return so(o.children,d,p,s);case q:w=8,d|=24;break;case j:return t=Ln(12,o,s,d|2),t.elementType=j,t.lanes=p,t;case le:return t=Ln(13,o,s,d),t.elementType=le,t.lanes=p,t;case ye:return t=Ln(19,o,s,d),t.elementType=ye,t.lanes=p,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Q:case ie:w=10;break e;case te:w=9;break e;case pe:w=11;break e;case M:w=14;break e;case I:w=16,l=null;break e}w=29,o=Error(i(130,t===null?"null":typeof t,"")),l=null}return s=Ln(w,o,s,d),s.elementType=t,s.type=l,s.lanes=p,s}function so(t,s,o,l){return t=Ln(7,t,l,s),t.lanes=o,t}function fm(t,s,o){return t=Ln(6,t,null,s),t.lanes=o,t}function pm(t,s,o){return s=Ln(4,t.children!==null?t.children:[],t.key,s),s.lanes=o,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var fa=[],pa=0,gh=null,yh=0,nr=[],rr=0,io=null,hs=1,ds="";function oo(t,s){fa[pa++]=yh,fa[pa++]=gh,gh=t,yh=s}function GE(t,s,o){nr[rr++]=hs,nr[rr++]=ds,nr[rr++]=io,io=t;var l=hs;t=ds;var d=32-zt(l)-1;l&=~(1<<d),o+=1;var p=32-zt(s)+d;if(30<p){var w=d-d%5;p=(l&(1<<w)-1).toString(32),l>>=w,d-=w,hs=1<<32-zt(s)+d|o<<d|l,ds=p+t}else hs=1<<p|o<<d|l,ds=t}function mm(t){t.return!==null&&(oo(t,1),GE(t,1,0))}function gm(t){for(;t===gh;)gh=fa[--pa],fa[pa]=null,yh=fa[--pa],fa[pa]=null;for(;t===io;)io=nr[--rr],nr[rr]=null,ds=nr[--rr],nr[rr]=null,hs=nr[--rr],nr[rr]=null}var Sn=null,Tt=null,Ye=!1,ao=null,jr=!1,ym=Error(i(519));function lo(t){var s=Error(i(418,""));throw Jl(er(s,t)),ym}function YE(t){var s=t.stateNode,o=t.type,l=t.memoizedProps;switch(s[Bt]=t,s[Rt]=l,o){case"dialog":ze("cancel",s),ze("close",s);break;case"iframe":case"object":case"embed":ze("load",s);break;case"video":case"audio":for(o=0;o<Tu.length;o++)ze(Tu[o],s);break;case"source":ze("error",s);break;case"img":case"image":case"link":ze("error",s),ze("load",s);break;case"details":ze("toggle",s);break;case"input":ze("invalid",s),Wi(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Zo(s);break;case"select":ze("invalid",s);break;case"textarea":ze("invalid",s),Hi(s,l.value,l.defaultValue,l.children),Zo(s)}o=l.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||l.suppressHydrationWarning===!0||pk(s.textContent,o)?(l.popover!=null&&(ze("beforetoggle",s),ze("toggle",s)),l.onScroll!=null&&ze("scroll",s),l.onScrollEnd!=null&&ze("scrollend",s),l.onClick!=null&&(s.onclick=Yh),s=!0):s=!1,s||lo(t)}function ZE(t){for(Sn=t.return;Sn;)switch(Sn.tag){case 5:case 13:jr=!1;return;case 27:case 3:jr=!0;return;default:Sn=Sn.return}}function Yl(t){if(t!==Sn)return!1;if(!Ye)return ZE(t),Ye=!0,!1;var s=t.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=t.type,o=!(o!=="form"&&o!=="button")||Mg(t.type,t.memoizedProps)),o=!o),o&&Tt&&lo(t),ZE(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8)if(o=t.data,o==="/$"){if(s===0){Tt=mr(t.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;t=t.nextSibling}Tt=null}}else s===27?(s=Tt,mi(t.type)?(t=Lg,Lg=null,Tt=t):Tt=s):Tt=Sn?mr(t.stateNode.nextSibling):null;return!0}function Zl(){Tt=Sn=null,Ye=!1}function JE(){var t=ao;return t!==null&&(Pn===null?Pn=t:Pn.push.apply(Pn,t),ao=null),t}function Jl(t){ao===null?ao=[t]:ao.push(t)}var vm=x(null),uo=null,fs=null;function ei(t,s,o){X(vm,s._currentValue),s._currentValue=o}function ps(t){t._currentValue=vm.current,G(vm)}function bm(t,s,o){for(;t!==null;){var l=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),t===o)break;t=t.return}}function wm(t,s,o,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var p=d.dependencies;if(p!==null){var w=d.child;p=p.firstContext;e:for(;p!==null;){var S=p;p=d;for(var _=0;_<s.length;_++)if(S.context===s[_]){p.lanes|=o,S=p.alternate,S!==null&&(S.lanes|=o),bm(p.return,o,t),l||(w=null);break e}p=S.next}}else if(d.tag===18){if(w=d.return,w===null)throw Error(i(341));w.lanes|=o,p=w.alternate,p!==null&&(p.lanes|=o),bm(w,o,t),w=null}else w=d.child;if(w!==null)w.return=d;else for(w=d;w!==null;){if(w===t){w=null;break}if(d=w.sibling,d!==null){d.return=w.return,w=d;break}w=w.return}d=w}}function eu(t,s,o,l){t=null;for(var d=s,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var w=d.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var S=d.type;On(d.pendingProps.value,w.value)||(t!==null?t.push(S):t=[S])}}else if(d===me.current){if(w=d.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Pu):t=[Pu])}d=d.return}t!==null&&wm(s,t,o,l),s.flags|=262144}function vh(t){for(t=t.firstContext;t!==null;){if(!On(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function co(t){uo=t,fs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function gn(t){return eS(uo,t)}function bh(t,s){return uo===null&&co(t),eS(t,s)}function eS(t,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},fs===null){if(t===null)throw Error(i(308));fs=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else fs=fs.next=s;return o}var h6=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(o,l){t.push(l)}};this.abort=function(){s.aborted=!0,t.forEach(function(o){return o()})}},d6=n.unstable_scheduleCallback,f6=n.unstable_NormalPriority,$t={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Em(){return{controller:new h6,data:new Map,refCount:0}}function tu(t){t.refCount--,t.refCount===0&&d6(f6,function(){t.controller.abort()})}var nu=null,Sm=0,ma=0,ga=null;function p6(t,s){if(nu===null){var o=nu=[];Sm=0,ma=kg(),ga={status:"pending",value:void 0,then:function(l){o.push(l)}}}return Sm++,s.then(tS,tS),s}function tS(){if(--Sm===0&&nu!==null){ga!==null&&(ga.status="fulfilled");var t=nu;nu=null,ma=0,ga=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function m6(t,s){var o=[],l={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return t.then(function(){l.status="fulfilled",l.value=s;for(var d=0;d<o.length;d++)(0,o[d])(s)},function(d){for(l.status="rejected",l.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),l}var nS=K.S;K.S=function(t,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&p6(t,s),nS!==null&&nS(t,s)};var ho=x(null);function Tm(){var t=ho.current;return t!==null?t:ut.pooledCache}function wh(t,s){s===null?X(ho,ho.current):X(ho,s.pool)}function rS(){var t=Tm();return t===null?null:{parent:$t._currentValue,pool:t}}var ru=Error(i(460)),sS=Error(i(474)),Eh=Error(i(542)),km={then:function(){}};function iS(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Sh(){}function oS(t,s,o){switch(o=t[o],o===void 0?t.push(s):o!==s&&(s.then(Sh,Sh),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,lS(t),t;default:if(typeof s.status=="string")s.then(Sh,Sh);else{if(t=ut,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=s,t.status="pending",t.then(function(l){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=l}},function(l){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,lS(t),t}throw su=s,ru}}var su=null;function aS(){if(su===null)throw Error(i(459));var t=su;return su=null,t}function lS(t){if(t===ru||t===Eh)throw Error(i(483))}var ti=!1;function Cm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xm(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ni(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ri(t,s,o){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(et&2)!==0){var d=l.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),l.pending=s,s=ph(t),XE(t,null,o),s}return fh(t,l,s,o),ph(t)}function iu(t,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var l=s.lanes;l&=t.pendingLanes,o|=l,s.lanes=o,Ml(t,o)}}function Im(t,s){var o=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,o===l)){var d=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?d=p=w:p=p.next=w,o=o.next}while(o!==null);p===null?d=p=s:p=p.next=s}else d=p=s;o={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=s:t.next=s,o.lastBaseUpdate=s}var Am=!1;function ou(){if(Am){var t=ga;if(t!==null)throw t}}function au(t,s,o,l){Am=!1;var d=t.updateQueue;ti=!1;var p=d.firstBaseUpdate,w=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var _=S,U=_.next;_.next=null,w===null?p=U:w.next=U,w=_;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,S=Y.lastBaseUpdate,S!==w&&(S===null?Y.firstBaseUpdate=U:S.next=U,Y.lastBaseUpdate=_))}if(p!==null){var ee=d.baseState;w=0,Y=U=_=null,S=p;do{var $=S.lane&-536870913,W=$!==S.lane;if(W?(Ke&$)===$:(l&$)===$){$!==0&&$===ma&&(Am=!0),Y!==null&&(Y=Y.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var xe=t,Se=S;$=s;var ot=o;switch(Se.tag){case 1:if(xe=Se.payload,typeof xe=="function"){ee=xe.call(ot,ee,$);break e}ee=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=Se.payload,$=typeof xe=="function"?xe.call(ot,ee,$):xe,$==null)break e;ee=v({},ee,$);break e;case 2:ti=!0}}$=S.callback,$!==null&&(t.flags|=64,W&&(t.flags|=8192),W=d.callbacks,W===null?d.callbacks=[$]:W.push($))}else W={lane:$,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Y===null?(U=Y=W,_=ee):Y=Y.next=W,w|=$;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;W=S,S=W.next,W.next=null,d.lastBaseUpdate=W,d.shared.pending=null}}while(!0);Y===null&&(_=ee),d.baseState=_,d.firstBaseUpdate=U,d.lastBaseUpdate=Y,p===null&&(d.shared.lanes=0),hi|=w,t.lanes=w,t.memoizedState=ee}}function uS(t,s){if(typeof t!="function")throw Error(i(191,t));t.call(s)}function cS(t,s){var o=t.callbacks;if(o!==null)for(t.callbacks=null,t=0;t<o.length;t++)uS(o[t],s)}var ya=x(null),Th=x(0);function hS(t,s){t=Ss,X(Th,t),X(ya,s),Ss=t|s.baseLanes}function Pm(){X(Th,Ss),X(ya,ya.current)}function Nm(){Ss=Th.current,G(ya),G(Th)}var si=0,Re=null,st=null,Ot=null,kh=!1,va=!1,fo=!1,Ch=0,lu=0,ba=null,g6=0;function At(){throw Error(i(321))}function _m(t,s){if(s===null)return!1;for(var o=0;o<s.length&&o<t.length;o++)if(!On(t[o],s[o]))return!1;return!0}function Dm(t,s,o,l,d,p){return si=p,Re=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,K.H=t===null||t.memoizedState===null?XS:QS,fo=!1,p=o(l,d),fo=!1,va&&(p=fS(s,o,l,d)),dS(t),p}function dS(t){K.H=_h;var s=st!==null&&st.next!==null;if(si=0,Ot=st=Re=null,kh=!1,lu=0,ba=null,s)throw Error(i(300));t===null||Qt||(t=t.dependencies,t!==null&&vh(t)&&(Qt=!0))}function fS(t,s,o,l){Re=t;var d=0;do{if(va&&(ba=null),lu=0,va=!1,25<=d)throw Error(i(301));if(d+=1,Ot=st=null,t.updateQueue!=null){var p=t.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}K.H=T6,p=s(o,l)}while(va);return p}function y6(){var t=K.H,s=t.useState()[0];return s=typeof s.then=="function"?uu(s):s,t=t.useState()[0],(st!==null?st.memoizedState:null)!==t&&(Re.flags|=1024),s}function Mm(){var t=Ch!==0;return Ch=0,t}function Fm(t,s,o){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~o}function Rm(t){if(kh){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}kh=!1}si=0,Ot=st=Re=null,va=!1,lu=Ch=0,ba=null}function In(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?Re.memoizedState=Ot=t:Ot=Ot.next=t,Ot}function Lt(){if(st===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=st.next;var s=Ot===null?Re.memoizedState:Ot.next;if(s!==null)Ot=s,st=t;else{if(t===null)throw Re.alternate===null?Error(i(467)):Error(i(310));st=t,t={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},Ot===null?Re.memoizedState=Ot=t:Ot=Ot.next=t}return Ot}function Om(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function uu(t){var s=lu;return lu+=1,ba===null&&(ba=[]),t=oS(ba,t,s),s=Re,(Ot===null?s.memoizedState:Ot.next)===null&&(s=s.alternate,K.H=s===null||s.memoizedState===null?XS:QS),t}function xh(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return uu(t);if(t.$$typeof===ie)return gn(t)}throw Error(i(438,String(t)))}function Lm(t){var s=null,o=Re.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Om(),Re.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(t),l=0;l<t;l++)o[l]=D;return s.index++,o}function ms(t,s){return typeof s=="function"?s(t):s}function Ih(t){var s=Lt();return Vm(s,st,t)}function Vm(t,s,o){var l=t.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=o;var d=t.baseQueue,p=l.pending;if(p!==null){if(d!==null){var w=d.next;d.next=p.next,p.next=w}s.baseQueue=d=p,l.pending=null}if(p=t.baseState,d===null)t.memoizedState=p;else{s=d.next;var S=w=null,_=null,U=s,Y=!1;do{var ee=U.lane&-536870913;if(ee!==U.lane?(Ke&ee)===ee:(si&ee)===ee){var $=U.revertLane;if($===0)_!==null&&(_=_.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),ee===ma&&(Y=!0);else if((si&$)===$){U=U.next,$===ma&&(Y=!0);continue}else ee={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},_===null?(S=_=ee,w=p):_=_.next=ee,Re.lanes|=$,hi|=$;ee=U.action,fo&&o(p,ee),p=U.hasEagerState?U.eagerState:o(p,ee)}else $={lane:ee,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},_===null?(S=_=$,w=p):_=_.next=$,Re.lanes|=ee,hi|=ee;U=U.next}while(U!==null&&U!==s);if(_===null?w=p:_.next=S,!On(p,t.memoizedState)&&(Qt=!0,Y&&(o=ga,o!==null)))throw o;t.memoizedState=p,t.baseState=w,t.baseQueue=_,l.lastRenderedState=p}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function jm(t){var s=Lt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=t;var l=o.dispatch,d=o.pending,p=s.memoizedState;if(d!==null){o.pending=null;var w=d=d.next;do p=t(p,w.action),w=w.next;while(w!==d);On(p,s.memoizedState)||(Qt=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),o.lastRenderedState=p}return[p,l]}function pS(t,s,o){var l=Re,d=Lt(),p=Ye;if(p){if(o===void 0)throw Error(i(407));o=o()}else o=s();var w=!On((st||d).memoizedState,o);w&&(d.memoizedState=o,Qt=!0),d=d.queue;var S=yS.bind(null,l,d,t);if(cu(2048,8,S,[t]),d.getSnapshot!==s||w||Ot!==null&&Ot.memoizedState.tag&1){if(l.flags|=2048,wa(9,Ah(),gS.bind(null,l,d,o,s),null),ut===null)throw Error(i(349));p||(si&124)!==0||mS(l,s,o)}return o}function mS(t,s,o){t.flags|=16384,t={getSnapshot:s,value:o},s=Re.updateQueue,s===null?(s=Om(),Re.updateQueue=s,s.stores=[t]):(o=s.stores,o===null?s.stores=[t]:o.push(t))}function gS(t,s,o,l){s.value=o,s.getSnapshot=l,vS(s)&&bS(t)}function yS(t,s,o){return o(function(){vS(s)&&bS(t)})}function vS(t){var s=t.getSnapshot;t=t.value;try{var o=s();return!On(t,o)}catch{return!0}}function bS(t){var s=ha(t,2);s!==null&&Un(s,t,2)}function zm(t){var s=In();if(typeof t=="function"){var o=t;if(t=o(),fo){vn(!0);try{o()}finally{vn(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:t},s}function wS(t,s,o,l){return t.baseState=o,Vm(t,st,typeof l=="function"?l:ms)}function v6(t,s,o,l,d){if(Nh(t))throw Error(i(485));if(t=s.action,t!==null){var p={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){p.listeners.push(w)}};K.T!==null?o(!0):p.isTransition=!1,l(p),o=s.pending,o===null?(p.next=s.pending=p,ES(s,p)):(p.next=o.next,s.pending=o.next=p)}}function ES(t,s){var o=s.action,l=s.payload,d=t.state;if(s.isTransition){var p=K.T,w={};K.T=w;try{var S=o(d,l),_=K.S;_!==null&&_(w,S),SS(t,s,S)}catch(U){Bm(t,s,U)}finally{K.T=p}}else try{p=o(d,l),SS(t,s,p)}catch(U){Bm(t,s,U)}}function SS(t,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(l){TS(t,s,l)},function(l){return Bm(t,s,l)}):TS(t,s,o)}function TS(t,s,o){s.status="fulfilled",s.value=o,kS(s),t.state=o,s=t.pending,s!==null&&(o=s.next,o===s?t.pending=null:(o=o.next,s.next=o,ES(t,o)))}function Bm(t,s,o){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=o,kS(s),s=s.next;while(s!==l)}t.action=null}function kS(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function CS(t,s){return s}function xS(t,s){if(Ye){var o=ut.formState;if(o!==null){e:{var l=Re;if(Ye){if(Tt){t:{for(var d=Tt,p=jr;d.nodeType!==8;){if(!p){d=null;break t}if(d=mr(d.nextSibling),d===null){d=null;break t}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){Tt=mr(d.nextSibling),l=d.data==="F!";break e}}lo(l)}l=!1}l&&(s=o[0])}}return o=In(),o.memoizedState=o.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:CS,lastRenderedState:s},o.queue=l,o=KS.bind(null,Re,l),l.dispatch=o,l=zm(!1),p=Wm.bind(null,Re,!1,l.queue),l=In(),d={state:s,dispatch:null,action:t,pending:null},l.queue=d,o=v6.bind(null,Re,d,p,o),d.dispatch=o,l.memoizedState=t,[s,o,!1]}function IS(t){var s=Lt();return AS(s,st,t)}function AS(t,s,o){if(s=Vm(t,s,CS)[0],t=Ih(ms)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=uu(s)}catch(w){throw w===ru?Eh:w}else l=s;s=Lt();var d=s.queue,p=d.dispatch;return o!==s.memoizedState&&(Re.flags|=2048,wa(9,Ah(),b6.bind(null,d,o),null)),[l,p,t]}function b6(t,s){t.action=s}function PS(t){var s=Lt(),o=st;if(o!==null)return AS(s,o,t);Lt(),s=s.memoizedState,o=Lt();var l=o.queue.dispatch;return o.memoizedState=t,[s,l,!1]}function wa(t,s,o,l){return t={tag:t,create:o,deps:l,inst:s,next:null},s=Re.updateQueue,s===null&&(s=Om(),Re.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=t.next=t:(l=o.next,o.next=t,t.next=l,s.lastEffect=t),t}function Ah(){return{destroy:void 0,resource:void 0}}function NS(){return Lt().memoizedState}function Ph(t,s,o,l){var d=In();l=l===void 0?null:l,Re.flags|=t,d.memoizedState=wa(1|s,Ah(),o,l)}function cu(t,s,o,l){var d=Lt();l=l===void 0?null:l;var p=d.memoizedState.inst;st!==null&&l!==null&&_m(l,st.memoizedState.deps)?d.memoizedState=wa(s,p,o,l):(Re.flags|=t,d.memoizedState=wa(1|s,p,o,l))}function _S(t,s){Ph(8390656,8,t,s)}function DS(t,s){cu(2048,8,t,s)}function MS(t,s){return cu(4,2,t,s)}function FS(t,s){return cu(4,4,t,s)}function RS(t,s){if(typeof s=="function"){t=t();var o=s(t);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function OS(t,s,o){o=o!=null?o.concat([t]):null,cu(4,4,RS.bind(null,s,t),o)}function Um(){}function LS(t,s){var o=Lt();s=s===void 0?null:s;var l=o.memoizedState;return s!==null&&_m(s,l[1])?l[0]:(o.memoizedState=[t,s],t)}function VS(t,s){var o=Lt();s=s===void 0?null:s;var l=o.memoizedState;if(s!==null&&_m(s,l[1]))return l[0];if(l=t(),fo){vn(!0);try{t()}finally{vn(!1)}}return o.memoizedState=[l,s],l}function qm(t,s,o){return o===void 0||(si&1073741824)!==0?t.memoizedState=s:(t.memoizedState=o,t=BT(),Re.lanes|=t,hi|=t,o)}function jS(t,s,o,l){return On(o,s)?o:ya.current!==null?(t=qm(t,o,l),On(t,s)||(Qt=!0),t):(si&42)===0?(Qt=!0,t.memoizedState=o):(t=BT(),Re.lanes|=t,hi|=t,s)}function zS(t,s,o,l,d){var p=re.p;re.p=p!==0&&8>p?p:8;var w=K.T,S={};K.T=S,Wm(t,!1,s,o);try{var _=d(),U=K.S;if(U!==null&&U(S,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var Y=m6(_,l);hu(t,s,Y,Bn(t))}else hu(t,s,l,Bn(t))}catch(ee){hu(t,s,{then:function(){},status:"rejected",reason:ee},Bn())}finally{re.p=p,K.T=w}}function w6(){}function $m(t,s,o,l){if(t.tag!==5)throw Error(i(476));var d=BS(t).queue;zS(t,d,s,de,o===null?w6:function(){return US(t),o(l)})}function BS(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:de},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:o},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function US(t){var s=BS(t).next.queue;hu(t,s,{},Bn())}function Km(){return gn(Pu)}function qS(){return Lt().memoizedState}function $S(){return Lt().memoizedState}function E6(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var o=Bn();t=ni(o);var l=ri(s,t,o);l!==null&&(Un(l,s,o),iu(l,s,o)),s={cache:Em()},t.payload=s;return}s=s.return}}function S6(t,s,o){var l=Bn();o={lane:l,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Nh(t)?WS(s,o):(o=hm(t,s,o,l),o!==null&&(Un(o,t,l),HS(o,s,l)))}function KS(t,s,o){var l=Bn();hu(t,s,o,l)}function hu(t,s,o,l){var d={lane:l,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Nh(t))WS(s,d);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var w=s.lastRenderedState,S=p(w,o);if(d.hasEagerState=!0,d.eagerState=S,On(S,w))return fh(t,s,d,0),ut===null&&dh(),!1}catch{}finally{}if(o=hm(t,s,d,l),o!==null)return Un(o,t,l),HS(o,s,l),!0}return!1}function Wm(t,s,o,l){if(l={lane:2,revertLane:kg(),action:l,hasEagerState:!1,eagerState:null,next:null},Nh(t)){if(s)throw Error(i(479))}else s=hm(t,o,l,2),s!==null&&Un(s,t,2)}function Nh(t){var s=t.alternate;return t===Re||s!==null&&s===Re}function WS(t,s){va=kh=!0;var o=t.pending;o===null?s.next=s:(s.next=o.next,o.next=s),t.pending=s}function HS(t,s,o){if((o&4194048)!==0){var l=s.lanes;l&=t.pendingLanes,o|=l,s.lanes=o,Ml(t,o)}}var _h={readContext:gn,use:xh,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At},XS={readContext:gn,use:xh,useCallback:function(t,s){return In().memoizedState=[t,s===void 0?null:s],t},useContext:gn,useEffect:_S,useImperativeHandle:function(t,s,o){o=o!=null?o.concat([t]):null,Ph(4194308,4,RS.bind(null,s,t),o)},useLayoutEffect:function(t,s){return Ph(4194308,4,t,s)},useInsertionEffect:function(t,s){Ph(4,2,t,s)},useMemo:function(t,s){var o=In();s=s===void 0?null:s;var l=t();if(fo){vn(!0);try{t()}finally{vn(!1)}}return o.memoizedState=[l,s],l},useReducer:function(t,s,o){var l=In();if(o!==void 0){var d=o(s);if(fo){vn(!0);try{o(s)}finally{vn(!1)}}}else d=s;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=S6.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var s=In();return t={current:t},s.memoizedState=t},useState:function(t){t=zm(t);var s=t.queue,o=KS.bind(null,Re,s);return s.dispatch=o,[t.memoizedState,o]},useDebugValue:Um,useDeferredValue:function(t,s){var o=In();return qm(o,t,s)},useTransition:function(){var t=zm(!1);return t=zS.bind(null,Re,t.queue,!0,!1),In().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,o){var l=Re,d=In();if(Ye){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),ut===null)throw Error(i(349));(Ke&124)!==0||mS(l,s,o)}d.memoizedState=o;var p={value:o,getSnapshot:s};return d.queue=p,_S(yS.bind(null,l,p,t),[t]),l.flags|=2048,wa(9,Ah(),gS.bind(null,l,p,o,s),null),o},useId:function(){var t=In(),s=ut.identifierPrefix;if(Ye){var o=ds,l=hs;o=(l&~(1<<32-zt(l)-1)).toString(32)+o,s="«"+s+"R"+o,o=Ch++,0<o&&(s+="H"+o.toString(32)),s+="»"}else o=g6++,s="«"+s+"r"+o.toString(32)+"»";return t.memoizedState=s},useHostTransitionStatus:Km,useFormState:xS,useActionState:xS,useOptimistic:function(t){var s=In();s.memoizedState=s.baseState=t;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Wm.bind(null,Re,!0,o),o.dispatch=s,[t,s]},useMemoCache:Lm,useCacheRefresh:function(){return In().memoizedState=E6.bind(null,Re)}},QS={readContext:gn,use:xh,useCallback:LS,useContext:gn,useEffect:DS,useImperativeHandle:OS,useInsertionEffect:MS,useLayoutEffect:FS,useMemo:VS,useReducer:Ih,useRef:NS,useState:function(){return Ih(ms)},useDebugValue:Um,useDeferredValue:function(t,s){var o=Lt();return jS(o,st.memoizedState,t,s)},useTransition:function(){var t=Ih(ms)[0],s=Lt().memoizedState;return[typeof t=="boolean"?t:uu(t),s]},useSyncExternalStore:pS,useId:qS,useHostTransitionStatus:Km,useFormState:IS,useActionState:IS,useOptimistic:function(t,s){var o=Lt();return wS(o,st,t,s)},useMemoCache:Lm,useCacheRefresh:$S},T6={readContext:gn,use:xh,useCallback:LS,useContext:gn,useEffect:DS,useImperativeHandle:OS,useInsertionEffect:MS,useLayoutEffect:FS,useMemo:VS,useReducer:jm,useRef:NS,useState:function(){return jm(ms)},useDebugValue:Um,useDeferredValue:function(t,s){var o=Lt();return st===null?qm(o,t,s):jS(o,st.memoizedState,t,s)},useTransition:function(){var t=jm(ms)[0],s=Lt().memoizedState;return[typeof t=="boolean"?t:uu(t),s]},useSyncExternalStore:pS,useId:qS,useHostTransitionStatus:Km,useFormState:PS,useActionState:PS,useOptimistic:function(t,s){var o=Lt();return st!==null?wS(o,st,t,s):(o.baseState=t,[t,o.queue.dispatch])},useMemoCache:Lm,useCacheRefresh:$S},Ea=null,du=0;function Dh(t){var s=du;return du+=1,Ea===null&&(Ea=[]),oS(Ea,t,s)}function fu(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Mh(t,s){throw s.$$typeof===E?Error(i(525)):(t=Object.prototype.toString.call(s),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function GS(t){var s=t._init;return s(t._payload)}function YS(t){function s(L,R){if(t){var B=L.deletions;B===null?(L.deletions=[R],L.flags|=16):B.push(R)}}function o(L,R){if(!t)return null;for(;R!==null;)s(L,R),R=R.sibling;return null}function l(L){for(var R=new Map;L!==null;)L.key!==null?R.set(L.key,L):R.set(L.index,L),L=L.sibling;return R}function d(L,R){return L=cs(L,R),L.index=0,L.sibling=null,L}function p(L,R,B){return L.index=B,t?(B=L.alternate,B!==null?(B=B.index,B<R?(L.flags|=67108866,R):B):(L.flags|=67108866,R)):(L.flags|=1048576,R)}function w(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function S(L,R,B,Z){return R===null||R.tag!==6?(R=fm(B,L.mode,Z),R.return=L,R):(R=d(R,B),R.return=L,R)}function _(L,R,B,Z){var fe=B.type;return fe===V?Y(L,R,B.props.children,Z,B.key):R!==null&&(R.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===I&&GS(fe)===R.type)?(R=d(R,B.props),fu(R,B),R.return=L,R):(R=mh(B.type,B.key,B.props,null,L.mode,Z),fu(R,B),R.return=L,R)}function U(L,R,B,Z){return R===null||R.tag!==4||R.stateNode.containerInfo!==B.containerInfo||R.stateNode.implementation!==B.implementation?(R=pm(B,L.mode,Z),R.return=L,R):(R=d(R,B.children||[]),R.return=L,R)}function Y(L,R,B,Z,fe){return R===null||R.tag!==7?(R=so(B,L.mode,Z,fe),R.return=L,R):(R=d(R,B),R.return=L,R)}function ee(L,R,B){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=fm(""+R,L.mode,B),R.return=L,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case k:return B=mh(R.type,R.key,R.props,null,L.mode,B),fu(B,R),B.return=L,B;case A:return R=pm(R,L.mode,B),R.return=L,R;case I:var Z=R._init;return R=Z(R._payload),ee(L,R,B)}if(Ue(R)||O(R))return R=so(R,L.mode,B,null),R.return=L,R;if(typeof R.then=="function")return ee(L,Dh(R),B);if(R.$$typeof===ie)return ee(L,bh(L,R),B);Mh(L,R)}return null}function $(L,R,B,Z){var fe=R!==null?R.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return fe!==null?null:S(L,R,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case k:return B.key===fe?_(L,R,B,Z):null;case A:return B.key===fe?U(L,R,B,Z):null;case I:return fe=B._init,B=fe(B._payload),$(L,R,B,Z)}if(Ue(B)||O(B))return fe!==null?null:Y(L,R,B,Z,null);if(typeof B.then=="function")return $(L,R,Dh(B),Z);if(B.$$typeof===ie)return $(L,R,bh(L,B),Z);Mh(L,B)}return null}function W(L,R,B,Z,fe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return L=L.get(B)||null,S(R,L,""+Z,fe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case k:return L=L.get(Z.key===null?B:Z.key)||null,_(R,L,Z,fe);case A:return L=L.get(Z.key===null?B:Z.key)||null,U(R,L,Z,fe);case I:var Oe=Z._init;return Z=Oe(Z._payload),W(L,R,B,Z,fe)}if(Ue(Z)||O(Z))return L=L.get(B)||null,Y(R,L,Z,fe,null);if(typeof Z.then=="function")return W(L,R,B,Dh(Z),fe);if(Z.$$typeof===ie)return W(L,R,B,bh(R,Z),fe);Mh(R,Z)}return null}function xe(L,R,B,Z){for(var fe=null,Oe=null,we=R,Te=R=0,Yt=null;we!==null&&Te<B.length;Te++){we.index>Te?(Yt=we,we=null):Yt=we.sibling;var Xe=$(L,we,B[Te],Z);if(Xe===null){we===null&&(we=Yt);break}t&&we&&Xe.alternate===null&&s(L,we),R=p(Xe,R,Te),Oe===null?fe=Xe:Oe.sibling=Xe,Oe=Xe,we=Yt}if(Te===B.length)return o(L,we),Ye&&oo(L,Te),fe;if(we===null){for(;Te<B.length;Te++)we=ee(L,B[Te],Z),we!==null&&(R=p(we,R,Te),Oe===null?fe=we:Oe.sibling=we,Oe=we);return Ye&&oo(L,Te),fe}for(we=l(we);Te<B.length;Te++)Yt=W(we,L,Te,B[Te],Z),Yt!==null&&(t&&Yt.alternate!==null&&we.delete(Yt.key===null?Te:Yt.key),R=p(Yt,R,Te),Oe===null?fe=Yt:Oe.sibling=Yt,Oe=Yt);return t&&we.forEach(function(wi){return s(L,wi)}),Ye&&oo(L,Te),fe}function Se(L,R,B,Z){if(B==null)throw Error(i(151));for(var fe=null,Oe=null,we=R,Te=R=0,Yt=null,Xe=B.next();we!==null&&!Xe.done;Te++,Xe=B.next()){we.index>Te?(Yt=we,we=null):Yt=we.sibling;var wi=$(L,we,Xe.value,Z);if(wi===null){we===null&&(we=Yt);break}t&&we&&wi.alternate===null&&s(L,we),R=p(wi,R,Te),Oe===null?fe=wi:Oe.sibling=wi,Oe=wi,we=Yt}if(Xe.done)return o(L,we),Ye&&oo(L,Te),fe;if(we===null){for(;!Xe.done;Te++,Xe=B.next())Xe=ee(L,Xe.value,Z),Xe!==null&&(R=p(Xe,R,Te),Oe===null?fe=Xe:Oe.sibling=Xe,Oe=Xe);return Ye&&oo(L,Te),fe}for(we=l(we);!Xe.done;Te++,Xe=B.next())Xe=W(we,L,Te,Xe.value,Z),Xe!==null&&(t&&Xe.alternate!==null&&we.delete(Xe.key===null?Te:Xe.key),R=p(Xe,R,Te),Oe===null?fe=Xe:Oe.sibling=Xe,Oe=Xe);return t&&we.forEach(function(k3){return s(L,k3)}),Ye&&oo(L,Te),fe}function ot(L,R,B,Z){if(typeof B=="object"&&B!==null&&B.type===V&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case k:e:{for(var fe=B.key;R!==null;){if(R.key===fe){if(fe=B.type,fe===V){if(R.tag===7){o(L,R.sibling),Z=d(R,B.props.children),Z.return=L,L=Z;break e}}else if(R.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===I&&GS(fe)===R.type){o(L,R.sibling),Z=d(R,B.props),fu(Z,B),Z.return=L,L=Z;break e}o(L,R);break}else s(L,R);R=R.sibling}B.type===V?(Z=so(B.props.children,L.mode,Z,B.key),Z.return=L,L=Z):(Z=mh(B.type,B.key,B.props,null,L.mode,Z),fu(Z,B),Z.return=L,L=Z)}return w(L);case A:e:{for(fe=B.key;R!==null;){if(R.key===fe)if(R.tag===4&&R.stateNode.containerInfo===B.containerInfo&&R.stateNode.implementation===B.implementation){o(L,R.sibling),Z=d(R,B.children||[]),Z.return=L,L=Z;break e}else{o(L,R);break}else s(L,R);R=R.sibling}Z=pm(B,L.mode,Z),Z.return=L,L=Z}return w(L);case I:return fe=B._init,B=fe(B._payload),ot(L,R,B,Z)}if(Ue(B))return xe(L,R,B,Z);if(O(B)){if(fe=O(B),typeof fe!="function")throw Error(i(150));return B=fe.call(B),Se(L,R,B,Z)}if(typeof B.then=="function")return ot(L,R,Dh(B),Z);if(B.$$typeof===ie)return ot(L,R,bh(L,B),Z);Mh(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,R!==null&&R.tag===6?(o(L,R.sibling),Z=d(R,B),Z.return=L,L=Z):(o(L,R),Z=fm(B,L.mode,Z),Z.return=L,L=Z),w(L)):o(L,R)}return function(L,R,B,Z){try{du=0;var fe=ot(L,R,B,Z);return Ea=null,fe}catch(we){if(we===ru||we===Eh)throw we;var Oe=Ln(29,we,null,L.mode);return Oe.lanes=Z,Oe.return=L,Oe}finally{}}}var Sa=YS(!0),ZS=YS(!1),sr=x(null),gs=null;function ii(t){var s=t.alternate;X(Kt,Kt.current&1),X(sr,t),gs===null&&(s===null||ya.current!==null||s.memoizedState!==null)&&(gs=t)}function JS(t){if(t.tag===22){if(X(Kt,Kt.current),X(sr,t),gs===null){var s=t.alternate;s!==null&&s.memoizedState!==null&&(gs=t)}}else oi()}function oi(){X(Kt,Kt.current),X(sr,sr.current)}function ys(t){G(sr),gs===t&&(gs=null),G(Kt)}var Kt=x(0);function Fh(t){for(var s=t;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Og(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Hm(t,s,o,l){s=t.memoizedState,o=o(l,s),o=o==null?s:v({},s,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var Xm={enqueueSetState:function(t,s,o){t=t._reactInternals;var l=Bn(),d=ni(l);d.payload=s,o!=null&&(d.callback=o),s=ri(t,d,l),s!==null&&(Un(s,t,l),iu(s,t,l))},enqueueReplaceState:function(t,s,o){t=t._reactInternals;var l=Bn(),d=ni(l);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=ri(t,d,l),s!==null&&(Un(s,t,l),iu(s,t,l))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var o=Bn(),l=ni(o);l.tag=2,s!=null&&(l.callback=s),s=ri(t,l,o),s!==null&&(Un(s,t,o),iu(s,t,o))}};function eT(t,s,o,l,d,p,w){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,p,w):s.prototype&&s.prototype.isPureReactComponent?!Ql(o,l)||!Ql(d,p):!0}function tT(t,s,o,l){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,l),s.state!==t&&Xm.enqueueReplaceState(s,s.state,null)}function po(t,s){var o=s;if("ref"in s){o={};for(var l in s)l!=="ref"&&(o[l]=s[l])}if(t=t.defaultProps){o===s&&(o=v({},o));for(var d in t)o[d]===void 0&&(o[d]=t[d])}return o}var Rh=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function nT(t){Rh(t)}function rT(t){console.error(t)}function sT(t){Rh(t)}function Oh(t,s){try{var o=t.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function iT(t,s,o){try{var l=t.onCaughtError;l(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Qm(t,s,o){return o=ni(o),o.tag=3,o.payload={element:null},o.callback=function(){Oh(t,s)},o}function oT(t){return t=ni(t),t.tag=3,t}function aT(t,s,o,l){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var p=l.value;t.payload=function(){return d(p)},t.callback=function(){iT(s,o,l)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(t.callback=function(){iT(s,o,l),typeof d!="function"&&(di===null?di=new Set([this]):di.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function k6(t,s,o,l,d){if(o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=o.alternate,s!==null&&eu(s,o,d,!0),o=sr.current,o!==null){switch(o.tag){case 13:return gs===null?bg():o.alternate===null&&kt===0&&(kt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,l===km?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([l]):s.add(l),Eg(t,l,d)),!1;case 22:return o.flags|=65536,l===km?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([l]):o.add(l)),Eg(t,l,d)),!1}throw Error(i(435,o.tag))}return Eg(t,l,d),bg(),!1}if(Ye)return s=sr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,l!==ym&&(t=Error(i(422),{cause:l}),Jl(er(t,o)))):(l!==ym&&(s=Error(i(423),{cause:l}),Jl(er(s,o))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=er(l,o),d=Qm(t.stateNode,l,d),Im(t,d),kt!==4&&(kt=2)),!1;var p=Error(i(520),{cause:l});if(p=er(p,o),wu===null?wu=[p]:wu.push(p),kt!==4&&(kt=2),s===null)return!0;l=er(l,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,t=d&-d,o.lanes|=t,t=Qm(o.stateNode,l,t),Im(o,t),!1;case 1:if(s=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(di===null||!di.has(p))))return o.flags|=65536,d&=-d,o.lanes|=d,d=oT(d),aT(d,t,o,l),Im(o,d),!1}o=o.return}while(o!==null);return!1}var lT=Error(i(461)),Qt=!1;function an(t,s,o,l){s.child=t===null?ZS(s,null,o,l):Sa(s,t.child,o,l)}function uT(t,s,o,l,d){o=o.render;var p=s.ref;if("ref"in l){var w={};for(var S in l)S!=="ref"&&(w[S]=l[S])}else w=l;return co(s),l=Dm(t,s,o,w,p,d),S=Mm(),t!==null&&!Qt?(Fm(t,s,d),vs(t,s,d)):(Ye&&S&&mm(s),s.flags|=1,an(t,s,l,d),s.child)}function cT(t,s,o,l,d){if(t===null){var p=o.type;return typeof p=="function"&&!dm(p)&&p.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=p,hT(t,s,p,l,d)):(t=mh(o.type,null,l,s,s.mode,d),t.ref=s.ref,t.return=s,s.child=t)}if(p=t.child,!rg(t,d)){var w=p.memoizedProps;if(o=o.compare,o=o!==null?o:Ql,o(w,l)&&t.ref===s.ref)return vs(t,s,d)}return s.flags|=1,t=cs(p,l),t.ref=s.ref,t.return=s,s.child=t}function hT(t,s,o,l,d){if(t!==null){var p=t.memoizedProps;if(Ql(p,l)&&t.ref===s.ref)if(Qt=!1,s.pendingProps=l=p,rg(t,d))(t.flags&131072)!==0&&(Qt=!0);else return s.lanes=t.lanes,vs(t,s,d)}return Gm(t,s,o,l,d)}function dT(t,s,o){var l=s.pendingProps,d=l.children,p=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((s.flags&128)!==0){if(l=p!==null?p.baseLanes|o:o,t!==null){for(d=s.child=t.child,p=0;d!==null;)p=p|d.lanes|d.childLanes,d=d.sibling;s.childLanes=p&~l}else s.childLanes=0,s.child=null;return fT(t,s,l,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&wh(s,p!==null?p.cachePool:null),p!==null?hS(s,p):Pm(),JS(s);else return s.lanes=s.childLanes=536870912,fT(t,s,p!==null?p.baseLanes|o:o,o)}else p!==null?(wh(s,p.cachePool),hS(s,p),oi(),s.memoizedState=null):(t!==null&&wh(s,null),Pm(),oi());return an(t,s,d,o),s.child}function fT(t,s,o,l){var d=Tm();return d=d===null?null:{parent:$t._currentValue,pool:d},s.memoizedState={baseLanes:o,cachePool:d},t!==null&&wh(s,null),Pm(),JS(s),t!==null&&eu(t,s,l,!0),null}function Lh(t,s){var o=s.ref;if(o===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(t===null||t.ref!==o)&&(s.flags|=4194816)}}function Gm(t,s,o,l,d){return co(s),o=Dm(t,s,o,l,void 0,d),l=Mm(),t!==null&&!Qt?(Fm(t,s,d),vs(t,s,d)):(Ye&&l&&mm(s),s.flags|=1,an(t,s,o,d),s.child)}function pT(t,s,o,l,d,p){return co(s),s.updateQueue=null,o=fS(s,l,o,d),dS(t),l=Mm(),t!==null&&!Qt?(Fm(t,s,p),vs(t,s,p)):(Ye&&l&&mm(s),s.flags|=1,an(t,s,o,p),s.child)}function mT(t,s,o,l,d){if(co(s),s.stateNode===null){var p=da,w=o.contextType;typeof w=="object"&&w!==null&&(p=gn(w)),p=new o(l,p),s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Xm,s.stateNode=p,p._reactInternals=s,p=s.stateNode,p.props=l,p.state=s.memoizedState,p.refs={},Cm(s),w=o.contextType,p.context=typeof w=="object"&&w!==null?gn(w):da,p.state=s.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(Hm(s,o,w,l),p.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(w=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),w!==p.state&&Xm.enqueueReplaceState(p,p.state,null),au(s,l,p,d),ou(),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(t===null){p=s.stateNode;var S=s.memoizedProps,_=po(o,S);p.props=_;var U=p.context,Y=o.contextType;w=da,typeof Y=="object"&&Y!==null&&(w=gn(Y));var ee=o.getDerivedStateFromProps;Y=typeof ee=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,Y||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||U!==w)&&tT(s,p,l,w),ti=!1;var $=s.memoizedState;p.state=$,au(s,l,p,d),ou(),U=s.memoizedState,S||$!==U||ti?(typeof ee=="function"&&(Hm(s,o,ee,l),U=s.memoizedState),(_=ti||eT(s,o,_,l,$,U,w))?(Y||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(s.flags|=4194308)):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=U),p.props=l,p.state=U,p.context=w,l=_):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{p=s.stateNode,xm(t,s),w=s.memoizedProps,Y=po(o,w),p.props=Y,ee=s.pendingProps,$=p.context,U=o.contextType,_=da,typeof U=="object"&&U!==null&&(_=gn(U)),S=o.getDerivedStateFromProps,(U=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w!==ee||$!==_)&&tT(s,p,l,_),ti=!1,$=s.memoizedState,p.state=$,au(s,l,p,d),ou();var W=s.memoizedState;w!==ee||$!==W||ti||t!==null&&t.dependencies!==null&&vh(t.dependencies)?(typeof S=="function"&&(Hm(s,o,S,l),W=s.memoizedState),(Y=ti||eT(s,o,Y,l,$,W,_)||t!==null&&t.dependencies!==null&&vh(t.dependencies))?(U||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,W,_),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,W,_)),typeof p.componentDidUpdate=="function"&&(s.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof p.componentDidUpdate!="function"||w===t.memoizedProps&&$===t.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&$===t.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=W),p.props=l,p.state=W,p.context=_,l=Y):(typeof p.componentDidUpdate!="function"||w===t.memoizedProps&&$===t.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&$===t.memoizedState||(s.flags|=1024),l=!1)}return p=l,Lh(t,s),l=(s.flags&128)!==0,p||l?(p=s.stateNode,o=l&&typeof o.getDerivedStateFromError!="function"?null:p.render(),s.flags|=1,t!==null&&l?(s.child=Sa(s,t.child,null,d),s.child=Sa(s,null,o,d)):an(t,s,o,d),s.memoizedState=p.state,t=s.child):t=vs(t,s,d),t}function gT(t,s,o,l){return Zl(),s.flags|=256,an(t,s,o,l),s.child}var Ym={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zm(t){return{baseLanes:t,cachePool:rS()}}function Jm(t,s,o){return t=t!==null?t.childLanes&~o:0,s&&(t|=ir),t}function yT(t,s,o){var l=s.pendingProps,d=!1,p=(s.flags&128)!==0,w;if((w=p)||(w=t!==null&&t.memoizedState===null?!1:(Kt.current&2)!==0),w&&(d=!0,s.flags&=-129),w=(s.flags&32)!==0,s.flags&=-33,t===null){if(Ye){if(d?ii(s):oi(),Ye){var S=Tt,_;if(_=S){e:{for(_=S,S=jr;_.nodeType!==8;){if(!S){S=null;break e}if(_=mr(_.nextSibling),_===null){S=null;break e}}S=_}S!==null?(s.memoizedState={dehydrated:S,treeContext:io!==null?{id:hs,overflow:ds}:null,retryLane:536870912,hydrationErrors:null},_=Ln(18,null,null,0),_.stateNode=S,_.return=s,s.child=_,Sn=s,Tt=null,_=!0):_=!1}_||lo(s)}if(S=s.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Og(S)?s.lanes=32:s.lanes=536870912,null;ys(s)}return S=l.children,l=l.fallback,d?(oi(),d=s.mode,S=Vh({mode:"hidden",children:S},d),l=so(l,d,o,null),S.return=s,l.return=s,S.sibling=l,s.child=S,d=s.child,d.memoizedState=Zm(o),d.childLanes=Jm(t,w,o),s.memoizedState=Ym,l):(ii(s),eg(s,S))}if(_=t.memoizedState,_!==null&&(S=_.dehydrated,S!==null)){if(p)s.flags&256?(ii(s),s.flags&=-257,s=tg(t,s,o)):s.memoizedState!==null?(oi(),s.child=t.child,s.flags|=128,s=null):(oi(),d=l.fallback,S=s.mode,l=Vh({mode:"visible",children:l.children},S),d=so(d,S,o,null),d.flags|=2,l.return=s,d.return=s,l.sibling=d,s.child=l,Sa(s,t.child,null,o),l=s.child,l.memoizedState=Zm(o),l.childLanes=Jm(t,w,o),s.memoizedState=Ym,s=d);else if(ii(s),Og(S)){if(w=S.nextSibling&&S.nextSibling.dataset,w)var U=w.dgst;w=U,l=Error(i(419)),l.stack="",l.digest=w,Jl({value:l,source:null,stack:null}),s=tg(t,s,o)}else if(Qt||eu(t,s,o,!1),w=(o&t.childLanes)!==0,Qt||w){if(w=ut,w!==null&&(l=o&-o,l=(l&42)!==0?1:Hs(l),l=(l&(w.suspendedLanes|o))!==0?0:l,l!==0&&l!==_.retryLane))throw _.retryLane=l,ha(t,l),Un(w,t,l),lT;S.data==="$?"||bg(),s=tg(t,s,o)}else S.data==="$?"?(s.flags|=192,s.child=t.child,s=null):(t=_.treeContext,Tt=mr(S.nextSibling),Sn=s,Ye=!0,ao=null,jr=!1,t!==null&&(nr[rr++]=hs,nr[rr++]=ds,nr[rr++]=io,hs=t.id,ds=t.overflow,io=s),s=eg(s,l.children),s.flags|=4096);return s}return d?(oi(),d=l.fallback,S=s.mode,_=t.child,U=_.sibling,l=cs(_,{mode:"hidden",children:l.children}),l.subtreeFlags=_.subtreeFlags&65011712,U!==null?d=cs(U,d):(d=so(d,S,o,null),d.flags|=2),d.return=s,l.return=s,l.sibling=d,s.child=l,l=d,d=s.child,S=t.child.memoizedState,S===null?S=Zm(o):(_=S.cachePool,_!==null?(U=$t._currentValue,_=_.parent!==U?{parent:U,pool:U}:_):_=rS(),S={baseLanes:S.baseLanes|o,cachePool:_}),d.memoizedState=S,d.childLanes=Jm(t,w,o),s.memoizedState=Ym,l):(ii(s),o=t.child,t=o.sibling,o=cs(o,{mode:"visible",children:l.children}),o.return=s,o.sibling=null,t!==null&&(w=s.deletions,w===null?(s.deletions=[t],s.flags|=16):w.push(t)),s.child=o,s.memoizedState=null,o)}function eg(t,s){return s=Vh({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function Vh(t,s){return t=Ln(22,t,null,s),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function tg(t,s,o){return Sa(s,t.child,null,o),t=eg(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function vT(t,s,o){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s),bm(t.return,s,o)}function ng(t,s,o,l,d){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:o,tailMode:d}:(p.isBackwards=s,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=o,p.tailMode=d)}function bT(t,s,o){var l=s.pendingProps,d=l.revealOrder,p=l.tail;if(an(t,s,l.children,o),l=Kt.current,(l&2)!==0)l=l&1|2,s.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vT(t,o,s);else if(t.tag===19)vT(t,o,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(X(Kt,l),d){case"forwards":for(o=s.child,d=null;o!==null;)t=o.alternate,t!==null&&Fh(t)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),ng(s,!1,d,o,p);break;case"backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(t=d.alternate,t!==null&&Fh(t)===null){s.child=d;break}t=d.sibling,d.sibling=o,o=d,d=t}ng(s,!0,o,null,p);break;case"together":ng(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function vs(t,s,o){if(t!==null&&(s.dependencies=t.dependencies),hi|=s.lanes,(o&s.childLanes)===0)if(t!==null){if(eu(t,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(i(153));if(s.child!==null){for(t=s.child,o=cs(t,t.pendingProps),s.child=o,o.return=s;t.sibling!==null;)t=t.sibling,o=o.sibling=cs(t,t.pendingProps),o.return=s;o.sibling=null}return s.child}function rg(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&vh(t)))}function C6(t,s,o){switch(s.tag){case 3:ve(s,s.stateNode.containerInfo),ei(s,$t,t.memoizedState.cache),Zl();break;case 27:case 5:at(s);break;case 4:ve(s,s.stateNode.containerInfo);break;case 10:ei(s,s.type,s.memoizedProps.value);break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(ii(s),s.flags|=128,null):(o&s.child.childLanes)!==0?yT(t,s,o):(ii(s),t=vs(t,s,o),t!==null?t.sibling:null);ii(s);break;case 19:var d=(t.flags&128)!==0;if(l=(o&s.childLanes)!==0,l||(eu(t,s,o,!1),l=(o&s.childLanes)!==0),d){if(l)return bT(t,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),X(Kt,Kt.current),l)break;return null;case 22:case 23:return s.lanes=0,dT(t,s,o);case 24:ei(s,$t,t.memoizedState.cache)}return vs(t,s,o)}function wT(t,s,o){if(t!==null)if(t.memoizedProps!==s.pendingProps)Qt=!0;else{if(!rg(t,o)&&(s.flags&128)===0)return Qt=!1,C6(t,s,o);Qt=(t.flags&131072)!==0}else Qt=!1,Ye&&(s.flags&1048576)!==0&&GE(s,yh,s.index);switch(s.lanes=0,s.tag){case 16:e:{t=s.pendingProps;var l=s.elementType,d=l._init;if(l=d(l._payload),s.type=l,typeof l=="function")dm(l)?(t=po(l,t),s.tag=1,s=mT(null,s,l,t,o)):(s.tag=0,s=Gm(null,s,l,t,o));else{if(l!=null){if(d=l.$$typeof,d===pe){s.tag=11,s=uT(null,s,l,t,o);break e}else if(d===M){s.tag=14,s=cT(null,s,l,t,o);break e}}throw s=We(l)||l,Error(i(306,s,""))}}return s;case 0:return Gm(t,s,s.type,s.pendingProps,o);case 1:return l=s.type,d=po(l,s.pendingProps),mT(t,s,l,d,o);case 3:e:{if(ve(s,s.stateNode.containerInfo),t===null)throw Error(i(387));l=s.pendingProps;var p=s.memoizedState;d=p.element,xm(t,s),au(s,l,null,o);var w=s.memoizedState;if(l=w.cache,ei(s,$t,l),l!==p.cache&&wm(s,[$t],o,!0),ou(),l=w.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:w.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=gT(t,s,l,o);break e}else if(l!==d){d=er(Error(i(424)),s),Jl(d),s=gT(t,s,l,o);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Tt=mr(t.firstChild),Sn=s,Ye=!0,ao=null,jr=!0,o=ZS(s,null,l,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Zl(),l===d){s=vs(t,s,o);break e}an(t,s,l,o)}s=s.child}return s;case 26:return Lh(t,s),t===null?(o=kk(s.type,null,s.pendingProps,null))?s.memoizedState=o:Ye||(o=s.type,t=s.pendingProps,l=Zh(ae.current).createElement(o),l[Bt]=s,l[Rt]=t,un(l,o,t),It(l),s.stateNode=l):s.memoizedState=kk(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return at(s),t===null&&Ye&&(l=s.stateNode=Ek(s.type,s.pendingProps,ae.current),Sn=s,jr=!0,d=Tt,mi(s.type)?(Lg=d,Tt=mr(l.firstChild)):Tt=d),an(t,s,s.pendingProps.children,o),Lh(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&Ye&&((d=l=Tt)&&(l=J6(l,s.type,s.pendingProps,jr),l!==null?(s.stateNode=l,Sn=s,Tt=mr(l.firstChild),jr=!1,d=!0):d=!1),d||lo(s)),at(s),d=s.type,p=s.pendingProps,w=t!==null?t.memoizedProps:null,l=p.children,Mg(d,p)?l=null:w!==null&&Mg(d,w)&&(s.flags|=32),s.memoizedState!==null&&(d=Dm(t,s,y6,null,null,o),Pu._currentValue=d),Lh(t,s),an(t,s,l,o),s.child;case 6:return t===null&&Ye&&((t=o=Tt)&&(o=e3(o,s.pendingProps,jr),o!==null?(s.stateNode=o,Sn=s,Tt=null,t=!0):t=!1),t||lo(s)),null;case 13:return yT(t,s,o);case 4:return ve(s,s.stateNode.containerInfo),l=s.pendingProps,t===null?s.child=Sa(s,null,l,o):an(t,s,l,o),s.child;case 11:return uT(t,s,s.type,s.pendingProps,o);case 7:return an(t,s,s.pendingProps,o),s.child;case 8:return an(t,s,s.pendingProps.children,o),s.child;case 12:return an(t,s,s.pendingProps.children,o),s.child;case 10:return l=s.pendingProps,ei(s,s.type,l.value),an(t,s,l.children,o),s.child;case 9:return d=s.type._context,l=s.pendingProps.children,co(s),d=gn(d),l=l(d),s.flags|=1,an(t,s,l,o),s.child;case 14:return cT(t,s,s.type,s.pendingProps,o);case 15:return hT(t,s,s.type,s.pendingProps,o);case 19:return bT(t,s,o);case 31:return l=s.pendingProps,o=s.mode,l={mode:l.mode,children:l.children},t===null?(o=Vh(l,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=cs(t.child,l),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return dT(t,s,o);case 24:return co(s),l=gn($t),t===null?(d=Tm(),d===null&&(d=ut,p=Em(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=o),d=p),s.memoizedState={parent:l,cache:d},Cm(s),ei(s,$t,d)):((t.lanes&o)!==0&&(xm(t,s),au(s,null,null,o),ou()),d=t.memoizedState,p=s.memoizedState,d.parent!==l?(d={parent:l,cache:l},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),ei(s,$t,l)):(l=p.cache,ei(s,$t,l),l!==d.cache&&wm(s,[$t],o,!0))),an(t,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function bs(t){t.flags|=4}function ET(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Pk(s)){if(s=sr.current,s!==null&&((Ke&4194048)===Ke?gs!==null:(Ke&62914560)!==Ke&&(Ke&536870912)===0||s!==gs))throw su=km,sS;t.flags|=8192}}function jh(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?_l():536870912,t.lanes|=s,xa|=s)}function pu(t,s){if(!Ye)switch(t.tailMode){case"hidden":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function wt(t){var s=t.alternate!==null&&t.alternate.child===t.child,o=0,l=0;if(s)for(var d=t.child;d!==null;)o|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)o|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=o,s}function x6(t,s,o){var l=s.pendingProps;switch(gm(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(s),null;case 1:return wt(s),null;case 3:return o=s.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ps($t),_e(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(Yl(s)?bs(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,JE())),wt(s),null;case 26:return o=s.memoizedState,t===null?(bs(s),o!==null?(wt(s),ET(s,o)):(wt(s),s.flags&=-16777217)):o?o!==t.memoizedState?(bs(s),wt(s),ET(s,o)):(wt(s),s.flags&=-16777217):(t.memoizedProps!==l&&bs(s),wt(s),s.flags&=-16777217),null;case 27:Ve(s),o=ae.current;var d=s.type;if(t!==null&&s.stateNode!=null)t.memoizedProps!==l&&bs(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return wt(s),null}t=oe.current,Yl(s)?YE(s):(t=Ek(d,l,o),s.stateNode=t,bs(s))}return wt(s),null;case 5:if(Ve(s),o=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&bs(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return wt(s),null}if(t=oe.current,Yl(s))YE(s);else{switch(d=Zh(ae.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?d.createElement(o,{is:l.is}):d.createElement(o)}}t[Bt]=s,t[Rt]=l;e:for(d=s.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break e;for(;d.sibling===null;){if(d.return===null||d.return===s)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}s.stateNode=t;e:switch(un(t,o,l),o){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&bs(s)}}return wt(s),s.flags&=-16777217,null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==l&&bs(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(i(166));if(t=ae.current,Yl(s)){if(t=s.stateNode,o=s.memoizedProps,l=null,d=Sn,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[Bt]=s,t=!!(t.nodeValue===o||l!==null&&l.suppressHydrationWarning===!0||pk(t.nodeValue,o)),t||lo(s)}else t=Zh(t).createTextNode(l),t[Bt]=s,s.stateNode=t}return wt(s),null;case 13:if(l=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=Yl(s),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(i(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[Bt]=s}else Zl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;wt(s),d=!1}else d=JE(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(ys(s),s):(ys(s),null)}if(ys(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=l!==null,t=t!==null&&t.memoizedState!==null,o){l=s.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool);var p=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==d&&(l.flags|=2048)}return o!==t&&o&&(s.child.flags|=8192),jh(s,s.updateQueue),wt(s),null;case 4:return _e(),t===null&&Ag(s.stateNode.containerInfo),wt(s),null;case 10:return ps(s.type),wt(s),null;case 19:if(G(Kt),d=s.memoizedState,d===null)return wt(s),null;if(l=(s.flags&128)!==0,p=d.rendering,p===null)if(l)pu(d,!1);else{if(kt!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(p=Fh(t),p!==null){for(s.flags|=128,pu(d,!1),t=p.updateQueue,s.updateQueue=t,jh(s,t),s.subtreeFlags=0,t=o,o=s.child;o!==null;)QE(o,t),o=o.sibling;return X(Kt,Kt.current&1|2),s.child}t=t.sibling}d.tail!==null&&pt()>Uh&&(s.flags|=128,l=!0,pu(d,!1),s.lanes=4194304)}else{if(!l)if(t=Fh(p),t!==null){if(s.flags|=128,l=!0,t=t.updateQueue,s.updateQueue=t,jh(s,t),pu(d,!0),d.tail===null&&d.tailMode==="hidden"&&!p.alternate&&!Ye)return wt(s),null}else 2*pt()-d.renderingStartTime>Uh&&o!==536870912&&(s.flags|=128,l=!0,pu(d,!1),s.lanes=4194304);d.isBackwards?(p.sibling=s.child,s.child=p):(t=d.last,t!==null?t.sibling=p:s.child=p,d.last=p)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=pt(),s.sibling=null,t=Kt.current,X(Kt,l?t&1|2:t&1),s):(wt(s),null);case 22:case 23:return ys(s),Nm(),l=s.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(o&536870912)!==0&&(s.flags&128)===0&&(wt(s),s.subtreeFlags&6&&(s.flags|=8192)):wt(s),o=s.updateQueue,o!==null&&jh(s,o.retryQueue),o=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==o&&(s.flags|=2048),t!==null&&G(ho),null;case 24:return o=null,t!==null&&(o=t.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),ps($t),wt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function I6(t,s){switch(gm(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return ps($t),_e(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return Ve(s),null;case 13:if(ys(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Zl()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return G(Kt),null;case 4:return _e(),null;case 10:return ps(s.type),null;case 22:case 23:return ys(s),Nm(),t!==null&&G(ho),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return ps($t),null;case 25:return null;default:return null}}function ST(t,s){switch(gm(s),s.tag){case 3:ps($t),_e();break;case 26:case 27:case 5:Ve(s);break;case 4:_e();break;case 13:ys(s);break;case 19:G(Kt);break;case 10:ps(s.type);break;case 22:case 23:ys(s),Nm(),t!==null&&G(ho);break;case 24:ps($t)}}function mu(t,s){try{var o=s.updateQueue,l=o!==null?o.lastEffect:null;if(l!==null){var d=l.next;o=d;do{if((o.tag&t)===t){l=void 0;var p=o.create,w=o.inst;l=p(),w.destroy=l}o=o.next}while(o!==d)}}catch(S){lt(s,s.return,S)}}function ai(t,s,o){try{var l=s.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var p=d.next;l=p;do{if((l.tag&t)===t){var w=l.inst,S=w.destroy;if(S!==void 0){w.destroy=void 0,d=s;var _=o,U=S;try{U()}catch(Y){lt(d,_,Y)}}}l=l.next}while(l!==p)}}catch(Y){lt(s,s.return,Y)}}function TT(t){var s=t.updateQueue;if(s!==null){var o=t.stateNode;try{cS(s,o)}catch(l){lt(t,t.return,l)}}}function kT(t,s,o){o.props=po(t.type,t.memoizedProps),o.state=t.memoizedState;try{o.componentWillUnmount()}catch(l){lt(t,s,l)}}function gu(t,s){try{var o=t.ref;if(o!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof o=="function"?t.refCleanup=o(l):o.current=l}}catch(d){lt(t,s,d)}}function zr(t,s){var o=t.ref,l=t.refCleanup;if(o!==null)if(typeof l=="function")try{l()}catch(d){lt(t,s,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){lt(t,s,d)}else o.current=null}function CT(t){var s=t.type,o=t.memoizedProps,l=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&l.focus();break e;case"img":o.src?l.src=o.src:o.srcSet&&(l.srcset=o.srcSet)}}catch(d){lt(t,t.return,d)}}function sg(t,s,o){try{var l=t.stateNode;X6(l,t.type,o,s),l[Rt]=s}catch(d){lt(t,t.return,d)}}function xT(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&mi(t.type)||t.tag===4}function ig(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||xT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&mi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function og(t,s,o){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(t,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(t),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Yh));else if(l!==4&&(l===27&&mi(t.type)&&(o=t.stateNode,s=null),t=t.child,t!==null))for(og(t,s,o),t=t.sibling;t!==null;)og(t,s,o),t=t.sibling}function zh(t,s,o){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?o.insertBefore(t,s):o.appendChild(t);else if(l!==4&&(l===27&&mi(t.type)&&(o=t.stateNode),t=t.child,t!==null))for(zh(t,s,o),t=t.sibling;t!==null;)zh(t,s,o),t=t.sibling}function IT(t){var s=t.stateNode,o=t.memoizedProps;try{for(var l=t.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);un(s,l,o),s[Bt]=t,s[Rt]=o}catch(p){lt(t,t.return,p)}}var ws=!1,Pt=!1,ag=!1,AT=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function A6(t,s){if(t=t.containerInfo,_g=sd,t=jE(t),im(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var l=o.getSelection&&o.getSelection();if(l&&l.rangeCount!==0){o=l.anchorNode;var d=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var w=0,S=-1,_=-1,U=0,Y=0,ee=t,$=null;t:for(;;){for(var W;ee!==o||d!==0&&ee.nodeType!==3||(S=w+d),ee!==p||l!==0&&ee.nodeType!==3||(_=w+l),ee.nodeType===3&&(w+=ee.nodeValue.length),(W=ee.firstChild)!==null;)$=ee,ee=W;for(;;){if(ee===t)break t;if($===o&&++U===d&&(S=w),$===p&&++Y===l&&(_=w),(W=ee.nextSibling)!==null)break;ee=$,$=ee.parentNode}ee=W}o=S===-1||_===-1?null:{start:S,end:_}}else o=null}o=o||{start:0,end:0}}else o=null;for(Dg={focusedElem:t,selectionRange:o},sd=!1,Gt=s;Gt!==null;)if(s=Gt,t=s.child,(s.subtreeFlags&1024)!==0&&t!==null)t.return=s,Gt=t;else for(;Gt!==null;){switch(s=Gt,p=s.alternate,t=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&p!==null){t=void 0,o=s,d=p.memoizedProps,p=p.memoizedState,l=o.stateNode;try{var xe=po(o.type,d,o.elementType===o.type);t=l.getSnapshotBeforeUpdate(xe,p),l.__reactInternalSnapshotBeforeUpdate=t}catch(Se){lt(o,o.return,Se)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,o=t.nodeType,o===9)Rg(t);else if(o===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Rg(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=s.sibling,t!==null){t.return=s.return,Gt=t;break}Gt=s.return}}function PT(t,s,o){var l=o.flags;switch(o.tag){case 0:case 11:case 15:li(t,o),l&4&&mu(5,o);break;case 1:if(li(t,o),l&4)if(t=o.stateNode,s===null)try{t.componentDidMount()}catch(w){lt(o,o.return,w)}else{var d=po(o.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(d,s,t.__reactInternalSnapshotBeforeUpdate)}catch(w){lt(o,o.return,w)}}l&64&&TT(o),l&512&&gu(o,o.return);break;case 3:if(li(t,o),l&64&&(t=o.updateQueue,t!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{cS(t,s)}catch(w){lt(o,o.return,w)}}break;case 27:s===null&&l&4&&IT(o);case 26:case 5:li(t,o),s===null&&l&4&&CT(o),l&512&&gu(o,o.return);break;case 12:li(t,o);break;case 13:li(t,o),l&4&&DT(t,o),l&64&&(t=o.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(o=L6.bind(null,o),t3(t,o))));break;case 22:if(l=o.memoizedState!==null||ws,!l){s=s!==null&&s.memoizedState!==null||Pt,d=ws;var p=Pt;ws=l,(Pt=s)&&!p?ui(t,o,(o.subtreeFlags&8772)!==0):li(t,o),ws=d,Pt=p}break;case 30:break;default:li(t,o)}}function NT(t){var s=t.alternate;s!==null&&(t.alternate=null,NT(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&Gs(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var gt=null,An=!1;function Es(t,s,o){for(o=o.child;o!==null;)_T(t,s,o),o=o.sibling}function _T(t,s,o){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(dt,o)}catch{}switch(o.tag){case 26:Pt||zr(o,s),Es(t,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Pt||zr(o,s);var l=gt,d=An;mi(o.type)&&(gt=o.stateNode,An=!1),Es(t,s,o),Cu(o.stateNode),gt=l,An=d;break;case 5:Pt||zr(o,s);case 6:if(l=gt,d=An,gt=null,Es(t,s,o),gt=l,An=d,gt!==null)if(An)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(o.stateNode)}catch(p){lt(o,s,p)}else try{gt.removeChild(o.stateNode)}catch(p){lt(o,s,p)}break;case 18:gt!==null&&(An?(t=gt,bk(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,o.stateNode),Mu(t)):bk(gt,o.stateNode));break;case 4:l=gt,d=An,gt=o.stateNode.containerInfo,An=!0,Es(t,s,o),gt=l,An=d;break;case 0:case 11:case 14:case 15:Pt||ai(2,o,s),Pt||ai(4,o,s),Es(t,s,o);break;case 1:Pt||(zr(o,s),l=o.stateNode,typeof l.componentWillUnmount=="function"&&kT(o,s,l)),Es(t,s,o);break;case 21:Es(t,s,o);break;case 22:Pt=(l=Pt)||o.memoizedState!==null,Es(t,s,o),Pt=l;break;default:Es(t,s,o)}}function DT(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Mu(t)}catch(o){lt(s,s.return,o)}}function P6(t){switch(t.tag){case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new AT),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new AT),s;default:throw Error(i(435,t.tag))}}function lg(t,s){var o=P6(t);s.forEach(function(l){var d=V6.bind(null,t,l);o.has(l)||(o.add(l),l.then(d,d))})}function Vn(t,s){var o=s.deletions;if(o!==null)for(var l=0;l<o.length;l++){var d=o[l],p=t,w=s,S=w;e:for(;S!==null;){switch(S.tag){case 27:if(mi(S.type)){gt=S.stateNode,An=!1;break e}break;case 5:gt=S.stateNode,An=!1;break e;case 3:case 4:gt=S.stateNode.containerInfo,An=!0;break e}S=S.return}if(gt===null)throw Error(i(160));_T(p,w,d),gt=null,An=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)MT(s,t),s=s.sibling}var pr=null;function MT(t,s){var o=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Vn(s,t),jn(t),l&4&&(ai(3,t,t.return),mu(3,t),ai(5,t,t.return));break;case 1:Vn(s,t),jn(t),l&512&&(Pt||o===null||zr(o,o.return)),l&64&&ws&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(o=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=o===null?l:o.concat(l))));break;case 26:var d=pr;if(Vn(s,t),jn(t),l&512&&(Pt||o===null||zr(o,o.return)),l&4){var p=o!==null?o.memoizedState:null;if(l=t.memoizedState,o===null)if(l===null)if(t.stateNode===null){e:{l=t.type,o=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":p=d.getElementsByTagName("title")[0],(!p||p[Ui]||p[Bt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(l),d.head.insertBefore(p,d.querySelector("head > title"))),un(p,l,o),p[Bt]=t,It(p),l=p;break e;case"link":var w=Ik("link","href",d).get(l+(o.href||""));if(w){for(var S=0;S<w.length;S++)if(p=w[S],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(S,1);break t}}p=d.createElement(l),un(p,l,o),d.head.appendChild(p);break;case"meta":if(w=Ik("meta","content",d).get(l+(o.content||""))){for(S=0;S<w.length;S++)if(p=w[S],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(S,1);break t}}p=d.createElement(l),un(p,l,o),d.head.appendChild(p);break;default:throw Error(i(468,l))}p[Bt]=t,It(p),l=p}t.stateNode=l}else Ak(d,t.type,t.stateNode);else t.stateNode=xk(d,l,t.memoizedProps);else p!==l?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,l===null?Ak(d,t.type,t.stateNode):xk(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&sg(t,t.memoizedProps,o.memoizedProps)}break;case 27:Vn(s,t),jn(t),l&512&&(Pt||o===null||zr(o,o.return)),o!==null&&l&4&&sg(t,t.memoizedProps,o.memoizedProps);break;case 5:if(Vn(s,t),jn(t),l&512&&(Pt||o===null||zr(o,o.return)),t.flags&32){d=t.stateNode;try{Gn(d,"")}catch(W){lt(t,t.return,W)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,sg(t,d,o!==null?o.memoizedProps:d)),l&1024&&(ag=!0);break;case 6:if(Vn(s,t),jn(t),l&4){if(t.stateNode===null)throw Error(i(162));l=t.memoizedProps,o=t.stateNode;try{o.nodeValue=l}catch(W){lt(t,t.return,W)}}break;case 3:if(td=null,d=pr,pr=Jh(s.containerInfo),Vn(s,t),pr=d,jn(t),l&4&&o!==null&&o.memoizedState.isDehydrated)try{Mu(s.containerInfo)}catch(W){lt(t,t.return,W)}ag&&(ag=!1,FT(t));break;case 4:l=pr,pr=Jh(t.stateNode.containerInfo),Vn(s,t),jn(t),pr=l;break;case 12:Vn(s,t),jn(t);break;case 13:Vn(s,t),jn(t),t.child.flags&8192&&t.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(pg=pt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,lg(t,l)));break;case 22:d=t.memoizedState!==null;var _=o!==null&&o.memoizedState!==null,U=ws,Y=Pt;if(ws=U||d,Pt=Y||_,Vn(s,t),Pt=Y,ws=U,jn(t),l&8192)e:for(s=t.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(o===null||_||ws||Pt||mo(t)),o=null,s=t;;){if(s.tag===5||s.tag===26){if(o===null){_=o=s;try{if(p=_.stateNode,d)w=p.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{S=_.stateNode;var ee=_.memoizedProps.style,$=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;S.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(W){lt(_,_.return,W)}}}else if(s.tag===6){if(o===null){_=s;try{_.stateNode.nodeValue=d?"":_.memoizedProps}catch(W){lt(_,_.return,W)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=t.updateQueue,l!==null&&(o=l.retryQueue,o!==null&&(l.retryQueue=null,lg(t,o))));break;case 19:Vn(s,t),jn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,lg(t,l)));break;case 30:break;case 21:break;default:Vn(s,t),jn(t)}}function jn(t){var s=t.flags;if(s&2){try{for(var o,l=t.return;l!==null;){if(xT(l)){o=l;break}l=l.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var d=o.stateNode,p=ig(t);zh(t,p,d);break;case 5:var w=o.stateNode;o.flags&32&&(Gn(w,""),o.flags&=-33);var S=ig(t);zh(t,S,w);break;case 3:case 4:var _=o.stateNode.containerInfo,U=ig(t);og(t,U,_);break;default:throw Error(i(161))}}catch(Y){lt(t,t.return,Y)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function FT(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;FT(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function li(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)PT(t,s.alternate,s),s=s.sibling}function mo(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:ai(4,s,s.return),mo(s);break;case 1:zr(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&kT(s,s.return,o),mo(s);break;case 27:Cu(s.stateNode);case 26:case 5:zr(s,s.return),mo(s);break;case 22:s.memoizedState===null&&mo(s);break;case 30:mo(s);break;default:mo(s)}t=t.sibling}}function ui(t,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,d=t,p=s,w=p.flags;switch(p.tag){case 0:case 11:case 15:ui(d,p,o),mu(4,p);break;case 1:if(ui(d,p,o),l=p,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(U){lt(l,l.return,U)}if(l=p,d=l.updateQueue,d!==null){var S=l.stateNode;try{var _=d.shared.hiddenCallbacks;if(_!==null)for(d.shared.hiddenCallbacks=null,d=0;d<_.length;d++)uS(_[d],S)}catch(U){lt(l,l.return,U)}}o&&w&64&&TT(p),gu(p,p.return);break;case 27:IT(p);case 26:case 5:ui(d,p,o),o&&l===null&&w&4&&CT(p),gu(p,p.return);break;case 12:ui(d,p,o);break;case 13:ui(d,p,o),o&&w&4&&DT(d,p);break;case 22:p.memoizedState===null&&ui(d,p,o),gu(p,p.return);break;case 30:break;default:ui(d,p,o)}s=s.sibling}}function ug(t,s){var o=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==o&&(t!=null&&t.refCount++,o!=null&&tu(o))}function cg(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&tu(t))}function Br(t,s,o,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)RT(t,s,o,l),s=s.sibling}function RT(t,s,o,l){var d=s.flags;switch(s.tag){case 0:case 11:case 15:Br(t,s,o,l),d&2048&&mu(9,s);break;case 1:Br(t,s,o,l);break;case 3:Br(t,s,o,l),d&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&tu(t)));break;case 12:if(d&2048){Br(t,s,o,l),t=s.stateNode;try{var p=s.memoizedProps,w=p.id,S=p.onPostCommit;typeof S=="function"&&S(w,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(_){lt(s,s.return,_)}}else Br(t,s,o,l);break;case 13:Br(t,s,o,l);break;case 23:break;case 22:p=s.stateNode,w=s.alternate,s.memoizedState!==null?p._visibility&2?Br(t,s,o,l):yu(t,s):p._visibility&2?Br(t,s,o,l):(p._visibility|=2,Ta(t,s,o,l,(s.subtreeFlags&10256)!==0)),d&2048&&ug(w,s);break;case 24:Br(t,s,o,l),d&2048&&cg(s.alternate,s);break;default:Br(t,s,o,l)}}function Ta(t,s,o,l,d){for(d=d&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var p=t,w=s,S=o,_=l,U=w.flags;switch(w.tag){case 0:case 11:case 15:Ta(p,w,S,_,d),mu(8,w);break;case 23:break;case 22:var Y=w.stateNode;w.memoizedState!==null?Y._visibility&2?Ta(p,w,S,_,d):yu(p,w):(Y._visibility|=2,Ta(p,w,S,_,d)),d&&U&2048&&ug(w.alternate,w);break;case 24:Ta(p,w,S,_,d),d&&U&2048&&cg(w.alternate,w);break;default:Ta(p,w,S,_,d)}s=s.sibling}}function yu(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=t,l=s,d=l.flags;switch(l.tag){case 22:yu(o,l),d&2048&&ug(l.alternate,l);break;case 24:yu(o,l),d&2048&&cg(l.alternate,l);break;default:yu(o,l)}s=s.sibling}}var vu=8192;function ka(t){if(t.subtreeFlags&vu)for(t=t.child;t!==null;)OT(t),t=t.sibling}function OT(t){switch(t.tag){case 26:ka(t),t.flags&vu&&t.memoizedState!==null&&p3(pr,t.memoizedState,t.memoizedProps);break;case 5:ka(t);break;case 3:case 4:var s=pr;pr=Jh(t.stateNode.containerInfo),ka(t),pr=s;break;case 22:t.memoizedState===null&&(s=t.alternate,s!==null&&s.memoizedState!==null?(s=vu,vu=16777216,ka(t),vu=s):ka(t));break;default:ka(t)}}function LT(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function bu(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var l=s[o];Gt=l,jT(l,t)}LT(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)VT(t),t=t.sibling}function VT(t){switch(t.tag){case 0:case 11:case 15:bu(t),t.flags&2048&&ai(9,t,t.return);break;case 3:bu(t);break;case 12:bu(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Bh(t)):bu(t);break;default:bu(t)}}function Bh(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var l=s[o];Gt=l,jT(l,t)}LT(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:ai(8,s,s.return),Bh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Bh(s));break;default:Bh(s)}t=t.sibling}}function jT(t,s){for(;Gt!==null;){var o=Gt;switch(o.tag){case 0:case 11:case 15:ai(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var l=o.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:tu(o.memoizedState.cache)}if(l=o.child,l!==null)l.return=o,Gt=l;else e:for(o=t;Gt!==null;){l=Gt;var d=l.sibling,p=l.return;if(NT(l),l===o){Gt=null;break e}if(d!==null){d.return=p,Gt=d;break e}Gt=p}}}var N6={getCacheForType:function(t){var s=gn($t),o=s.data.get(t);return o===void 0&&(o=t(),s.data.set(t,o)),o}},_6=typeof WeakMap=="function"?WeakMap:Map,et=0,ut=null,je=null,Ke=0,tt=0,zn=null,ci=!1,Ca=!1,hg=!1,Ss=0,kt=0,hi=0,go=0,dg=0,ir=0,xa=0,wu=null,Pn=null,fg=!1,pg=0,Uh=1/0,qh=null,di=null,ln=0,fi=null,Ia=null,Aa=0,mg=0,gg=null,zT=null,Eu=0,yg=null;function Bn(){if((et&2)!==0&&Ke!==0)return Ke&-Ke;if(K.T!==null){var t=ma;return t!==0?t:kg()}return Xs()}function BT(){ir===0&&(ir=(Ke&536870912)===0||Ye?Nl():536870912);var t=sr.current;return t!==null&&(t.flags|=32),ir}function Un(t,s,o){(t===ut&&(tt===2||tt===9)||t.cancelPendingCommit!==null)&&(Pa(t,0),pi(t,Ke,ir,!1)),Jr(t,o),((et&2)===0||t!==ut)&&(t===ut&&((et&2)===0&&(go|=o),kt===4&&pi(t,Ke,ir,!1)),Ur(t))}function UT(t,s,o){if((et&6)!==0)throw Error(i(327));var l=!o&&(s&124)===0&&(s&t.expiredLanes)===0||Bi(t,s),d=l?F6(t,s):wg(t,s,!0),p=l;do{if(d===0){Ca&&!l&&pi(t,s,0,!1);break}else{if(o=t.current.alternate,p&&!D6(o)){d=wg(t,s,!1),p=!1;continue}if(d===2){if(p=s,t.errorRecoveryDisabledLanes&p)var w=0;else w=t.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){s=w;e:{var S=t;d=wu;var _=S.current.memoizedState.isDehydrated;if(_&&(Pa(S,w).flags|=256),w=wg(S,w,!1),w!==2){if(hg&&!_){S.errorRecoveryDisabledLanes|=p,go|=p,d=4;break e}p=Pn,Pn=d,p!==null&&(Pn===null?Pn=p:Pn.push.apply(Pn,p))}d=w}if(p=!1,d!==2)continue}}if(d===1){Pa(t,0),pi(t,s,0,!0);break}e:{switch(l=t,p=d,p){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:pi(l,s,ir,!ci);break e;case 2:Pn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(d=pg+300-pt(),10<d)){if(pi(l,s,ir,!ci),Wo(l,0,!0)!==0)break e;l.timeoutHandle=yk(qT.bind(null,l,o,Pn,qh,fg,s,ir,go,xa,ci,p,2,-0,0),d);break e}qT(l,o,Pn,qh,fg,s,ir,go,xa,ci,p,0,-0,0)}}break}while(!0);Ur(t)}function qT(t,s,o,l,d,p,w,S,_,U,Y,ee,$,W){if(t.timeoutHandle=-1,ee=s.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(Au={stylesheets:null,count:0,unsuspend:f3},OT(s),ee=m3(),ee!==null)){t.cancelPendingCommit=ee(GT.bind(null,t,s,p,o,l,d,w,S,_,Y,1,$,W)),pi(t,p,w,!U);return}GT(t,s,p,o,l,d,w,S,_)}function D6(t){for(var s=t;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var l=0;l<o.length;l++){var d=o[l],p=d.getSnapshot;d=d.value;try{if(!On(p(),d))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function pi(t,s,o,l){s&=~dg,s&=~go,t.suspendedLanes|=s,t.pingedLanes&=~s,l&&(t.warmLanes|=s),l=t.expirationTimes;for(var d=s;0<d;){var p=31-zt(d),w=1<<p;l[p]=-1,d&=~w}o!==0&&Ar(t,o,s)}function $h(){return(et&6)===0?(Su(0),!1):!0}function vg(){if(je!==null){if(tt===0)var t=je.return;else t=je,fs=uo=null,Rm(t),Ea=null,du=0,t=je;for(;t!==null;)ST(t.alternate,t),t=t.return;je=null}}function Pa(t,s){var o=t.timeoutHandle;o!==-1&&(t.timeoutHandle=-1,G6(o)),o=t.cancelPendingCommit,o!==null&&(t.cancelPendingCommit=null,o()),vg(),ut=t,je=o=cs(t.current,null),Ke=s,tt=0,zn=null,ci=!1,Ca=Bi(t,s),hg=!1,xa=ir=dg=go=hi=kt=0,Pn=wu=null,fg=!1,(s&8)!==0&&(s|=s&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=s;0<l;){var d=31-zt(l),p=1<<d;s|=t[d],l&=~p}return Ss=s,dh(),o}function $T(t,s){Re=null,K.H=_h,s===ru||s===Eh?(s=aS(),tt=3):s===sS?(s=aS(),tt=4):tt=s===lT?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,zn=s,je===null&&(kt=1,Oh(t,er(s,t.current)))}function KT(){var t=K.H;return K.H=_h,t===null?_h:t}function WT(){var t=K.A;return K.A=N6,t}function bg(){kt=4,ci||(Ke&4194048)!==Ke&&sr.current!==null||(Ca=!0),(hi&134217727)===0&&(go&134217727)===0||ut===null||pi(ut,Ke,ir,!1)}function wg(t,s,o){var l=et;et|=2;var d=KT(),p=WT();(ut!==t||Ke!==s)&&(qh=null,Pa(t,s)),s=!1;var w=kt;e:do try{if(tt!==0&&je!==null){var S=je,_=zn;switch(tt){case 8:vg(),w=6;break e;case 3:case 2:case 9:case 6:sr.current===null&&(s=!0);var U=tt;if(tt=0,zn=null,Na(t,S,_,U),o&&Ca){w=0;break e}break;default:U=tt,tt=0,zn=null,Na(t,S,_,U)}}M6(),w=kt;break}catch(Y){$T(t,Y)}while(!0);return s&&t.shellSuspendCounter++,fs=uo=null,et=l,K.H=d,K.A=p,je===null&&(ut=null,Ke=0,dh()),w}function M6(){for(;je!==null;)HT(je)}function F6(t,s){var o=et;et|=2;var l=KT(),d=WT();ut!==t||Ke!==s?(qh=null,Uh=pt()+500,Pa(t,s)):Ca=Bi(t,s);e:do try{if(tt!==0&&je!==null){s=je;var p=zn;t:switch(tt){case 1:tt=0,zn=null,Na(t,s,p,1);break;case 2:case 9:if(iS(p)){tt=0,zn=null,XT(s);break}s=function(){tt!==2&&tt!==9||ut!==t||(tt=7),Ur(t)},p.then(s,s);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:iS(p)?(tt=0,zn=null,XT(s)):(tt=0,zn=null,Na(t,s,p,7));break;case 5:var w=null;switch(je.tag){case 26:w=je.memoizedState;case 5:case 27:var S=je;if(!w||Pk(w)){tt=0,zn=null;var _=S.sibling;if(_!==null)je=_;else{var U=S.return;U!==null?(je=U,Kh(U)):je=null}break t}}tt=0,zn=null,Na(t,s,p,5);break;case 6:tt=0,zn=null,Na(t,s,p,6);break;case 8:vg(),kt=6;break e;default:throw Error(i(462))}}R6();break}catch(Y){$T(t,Y)}while(!0);return fs=uo=null,K.H=l,K.A=d,et=o,je!==null?0:(ut=null,Ke=0,dh(),kt)}function R6(){for(;je!==null&&!Ft();)HT(je)}function HT(t){var s=wT(t.alternate,t,Ss);t.memoizedProps=t.pendingProps,s===null?Kh(t):je=s}function XT(t){var s=t,o=s.alternate;switch(s.tag){case 15:case 0:s=pT(o,s,s.pendingProps,s.type,void 0,Ke);break;case 11:s=pT(o,s,s.pendingProps,s.type.render,s.ref,Ke);break;case 5:Rm(s);default:ST(o,s),s=je=QE(s,Ss),s=wT(o,s,Ss)}t.memoizedProps=t.pendingProps,s===null?Kh(t):je=s}function Na(t,s,o,l){fs=uo=null,Rm(s),Ea=null,du=0;var d=s.return;try{if(k6(t,d,s,o,Ke)){kt=1,Oh(t,er(o,t.current)),je=null;return}}catch(p){if(d!==null)throw je=d,p;kt=1,Oh(t,er(o,t.current)),je=null;return}s.flags&32768?(Ye||l===1?t=!0:Ca||(Ke&536870912)!==0?t=!1:(ci=t=!0,(l===2||l===9||l===3||l===6)&&(l=sr.current,l!==null&&l.tag===13&&(l.flags|=16384))),QT(s,t)):Kh(s)}function Kh(t){var s=t;do{if((s.flags&32768)!==0){QT(s,ci);return}t=s.return;var o=x6(s.alternate,s,Ss);if(o!==null){je=o;return}if(s=s.sibling,s!==null){je=s;return}je=s=t}while(s!==null);kt===0&&(kt=5)}function QT(t,s){do{var o=I6(t.alternate,t);if(o!==null){o.flags&=32767,je=o;return}if(o=t.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(t=t.sibling,t!==null)){je=t;return}je=t=o}while(t!==null);kt=6,je=null}function GT(t,s,o,l,d,p,w,S,_){t.cancelPendingCommit=null;do Wh();while(ln!==0);if((et&6)!==0)throw Error(i(327));if(s!==null){if(s===t.current)throw Error(i(177));if(p=s.lanes|s.childLanes,p|=cm,Dl(t,o,p,w,S,_),t===ut&&(je=ut=null,Ke=0),Ia=s,fi=t,Aa=o,mg=p,gg=d,zT=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,j6(Qr,function(){return tk(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,d=re.p,re.p=2,w=et,et|=4;try{A6(t,s,o)}finally{et=w,re.p=d,K.T=l}}ln=1,YT(),ZT(),JT()}}function YT(){if(ln===1){ln=0;var t=fi,s=Ia,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=K.T,K.T=null;var l=re.p;re.p=2;var d=et;et|=4;try{MT(s,t);var p=Dg,w=jE(t.containerInfo),S=p.focusedElem,_=p.selectionRange;if(w!==S&&S&&S.ownerDocument&&VE(S.ownerDocument.documentElement,S)){if(_!==null&&im(S)){var U=_.start,Y=_.end;if(Y===void 0&&(Y=U),"selectionStart"in S)S.selectionStart=U,S.selectionEnd=Math.min(Y,S.value.length);else{var ee=S.ownerDocument||document,$=ee&&ee.defaultView||window;if($.getSelection){var W=$.getSelection(),xe=S.textContent.length,Se=Math.min(_.start,xe),ot=_.end===void 0?Se:Math.min(_.end,xe);!W.extend&&Se>ot&&(w=ot,ot=Se,Se=w);var L=LE(S,Se),R=LE(S,ot);if(L&&R&&(W.rangeCount!==1||W.anchorNode!==L.node||W.anchorOffset!==L.offset||W.focusNode!==R.node||W.focusOffset!==R.offset)){var B=ee.createRange();B.setStart(L.node,L.offset),W.removeAllRanges(),Se>ot?(W.addRange(B),W.extend(R.node,R.offset)):(B.setEnd(R.node,R.offset),W.addRange(B))}}}}for(ee=[],W=S;W=W.parentNode;)W.nodeType===1&&ee.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ee.length;S++){var Z=ee[S];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}sd=!!_g,Dg=_g=null}finally{et=d,re.p=l,K.T=o}}t.current=s,ln=2}}function ZT(){if(ln===2){ln=0;var t=fi,s=Ia,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=K.T,K.T=null;var l=re.p;re.p=2;var d=et;et|=4;try{PT(t,s.alternate,s)}finally{et=d,re.p=l,K.T=o}}ln=3}}function JT(){if(ln===4||ln===3){ln=0,mn();var t=fi,s=Ia,o=Aa,l=zT;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?ln=5:(ln=0,Ia=fi=null,ek(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(di=null),Ho(o),s=s.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(dt,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=K.T,d=re.p,re.p=2,K.T=null;try{for(var p=t.onRecoverableError,w=0;w<l.length;w++){var S=l[w];p(S.value,{componentStack:S.stack})}}finally{K.T=s,re.p=d}}(Aa&3)!==0&&Wh(),Ur(t),d=t.pendingLanes,(o&4194090)!==0&&(d&42)!==0?t===yg?Eu++:(Eu=0,yg=t):Eu=0,Su(0)}}function ek(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,tu(s)))}function Wh(t){return YT(),ZT(),JT(),tk()}function tk(){if(ln!==5)return!1;var t=fi,s=mg;mg=0;var o=Ho(Aa),l=K.T,d=re.p;try{re.p=32>o?32:o,K.T=null,o=gg,gg=null;var p=fi,w=Aa;if(ln=0,Ia=fi=null,Aa=0,(et&6)!==0)throw Error(i(331));var S=et;if(et|=4,VT(p.current),RT(p,p.current,w,o),et=S,Su(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(dt,p)}catch{}return!0}finally{re.p=d,K.T=l,ek(t,s)}}function nk(t,s,o){s=er(o,s),s=Qm(t.stateNode,s,2),t=ri(t,s,2),t!==null&&(Jr(t,2),Ur(t))}function lt(t,s,o){if(t.tag===3)nk(t,t,o);else for(;s!==null;){if(s.tag===3){nk(s,t,o);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(di===null||!di.has(l))){t=er(o,t),o=oT(2),l=ri(s,o,2),l!==null&&(aT(o,l,s,t),Jr(l,2),Ur(l));break}}s=s.return}}function Eg(t,s,o){var l=t.pingCache;if(l===null){l=t.pingCache=new _6;var d=new Set;l.set(s,d)}else d=l.get(s),d===void 0&&(d=new Set,l.set(s,d));d.has(o)||(hg=!0,d.add(o),t=O6.bind(null,t,s,o),s.then(t,t))}function O6(t,s,o){var l=t.pingCache;l!==null&&l.delete(s),t.pingedLanes|=t.suspendedLanes&o,t.warmLanes&=~o,ut===t&&(Ke&o)===o&&(kt===4||kt===3&&(Ke&62914560)===Ke&&300>pt()-pg?(et&2)===0&&Pa(t,0):dg|=o,xa===Ke&&(xa=0)),Ur(t)}function rk(t,s){s===0&&(s=_l()),t=ha(t,s),t!==null&&(Jr(t,s),Ur(t))}function L6(t){var s=t.memoizedState,o=0;s!==null&&(o=s.retryLane),rk(t,o)}function V6(t,s){var o=0;switch(t.tag){case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(o=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(s),rk(t,o)}function j6(t,s){return bt(t,s)}var Hh=null,_a=null,Sg=!1,Xh=!1,Tg=!1,yo=0;function Ur(t){t!==_a&&t.next===null&&(_a===null?Hh=_a=t:_a=_a.next=t),Xh=!0,Sg||(Sg=!0,B6())}function Su(t,s){if(!Tg&&Xh){Tg=!0;do for(var o=!1,l=Hh;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var p=0;else{var w=l.suspendedLanes,S=l.pingedLanes;p=(1<<31-zt(42|t)+1)-1,p&=d&~(w&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,ak(l,p))}else p=Ke,p=Wo(l,l===ut?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||Bi(l,p)||(o=!0,ak(l,p));l=l.next}while(o);Tg=!1}}function z6(){sk()}function sk(){Xh=Sg=!1;var t=0;yo!==0&&(Q6()&&(t=yo),yo=0);for(var s=pt(),o=null,l=Hh;l!==null;){var d=l.next,p=ik(l,s);p===0?(l.next=null,o===null?Hh=d:o.next=d,d===null&&(_a=o)):(o=l,(t!==0||(p&3)!==0)&&(Xh=!0)),l=d}Su(t)}function ik(t,s){for(var o=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,p=t.pendingLanes&-62914561;0<p;){var w=31-zt(p),S=1<<w,_=d[w];_===-1?((S&o)===0||(S&l)!==0)&&(d[w]=Pl(S,s)):_<=s&&(t.expiredLanes|=S),p&=~S}if(s=ut,o=Ke,o=Wo(t,t===s?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,o===0||t===s&&(tt===2||tt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&De(l),t.callbackNode=null,t.callbackPriority=0;if((o&3)===0||Bi(t,o)){if(s=o&-o,s===t.callbackPriority)return s;switch(l!==null&&De(l),Ho(o)){case 2:case 8:o=nn;break;case 32:o=Qr;break;case 268435456:o=Ks;break;default:o=Qr}return l=ok.bind(null,t),o=bt(o,l),t.callbackPriority=s,t.callbackNode=o,s}return l!==null&&l!==null&&De(l),t.callbackPriority=2,t.callbackNode=null,2}function ok(t,s){if(ln!==0&&ln!==5)return t.callbackNode=null,t.callbackPriority=0,null;var o=t.callbackNode;if(Wh()&&t.callbackNode!==o)return null;var l=Ke;return l=Wo(t,t===ut?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(UT(t,l,s),ik(t,pt()),t.callbackNode!=null&&t.callbackNode===o?ok.bind(null,t):null)}function ak(t,s){if(Wh())return null;UT(t,s,!0)}function B6(){Y6(function(){(et&6)!==0?bt(Fn,z6):sk()})}function kg(){return yo===0&&(yo=Nl()),yo}function lk(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Jo(""+t)}function uk(t,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,t.id&&o.setAttribute("form",t.id),s.parentNode.insertBefore(o,s),t=new FormData(t),o.parentNode.removeChild(o),t}function U6(t,s,o,l,d){if(s==="submit"&&o&&o.stateNode===d){var p=lk((d[Rt]||null).action),w=l.submitter;w&&(s=(s=w[Rt]||null)?lk(s.formAction):w.getAttribute("formAction"),s!==null&&(p=s,w=null));var S=new ea("action","action",null,l,d);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(yo!==0){var _=w?uk(d,w):new FormData(d);$m(o,{pending:!0,data:_,method:d.method,action:p},null,_)}}else typeof p=="function"&&(S.preventDefault(),_=w?uk(d,w):new FormData(d),$m(o,{pending:!0,data:_,method:d.method,action:p},p,_))},currentTarget:d}]})}}for(var Cg=0;Cg<um.length;Cg++){var xg=um[Cg],q6=xg.toLowerCase(),$6=xg[0].toUpperCase()+xg.slice(1);fr(q6,"on"+$6)}fr(UE,"onAnimationEnd"),fr(qE,"onAnimationIteration"),fr($E,"onAnimationStart"),fr("dblclick","onDoubleClick"),fr("focusin","onFocus"),fr("focusout","onBlur"),fr(a6,"onTransitionRun"),fr(l6,"onTransitionStart"),fr(u6,"onTransitionCancel"),fr(KE,"onTransitionEnd"),ts("onMouseEnter",["mouseout","mouseover"]),ts("onMouseLeave",["mouseout","mouseover"]),ts("onPointerEnter",["pointerout","pointerover"]),ts("onPointerLeave",["pointerout","pointerover"]),hr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hr("onBeforeInput",["compositionend","keypress","textInput","paste"]),hr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),K6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tu));function ck(t,s){s=(s&4)!==0;for(var o=0;o<t.length;o++){var l=t[o],d=l.event;l=l.listeners;e:{var p=void 0;if(s)for(var w=l.length-1;0<=w;w--){var S=l[w],_=S.instance,U=S.currentTarget;if(S=S.listener,_!==p&&d.isPropagationStopped())break e;p=S,d.currentTarget=U;try{p(d)}catch(Y){Rh(Y)}d.currentTarget=null,p=_}else for(w=0;w<l.length;w++){if(S=l[w],_=S.instance,U=S.currentTarget,S=S.listener,_!==p&&d.isPropagationStopped())break e;p=S,d.currentTarget=U;try{p(d)}catch(Y){Rh(Y)}d.currentTarget=null,p=_}}}}function ze(t,s){var o=s[Fl];o===void 0&&(o=s[Fl]=new Set);var l=t+"__bubble";o.has(l)||(hk(s,t,2,!1),o.add(l))}function Ig(t,s,o){var l=0;s&&(l|=4),hk(o,t,l,s)}var Qh="_reactListening"+Math.random().toString(36).slice(2);function Ag(t){if(!t[Qh]){t[Qh]=!0,Rl.forEach(function(o){o!=="selectionchange"&&(K6.has(o)||Ig(o,!1,t),Ig(o,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Qh]||(s[Qh]=!0,Ig("selectionchange",!1,s))}}function hk(t,s,o,l){switch(Rk(s)){case 2:var d=v3;break;case 8:d=b3;break;default:d=Ug}o=d.bind(null,s,o,t),d=void 0,!Zn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(s,o,{capture:!0,passive:d}):t.addEventListener(s,o,!0):d!==void 0?t.addEventListener(s,o,{passive:d}):t.addEventListener(s,o,!1)}function Pg(t,s,o,l,d){var p=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var w=l.tag;if(w===3||w===4){var S=l.stateNode.containerInfo;if(S===d)break;if(w===4)for(w=l.return;w!==null;){var _=w.tag;if((_===3||_===4)&&w.stateNode.containerInfo===d)return;w=w.return}for(;S!==null;){if(w=es(S),w===null)return;if(_=w.tag,_===5||_===6||_===26||_===27){l=p=w;continue e}S=S.parentNode}}l=l.return}Yc(function(){var U=p,Y=Yn(o),ee=[];e:{var $=WE.get(t);if($!==void 0){var W=ea,xe=t;switch(t){case"keypress":if(Fr(o)===0)break e;case"keydown":case"keyup":W=oa;break;case"focusin":xe="focus",W=ra;break;case"focusout":xe="blur",W=ra;break;case"beforeblur":case"afterblur":W=ra;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Jn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=tm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=ih;break;case UE:case qE:case $E:W=sa;break;case KE:W=ah;break;case"scroll":case"scrollend":W=Zc;break;case"wheel":W=aa;break;case"copy":case"cut":case"paste":W=ia;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Hl;break;case"toggle":case"beforetoggle":W=uh}var Se=(s&4)!==0,ot=!Se&&(t==="scroll"||t==="scrollend"),L=Se?$!==null?$+"Capture":null:$;Se=[];for(var R=U,B;R!==null;){var Z=R;if(B=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||B===null||L===null||(Z=Qi(R,L),Z!=null&&Se.push(ku(R,Z,B))),ot)break;R=R.return}0<Se.length&&($=new W($,xe,null,o,Y),ee.push({event:$,listeners:Se}))}}if((s&7)===0){e:{if($=t==="mouseover"||t==="pointerover",W=t==="mouseout"||t==="pointerout",$&&o!==ss&&(xe=o.relatedTarget||o.fromElement)&&(es(xe)||xe[Qn]))break e;if((W||$)&&($=Y.window===Y?Y:($=Y.ownerDocument)?$.defaultView||$.parentWindow:window,W?(xe=o.relatedTarget||o.toElement,W=U,xe=xe?es(xe):null,xe!==null&&(ot=u(xe),Se=xe.tag,xe!==ot||Se!==5&&Se!==27&&Se!==6)&&(xe=null)):(W=null,xe=U),W!==xe)){if(Se=Jn,Z="onMouseLeave",L="onMouseEnter",R="mouse",(t==="pointerout"||t==="pointerover")&&(Se=Hl,Z="onPointerLeave",L="onPointerEnter",R="pointer"),ot=W==null?$:Nr(W),B=xe==null?$:Nr(xe),$=new Se(Z,R+"leave",W,o,Y),$.target=ot,$.relatedTarget=B,Z=null,es(Y)===U&&(Se=new Se(L,R+"enter",xe,o,Y),Se.target=B,Se.relatedTarget=ot,Z=Se),ot=Z,W&&xe)t:{for(Se=W,L=xe,R=0,B=Se;B;B=Da(B))R++;for(B=0,Z=L;Z;Z=Da(Z))B++;for(;0<R-B;)Se=Da(Se),R--;for(;0<B-R;)L=Da(L),B--;for(;R--;){if(Se===L||L!==null&&Se===L.alternate)break t;Se=Da(Se),L=Da(L)}Se=null}else Se=null;W!==null&&dk(ee,$,W,Se,!1),xe!==null&&ot!==null&&dk(ee,ot,xe,Se,!0)}}e:{if($=U?Nr(U):window,W=$.nodeName&&$.nodeName.toLowerCase(),W==="select"||W==="input"&&$.type==="file")var fe=_E;else if(sn($))if(DE)fe=s6;else{fe=n6;var Oe=t6}else W=$.nodeName,!W||W.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?U&&zl(U.elementType)&&(fe=_E):fe=r6;if(fe&&(fe=fe(t,U))){us(ee,fe,o,Y);break e}Oe&&Oe(t,$,U),t==="focusout"&&U&&$.type==="number"&&U.memoizedProps.value!=null&&Zs($,"number",$.value)}switch(Oe=U?Nr(U):window,t){case"focusin":(sn(Oe)||Oe.contentEditable==="true")&&(la=Oe,om=U,Gl=null);break;case"focusout":Gl=om=la=null;break;case"mousedown":am=!0;break;case"contextmenu":case"mouseup":case"dragend":am=!1,zE(ee,o,Y);break;case"selectionchange":if(o6)break;case"keydown":case"keyup":zE(ee,o,Y)}var we;if(Lr)e:{switch(t){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else He?H(t,o)&&(Te="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(Te="onCompositionStart");Te&&(b&&o.locale!=="ko"&&(He||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&He&&(we=Ul()):(Mr=Y,Js="value"in Mr?Mr.value:Mr.textContent,He=!0)),Oe=Gh(U,Te),0<Oe.length&&(Te=new Kl(Te,t,null,o,Y),ee.push({event:Te,listeners:Oe}),we?Te.data=we:(we=ue(o),we!==null&&(Te.data=we)))),(we=y?qt(t,o):Ge(t,o))&&(Te=Gh(U,"onBeforeInput"),0<Te.length&&(Oe=new Kl("onBeforeInput","beforeinput",null,o,Y),ee.push({event:Oe,listeners:Te}),Oe.data=we)),U6(ee,t,U,o,Y)}ck(ee,s)})}function ku(t,s,o){return{instance:t,listener:s,currentTarget:o}}function Gh(t,s){for(var o=s+"Capture",l=[];t!==null;){var d=t,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=Qi(t,o),d!=null&&l.unshift(ku(t,d,p)),d=Qi(t,s),d!=null&&l.push(ku(t,d,p))),t.tag===3)return l;t=t.return}return[]}function Da(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function dk(t,s,o,l,d){for(var p=s._reactName,w=[];o!==null&&o!==l;){var S=o,_=S.alternate,U=S.stateNode;if(S=S.tag,_!==null&&_===l)break;S!==5&&S!==26&&S!==27||U===null||(_=U,d?(U=Qi(o,p),U!=null&&w.unshift(ku(o,U,_))):d||(U=Qi(o,p),U!=null&&w.push(ku(o,U,_)))),o=o.return}w.length!==0&&t.push({event:s,listeners:w})}var W6=/\r\n?/g,H6=/\u0000|\uFFFD/g;function fk(t){return(typeof t=="string"?t:""+t).replace(W6,`
`).replace(H6,"")}function pk(t,s){return s=fk(s),fk(t)===s}function Yh(){}function it(t,s,o,l,d,p){switch(o){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||Gn(t,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&Gn(t,""+l);break;case"className":_r(t,"class",l);break;case"tabIndex":_r(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":_r(t,o,l);break;case"style":jl(t,l,p);break;case"data":if(s!=="object"){_r(t,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||o!=="href")){t.removeAttribute(o);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(o);break}l=Jo(""+l),t.setAttribute(o,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(s!=="input"&&it(t,s,"name",d.name,d,null),it(t,s,"formEncType",d.formEncType,d,null),it(t,s,"formMethod",d.formMethod,d,null),it(t,s,"formTarget",d.formTarget,d,null)):(it(t,s,"encType",d.encType,d,null),it(t,s,"method",d.method,d,null),it(t,s,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(o);break}l=Jo(""+l),t.setAttribute(o,l);break;case"onClick":l!=null&&(t.onclick=Yh);break;case"onScroll":l!=null&&ze("scroll",t);break;case"onScrollEnd":l!=null&&ze("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(o=l.__html,o!=null){if(d.children!=null)throw Error(i(60));t.innerHTML=o}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}o=Jo(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(o,""+l):t.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(o,""):t.removeAttribute(o);break;case"capture":case"download":l===!0?t.setAttribute(o,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(o,l):t.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(o,l):t.removeAttribute(o);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(o):t.setAttribute(o,l);break;case"popover":ze("beforetoggle",t),ze("toggle",t),Ys(t,"popover",l);break;case"xlinkActuate":rn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":rn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":rn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":rn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":rn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":rn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":rn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":rn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":rn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ys(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Jp.get(o)||o,Ys(t,o,l))}}function Ng(t,s,o,l,d,p){switch(o){case"style":jl(t,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(o=l.__html,o!=null){if(d.children!=null)throw Error(i(60));t.innerHTML=o}}break;case"children":typeof l=="string"?Gn(t,l):(typeof l=="number"||typeof l=="bigint")&&Gn(t,""+l);break;case"onScroll":l!=null&&ze("scroll",t);break;case"onScrollEnd":l!=null&&ze("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Yh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xo.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),s=o.slice(2,d?o.length-7:void 0),p=t[Rt]||null,p=p!=null?p[o]:null,typeof p=="function"&&t.removeEventListener(s,p,d),typeof l=="function")){typeof p!="function"&&p!==null&&(o in t?t[o]=null:t.hasAttribute(o)&&t.removeAttribute(o)),t.addEventListener(s,l,d);break e}o in t?t[o]=l:l===!0?t.setAttribute(o,""):Ys(t,o,l)}}}function un(t,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",t),ze("load",t);var l=!1,d=!1,p;for(p in o)if(o.hasOwnProperty(p)){var w=o[p];if(w!=null)switch(p){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:it(t,s,p,w,o,null)}}d&&it(t,s,"srcSet",o.srcSet,o,null),l&&it(t,s,"src",o.src,o,null);return;case"input":ze("invalid",t);var S=p=w=d=null,_=null,U=null;for(l in o)if(o.hasOwnProperty(l)){var Y=o[l];if(Y!=null)switch(l){case"name":d=Y;break;case"type":w=Y;break;case"checked":_=Y;break;case"defaultChecked":U=Y;break;case"value":p=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,s));break;default:it(t,s,l,Y,o,null)}}Wi(t,p,S,_,U,w,d,!1),Zo(t);return;case"select":ze("invalid",t),l=w=p=null;for(d in o)if(o.hasOwnProperty(d)&&(S=o[d],S!=null))switch(d){case"value":p=S;break;case"defaultValue":w=S;break;case"multiple":l=S;default:it(t,s,d,S,o,null)}s=p,o=w,t.multiple=!!l,s!=null?rs(t,!!l,s,!1):o!=null&&rs(t,!!l,o,!0);return;case"textarea":ze("invalid",t),p=d=l=null;for(w in o)if(o.hasOwnProperty(w)&&(S=o[w],S!=null))switch(w){case"value":l=S;break;case"defaultValue":d=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:it(t,s,w,S,o,null)}Hi(t,l,d,p),Zo(t);return;case"option":for(_ in o)if(o.hasOwnProperty(_)&&(l=o[_],l!=null))switch(_){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:it(t,s,_,l,o,null)}return;case"dialog":ze("beforetoggle",t),ze("toggle",t),ze("cancel",t),ze("close",t);break;case"iframe":case"object":ze("load",t);break;case"video":case"audio":for(l=0;l<Tu.length;l++)ze(Tu[l],t);break;case"image":ze("error",t),ze("load",t);break;case"details":ze("toggle",t);break;case"embed":case"source":case"link":ze("error",t),ze("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in o)if(o.hasOwnProperty(U)&&(l=o[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:it(t,s,U,l,o,null)}return;default:if(zl(s)){for(Y in o)o.hasOwnProperty(Y)&&(l=o[Y],l!==void 0&&Ng(t,s,Y,l,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(l=o[S],l!=null&&it(t,s,S,l,o,null))}function X6(t,s,o,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,w=null,S=null,_=null,U=null,Y=null;for(W in o){var ee=o[W];if(o.hasOwnProperty(W)&&ee!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":_=ee;default:l.hasOwnProperty(W)||it(t,s,W,null,l,ee)}}for(var $ in l){var W=l[$];if(ee=o[$],l.hasOwnProperty($)&&(W!=null||ee!=null))switch($){case"type":p=W;break;case"name":d=W;break;case"checked":U=W;break;case"defaultChecked":Y=W;break;case"value":w=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,s));break;default:W!==ee&&it(t,s,$,W,l,ee)}}Rn(t,w,S,_,U,Y,p,d);return;case"select":W=w=S=$=null;for(p in o)if(_=o[p],o.hasOwnProperty(p)&&_!=null)switch(p){case"value":break;case"multiple":W=_;default:l.hasOwnProperty(p)||it(t,s,p,null,l,_)}for(d in l)if(p=l[d],_=o[d],l.hasOwnProperty(d)&&(p!=null||_!=null))switch(d){case"value":$=p;break;case"defaultValue":S=p;break;case"multiple":w=p;default:p!==_&&it(t,s,d,p,l,_)}s=S,o=w,l=W,$!=null?rs(t,!!o,$,!1):!!l!=!!o&&(s!=null?rs(t,!!o,s,!0):rs(t,!!o,o?[]:"",!1));return;case"textarea":W=$=null;for(S in o)if(d=o[S],o.hasOwnProperty(S)&&d!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:it(t,s,S,null,l,d)}for(w in l)if(d=l[w],p=o[w],l.hasOwnProperty(w)&&(d!=null||p!=null))switch(w){case"value":$=d;break;case"defaultValue":W=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==p&&it(t,s,w,d,l,p)}rt(t,$,W);return;case"option":for(var xe in o)if($=o[xe],o.hasOwnProperty(xe)&&$!=null&&!l.hasOwnProperty(xe))switch(xe){case"selected":t.selected=!1;break;default:it(t,s,xe,null,l,$)}for(_ in l)if($=l[_],W=o[_],l.hasOwnProperty(_)&&$!==W&&($!=null||W!=null))switch(_){case"selected":t.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:it(t,s,_,$,l,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in o)$=o[Se],o.hasOwnProperty(Se)&&$!=null&&!l.hasOwnProperty(Se)&&it(t,s,Se,null,l,$);for(U in l)if($=l[U],W=o[U],l.hasOwnProperty(U)&&$!==W&&($!=null||W!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,s));break;default:it(t,s,U,$,l,W)}return;default:if(zl(s)){for(var ot in o)$=o[ot],o.hasOwnProperty(ot)&&$!==void 0&&!l.hasOwnProperty(ot)&&Ng(t,s,ot,void 0,l,$);for(Y in l)$=l[Y],W=o[Y],!l.hasOwnProperty(Y)||$===W||$===void 0&&W===void 0||Ng(t,s,Y,$,l,W);return}}for(var L in o)$=o[L],o.hasOwnProperty(L)&&$!=null&&!l.hasOwnProperty(L)&&it(t,s,L,null,l,$);for(ee in l)$=l[ee],W=o[ee],!l.hasOwnProperty(ee)||$===W||$==null&&W==null||it(t,s,ee,$,l,W)}var _g=null,Dg=null;function Zh(t){return t.nodeType===9?t:t.ownerDocument}function mk(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gk(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function Mg(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Fg=null;function Q6(){var t=window.event;return t&&t.type==="popstate"?t===Fg?!1:(Fg=t,!0):(Fg=null,!1)}var yk=typeof setTimeout=="function"?setTimeout:void 0,G6=typeof clearTimeout=="function"?clearTimeout:void 0,vk=typeof Promise=="function"?Promise:void 0,Y6=typeof queueMicrotask=="function"?queueMicrotask:typeof vk<"u"?function(t){return vk.resolve(null).then(t).catch(Z6)}:yk;function Z6(t){setTimeout(function(){throw t})}function mi(t){return t==="head"}function bk(t,s){var o=s,l=0,d=0;do{var p=o.nextSibling;if(t.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"){if(0<l&&8>l){o=l;var w=t.ownerDocument;if(o&1&&Cu(w.documentElement),o&2&&Cu(w.body),o&4)for(o=w.head,Cu(o),w=o.firstChild;w;){var S=w.nextSibling,_=w.nodeName;w[Ui]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&w.rel.toLowerCase()==="stylesheet"||o.removeChild(w),w=S}}if(d===0){t.removeChild(p),Mu(s);return}d--}else o==="$"||o==="$?"||o==="$!"?d++:l=o.charCodeAt(0)-48;else l=0;o=p}while(o);Mu(s)}function Rg(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Rg(o),Gs(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}t.removeChild(o)}}function J6(t,s,o,l){for(;t.nodeType===1;){var d=o;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ui])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(p=t.getAttribute("rel"),p==="stylesheet"&&t.hasAttribute("data-precedence")||p!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(p=t.getAttribute("src"),(p!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===p)return t}else return t;if(t=mr(t.nextSibling),t===null)break}return null}function e3(t,s,o){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!o||(t=mr(t.nextSibling),t===null))return null;return t}function Og(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function t3(t,s){var o=t.ownerDocument;if(t.data!=="$?"||o.readyState==="complete")s();else{var l=function(){s(),o.removeEventListener("DOMContentLoaded",l)};o.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function mr(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return t}var Lg=null;function wk(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return t;s--}else o==="/$"&&s++}t=t.previousSibling}return null}function Ek(t,s,o){switch(s=Zh(o),t){case"html":if(t=s.documentElement,!t)throw Error(i(452));return t;case"head":if(t=s.head,!t)throw Error(i(453));return t;case"body":if(t=s.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function Cu(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Gs(t)}var or=new Map,Sk=new Set;function Jh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ts=re.d;re.d={f:n3,r:r3,D:s3,C:i3,L:o3,m:a3,X:u3,S:l3,M:c3};function n3(){var t=Ts.f(),s=$h();return t||s}function r3(t){var s=Pr(t);s!==null&&s.tag===5&&s.type==="form"?US(s):Ts.r(t)}var Ma=typeof document>"u"?null:document;function Tk(t,s,o){var l=Ma;if(l&&typeof s=="string"&&s){var d=Ut(s);d='link[rel="'+t+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),Sk.has(d)||(Sk.add(d),t={rel:t,crossOrigin:o,href:s},l.querySelector(d)===null&&(s=l.createElement("link"),un(s,"link",t),It(s),l.head.appendChild(s)))}}function s3(t){Ts.D(t),Tk("dns-prefetch",t,null)}function i3(t,s){Ts.C(t,s),Tk("preconnect",t,s)}function o3(t,s,o){Ts.L(t,s,o);var l=Ma;if(l&&t&&s){var d='link[rel="preload"][as="'+Ut(s)+'"]';s==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Ut(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Ut(o.imageSizes)+'"]')):d+='[href="'+Ut(t)+'"]';var p=d;switch(s){case"style":p=Fa(t);break;case"script":p=Ra(t)}or.has(p)||(t=v({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:t,as:s},o),or.set(p,t),l.querySelector(d)!==null||s==="style"&&l.querySelector(xu(p))||s==="script"&&l.querySelector(Iu(p))||(s=l.createElement("link"),un(s,"link",t),It(s),l.head.appendChild(s)))}}function a3(t,s){Ts.m(t,s);var o=Ma;if(o&&t){var l=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+Ut(l)+'"][href="'+Ut(t)+'"]',p=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Ra(t)}if(!or.has(p)&&(t=v({rel:"modulepreload",href:t},s),or.set(p,t),o.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Iu(p)))return}l=o.createElement("link"),un(l,"link",t),It(l),o.head.appendChild(l)}}}function l3(t,s,o){Ts.S(t,s,o);var l=Ma;if(l&&t){var d=bn(l).hoistableStyles,p=Fa(t);s=s||"default";var w=d.get(p);if(!w){var S={loading:0,preload:null};if(w=l.querySelector(xu(p)))S.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":s},o),(o=or.get(p))&&Vg(t,o);var _=w=l.createElement("link");It(_),un(_,"link",t),_._p=new Promise(function(U,Y){_.onload=U,_.onerror=Y}),_.addEventListener("load",function(){S.loading|=1}),_.addEventListener("error",function(){S.loading|=2}),S.loading|=4,ed(w,s,l)}w={type:"stylesheet",instance:w,count:1,state:S},d.set(p,w)}}}function u3(t,s){Ts.X(t,s);var o=Ma;if(o&&t){var l=bn(o).hoistableScripts,d=Ra(t),p=l.get(d);p||(p=o.querySelector(Iu(d)),p||(t=v({src:t,async:!0},s),(s=or.get(d))&&jg(t,s),p=o.createElement("script"),It(p),un(p,"link",t),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(d,p))}}function c3(t,s){Ts.M(t,s);var o=Ma;if(o&&t){var l=bn(o).hoistableScripts,d=Ra(t),p=l.get(d);p||(p=o.querySelector(Iu(d)),p||(t=v({src:t,async:!0,type:"module"},s),(s=or.get(d))&&jg(t,s),p=o.createElement("script"),It(p),un(p,"link",t),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(d,p))}}function kk(t,s,o,l){var d=(d=ae.current)?Jh(d):null;if(!d)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Fa(o.href),o=bn(d).hoistableStyles,l=o.get(s),l||(l={type:"style",instance:null,count:0,state:null},o.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){t=Fa(o.href);var p=bn(d).hoistableStyles,w=p.get(t);if(w||(d=d.ownerDocument||d,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(t,w),(p=d.querySelector(xu(t)))&&!p._p&&(w.instance=p,w.state.loading=5),or.has(t)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},or.set(t,o),p||h3(d,t,o,w.state))),s&&l===null)throw Error(i(528,""));return w}if(s&&l!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ra(o),o=bn(d).hoistableScripts,l=o.get(s),l||(l={type:"script",instance:null,count:0,state:null},o.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function Fa(t){return'href="'+Ut(t)+'"'}function xu(t){return'link[rel="stylesheet"]['+t+"]"}function Ck(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function h3(t,s,o,l){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=t.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),un(s,"link",o),It(s),t.head.appendChild(s))}function Ra(t){return'[src="'+Ut(t)+'"]'}function Iu(t){return"script[async]"+t}function xk(t,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var l=t.querySelector('style[data-href~="'+Ut(o.href)+'"]');if(l)return s.instance=l,It(l),l;var d=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),It(l),un(l,"style",d),ed(l,o.precedence,t),s.instance=l;case"stylesheet":d=Fa(o.href);var p=t.querySelector(xu(d));if(p)return s.state.loading|=4,s.instance=p,It(p),p;l=Ck(o),(d=or.get(d))&&Vg(l,d),p=(t.ownerDocument||t).createElement("link"),It(p);var w=p;return w._p=new Promise(function(S,_){w.onload=S,w.onerror=_}),un(p,"link",l),s.state.loading|=4,ed(p,o.precedence,t),s.instance=p;case"script":return p=Ra(o.src),(d=t.querySelector(Iu(p)))?(s.instance=d,It(d),d):(l=o,(d=or.get(p))&&(l=v({},o),jg(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),It(d),un(d,"link",l),t.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,ed(l,o.precedence,t));return s.instance}function ed(t,s,o){for(var l=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,p=d,w=0;w<l.length;w++){var S=l[w];if(S.dataset.precedence===s)p=S;else if(p!==d)break}p?p.parentNode.insertBefore(t,p.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(t,s.firstChild))}function Vg(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function jg(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var td=null;function Ik(t,s,o){if(td===null){var l=new Map,d=td=new Map;d.set(o,l)}else d=td,l=d.get(o),l||(l=new Map,d.set(o,l));if(l.has(t))return l;for(l.set(t,null),o=o.getElementsByTagName(t),d=0;d<o.length;d++){var p=o[d];if(!(p[Ui]||p[Bt]||t==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var w=p.getAttribute(s)||"";w=t+w;var S=l.get(w);S?S.push(p):l.set(w,[p])}}return l}function Ak(t,s,o){t=t.ownerDocument||t,t.head.insertBefore(o,s==="title"?t.querySelector("head > title"):null)}function d3(t,s,o){if(o===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Pk(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Au=null;function f3(){}function p3(t,s,o){if(Au===null)throw Error(i(475));var l=Au;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=Fa(o.href),p=t.querySelector(xu(d));if(p){t=p._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=nd.bind(l),t.then(l,l)),s.state.loading|=4,s.instance=p,It(p);return}p=t.ownerDocument||t,o=Ck(o),(d=or.get(d))&&Vg(o,d),p=p.createElement("link"),It(p);var w=p;w._p=new Promise(function(S,_){w.onload=S,w.onerror=_}),un(p,"link",o),s.instance=p}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(s,t),(t=s.state.preload)&&(s.state.loading&3)===0&&(l.count++,s=nd.bind(l),t.addEventListener("load",s),t.addEventListener("error",s))}}function m3(){if(Au===null)throw Error(i(475));var t=Au;return t.stylesheets&&t.count===0&&zg(t,t.stylesheets),0<t.count?function(s){var o=setTimeout(function(){if(t.stylesheets&&zg(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(o)}}:null}function nd(){if(this.count--,this.count===0){if(this.stylesheets)zg(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var rd=null;function zg(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,rd=new Map,s.forEach(g3,t),rd=null,nd.call(t))}function g3(t,s){if(!(s.state.loading&4)){var o=rd.get(t);if(o)var l=o.get(null);else{o=new Map,rd.set(t,o);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var w=d[p];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),l=w)}l&&o.set(null,l)}d=s.instance,w=d.getAttribute("data-precedence"),p=o.get(w)||l,p===l&&o.set(null,d),o.set(w,d),this.count++,l=nd.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),p?p.parentNode.insertBefore(d,p.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),s.state.loading|=4}}var Pu={$$typeof:ie,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function y3(t,s,o,l,d,p,w,S){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zr(0),this.hiddenUpdates=Zr(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Nk(t,s,o,l,d,p,w,S,_,U,Y,ee){return t=new y3(t,s,o,w,S,_,U,ee),s=1,p===!0&&(s|=24),p=Ln(3,null,null,s),t.current=p,p.stateNode=t,s=Em(),s.refCount++,t.pooledCache=s,s.refCount++,p.memoizedState={element:l,isDehydrated:o,cache:s},Cm(p),t}function _k(t){return t?(t=da,t):da}function Dk(t,s,o,l,d,p){d=_k(d),l.context===null?l.context=d:l.pendingContext=d,l=ni(s),l.payload={element:o},p=p===void 0?null:p,p!==null&&(l.callback=p),o=ri(t,l,s),o!==null&&(Un(o,t,s),iu(o,t,s))}function Mk(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<s?o:s}}function Bg(t,s){Mk(t,s),(t=t.alternate)&&Mk(t,s)}function Fk(t){if(t.tag===13){var s=ha(t,67108864);s!==null&&Un(s,t,67108864),Bg(t,67108864)}}var sd=!0;function v3(t,s,o,l){var d=K.T;K.T=null;var p=re.p;try{re.p=2,Ug(t,s,o,l)}finally{re.p=p,K.T=d}}function b3(t,s,o,l){var d=K.T;K.T=null;var p=re.p;try{re.p=8,Ug(t,s,o,l)}finally{re.p=p,K.T=d}}function Ug(t,s,o,l){if(sd){var d=qg(l);if(d===null)Pg(t,s,l,id,o),Ok(t,l);else if(E3(d,t,s,o,l))l.stopPropagation();else if(Ok(t,l),s&4&&-1<w3.indexOf(t)){for(;d!==null;){var p=Pr(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var w=cr(p.pendingLanes);if(w!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;w;){var _=1<<31-zt(w);S.entanglements[1]|=_,w&=~_}Ur(p),(et&6)===0&&(Uh=pt()+500,Su(0))}}break;case 13:S=ha(p,2),S!==null&&Un(S,p,2),$h(),Bg(p,2)}if(p=qg(l),p===null&&Pg(t,s,l,id,o),p===d)break;d=p}d!==null&&l.stopPropagation()}else Pg(t,s,l,null,o)}}function qg(t){return t=Yn(t),$g(t)}var id=null;function $g(t){if(id=null,t=es(t),t!==null){var s=u(t);if(s===null)t=null;else{var o=s.tag;if(o===13){if(t=h(s),t!==null)return t;t=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return id=t,null}function Rk(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mn()){case Fn:return 2;case nn:return 8;case Qr:case Al:return 32;case Ks:return 268435456;default:return 32}default:return 32}}var Kg=!1,gi=null,yi=null,vi=null,Nu=new Map,_u=new Map,bi=[],w3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ok(t,s){switch(t){case"focusin":case"focusout":gi=null;break;case"dragenter":case"dragleave":yi=null;break;case"mouseover":case"mouseout":vi=null;break;case"pointerover":case"pointerout":Nu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":_u.delete(s.pointerId)}}function Du(t,s,o,l,d,p){return t===null||t.nativeEvent!==p?(t={blockedOn:s,domEventName:o,eventSystemFlags:l,nativeEvent:p,targetContainers:[d]},s!==null&&(s=Pr(s),s!==null&&Fk(s)),t):(t.eventSystemFlags|=l,s=t.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),t)}function E3(t,s,o,l,d){switch(s){case"focusin":return gi=Du(gi,t,s,o,l,d),!0;case"dragenter":return yi=Du(yi,t,s,o,l,d),!0;case"mouseover":return vi=Du(vi,t,s,o,l,d),!0;case"pointerover":var p=d.pointerId;return Nu.set(p,Du(Nu.get(p)||null,t,s,o,l,d)),!0;case"gotpointercapture":return p=d.pointerId,_u.set(p,Du(_u.get(p)||null,t,s,o,l,d)),!0}return!1}function Lk(t){var s=es(t.target);if(s!==null){var o=u(s);if(o!==null){if(s=o.tag,s===13){if(s=h(o),s!==null){t.blockedOn=s,$c(t.priority,function(){if(o.tag===13){var l=Bn();l=Hs(l);var d=ha(o,l);d!==null&&Un(d,o,l),Bg(o,l)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function od(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var o=qg(t.nativeEvent);if(o===null){o=t.nativeEvent;var l=new o.constructor(o.type,o);ss=l,o.target.dispatchEvent(l),ss=null}else return s=Pr(o),s!==null&&Fk(s),t.blockedOn=o,!1;s.shift()}return!0}function Vk(t,s,o){od(t)&&o.delete(s)}function S3(){Kg=!1,gi!==null&&od(gi)&&(gi=null),yi!==null&&od(yi)&&(yi=null),vi!==null&&od(vi)&&(vi=null),Nu.forEach(Vk),_u.forEach(Vk)}function ad(t,s){t.blockedOn===s&&(t.blockedOn=null,Kg||(Kg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,S3)))}var ld=null;function jk(t){ld!==t&&(ld=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ld===t&&(ld=null);for(var s=0;s<t.length;s+=3){var o=t[s],l=t[s+1],d=t[s+2];if(typeof l!="function"){if($g(l||o)===null)continue;break}var p=Pr(o);p!==null&&(t.splice(s,3),s-=3,$m(p,{pending:!0,data:d,method:o.method,action:l},l,d))}}))}function Mu(t){function s(_){return ad(_,t)}gi!==null&&ad(gi,t),yi!==null&&ad(yi,t),vi!==null&&ad(vi,t),Nu.forEach(s),_u.forEach(s);for(var o=0;o<bi.length;o++){var l=bi[o];l.blockedOn===t&&(l.blockedOn=null)}for(;0<bi.length&&(o=bi[0],o.blockedOn===null);)Lk(o),o.blockedOn===null&&bi.shift();if(o=(t.ownerDocument||t).$$reactFormReplay,o!=null)for(l=0;l<o.length;l+=3){var d=o[l],p=o[l+1],w=d[Rt]||null;if(typeof p=="function")w||jk(o);else if(w){var S=null;if(p&&p.hasAttribute("formAction")){if(d=p,w=p[Rt]||null)S=w.formAction;else if($g(d)!==null)continue}else S=w.action;typeof S=="function"?o[l+1]=S:(o.splice(l,3),l-=3),jk(o)}}}function Wg(t){this._internalRoot=t}ud.prototype.render=Wg.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,l=Bn();Dk(o,l,t,s,null,null)},ud.prototype.unmount=Wg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Dk(t.current,2,null,t,null,null),$h(),s[Qn]=null}};function ud(t){this._internalRoot=t}ud.prototype.unstable_scheduleHydration=function(t){if(t){var s=Xs();t={blockedOn:null,target:t,priority:s};for(var o=0;o<bi.length&&s!==0&&s<bi[o].priority;o++);bi.splice(o,0,t),o===0&&Lk(t)}};var zk=e.version;if(zk!=="19.1.1")throw Error(i(527,zk,"19.1.1"));re.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=m(s),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var T3={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cd.isDisabled&&cd.supportsFiber)try{dt=cd.inject(T3),Qe=cd}catch{}}return La.createRoot=function(t,s){if(!a(t))throw Error(i(299));var o=!1,l="",d=nT,p=rT,w=sT,S=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(S=s.unstable_transitionCallbacks)),s=Nk(t,1,!1,null,null,o,l,d,p,w,S,null),t[Qn]=s.current,Ag(t),new Wg(s)},La.hydrateRoot=function(t,s,o){if(!a(t))throw Error(i(299));var l=!1,d="",p=nT,w=rT,S=sT,_=null,U=null;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(_=o.unstable_transitionCallbacks),o.formState!==void 0&&(U=o.formState)),s=Nk(t,1,!0,s,o??null,l,d,p,w,S,_,U),s.context=_k(null),o=s.current,l=Bn(),l=Hs(l),d=ni(l),d.callback=null,ri(o,d,l),o=l,s.current.lanes=o,Jr(s,o),Ur(s),t[Qn]=s.current,Ag(t),new ud(s)},La.version="19.1.1",La}var sy;function Qk(){if(sy)return dd.exports;sy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),dd.exports=Xk(),dd.exports}var Gk=Qk();const Yk=gr(Gk),Zk=()=>{};var iy={};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const oy=function(n){const e=[];let r=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[r++]=a:a<2048?(e[r++]=a>>6|192,e[r++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[r++]=a>>18|240,e[r++]=a>>12&63|128,e[r++]=a>>6&63|128,e[r++]=a&63|128):(e[r++]=a>>12|224,e[r++]=a>>6&63|128,e[r++]=a&63|128)}return e},Jk=function(n){const e=[];let r=0,i=0;for(;r<n.length;){const a=n[r++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const u=n[r++];e[i++]=String.fromCharCode((a&31)<<6|u&63)}else if(a>239&&a<365){const u=n[r++],h=n[r++],f=n[r++],m=((a&7)<<18|(u&63)<<12|(h&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const u=n[r++],h=n[r++];e[i++]=String.fromCharCode((a&15)<<12|(u&63)<<6|h&63)}}return e.join("")},ay={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const u=n[a],h=a+1<n.length,f=h?n[a+1]:0,m=a+2<n.length,g=m?n[a+2]:0,v=u>>2,E=(u&3)<<4|f>>4;let k=(f&15)<<2|g>>6,A=g&63;m||(A=64,h||(k=64)),i.push(r[v],r[E],r[k],r[A])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(oy(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Jk(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const u=r[n.charAt(a++)],h=a<n.length?r[n.charAt(a)]:0;++a;const f=a<n.length?r[n.charAt(a)]:64;++a;const m=a<n.length?r[n.charAt(a)]:64;if(++a,u==null||h==null||f==null||m==null)throw new e2;const g=u<<2|h>>4;if(i.push(g),f!==64){const v=h<<4&240|f>>2;if(i.push(v),m!==64){const E=f<<6&192|m;i.push(E)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class e2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const t2=function(n){const e=oy(n);return ay.encodeByteArray(e,!0)},Fu=function(n){return t2(n).replace(/\./g,"")},n2=function(n){try{return ay.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function r2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const s2=()=>r2().__FIREBASE_DEFAULTS__,i2=()=>{if(typeof process>"u"||typeof iy>"u")return;const n=iy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},o2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&n2(n[1]);return e&&JSON.parse(e)},pd=()=>{try{return Zk()||s2()||i2()||o2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},a2=n=>{var e,r;return(r=(e=pd())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[n]},l2=n=>{const e=a2(n);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),i]:[e.substring(0,r),i]},ly=()=>{var n;return(n=pd())===null||n===void 0?void 0:n.config};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class u2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,i)=>{r?this.reject(r):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,i))}}}/**
* @license
* Copyright 2025 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function md(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function c2(n){return(await fetch(n,{credentials:"include"})).ok}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function h2(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Fu(JSON.stringify(r)),Fu(JSON.stringify(h)),""].join(".")}const Va={};function d2(){const n={prod:[],emulator:[]};for(const e of Object.keys(Va))Va[e]?n.emulator.push(e):n.prod.push(e);return n}function f2(n){let e=document.getElementById(n),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),r=!0),{created:r,element:e}}let uy=!1;function p2(n,e){if(typeof window>"u"||typeof document>"u"||!md(window.location.host)||Va[n]===e||Va[n]||uy)return;Va[n]=e;function r(E){return`__firebase__banner__${E}`}const i="__firebase__banner",a=d2().prod.length>0;function u(){const E=document.getElementById(i);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,k){E.setAttribute("width","24"),E.setAttribute("id",k),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function m(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{uy=!0,u()},E}function g(E,k){E.setAttribute("id",k),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function v(){const E=f2(i),k=r("text"),A=document.getElementById(k)||document.createElement("span"),V=r("learnmore"),q=document.getElementById(V)||document.createElement("a"),j=r("preprendIcon"),Q=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const te=E.element;h(te),g(q,V);const ie=m();f(Q,j),te.append(Q,A,q,ie),document.body.appendChild(te)}a?(A.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function m2(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function g2(){var n;const e=(n=pd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cy(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function y2(){return!g2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gd(){try{return typeof indexedDB=="object"}catch{return!1}}function yd(){return new Promise((n,e)=>{try{let r=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var u;e(((u=a.error)===null||u===void 0?void 0:u.message)||"")}}catch(r){e(r)}})}function hy(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const v2="FirebaseError";class ks extends Error{constructor(e,r,i){super(r),this.code=e,this.customData=i,this.name=v2,Object.setPrototypeOf(this,ks.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ru.prototype.create)}}class Ru{constructor(e,r,i){this.service=e,this.serviceName=r,this.errors=i}create(e,...r){const i=r[0]||{},a=`${this.service}/${e}`,u=this.errors[e],h=u?b2(u,i):"Error",f=`${this.serviceName}: ${h} (${a}).`;return new ks(a,f,i)}}function b2(n,e){return n.replace(w2,(r,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const w2=/\{\$([^}]+)}/g;function ja(n,e){if(n===e)return!0;const r=Object.keys(n),i=Object.keys(e);for(const a of r){if(!i.includes(a))return!1;const u=n[a],h=e[a];if(dy(u)&&dy(h)){if(!ja(u,h))return!1}else if(u!==h)return!1}for(const a of i)if(!r.includes(a))return!1;return!0}function dy(n){return n!==null&&typeof n=="object"}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const E2=1e3,S2=2,T2=14400*1e3,k2=.5;function fy(n,e=E2,r=S2){const i=e*Math.pow(r,n),a=Math.round(k2*i*(Math.random()-.5)*2);return Math.min(T2,i+a)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function lr(n){return n&&n._delegate?n._delegate:n}class qr{constructor(e,r,i){this.name=e,this.instanceFactory=r,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ei="[DEFAULT]";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class C2{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const i=new u2;if(this.instancesDeferred.set(r,i),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(a)return null;throw u}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(I2(e))try{this.getOrInitializeService({instanceIdentifier:Ei})}catch{}for(const[r,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const u=this.getOrInitializeService({instanceIdentifier:a});i.resolve(u)}catch{}}}}clearInstance(e=Ei){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ei){return this.instances.has(e)}getOptions(e=Ei){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:r});for(const[u,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(u);i===f&&h.resolve(a)}return a}onInit(e,r){var i;const a=this.normalizeInstanceIdentifier(r),u=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;u.add(e),this.onInitCallbacks.set(a,u);const h=this.instances.get(a);return h&&e(h,a),()=>{u.delete(e)}}invokeOnInitCallbacks(e,r){const i=this.onInitCallbacks.get(r);if(i)for(const a of i)try{a(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:x2(e),options:r}),this.instances.set(e,i),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ei){return this.component?this.component.multipleInstances?e:Ei:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function x2(n){return n===Ei?void 0:n}function I2(n){return n.instantiationMode==="EAGER"}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class A2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new C2(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var qe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(qe||(qe={}));const P2={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},N2=qe.INFO,_2={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},D2=(n,e,...r)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=_2[e];if(a)console[a](`[${i}]  ${n.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vd{constructor(e){this.name=e,this._logLevel=N2,this._logHandler=D2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?P2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const M2=(n,e)=>e.some(r=>n instanceof r);let py,my;function F2(){return py||(py=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function R2(){return my||(my=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gy=new WeakMap,bd=new WeakMap,yy=new WeakMap,wd=new WeakMap,Ed=new WeakMap;function O2(n){const e=new Promise((r,i)=>{const a=()=>{n.removeEventListener("success",u),n.removeEventListener("error",h)},u=()=>{r(Cs(n.result)),a()},h=()=>{i(n.error),a()};n.addEventListener("success",u),n.addEventListener("error",h)});return e.then(r=>{r instanceof IDBCursor&&gy.set(r,n)}).catch(()=>{}),Ed.set(e,n),e}function L2(n){if(bd.has(n))return;const e=new Promise((r,i)=>{const a=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",h),n.removeEventListener("abort",h)},u=()=>{r(),a()},h=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",u),n.addEventListener("error",h),n.addEventListener("abort",h)});bd.set(n,e)}let Sd={get(n,e,r){if(n instanceof IDBTransaction){if(e==="done")return bd.get(n);if(e==="objectStoreNames")return n.objectStoreNames||yy.get(n);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Cs(n[e])},set(n,e,r){return n[e]=r,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function V2(n){Sd=n(Sd)}function j2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const i=n.call(Td(this),e,...r);return yy.set(i,e.sort?e.sort():[e]),Cs(i)}:R2().includes(n)?function(...e){return n.apply(Td(this),e),Cs(gy.get(this))}:function(...e){return Cs(n.apply(Td(this),e))}}function z2(n){return typeof n=="function"?j2(n):(n instanceof IDBTransaction&&L2(n),M2(n,F2())?new Proxy(n,Sd):n)}function Cs(n){if(n instanceof IDBRequest)return O2(n);if(wd.has(n))return wd.get(n);const e=z2(n);return e!==n&&(wd.set(n,e),Ed.set(e,n)),e}const Td=n=>Ed.get(n);function vy(n,e,{blocked:r,upgrade:i,blocking:a,terminated:u}={}){const h=indexedDB.open(n,e),f=Cs(h);return i&&h.addEventListener("upgradeneeded",m=>{i(Cs(h.result),m.oldVersion,m.newVersion,Cs(h.transaction),m)}),r&&h.addEventListener("blocked",m=>r(m.oldVersion,m.newVersion,m)),f.then(m=>{u&&m.addEventListener("close",()=>u()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const B2=["get","getKey","getAll","getAllKeys","count"],U2=["put","add","delete","clear"],kd=new Map;function by(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(kd.get(e))return kd.get(e);const r=e.replace(/FromIndex$/,""),i=e!==r,a=U2.includes(r);if(!(r in(i?IDBIndex:IDBObjectStore).prototype)||!(a||B2.includes(r)))return;const u=async function(h,...f){const m=this.transaction(h,a?"readwrite":"readonly");let g=m.store;return i&&(g=g.index(f.shift())),(await Promise.all([g[r](...f),a&&m.done]))[0]};return kd.set(e,u),u}V2(n=>({...n,get:(e,r,i)=>by(e,r)||n.get(e,r,i),has:(e,r)=>!!by(e,r)||n.has(e,r)}));/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class q2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if($2(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function $2(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Cd="@firebase/app",wy="0.13.2";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const $r=new vd("@firebase/app"),K2="@firebase/app-compat",W2="@firebase/analytics-compat",H2="@firebase/analytics",X2="@firebase/app-check-compat",Q2="@firebase/app-check",G2="@firebase/auth",Y2="@firebase/auth-compat",Z2="@firebase/database",J2="@firebase/data-connect",eC="@firebase/database-compat",tC="@firebase/functions",nC="@firebase/functions-compat",rC="@firebase/installations",sC="@firebase/installations-compat",iC="@firebase/messaging",oC="@firebase/messaging-compat",aC="@firebase/performance",lC="@firebase/performance-compat",uC="@firebase/remote-config",cC="@firebase/remote-config-compat",hC="@firebase/storage",dC="@firebase/storage-compat",fC="@firebase/firestore",pC="@firebase/ai",mC="@firebase/firestore-compat",gC="firebase",yC="11.10.0";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const xd="[DEFAULT]",vC={[Cd]:"fire-core",[K2]:"fire-core-compat",[H2]:"fire-analytics",[W2]:"fire-analytics-compat",[Q2]:"fire-app-check",[X2]:"fire-app-check-compat",[G2]:"fire-auth",[Y2]:"fire-auth-compat",[Z2]:"fire-rtdb",[J2]:"fire-data-connect",[eC]:"fire-rtdb-compat",[tC]:"fire-fn",[nC]:"fire-fn-compat",[rC]:"fire-iid",[sC]:"fire-iid-compat",[iC]:"fire-fcm",[oC]:"fire-fcm-compat",[aC]:"fire-perf",[lC]:"fire-perf-compat",[uC]:"fire-rc",[cC]:"fire-rc-compat",[hC]:"fire-gcs",[dC]:"fire-gcs-compat",[fC]:"fire-fst",[mC]:"fire-fst-compat",[pC]:"fire-vertex","fire-js":"fire-js",[gC]:"fire-js-all"};/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ou=new Map,bC=new Map,Id=new Map;function Ey(n,e){try{n.container.addComponent(e)}catch(r){$r.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,r)}}function xs(n){const e=n.name;if(Id.has(e))return $r.debug(`There were multiple attempts to register component ${e}.`),!1;Id.set(e,n);for(const r of Ou.values())Ey(r,n);for(const r of bC.values())Ey(r,n);return!0}function za(n,e){const r=n.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),n.container.getProvider(e)}function wC(n){return n==null?!1:n.settings!==void 0}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const EC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Is=new Ru("app","Firebase",EC);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class SC{constructor(e,r,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new qr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Is.create("app-deleted",{appName:this._name})}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const TC=yC;function Sy(n,e={}){let r=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:xd,automaticDataCollectionEnabled:!0},e),a=i.name;if(typeof a!="string"||!a)throw Is.create("bad-app-name",{appName:String(a)});if(r||(r=ly()),!r)throw Is.create("no-options");const u=Ou.get(a);if(u){if(ja(r,u.options)&&ja(i,u.config))return u;throw Is.create("duplicate-app",{appName:a})}const h=new A2(a);for(const m of Id.values())h.addComponent(m);const f=new SC(r,i,h);return Ou.set(a,f),f}function Ty(n=xd){const e=Ou.get(n);if(!e&&n===xd&&ly())return Sy();if(!e)throw Is.create("no-app",{appName:n});return e}function yr(n,e,r){var i;let a=(i=vC[n])!==null&&i!==void 0?i:n;r&&(a+=`-${r}`);const u=a.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const f=[`Unable to register library "${a}" with version "${e}":`];u&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),u&&h&&f.push("and"),h&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$r.warn(f.join(" "));return}xs(new qr(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const kC="firebase-heartbeat-database",CC=1,Ba="firebase-heartbeat-store";let Ad=null;function ky(){return Ad||(Ad=vy(kC,CC,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ba)}catch(r){console.warn(r)}}}}).catch(n=>{throw Is.create("idb-open",{originalErrorMessage:n.message})})),Ad}async function xC(n){try{const e=(await ky()).transaction(Ba),r=await e.objectStore(Ba).get(xy(n));return await e.done,r}catch(e){if(e instanceof ks)$r.warn(e.message);else{const r=Is.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$r.warn(r.message)}}}async function Cy(n,e){try{const r=(await ky()).transaction(Ba,"readwrite");await r.objectStore(Ba).put(e,xy(n)),await r.done}catch(r){if(r instanceof ks)$r.warn(r.message);else{const i=Is.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});$r.warn(i.message)}}}function xy(n){return`${n.name}!${n.options.appId}`}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const IC=1024,AC=30;class PC{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new _C(r),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Iy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>AC){const u=DC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){$r.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Iy(),{heartbeatsToSend:i,unsentEntries:a}=NC(this._heartbeatsCache.heartbeats),u=Fu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(r){return $r.warn(r),""}}}function Iy(){return new Date().toISOString().substring(0,10)}function NC(n,e=IC){const r=[];let i=n.slice();for(const a of n){const u=r.find(h=>h.agent===a.agent);if(u){if(u.dates.push(a.date),Ay(r)>e){u.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),Ay(r)>e){r.pop();break}i=i.slice(1)}return{heartbeatsToSend:r,unsentEntries:i}}class _C{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gd()?yd().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await xC(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return Cy(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return Cy(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Ay(n){return Fu(JSON.stringify({version:2,heartbeats:n})).length}function DC(n){if(n.length===0)return-1;let e=0,r=n[0].date;for(let i=1;i<n.length;i++)n[i].date<r&&(r=n[i].date,e=i);return e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function MC(n){xs(new qr("platform-logger",e=>new q2(e),"PRIVATE")),xs(new qr("heartbeat",e=>new PC(e),"PRIVATE")),yr(Cd,wy,n),yr(Cd,wy,"esm2017"),yr("fire-js","")}MC("");const Py="@firebase/installations",Pd="0.6.18";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ny=1e4,_y=`w:${Pd}`,Dy="FIS_v2",FC="https://firebaseinstallations.googleapis.com/v1",RC=3600*1e3,OC="installations",LC="Installations";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const VC={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Si=new Ru(OC,LC,VC);function My(n){return n instanceof ks&&n.code.includes("request-failed")}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Fy({projectId:n}){return`${FC}/projects/${n}/installations`}function Ry(n){return{token:n.token,requestStatus:2,expiresIn:zC(n.expiresIn),creationTime:Date.now()}}async function Oy(n,e){const r=(await e.json()).error;return Si.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Ly({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function jC(n,{refreshToken:e}){const r=Ly(n);return r.append("Authorization",BC(e)),r}async function Vy(n){const e=await n();return e.status>=500&&e.status<600?n():e}function zC(n){return Number(n.replace("s","000"))}function BC(n){return`${Dy} ${n}`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function UC({appConfig:n,heartbeatServiceProvider:e},{fid:r}){const i=Fy(n),a=Ly(n),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&a.append("x-firebase-client",g)}const h={fid:r,authVersion:Dy,appId:n.appId,sdkVersion:_y},f={method:"POST",headers:a,body:JSON.stringify(h)},m=await Vy(()=>fetch(i,f));if(m.ok){const g=await m.json();return{fid:g.fid||r,registrationStatus:2,refreshToken:g.refreshToken,authToken:Ry(g.authToken)}}else throw await Oy("Create Installation",m)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function jy(n){return new Promise(e=>{setTimeout(e,n)})}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function qC(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const $C=/^[cdef][\w-]{21}$/,Nd="";function KC(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const e=WC(n);return $C.test(e)?e:Nd}catch{return Nd}}function WC(n){return qC(n).substr(0,22)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Lu(n){return`${n.appName}!${n.appId}`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const zy=new Map;function By(n,e){const r=Lu(n);Uy(r,e),HC(r,e)}function Uy(n,e){const r=zy.get(n);if(r)for(const i of r)i(e)}function HC(n,e){const r=XC();r&&r.postMessage({key:n,fid:e}),QC()}let Ti=null;function XC(){return!Ti&&"BroadcastChannel"in self&&(Ti=new BroadcastChannel("[Firebase] FID Change"),Ti.onmessage=n=>{Uy(n.data.key,n.data.fid)}),Ti}function QC(){zy.size===0&&Ti&&(Ti.close(),Ti=null)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const GC="firebase-installations-database",YC=1,ki="firebase-installations-store";let _d=null;function Dd(){return _d||(_d=vy(GC,YC,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(ki)}}})),_d}async function Vu(n,e){const r=Lu(n),i=(await Dd()).transaction(ki,"readwrite"),a=i.objectStore(ki),u=await a.get(r);return await a.put(e,r),await i.done,(!u||u.fid!==e.fid)&&By(n,e.fid),e}async function qy(n){const e=Lu(n),r=(await Dd()).transaction(ki,"readwrite");await r.objectStore(ki).delete(e),await r.done}async function ju(n,e){const r=Lu(n),i=(await Dd()).transaction(ki,"readwrite"),a=i.objectStore(ki),u=await a.get(r),h=e(u);return h===void 0?await a.delete(r):await a.put(h,r),await i.done,h&&(!u||u.fid!==h.fid)&&By(n,h.fid),h}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Md(n){let e;const r=await ju(n.appConfig,i=>{const a=ZC(i),u=JC(n,a);return e=u.registrationPromise,u.installationEntry});return r.fid===Nd?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function ZC(n){const e=n||{fid:KC(),registrationStatus:0};return Ky(e)}function JC(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(Si.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=ex(n,r);return{installationEntry:r,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:tx(n)}:{installationEntry:e}}async function ex(n,e){try{const r=await UC(n,e);return Vu(n.appConfig,r)}catch(r){throw My(r)&&r.customData.serverCode===409?await qy(n.appConfig):await Vu(n.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function tx(n){let e=await $y(n.appConfig);for(;e.registrationStatus===1;)await jy(100),e=await $y(n.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:i}=await Md(n);return i||r}return e}function $y(n){return ju(n,e=>{if(!e)throw Si.create("installation-not-found");return Ky(e)})}function Ky(n){return nx(n)?{fid:n.fid,registrationStatus:0}:n}function nx(n){return n.registrationStatus===1&&n.registrationTime+Ny<Date.now()}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function rx({appConfig:n,heartbeatServiceProvider:e},r){const i=sx(n,r),a=jC(n,r),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&a.append("x-firebase-client",g)}const h={installation:{sdkVersion:_y,appId:n.appId}},f={method:"POST",headers:a,body:JSON.stringify(h)},m=await Vy(()=>fetch(i,f));if(m.ok){const g=await m.json();return Ry(g)}else throw await Oy("Generate Auth Token",m)}function sx(n,{fid:e}){return`${Fy(n)}/${e}/authTokens:generate`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Fd(n,e=!1){let r;const i=await ju(n.appConfig,a=>{if(!Hy(a))throw Si.create("not-registered");const u=a.authToken;if(!e&&ax(u))return a;if(u.requestStatus===1)return r=ix(n,e),a;{if(!navigator.onLine)throw Si.create("app-offline");const h=ux(a);return r=ox(n,h),h}});return r?await r:i.authToken}async function ix(n,e){let r=await Wy(n.appConfig);for(;r.authToken.requestStatus===1;)await jy(100),r=await Wy(n.appConfig);const i=r.authToken;return i.requestStatus===0?Fd(n,e):i}function Wy(n){return ju(n,e=>{if(!Hy(e))throw Si.create("not-registered");const r=e.authToken;return cx(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function ox(n,e){try{const r=await rx(n,e),i=Object.assign(Object.assign({},e),{authToken:r});return await Vu(n.appConfig,i),r}catch(r){if(My(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await qy(n.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Vu(n.appConfig,i)}throw r}}function Hy(n){return n!==void 0&&n.registrationStatus===2}function ax(n){return n.requestStatus===2&&!lx(n)}function lx(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+RC}function ux(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function cx(n){return n.requestStatus===1&&n.requestTime+Ny<Date.now()}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function hx(n){const e=n,{installationEntry:r,registrationPromise:i}=await Md(e);return i?i.catch(console.error):Fd(e).catch(console.error),r.fid}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function dx(n,e=!1){const r=n;return await fx(r),(await Fd(r,e)).token}async function fx(n){const{registrationPromise:e}=await Md(n);e&&await e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function px(n){if(!n||!n.options)throw Rd("App Configuration");if(!n.name)throw Rd("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!n.options[r])throw Rd(r);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Rd(n){return Si.create("missing-app-config-values",{valueName:n})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Xy="installations",mx="installations-internal",gx=n=>{const e=n.getProvider("app").getImmediate(),r=px(e),i=za(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},yx=n=>{const e=n.getProvider("app").getImmediate(),r=za(e,Xy).getImmediate();return{getId:()=>hx(r),getToken:i=>dx(r,i)}};function vx(){xs(new qr(Xy,gx,"PUBLIC")),xs(new qr(mx,yx,"PRIVATE"))}vx(),yr(Py,Pd),yr(Py,Pd,"esm2017");/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const zu="analytics",bx="firebase_id",wx="origin",Ex=60*1e3,Sx="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Od="https://www.googletagmanager.com/gtag/js";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Tn=new vd("@firebase/analytics");/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Tx={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Nn=new Ru("analytics","Analytics",Tx);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function kx(n){if(!n.startsWith(Od)){const e=Nn.create("invalid-gtag-resource",{gtagURL:n});return Tn.warn(e.message),""}return n}function Qy(n){return Promise.all(n.map(e=>e.catch(r=>r)))}function Cx(n,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(n,e)),r}function xx(n,e){const r=Cx("firebase-js-sdk-policy",{createScriptURL:kx}),i=document.createElement("script"),a=`${Od}?l=${n}&id=${e}`;i.src=r?r==null?void 0:r.createScriptURL(a):a,i.async=!0,document.head.appendChild(i)}function Ix(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function Ax(n,e,r,i,a,u){const h=i[a];try{if(h)await e[h];else{const f=(await Qy(r)).find(m=>m.measurementId===a);f&&await e[f.appId]}}catch(f){Tn.error(f)}n("config",a,u)}async function Px(n,e,r,i,a){try{let u=[];if(a&&a.send_to){let h=a.send_to;Array.isArray(h)||(h=[h]);const f=await Qy(r);for(const m of h){const g=f.find(E=>E.measurementId===m),v=g&&e[g.appId];if(v)u.push(v);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),n("event",i,a||{})}catch(u){Tn.error(u)}}function Nx(n,e,r,i){async function a(u,...h){try{if(u==="event"){const[f,m]=h;await Px(n,e,r,f,m)}else if(u==="config"){const[f,m]=h;await Ax(n,e,r,i,f,m)}else if(u==="consent"){const[f,m]=h;n("consent",f,m)}else if(u==="get"){const[f,m,g]=h;n("get",f,m,g)}else if(u==="set"){const[f]=h;n("set",f)}else n(u,...h)}catch(f){Tn.error(f)}}return a}function _x(n,e,r,i,a){let u=function(...h){window[i].push(arguments)};return window[a]&&typeof window[a]=="function"&&(u=window[a]),window[a]=Nx(u,n,e,r),{gtagCore:u,wrappedGtag:window[a]}}function Dx(n){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(Od)&&r.src.includes(n))return r;return null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Mx=30,Fx=1e3;class Rx{constructor(e={},r=Fx){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Gy=new Rx;function Ox(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function Lx(n){var e;const{appId:r,apiKey:i}=n,a={method:"GET",headers:Ox(i)},u=Sx.replace("{app-id}",r),h=await fetch(u,a);if(h.status!==200&&h.status!==304){let f="";try{const m=await h.json();!((e=m.error)===null||e===void 0)&&e.message&&(f=m.error.message)}catch{}throw Nn.create("config-fetch-failed",{httpStatus:h.status,responseMessage:f})}return h.json()}async function Vx(n,e=Gy,r){const{appId:i,apiKey:a,measurementId:u}=n.options;if(!i)throw Nn.create("no-app-id");if(!a){if(u)return{measurementId:u,appId:i};throw Nn.create("no-api-key")}const h=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new Bx;return setTimeout(async()=>{f.abort()},Ex),Yy({appId:i,apiKey:a,measurementId:u},h,f,e)}async function Yy(n,{throttleEndTimeMillis:e,backoffCount:r},i,a=Gy){var u;const{appId:h,measurementId:f}=n;try{await jx(i,e)}catch(m){if(f)return Tn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:h,measurementId:f};throw m}try{const m=await Lx(n);return a.deleteThrottleMetadata(h),m}catch(m){const g=m;if(!zx(g)){if(a.deleteThrottleMetadata(h),f)return Tn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:h,measurementId:f};throw m}const v=Number((u=g==null?void 0:g.customData)===null||u===void 0?void 0:u.httpStatus)===503?fy(r,a.intervalMillis,Mx):fy(r,a.intervalMillis),E={throttleEndTimeMillis:Date.now()+v,backoffCount:r+1};return a.setThrottleMetadata(h,E),Tn.debug(`Calling attemptFetch again in ${v} millis`),Yy(n,E,i,a)}}function jx(n,e){return new Promise((r,i)=>{const a=Math.max(e-Date.now(),0),u=setTimeout(r,a);n.addEventListener(()=>{clearTimeout(u),i(Nn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function zx(n){if(!(n instanceof ks)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class Bx{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Ux(n,e,r,i,a){if(a&&a.global){n("event",r,i);return}else{const u=await e,h=Object.assign(Object.assign({},i),{send_to:u});n("event",r,h)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function qx(){if(gd())try{await yd()}catch(n){return Tn.warn(Nn.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Tn.warn(Nn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function $x(n,e,r,i,a,u,h){var f;const m=Vx(n);m.then(A=>{r[A.measurementId]=A.appId,n.options.measurementId&&A.measurementId!==n.options.measurementId&&Tn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${A.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(A=>Tn.error(A)),e.push(m);const g=qx().then(A=>{if(A)return i.getId()}),[v,E]=await Promise.all([m,g]);Dx(u)||xx(u,v.measurementId),a("js",new Date);const k=(f=h==null?void 0:h.config)!==null&&f!==void 0?f:{};return k[wx]="firebase",k.update=!0,E!=null&&(k[bx]=E),a("config",v.measurementId,k),v.measurementId}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Kx{constructor(e){this.app=e}_delete(){return delete Ua[this.app.options.appId],Promise.resolve()}}let Ua={},Zy=[];const Jy={};let Ld="dataLayer",Wx="gtag",ev,tv,nv=!1;function Hx(){const n=[];if(cy()&&n.push("This is a browser extension environment."),hy()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,a)=>`(${a+1}) ${i}`).join(" "),r=Nn.create("invalid-analytics-context",{errorInfo:e});Tn.warn(r.message)}}function Xx(n,e,r){Hx();const i=n.options.appId;if(!i)throw Nn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Tn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Nn.create("no-api-key");if(Ua[i]!=null)throw Nn.create("already-exists",{id:i});if(!nv){Ix(Ld);const{wrappedGtag:a,gtagCore:u}=_x(Ua,Zy,Jy,Ld,Wx);tv=a,ev=u,nv=!0}return Ua[i]=$x(n,Zy,Jy,e,ev,Ld,r),new Kx(n)}function Qx(n=Ty()){n=lr(n);const e=za(n,zu);return e.isInitialized()?e.getImmediate():Gx(n)}function Gx(n,e={}){const r=za(n,zu);if(r.isInitialized()){const i=r.getImmediate();if(ja(e,r.getOptions()))return i;throw Nn.create("already-initialized")}return r.initialize({options:e})}async function Yx(){if(cy()||!hy()||!gd())return!1;try{return await yd()}catch{return!1}}function rv(n,e,r,i){n=lr(n),Ux(tv,Ua[n.app.options.appId],e,r,i).catch(a=>Tn.error(a))}const sv="@firebase/analytics",iv="0.10.17";function Zx(){xs(new qr(zu,(e,{options:r})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return Xx(i,a,r)},"PUBLIC")),xs(new qr("analytics-internal",n,"PRIVATE")),yr(sv,iv),yr(sv,iv,"esm2017");function n(e){try{const r=e.getProvider(zu).getImmediate();return{logEvent:(i,a,u)=>rv(r,i,a,u)}}catch(r){throw Nn.create("interop-component-reg-failed",{reason:r})}}}Zx();var Jx="firebase",eI="11.10.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/yr(Jx,eI,"app");var ov=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var As,av;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,I){function P(){}P.prototype=I.prototype,M.D=I.prototype,M.prototype=new P,M.prototype.constructor=M,M.C=function(D,F,O){for(var N=Array(arguments.length-2),We=2;We<arguments.length;We++)N[We-2]=arguments[We];return I.prototype[F].apply(D,N)}}function r(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,r),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(M,I,P){P||(P=0);var D=Array(16);if(typeof I=="string")for(var F=0;16>F;++F)D[F]=I.charCodeAt(P++)|I.charCodeAt(P++)<<8|I.charCodeAt(P++)<<16|I.charCodeAt(P++)<<24;else for(F=0;16>F;++F)D[F]=I[P++]|I[P++]<<8|I[P++]<<16|I[P++]<<24;I=M.g[0],P=M.g[1],F=M.g[2];var O=M.g[3],N=I+(O^P&(F^O))+D[0]+3614090360&4294967295;I=P+(N<<7&4294967295|N>>>25),N=O+(F^I&(P^F))+D[1]+3905402710&4294967295,O=I+(N<<12&4294967295|N>>>20),N=F+(P^O&(I^P))+D[2]+606105819&4294967295,F=O+(N<<17&4294967295|N>>>15),N=P+(I^F&(O^I))+D[3]+3250441966&4294967295,P=F+(N<<22&4294967295|N>>>10),N=I+(O^P&(F^O))+D[4]+4118548399&4294967295,I=P+(N<<7&4294967295|N>>>25),N=O+(F^I&(P^F))+D[5]+1200080426&4294967295,O=I+(N<<12&4294967295|N>>>20),N=F+(P^O&(I^P))+D[6]+2821735955&4294967295,F=O+(N<<17&4294967295|N>>>15),N=P+(I^F&(O^I))+D[7]+4249261313&4294967295,P=F+(N<<22&4294967295|N>>>10),N=I+(O^P&(F^O))+D[8]+1770035416&4294967295,I=P+(N<<7&4294967295|N>>>25),N=O+(F^I&(P^F))+D[9]+2336552879&4294967295,O=I+(N<<12&4294967295|N>>>20),N=F+(P^O&(I^P))+D[10]+4294925233&4294967295,F=O+(N<<17&4294967295|N>>>15),N=P+(I^F&(O^I))+D[11]+2304563134&4294967295,P=F+(N<<22&4294967295|N>>>10),N=I+(O^P&(F^O))+D[12]+1804603682&4294967295,I=P+(N<<7&4294967295|N>>>25),N=O+(F^I&(P^F))+D[13]+4254626195&4294967295,O=I+(N<<12&4294967295|N>>>20),N=F+(P^O&(I^P))+D[14]+2792965006&4294967295,F=O+(N<<17&4294967295|N>>>15),N=P+(I^F&(O^I))+D[15]+1236535329&4294967295,P=F+(N<<22&4294967295|N>>>10),N=I+(F^O&(P^F))+D[1]+4129170786&4294967295,I=P+(N<<5&4294967295|N>>>27),N=O+(P^F&(I^P))+D[6]+3225465664&4294967295,O=I+(N<<9&4294967295|N>>>23),N=F+(I^P&(O^I))+D[11]+643717713&4294967295,F=O+(N<<14&4294967295|N>>>18),N=P+(O^I&(F^O))+D[0]+3921069994&4294967295,P=F+(N<<20&4294967295|N>>>12),N=I+(F^O&(P^F))+D[5]+3593408605&4294967295,I=P+(N<<5&4294967295|N>>>27),N=O+(P^F&(I^P))+D[10]+38016083&4294967295,O=I+(N<<9&4294967295|N>>>23),N=F+(I^P&(O^I))+D[15]+3634488961&4294967295,F=O+(N<<14&4294967295|N>>>18),N=P+(O^I&(F^O))+D[4]+3889429448&4294967295,P=F+(N<<20&4294967295|N>>>12),N=I+(F^O&(P^F))+D[9]+568446438&4294967295,I=P+(N<<5&4294967295|N>>>27),N=O+(P^F&(I^P))+D[14]+3275163606&4294967295,O=I+(N<<9&4294967295|N>>>23),N=F+(I^P&(O^I))+D[3]+4107603335&4294967295,F=O+(N<<14&4294967295|N>>>18),N=P+(O^I&(F^O))+D[8]+1163531501&4294967295,P=F+(N<<20&4294967295|N>>>12),N=I+(F^O&(P^F))+D[13]+2850285829&4294967295,I=P+(N<<5&4294967295|N>>>27),N=O+(P^F&(I^P))+D[2]+4243563512&4294967295,O=I+(N<<9&4294967295|N>>>23),N=F+(I^P&(O^I))+D[7]+1735328473&4294967295,F=O+(N<<14&4294967295|N>>>18),N=P+(O^I&(F^O))+D[12]+2368359562&4294967295,P=F+(N<<20&4294967295|N>>>12),N=I+(P^F^O)+D[5]+4294588738&4294967295,I=P+(N<<4&4294967295|N>>>28),N=O+(I^P^F)+D[8]+2272392833&4294967295,O=I+(N<<11&4294967295|N>>>21),N=F+(O^I^P)+D[11]+1839030562&4294967295,F=O+(N<<16&4294967295|N>>>16),N=P+(F^O^I)+D[14]+4259657740&4294967295,P=F+(N<<23&4294967295|N>>>9),N=I+(P^F^O)+D[1]+2763975236&4294967295,I=P+(N<<4&4294967295|N>>>28),N=O+(I^P^F)+D[4]+1272893353&4294967295,O=I+(N<<11&4294967295|N>>>21),N=F+(O^I^P)+D[7]+4139469664&4294967295,F=O+(N<<16&4294967295|N>>>16),N=P+(F^O^I)+D[10]+3200236656&4294967295,P=F+(N<<23&4294967295|N>>>9),N=I+(P^F^O)+D[13]+681279174&4294967295,I=P+(N<<4&4294967295|N>>>28),N=O+(I^P^F)+D[0]+3936430074&4294967295,O=I+(N<<11&4294967295|N>>>21),N=F+(O^I^P)+D[3]+3572445317&4294967295,F=O+(N<<16&4294967295|N>>>16),N=P+(F^O^I)+D[6]+76029189&4294967295,P=F+(N<<23&4294967295|N>>>9),N=I+(P^F^O)+D[9]+3654602809&4294967295,I=P+(N<<4&4294967295|N>>>28),N=O+(I^P^F)+D[12]+3873151461&4294967295,O=I+(N<<11&4294967295|N>>>21),N=F+(O^I^P)+D[15]+530742520&4294967295,F=O+(N<<16&4294967295|N>>>16),N=P+(F^O^I)+D[2]+3299628645&4294967295,P=F+(N<<23&4294967295|N>>>9),N=I+(F^(P|~O))+D[0]+4096336452&4294967295,I=P+(N<<6&4294967295|N>>>26),N=O+(P^(I|~F))+D[7]+1126891415&4294967295,O=I+(N<<10&4294967295|N>>>22),N=F+(I^(O|~P))+D[14]+2878612391&4294967295,F=O+(N<<15&4294967295|N>>>17),N=P+(O^(F|~I))+D[5]+4237533241&4294967295,P=F+(N<<21&4294967295|N>>>11),N=I+(F^(P|~O))+D[12]+1700485571&4294967295,I=P+(N<<6&4294967295|N>>>26),N=O+(P^(I|~F))+D[3]+2399980690&4294967295,O=I+(N<<10&4294967295|N>>>22),N=F+(I^(O|~P))+D[10]+4293915773&4294967295,F=O+(N<<15&4294967295|N>>>17),N=P+(O^(F|~I))+D[1]+2240044497&4294967295,P=F+(N<<21&4294967295|N>>>11),N=I+(F^(P|~O))+D[8]+1873313359&4294967295,I=P+(N<<6&4294967295|N>>>26),N=O+(P^(I|~F))+D[15]+4264355552&4294967295,O=I+(N<<10&4294967295|N>>>22),N=F+(I^(O|~P))+D[6]+2734768916&4294967295,F=O+(N<<15&4294967295|N>>>17),N=P+(O^(F|~I))+D[13]+1309151649&4294967295,P=F+(N<<21&4294967295|N>>>11),N=I+(F^(P|~O))+D[4]+4149444226&4294967295,I=P+(N<<6&4294967295|N>>>26),N=O+(P^(I|~F))+D[11]+3174756917&4294967295,O=I+(N<<10&4294967295|N>>>22),N=F+(I^(O|~P))+D[2]+718787259&4294967295,F=O+(N<<15&4294967295|N>>>17),N=P+(O^(F|~I))+D[9]+3951481745&4294967295,M.g[0]=M.g[0]+I&4294967295,M.g[1]=M.g[1]+(F+(N<<21&4294967295|N>>>11))&4294967295,M.g[2]=M.g[2]+F&4294967295,M.g[3]=M.g[3]+O&4294967295}i.prototype.u=function(M,I){I===void 0&&(I=M.length);for(var P=I-this.blockSize,D=this.B,F=this.h,O=0;O<I;){if(F==0)for(;O<=P;)a(this,M,O),O+=this.blockSize;if(typeof M=="string"){for(;O<I;)if(D[F++]=M.charCodeAt(O++),F==this.blockSize){a(this,D),F=0;break}}else for(;O<I;)if(D[F++]=M[O++],F==this.blockSize){a(this,D),F=0;break}}this.h=F,this.o+=I},i.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var I=1;I<M.length-8;++I)M[I]=0;var P=8*this.o;for(I=M.length-8;I<M.length;++I)M[I]=P&255,P/=256;for(this.u(M),M=Array(16),I=P=0;4>I;++I)for(var D=0;32>D;D+=8)M[P++]=this.g[I]>>>D&255;return M};function u(M,I){var P=f;return Object.prototype.hasOwnProperty.call(P,M)?P[M]:P[M]=I(M)}function h(M,I){this.h=I;for(var P=[],D=!0,F=M.length-1;0<=F;F--){var O=M[F]|0;D&&O==I||(P[F]=O,D=!1)}this.g=P}var f={};function m(M){return-128<=M&&128>M?u(M,function(I){return new h([I|0],0>I?-1:0)}):new h([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return E;if(0>M)return j(g(-M));for(var I=[],P=1,D=0;M>=P;D++)I[D]=M/P|0,P*=4294967296;return new h(I,0)}function v(M,I){if(M.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(M.charAt(0)=="-")return j(v(M.substring(1),I));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=g(Math.pow(I,8)),D=E,F=0;F<M.length;F+=8){var O=Math.min(8,M.length-F),N=parseInt(M.substring(F,F+O),I);8>O?(O=g(Math.pow(I,O)),D=D.j(O).add(g(N))):(D=D.j(P),D=D.add(g(N)))}return D}var E=m(0),k=m(1),A=m(16777216);n=h.prototype,n.m=function(){if(q(this))return-j(this).m();for(var M=0,I=1,P=0;P<this.g.length;P++){var D=this.i(P);M+=(0<=D?D:4294967296+D)*I,I*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(V(this))return"0";if(q(this))return"-"+j(this).toString(M);for(var I=g(Math.pow(M,6)),P=this,D="";;){var F=pe(P,I).g;P=Q(P,F.j(I));var O=((0<P.g.length?P.g[0]:P.h)>>>0).toString(M);if(P=F,V(P))return O+D;for(;6>O.length;)O="0"+O;D=O+D}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function V(M){if(M.h!=0)return!1;for(var I=0;I<M.g.length;I++)if(M.g[I]!=0)return!1;return!0}function q(M){return M.h==-1}n.l=function(M){return M=Q(this,M),q(M)?-1:V(M)?0:1};function j(M){for(var I=M.g.length,P=[],D=0;D<I;D++)P[D]=~M.g[D];return new h(P,~M.h).add(k)}n.abs=function(){return q(this)?j(this):this},n.add=function(M){for(var I=Math.max(this.g.length,M.g.length),P=[],D=0,F=0;F<=I;F++){var O=D+(this.i(F)&65535)+(M.i(F)&65535),N=(O>>>16)+(this.i(F)>>>16)+(M.i(F)>>>16);D=N>>>16,O&=65535,N&=65535,P[F]=N<<16|O}return new h(P,P[P.length-1]&-2147483648?-1:0)};function Q(M,I){return M.add(j(I))}n.j=function(M){if(V(this)||V(M))return E;if(q(this))return q(M)?j(this).j(j(M)):j(j(this).j(M));if(q(M))return j(this.j(j(M)));if(0>this.l(A)&&0>M.l(A))return g(this.m()*M.m());for(var I=this.g.length+M.g.length,P=[],D=0;D<2*I;D++)P[D]=0;for(D=0;D<this.g.length;D++)for(var F=0;F<M.g.length;F++){var O=this.i(D)>>>16,N=this.i(D)&65535,We=M.i(F)>>>16,Ue=M.i(F)&65535;P[2*D+2*F]+=N*Ue,te(P,2*D+2*F),P[2*D+2*F+1]+=O*Ue,te(P,2*D+2*F+1),P[2*D+2*F+1]+=N*We,te(P,2*D+2*F+1),P[2*D+2*F+2]+=O*We,te(P,2*D+2*F+2)}for(D=0;D<I;D++)P[D]=P[2*D+1]<<16|P[2*D];for(D=I;D<2*I;D++)P[D]=0;return new h(P,0)};function te(M,I){for(;(M[I]&65535)!=M[I];)M[I+1]+=M[I]>>>16,M[I]&=65535,I++}function ie(M,I){this.g=M,this.h=I}function pe(M,I){if(V(I))throw Error("division by zero");if(V(M))return new ie(E,E);if(q(M))return I=pe(j(M),I),new ie(j(I.g),j(I.h));if(q(I))return I=pe(M,j(I)),new ie(j(I.g),I.h);if(30<M.g.length){if(q(M)||q(I))throw Error("slowDivide_ only works with positive integers.");for(var P=k,D=I;0>=D.l(M);)P=le(P),D=le(D);var F=ye(P,1),O=ye(D,1);for(D=ye(D,2),P=ye(P,2);!V(D);){var N=O.add(D);0>=N.l(M)&&(F=F.add(P),O=N),D=ye(D,1),P=ye(P,1)}return I=Q(M,F.j(I)),new ie(F,I)}for(F=E;0<=M.l(I);){for(P=Math.max(1,Math.floor(M.m()/I.m())),D=Math.ceil(Math.log(P)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),O=g(P),N=O.j(I);q(N)||0<N.l(M);)P-=D,O=g(P),N=O.j(I);V(O)&&(O=k),F=F.add(O),M=Q(M,N)}return new ie(F,M)}n.A=function(M){return pe(this,M).h},n.and=function(M){for(var I=Math.max(this.g.length,M.g.length),P=[],D=0;D<I;D++)P[D]=this.i(D)&M.i(D);return new h(P,this.h&M.h)},n.or=function(M){for(var I=Math.max(this.g.length,M.g.length),P=[],D=0;D<I;D++)P[D]=this.i(D)|M.i(D);return new h(P,this.h|M.h)},n.xor=function(M){for(var I=Math.max(this.g.length,M.g.length),P=[],D=0;D<I;D++)P[D]=this.i(D)^M.i(D);return new h(P,this.h^M.h)};function le(M){for(var I=M.g.length+1,P=[],D=0;D<I;D++)P[D]=M.i(D)<<1|M.i(D-1)>>>31;return new h(P,M.h)}function ye(M,I){var P=I>>5;I%=32;for(var D=M.g.length-P,F=[],O=0;O<D;O++)F[O]=0<I?M.i(O+P)>>>I|M.i(O+P+1)<<32-I:M.i(O+P);return new h(F,M.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,av=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=v,As=h}).apply(typeof ov<"u"?ov:typeof self<"u"?self:typeof window<"u"?window:{});var Bu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lv,qa,uv,Uu,Vd,cv,hv,dv;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,b){return c==Array.prototype||c==Object.prototype||(c[y]=b.value),c};function r(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bu=="object"&&Bu];for(var y=0;y<c.length;++y){var b=c[y];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=r(this);function a(c,y){if(y)e:{var b=i;c=c.split(".");for(var C=0;C<c.length-1;C++){var z=c[C];if(!(z in b))break e;b=b[z]}c=c[c.length-1],C=b[c],y=y(C),y!=C&&y!=null&&e(b,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var b=0,C=!1,z={next:function(){if(!C&&b<c.length){var H=b++;return{value:y(H,c[H]),done:!1}}return C=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}a("Array.prototype.values",function(c){return c||function(){return u(this,function(y,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},f=this||self;function m(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,b){return c.call.apply(c.bind,arguments)}function E(c,y,b){if(!c)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,C),c.apply(y,z)}}return function(){return c.apply(y,arguments)}}function k(c,y,b){return k=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:E,k.apply(null,arguments)}function A(c,y){var b=Array.prototype.slice.call(arguments,1);return function(){var C=b.slice();return C.push.apply(C,arguments),c.apply(this,C)}}function V(c,y){function b(){}b.prototype=y.prototype,c.aa=y.prototype,c.prototype=new b,c.prototype.constructor=c,c.Qb=function(C,z,H){for(var ue=Array(arguments.length-2),He=2;He<arguments.length;He++)ue[He-2]=arguments[He];return y.prototype[z].apply(C,ue)}}function q(c){const y=c.length;if(0<y){const b=Array(y);for(let C=0;C<y;C++)b[C]=c[C];return b}return[]}function j(c,y){for(let b=1;b<arguments.length;b++){const C=arguments[b];if(m(C)){const z=c.length||0,H=C.length||0;c.length=z+H;for(let ue=0;ue<H;ue++)c[z+ue]=C[ue]}else c.push(C)}}class Q{constructor(y,b){this.i=y,this.j=b,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function te(c){return/^[\s\xa0]*$/.test(c)}function ie(){var c=f.navigator;return c&&(c=c.userAgent)?c:""}function pe(c){return pe[" "](c),c}pe[" "]=function(){};var le=ie().indexOf("Gecko")!=-1&&!(ie().toLowerCase().indexOf("webkit")!=-1&&ie().indexOf("Edge")==-1)&&!(ie().indexOf("Trident")!=-1||ie().indexOf("MSIE")!=-1)&&ie().indexOf("Edge")==-1;function ye(c,y,b){for(const C in c)y.call(b,c[C],C,c)}function M(c,y){for(const b in c)y.call(void 0,c[b],b,c)}function I(c){const y={};for(const b in c)y[b]=c[b];return y}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,y){let b,C;for(let z=1;z<arguments.length;z++){C=arguments[z];for(b in C)c[b]=C[b];for(let H=0;H<P.length;H++)b=P[H],Object.prototype.hasOwnProperty.call(C,b)&&(c[b]=C[b])}}function F(c){var y=1;c=c.split(":");const b=[];for(;0<y&&c.length;)b.push(c.shift()),y--;return c.length&&b.push(c.join(":")),b}function O(c){f.setTimeout(()=>{throw c},0)}function N(){var c=Me;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class We{constructor(){this.h=this.g=null}add(y,b){const C=Ue.get();C.set(y,b),this.h?this.h.next=C:this.g=C,this.h=C}}var Ue=new Q(()=>new K,c=>c.reset());class K{constructor(){this.next=this.g=this.h=null}set(y,b){this.h=y,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let re,de=!1,Me=new We,T=()=>{const c=f.Promise.resolve(void 0);re=()=>{c.then(x)}};var x=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(b){O(b)}var y=Ue;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}de=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var oe=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};f.addEventListener("test",b,y),f.removeEventListener("test",b,y)}catch{}return c})();function ce(c,y){if(X.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var b=this.type=c.type,C=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(le){e:{try{pe(y.nodeName);var z=!0;break e}catch{}z=!1}z||(y=null)}}else b=="mouseover"?y=c.fromElement:b=="mouseout"&&(y=c.toElement);this.relatedTarget=y,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ae[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ce.aa.h.call(this)}}V(ce,X);var ae={2:"touch",3:"pen",4:"mouse"};ce.prototype.h=function(){ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var me="closure_listenable_"+(1e6*Math.random()|0),ve=0;function _e(c,y,b,C,z){this.listener=c,this.proxy=null,this.src=y,this.type=b,this.capture=!!C,this.ha=z,this.key=++ve,this.da=this.fa=!1}function at(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ve(c){this.src=c,this.g={},this.h=0}Ve.prototype.add=function(c,y,b,C,z){var H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);var ue=bt(c,y,C,z);return-1<ue?(y=c[ue],b||(y.fa=!1)):(y=new _e(y,this.src,H,!!C,z),y.fa=b,c.push(y)),y};function nt(c,y){var b=y.type;if(b in c.g){var C=c.g[b],z=Array.prototype.indexOf.call(C,y,void 0),H;(H=0<=z)&&Array.prototype.splice.call(C,z,1),H&&(at(y),c.g[b].length==0&&(delete c.g[b],c.h--))}}function bt(c,y,b,C){for(var z=0;z<c.length;++z){var H=c[z];if(!H.da&&H.listener==y&&H.capture==!!b&&H.ha==C)return z}return-1}var De="closure_lm_"+(1e6*Math.random()|0),Ft={};function mn(c,y,b,C,z){if(Array.isArray(y)){for(var H=0;H<y.length;H++)mn(c,y[H],b,C,z);return null}return b=Ko(b),c&&c[me]?c.K(y,b,g(C)?!!C.capture:!1,z):pt(c,y,b,!1,C,z)}function pt(c,y,b,C,z,H){if(!y)throw Error("Invalid event type");var ue=g(z)?!!z.capture:!!z,He=Ks(c);if(He||(c[De]=He=new Ve(c)),b=He.add(y,b,C,ue,H),b.proxy)return b;if(C=Mn(),b.proxy=C,C.src=c,C.listener=b,c.addEventListener)oe||(z=ue),z===void 0&&(z=!1),c.addEventListener(y.toString(),C,z);else if(c.attachEvent)c.attachEvent(Qr(y.toString()),C);else if(c.addListener&&c.removeListener)c.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Mn(){function c(b){return y.call(c.src,c.listener,b)}const y=Al;return c}function Fn(c,y,b,C,z){if(Array.isArray(y))for(var H=0;H<y.length;H++)Fn(c,y[H],b,C,z);else C=g(C)?!!C.capture:!!C,b=Ko(b),c&&c[me]?(c=c.i,y=String(y).toString(),y in c.g&&(H=c.g[y],b=bt(H,b,C,z),-1<b&&(at(H[b]),Array.prototype.splice.call(H,b,1),H.length==0&&(delete c.g[y],c.h--)))):c&&(c=Ks(c))&&(y=c.g[y.toString()],c=-1,y&&(c=bt(y,b,C,z)),(b=-1<c?y[c]:null)&&nn(b))}function nn(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[me])nt(y.i,c);else{var b=c.type,C=c.proxy;y.removeEventListener?y.removeEventListener(b,C,c.capture):y.detachEvent?y.detachEvent(Qr(b),C):y.addListener&&y.removeListener&&y.removeListener(C),(b=Ks(y))?(nt(b,c),b.h==0&&(b.src=null,y[De]=null)):at(c)}}}function Qr(c){return c in Ft?Ft[c]:Ft[c]="on"+c}function Al(c,y){if(c.da)c=!0;else{y=new ce(y,this);var b=c.listener,C=c.ha||c.src;c.fa&&nn(c),c=b.call(C,y)}return c}function Ks(c){return c=c[De],c instanceof Ve?c:null}var Ws="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ko(c){return typeof c=="function"?c:(c[Ws]||(c[Ws]=function(y){return c.handleEvent(y)}),c[Ws])}function dt(){G.call(this),this.i=new Ve(this),this.M=this,this.F=null}V(dt,G),dt.prototype[me]=!0,dt.prototype.removeEventListener=function(c,y,b,C){Fn(this,c,y,b,C)};function Qe(c,y){var b,C=c.F;if(C)for(b=[];C;C=C.F)b.push(C);if(c=c.M,C=y.type||y,typeof y=="string")y=new X(y,c);else if(y instanceof X)y.target=y.target||c;else{var z=y;y=new X(C,c),D(y,z)}if(z=!0,b)for(var H=b.length-1;0<=H;H--){var ue=y.g=b[H];z=vn(ue,C,!0,y)&&z}if(ue=y.g=c,z=vn(ue,C,!0,y)&&z,z=vn(ue,C,!1,y)&&z,b)for(H=0;H<b.length;H++)ue=y.g=b[H],z=vn(ue,C,!1,y)&&z}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var b=c.g[y],C=0;C<b.length;C++)at(b[C]);delete c.g[y],c.h--}}this.F=null},dt.prototype.K=function(c,y,b,C){return this.i.add(String(c),y,!1,b,C)},dt.prototype.L=function(c,y,b,C){return this.i.add(String(c),y,!0,b,C)};function vn(c,y,b,C){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,H=0;H<y.length;++H){var ue=y[H];if(ue&&!ue.da&&ue.capture==b){var He=ue.listener,qt=ue.ha||ue.src;ue.fa&&nt(c.i,ue),z=He.call(qt,C)!==!1&&z}}return z&&!C.defaultPrevented}function zt(c,y,b){if(typeof c=="function")b&&(c=k(c,b));else if(c&&typeof c.handleEvent=="function")c=k(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:f.setTimeout(c,y||0)}function Vi(c){c.g=zt(()=>{c.g=null,c.i&&(c.i=!1,Vi(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class ji extends G{constructor(y,b){super(),this.m=y,this.l=b,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Vi(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gr(c){G.call(this),this.h=c,this.g={}}V(Gr,G);var Yr=[];function zi(c){ye(c.g,function(y,b){this.g.hasOwnProperty(b)&&nn(y)},c),c.g={}}Gr.prototype.N=function(){Gr.aa.N.call(this),zi(this)},Gr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cr=f.JSON.stringify,Wo=f.JSON.parse,Bi=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Pl(){}Pl.prototype.h=null;function Nl(c){return c.h||(c.h=c.i())}function _l(){}var Zr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Jr(){X.call(this,"d")}V(Jr,X);function Dl(){X.call(this,"c")}V(Dl,X);var Ar={},Ml=null;function Hs(){return Ml=Ml||new dt}Ar.La="serverreachability";function Ho(c){X.call(this,Ar.La,c)}V(Ho,X);function Xs(c){const y=Hs();Qe(y,new Ho(y))}Ar.STAT_EVENT="statevent";function $c(c,y){X.call(this,Ar.STAT_EVENT,c),this.stat=y}V($c,X);function mt(c){const y=Hs();Qe(y,new $c(y,c))}Ar.Ma="timingevent";function Bt(c,y){X.call(this,Ar.Ma,c),this.size=y}V(Bt,X);function Rt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function Qn(){this.g=!0}Qn.prototype.xa=function(){this.g=!1};function Fl(c,y,b,C,z,H){c.info(function(){if(c.g)if(H)for(var ue="",He=H.split("&"),qt=0;qt<He.length;qt++){var Ge=He[qt].split("=");if(1<Ge.length){var Xt=Ge[0];Ge=Ge[1];var sn=Xt.split("_");ue=2<=sn.length&&sn[1]=="type"?ue+(Xt+"="+Ge+"&"):ue+(Xt+"=redacted&")}}else ue=null;else ue=H;return"XMLHTTP REQ ("+C+") [attempt "+z+"]: "+y+`
`+b+`
`+ue})}function Gp(c,y,b,C,z,H,ue){c.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+z+"]: "+y+`
`+b+`
`+H+" "+ue})}function Qs(c,y,b,C){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ui(c,b)+(C?" "+C:"")})}function Kc(c,y){c.info(function(){return"TIMEOUT: "+y})}Qn.prototype.info=function(){};function Ui(c,y){if(!c.g)return y;if(!y)return null;try{var b=JSON.parse(y);if(b){for(c=0;c<b.length;c++)if(Array.isArray(b[c])){var C=b[c];if(!(2>C.length)){var z=C[1];if(Array.isArray(z)&&!(1>z.length)){var H=z[0];if(H!="noop"&&H!="stop"&&H!="close")for(var ue=1;ue<z.length;ue++)z[ue]=""}}}}return cr(b)}catch{return y}}var Gs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},es={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Pr;function Nr(){}V(Nr,Pl),Nr.prototype.g=function(){return new XMLHttpRequest},Nr.prototype.i=function(){return{}},Pr=new Nr;function bn(c,y,b,C){this.j=c,this.i=y,this.l=b,this.R=C||1,this.U=new Gr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new It}function It(){this.i=null,this.g="",this.h=!1}var Rl={},Xo={};function hr(c,y,b){c.L=1,c.v=Hi(Rn(y)),c.m=b,c.P=!0,ts(c,null)}function ts(c,y){c.F=Date.now(),qi(c),c.A=Rn(c.v);var b=c.A,C=c.R;Array.isArray(C)||(C=[String(C)]),Bl(b.i,"t",C),c.C=0,b=c.j.J,c.h=new It,c.g=ah(c.j,b?y:null,!c.m),0<c.O&&(c.M=new ji(k(c.Y,c,c.g),c.O)),y=c.U,b=c.g,C=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(Yr[0]=z.toString()),z=Yr);for(var H=0;H<z.length;H++){var ue=mn(b,z[H],C||y.handleEvent,!1,y.h||y);if(!ue)break;y.g[ue.key]=ue}y=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Xs(),Fl(c.i,c.u,c.A,c.l,c.R,c.m)}bn.prototype.ca=function(c){c=c.target;const y=this.M;y&&Jn(c)==3?y.j():this.Y(c)},bn.prototype.Y=function(c){try{if(c==this.g)e:{const sn=Jn(this.g);var y=this.g.Ba();const us=this.g.Z();if(!(3>sn)&&(sn!=3||this.g&&(this.h.h||this.g.oa()||Jc(this.g)))){this.J||sn!=4||y==7||(y==8||0>=us?Xs(3):Xs(2)),Ys(this);var b=this.g.Z();this.X=b;t:if(Wc(this)){var C=Jc(this.g);c="";var z=C.length,H=Jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rn(this),_r(this);var ue="";break t}this.h.i=new f.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,c+=this.h.i.decode(C[y],{stream:!(H&&y==z-1)});C.length=0,this.h.g+=c,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=b==200,Gp(this.i,this.u,this.A,this.l,this.R,sn,b),this.o){if(this.T&&!this.K){t:{if(this.g){var He,qt=this.g;if((He=qt.g?qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(He)){var Ge=He;break t}}Ge=null}if(b=Ge)Qs(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$i(this,b);else{this.o=!1,this.s=3,mt(12),rn(this),_r(this);break e}}if(this.P){b=!0;let on;for(;!this.J&&this.C<ue.length;)if(on=Hc(this,ue),on==Xo){sn==4&&(this.s=4,mt(14),b=!1),Qs(this.i,this.l,null,"[Incomplete Response]");break}else if(on==Rl){this.s=4,mt(15),Qs(this.i,this.l,ue,"[Invalid Chunk]"),b=!1;break}else Qs(this.i,this.l,on,null),$i(this,on);if(Wc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),sn!=4||ue.length!=0||this.h.h||(this.s=1,mt(16),b=!1),this.o=this.o&&b,!b)Qs(this.i,this.l,ue,"[Invalid Chunked Response]"),rn(this),_r(this);else if(0<ue.length&&!this.W){this.W=!0;var Xt=this.j;Xt.g==this&&Xt.ba&&!Xt.M&&(Xt.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),to(Xt),Xt.M=!0,mt(11))}}else Qs(this.i,this.l,ue,null),$i(this,ue);sn==4&&rn(this),this.o&&!this.J&&(sn==4?sh(this.j,this):(this.o=!1,qi(this)))}else tm(this.g),b==400&&0<ue.indexOf("Unknown SID")?(this.s=3,mt(12)):(this.s=0,mt(13)),rn(this),_r(this)}}}catch{}finally{}};function Wc(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Hc(c,y){var b=c.C,C=y.indexOf(`
`,b);return C==-1?Xo:(b=Number(y.substring(b,C)),isNaN(b)?Rl:(C+=1,C+b>y.length?Xo:(y=y.slice(C,C+b),c.C=C+b,y)))}bn.prototype.cancel=function(){this.J=!0,rn(this)};function qi(c){c.S=Date.now()+c.I,Xc(c,c.I)}function Xc(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Rt(k(c.ba,c),y)}function Ys(c){c.B&&(f.clearTimeout(c.B),c.B=null)}bn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Kc(this.i,this.A),this.L!=2&&(Xs(),mt(17)),rn(this),this.s=2,_r(this)):Xc(this,this.S-c)};function _r(c){c.j.G==0||c.J||sh(c.j,c)}function rn(c){Ys(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,zi(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function $i(c,y){try{var b=c.j;if(b.G!=0&&(b.g==c||Ol(b.h,c))){if(!c.K&&Ol(b.h,c)&&b.G==3){try{var C=b.Da.g.parse(y)}catch{C=null}if(Array.isArray(C)&&C.length==3){var z=C;if(z[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<c.F)oa(b),sa(b);else break e;Wl(b),mt(18)}}else b.za=z[1],0<b.za-b.T&&37500>z[2]&&b.F&&b.v==0&&!b.C&&(b.C=Rt(k(b.Za,b),6e3));if(1>=Go(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else ls(b,11)}else if((c.K||b.g==c)&&oa(b),!te(y))for(z=b.Da.g.parse(y),y=0;y<z.length;y++){let Ge=z[y];if(b.T=Ge[0],Ge=Ge[1],b.G==2)if(Ge[0]=="c"){b.K=Ge[1],b.ia=Ge[2];const Xt=Ge[3];Xt!=null&&(b.la=Xt,b.j.info("VER="+b.la));const sn=Ge[4];sn!=null&&(b.Aa=sn,b.j.info("SVER="+b.Aa));const us=Ge[5];us!=null&&typeof us=="number"&&0<us&&(C=1.5*us,b.L=C,b.j.info("backChannelRequestTimeoutMs_="+C)),C=b;const on=c.g;if(on){const Vr=on.g?on.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vr){var H=C.h;H.g||Vr.indexOf("spdy")==-1&&Vr.indexOf("quic")==-1&&Vr.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Yo(H,H.h),H.h=null))}if(C.D){const Xl=on.g?on.g.getResponseHeader("X-HTTP-Session-Id"):null;Xl&&(C.ya=Xl,rt(C.I,C.D,Xl))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-c.F,b.j.info("Handshake RTT: "+b.R+"ms")),C=b;var ue=c;if(C.qa=oh(C,C.J?C.ia:null,C.W),ue.K){wn(C.h,ue);var He=ue,qt=C.L;qt&&(He.I=qt),He.B&&(Ys(He),qi(He)),C.g=ue}else nh(C);0<b.i.length&&ia(b)}else Ge[0]!="stop"&&Ge[0]!="close"||ls(b,7);else b.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?ls(b,7):$l(b):Ge[0]!="noop"&&b.l&&b.l.ta(Ge),b.v=0)}}Xs(4)}catch{}}var Qc=class{constructor(c,y){this.g=c,this.map=y}};function ns(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Go(c){return c.h?1:c.g?c.g.size:0}function Ol(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Yo(c,y){c.g?c.g.add(y):c.h=y}function wn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}ns.prototype.cancel=function(){if(this.i=Ll(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ll(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const b of c.g.values())y=y.concat(b.D);return y}return q(c.i)}function Yp(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(m(c)){for(var y=[],b=c.length,C=0;C<b;C++)y.push(c[C]);return y}y=[],b=0;for(C in c)y[b++]=c[C];return y}function Zo(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(m(c)||typeof c=="string"){var y=[];c=c.length;for(var b=0;b<c;b++)y.push(b);return y}y=[],b=0;for(const C in c)y[b++]=C;return y}}}function Vl(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(m(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var b=Zo(c),C=Yp(c),z=C.length,H=0;H<z;H++)y.call(void 0,C[H],b&&b[H],c)}var Ki=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zp(c,y){if(c){c=c.split("&");for(var b=0;b<c.length;b++){var C=c[b].indexOf("="),z=null;if(0<=C){var H=c[b].substring(0,C);z=c[b].substring(C+1)}else H=c[b];y(H,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Ut(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ut){this.h=c.h,Wi(this,c.j),this.o=c.o,this.g=c.g,Zs(this,c.s),this.l=c.l;var y=c.i,b=new ss;b.i=y.i,y.g&&(b.g=new Map(y.g),b.h=y.h),rs(this,b),this.m=c.m}else c&&(y=String(c).match(Ki))?(this.h=!1,Wi(this,y[1]||"",!0),this.o=Gn(y[2]||""),this.g=Gn(y[3]||"",!0),Zs(this,y[4]),this.l=Gn(y[5]||"",!0),rs(this,y[6]||"",!0),this.m=Gn(y[7]||"")):(this.h=!1,this.i=new ss(null,this.h))}Ut.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Xi(y,jl,!0),":");var b=this.g;return(b||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Xi(y,jl,!0),"@"),c.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&c.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(Xi(b,b.charAt(0)=="/"?Jp:zl,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",Xi(b,Jo)),c.join("")};function Rn(c){return new Ut(c)}function Wi(c,y,b){c.j=b?Gn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Zs(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function rs(c,y,b){y instanceof ss?(c.i=y,Yc(c.i,c.h)):(b||(y=Xi(y,em)),c.i=new ss(y,c.h))}function rt(c,y,b){c.i.set(y,b)}function Hi(c){return rt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Gn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Xi(c,y,b){return typeof c=="string"?(c=encodeURI(c).replace(y,Gc),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Gc(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var jl=/[#\/\?@]/g,zl=/[#\?:]/g,Jp=/[#\?]/g,em=/[#\?@]/g,Jo=/#/g;function ss(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Yn(c){c.g||(c.g=new Map,c.h=0,c.i&&Zp(c.i,function(y,b){c.add(decodeURIComponent(y.replace(/\+/g," ")),b)}))}n=ss.prototype,n.add=function(c,y){Yn(this),this.i=null,c=Dr(this,c);var b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(y),this.h+=1,this};function is(c,y){Yn(c),y=Dr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function os(c,y){return Yn(c),y=Dr(c,y),c.g.has(y)}n.forEach=function(c,y){Yn(this),this.g.forEach(function(b,C){b.forEach(function(z){c.call(y,z,C,this)},this)},this)},n.na=function(){Yn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),b=[];for(let C=0;C<y.length;C++){const z=c[C];for(let H=0;H<z.length;H++)b.push(y[C])}return b},n.V=function(c){Yn(this);let y=[];if(typeof c=="string")os(this,c)&&(y=y.concat(this.g.get(Dr(this,c))));else{c=Array.from(this.g.values());for(let b=0;b<c.length;b++)y=y.concat(c[b])}return y},n.set=function(c,y){return Yn(this),this.i=null,c=Dr(this,c),os(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},n.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Bl(c,y,b){is(c,y),0<b.length&&(c.i=null,c.g.set(Dr(c,y),q(b)),c.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var b=0;b<y.length;b++){var C=y[b];const H=encodeURIComponent(String(C)),ue=this.V(C);for(C=0;C<ue.length;C++){var z=H;ue[C]!==""&&(z+="="+encodeURIComponent(String(ue[C]))),c.push(z)}}return this.i=c.join("&")};function Dr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Yc(c,y){y&&!c.j&&(Yn(c),c.i=null,c.g.forEach(function(b,C){var z=C.toLowerCase();C!=z&&(is(this,C),Bl(this,z,b))},c)),c.j=y}function Qi(c,y){const b=new Qn;if(f.Image){const C=new Image;C.onload=A(Zn,b,"TestLoadImage: loaded",!0,y,C),C.onerror=A(Zn,b,"TestLoadImage: error",!1,y,C),C.onabort=A(Zn,b,"TestLoadImage: abort",!1,y,C),C.ontimeout=A(Zn,b,"TestLoadImage: timeout",!1,y,C),f.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=c}else y(!1)}function dr(c,y){const b=new Qn,C=new AbortController,z=setTimeout(()=>{C.abort(),Zn(b,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:C.signal}).then(H=>{clearTimeout(z),H.ok?Zn(b,"TestPingServer: ok",!0,y):Zn(b,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Zn(b,"TestPingServer: error",!1,y)})}function Zn(c,y,b,C,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),C(b)}catch{}}function Gi(){this.g=new Bi}function Mr(c,y,b){const C=b||"";try{Vl(c,function(z,H){let ue=z;g(z)&&(ue=cr(z)),y.push(C+H+"="+encodeURIComponent(ue))})}catch(z){throw y.push(C+"type="+encodeURIComponent("_badmap")),z}}function Js(c){this.l=c.Ub||null,this.j=c.eb||!1}V(Js,Pl),Js.prototype.g=function(){return new as(this.l,this.j)},Js.prototype.i=(function(c){return function(){return c}})({});function as(c,y){dt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(as,dt),n=as.prototype,n.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Rr(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||f).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fr(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Rr(this)),this.g&&(this.readyState=3,Rr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ul(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ul(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Fr(this):Rr(this),this.readyState==3&&Ul(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Fr(this))},n.Qa=function(c){this.g&&(this.response=c,Fr(this))},n.ga=function(){this.g&&Fr(this)};function Fr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Rr(c)}n.setRequestHeader=function(c,y){this.u.append(c,y)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var b=y.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=y.next();return c.join(`\r
`)};function Rr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(as.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ql(c){let y="";return ye(c,function(b,C){y+=C,y+=":",y+=b,y+=`\r
`}),y}function Ht(c,y,b){e:{for(C in b){var C=!1;break e}C=!0}C||(b=ql(b),typeof c=="string"?b!=null&&encodeURIComponent(String(b)):rt(c,y,b))}function Je(c){dt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(Je,dt);var ea=/^https?$/i,Yi=["POST","PUT"];n=Je.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,y,b,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pr.g(),this.v=this.o?Nl(this.o):Nl(Pr),this.g.onreadystatechange=k(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(H){Zc(this,H);return}if(c=b||"",b=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var z in C)b.set(z,C[z]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const H of C.keys())b.set(H,C.get(H));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(b.keys()).find(H=>H.toLowerCase()=="content-type"),z=f.FormData&&c instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Yi,y,void 0))||C||z||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ue]of b)this.g.setRequestHeader(H,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zi(this),this.u=!0,this.g.send(c),this.u=!1}catch(H){Zc(this,H)}};function Zc(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ta(c),Or(c)}function ta(c){c.A||(c.A=!0,Qe(c,"complete"),Qe(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Qe(this,"complete"),Qe(this,"abort"),Or(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Or(this,!0)),Je.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?na(this):this.bb())},n.bb=function(){na(this)};function na(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Jn(c)!=4||c.Z()!=2)){if(c.u&&Jn(c)==4)zt(c.Ea,0,c);else if(Qe(c,"readystatechange"),Jn(c)==4){c.h=!1;try{const ue=c.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var b;if(!(b=y)){var C;if(C=ue===0){var z=String(c.D).match(Ki)[1]||null;!z&&f.self&&f.self.location&&(z=f.self.location.protocol.slice(0,-1)),C=!ea.test(z?z.toLowerCase():"")}b=C}if(b)Qe(c,"complete"),Qe(c,"success");else{c.m=6;try{var H=2<Jn(c)?c.g.statusText:""}catch{H=""}c.l=H+" ["+c.Z()+"]",ta(c)}}finally{Or(c)}}}}function Or(c,y){if(c.g){Zi(c);const b=c.g,C=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Qe(c,"ready");try{b.onreadystatechange=C}catch{}}}function Zi(c){c.I&&(f.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Jn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Jn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Wo(y)}};function Jc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function tm(c){const y={};c=(c.g&&2<=Jn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<c.length;C++){if(te(c[C]))continue;var b=F(c[C]);const z=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const H=y[z]||[];y[z]=H,H.push(b)}M(y,function(C){return C.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ji(c,y,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||y}function ra(c){this.Aa=0,this.i=[],this.j=new Qn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ji("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ji("baseRetryDelayMs",5e3,c),this.cb=Ji("retryDelaySeedMs",1e4,c),this.Wa=Ji("forwardChannelMaxRetries",2,c),this.wa=Ji("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ns(c&&c.concurrentRequestLimit),this.Da=new Gi,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ra.prototype,n.la=8,n.G=1,n.connect=function(c,y,b,C){mt(0),this.W=c,this.H=y||{},b&&C!==void 0&&(this.H.OSID=b,this.H.OAID=C),this.F=this.X,this.I=oh(this,null,this.W),ia(this)};function $l(c){if(eh(c),c.G==3){var y=c.U++,b=Rn(c.I);if(rt(b,"SID",c.K),rt(b,"RID",y),rt(b,"TYPE","terminate"),eo(c,b),y=new bn(c,c.j,y),y.L=2,y.v=Hi(Rn(b)),b=!1,f.navigator&&f.navigator.sendBeacon)try{b=f.navigator.sendBeacon(y.v.toString(),"")}catch{}!b&&f.Image&&(new Image().src=y.v,b=!0),b||(y.g=ah(y.j,null),y.g.ea(y.v)),y.F=Date.now(),qi(y)}ih(c)}function sa(c){c.g&&(to(c),c.g.cancel(),c.g=null)}function eh(c){sa(c),c.u&&(f.clearTimeout(c.u),c.u=null),oa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&f.clearTimeout(c.s),c.s=null)}function ia(c){if(!Qo(c.h)&&!c.s){c.s=!0;var y=c.Ga;re||T(),de||(re(),de=!0),Me.add(y,c),c.B=0}}function nm(c,y){return Go(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Rt(k(c.Ga,c,y),Hl(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new bn(this,this.j,c);let H=this.o;if(this.S&&(H?(H=I(H),D(H,this.S)):H=this.S),this.m!==null||this.O||(z.H=H,H=null),this.P)e:{for(var y=0,b=0;b<this.i.length;b++){t:{var C=this.i[b];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(y+=C,4096<y){y=b;break e}if(y===4096||b===this.i.length-1){y=b+1;break e}}y=1e3}else y=1e3;y=th(this,z,y),b=Rn(this.I),rt(b,"RID",c),rt(b,"CVER",22),this.D&&rt(b,"X-HTTP-Session-Id",this.D),eo(this,b),H&&(this.O?y="headers="+encodeURIComponent(String(ql(H)))+"&"+y:this.m&&Ht(b,this.m,H)),Yo(this.h,z),this.Ua&&rt(b,"TYPE","init"),this.P?(rt(b,"$req",y),rt(b,"SID","null"),z.T=!0,hr(z,b,null)):hr(z,b,y),this.G=2}}else this.G==3&&(c?Kl(this,c):this.i.length==0||Qo(this.h)||Kl(this))};function Kl(c,y){var b;y?b=y.l:b=c.U++;const C=Rn(c.I);rt(C,"SID",c.K),rt(C,"RID",b),rt(C,"AID",c.T),eo(c,C),c.m&&c.o&&Ht(C,c.m,c.o),b=new bn(c,c.j,b,c.B+1),c.m===null&&(b.H=c.o),y&&(c.i=y.D.concat(c.i)),y=th(c,b,1e3),b.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Yo(c.h,b),hr(b,C,y)}function eo(c,y){c.H&&ye(c.H,function(b,C){rt(y,C,b)}),c.l&&Vl({},function(b,C){rt(y,C,b)})}function th(c,y,b){b=Math.min(c.i.length,b);var C=c.l?k(c.l.Na,c.l,c):null;e:{var z=c.i;let H=-1;for(;;){const ue=["count="+b];H==-1?0<b?(H=z[0].g,ue.push("ofs="+H)):H=0:ue.push("ofs="+H);let He=!0;for(let qt=0;qt<b;qt++){let Ge=z[qt].g;const Xt=z[qt].map;if(Ge-=H,0>Ge)H=Math.max(0,z[qt].g-100),He=!1;else try{Mr(Xt,ue,"req"+Ge+"_")}catch{C&&C(Xt)}}if(He){C=ue.join("&");break e}}}return c=c.i.splice(0,b),y.D=c,C}function nh(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;re||T(),de||(re(),de=!0),Me.add(y,c),c.v=0}}function Wl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Rt(k(c.Fa,c),Hl(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,rh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Rt(k(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mt(10),sa(this),rh(this))};function to(c){c.A!=null&&(f.clearTimeout(c.A),c.A=null)}function rh(c){c.g=new bn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Rn(c.qa);rt(y,"RID","rpc"),rt(y,"SID",c.K),rt(y,"AID",c.T),rt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&rt(y,"TO",c.ja),rt(y,"TYPE","xmlhttp"),eo(c,y),c.m&&c.o&&Ht(y,c.m,c.o),c.L&&(c.g.I=c.L);var b=c.g;c=c.ia,b.L=1,b.v=Hi(Rn(y)),b.m=null,b.P=!0,ts(b,c)}n.Za=function(){this.C!=null&&(this.C=null,sa(this),Wl(this),mt(19))};function oa(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function sh(c,y){var b=null;if(c.g==y){oa(c),to(c),c.g=null;var C=2}else if(Ol(c.h,y))b=y.D,wn(c.h,y),C=1;else return;if(c.G!=0){if(y.o)if(C==1){b=y.m?y.m.length:0,y=Date.now()-y.F;var z=c.B;C=Hs(),Qe(C,new Bt(C,b)),ia(c)}else nh(c);else if(z=y.s,z==3||z==0&&0<y.X||!(C==1&&nm(c,y)||C==2&&Wl(c)))switch(b&&0<b.length&&(y=c.h,y.i=y.i.concat(b)),z){case 1:ls(c,5);break;case 4:ls(c,10);break;case 3:ls(c,6);break;default:ls(c,2)}}}function Hl(c,y){let b=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(b*=2),b*y}function ls(c,y){if(c.j.info("Error code "+y),y==2){var b=k(c.fb,c),C=c.Xa;const z=!C;C=new Ut(C||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Wi(C,"https"),Hi(C),z?Qi(C.toString(),b):dr(C.toString(),b)}else mt(2);c.G=0,c.l&&c.l.sa(y),ih(c),eh(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function ih(c){if(c.G=0,c.ka=[],c.l){const y=Ll(c.h);(y.length!=0||c.i.length!=0)&&(j(c.ka,y),j(c.ka,c.i),c.h.i.length=0,q(c.i),c.i.length=0),c.l.ra()}}function oh(c,y,b){var C=b instanceof Ut?Rn(b):new Ut(b);if(C.g!="")y&&(C.g=y+"."+C.g),Zs(C,C.s);else{var z=f.location;C=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var H=new Ut(null);C&&Wi(H,C),y&&(H.g=y),z&&Zs(H,z),b&&(H.l=b),C=H}return b=c.D,y=c.ya,b&&y&&rt(C,b,y),rt(C,"VER",c.la),eo(c,C),C}function ah(c,y,b){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Je(new Js({eb:b})):new Je(c.pa),y.Ha(c.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function lh(){}n=lh.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function aa(){}aa.prototype.g=function(c,y){return new En(c,y)};function En(c,y){dt.call(this),this.g=new ra(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!te(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!te(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Lr(this)}V(En,dt),En.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){$l(this.g)},En.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.u&&(b={},b.__data__=cr(c),c=b);y.i.push(new Qc(y.Ya++,c)),y.G==3&&ia(y)},En.prototype.N=function(){this.g.l=null,delete this.j,$l(this.g),delete this.g,En.aa.N.call(this)};function uh(c){Jr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const b in y){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}V(uh,Jr);function ch(){Dl.call(this),this.status=1}V(ch,Dl);function Lr(c){this.g=c}V(Lr,lh),Lr.prototype.ua=function(){Qe(this.g,"a")},Lr.prototype.ta=function(c){Qe(this.g,new uh(c))},Lr.prototype.sa=function(c){Qe(this.g,new ch)},Lr.prototype.ra=function(){Qe(this.g,"b")},aa.prototype.createWebChannel=aa.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,dv=function(){return new aa},hv=function(){return Hs()},cv=Ar,Vd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Gs.NO_ERROR=0,Gs.TIMEOUT=8,Gs.HTTP_ERROR=6,Uu=Gs,es.COMPLETE="complete",uv=es,_l.EventType=Zr,Zr.OPEN="a",Zr.CLOSE="b",Zr.ERROR="c",Zr.MESSAGE="d",dt.prototype.listen=dt.prototype.K,qa=_l,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,lv=Je}).apply(typeof Bu<"u"?Bu:typeof self<"u"?self:typeof window<"u"?window:{});const fv="@firebase/firestore",pv="4.8.0";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let vo="11.10.0";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ci=new vd("@firebase/firestore");function bo(){return Ci.logLevel}function he(n,...e){if(Ci.logLevel<=qe.DEBUG){const r=e.map(jd);Ci.debug(`Firestore (${vo}): ${n}`,...r)}}function Kr(n,...e){if(Ci.logLevel<=qe.ERROR){const r=e.map(jd);Ci.error(`Firestore (${vo}): ${n}`,...r)}}function Ps(n,...e){if(Ci.logLevel<=qe.WARN){const r=e.map(jd);Ci.warn(`Firestore (${vo}): ${n}`,...r)}}function jd(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(n)}catch{return n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ke(n,e,r){let i="Unexpected state";typeof e=="string"?i=e:r=e,mv(n,i,r)}function mv(n,e,r){let i=`FIRESTORE (${vo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(r!==void 0)try{i+=" CONTEXT: "+JSON.stringify(r)}catch{i+=" CONTEXT: "+r}throw Kr(i),new Error(i)}function Ze(n,e,r,i){let a="Unexpected state";typeof r=="string"?a=r:i=r,n||mv(e,a,i)}function Pe(n,e){return n}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends ks{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xi{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class gv{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(hn.UNAUTHENTICATED)))}shutdown(){}}class nI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class rI{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Ze(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,r(m)):Promise.resolve();let u=new xi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new xi,e.enqueueRetryable((()=>a(this.currentUser)))};const h=()=>{const m=u;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},f=m=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new xi)}}),0),h()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((i=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ze(typeof i.accessToken=="string",31837,{l:i}),new gv(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new hn(e)}}class sI{constructor(e,r,i){this.P=e,this.T=r,this.I=i,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class iI{constructor(e,r,i){this.P=e,this.T=r,this.I=i}getToken(){return Promise.resolve(new sI(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable((()=>r(hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class yv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oI{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wC(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){Ze(this.o===void 0,3512);const i=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,he("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?r(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>i(u)))};const a=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>a(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?a(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new yv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(Ze(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new yv(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function aI(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let i=0;i<n;i++)r[i]=Math.floor(256*Math.random());return r}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function vv(){return new TextEncoder}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=aI(40);for(let u=0;u<a.length;++u)i.length<20&&a[u]<r&&(i+=e.charAt(a[u]%62))}return i}}function Fe(n,e){return n<e?-1:n>e?1:0}function Bd(n,e){let r=0;for(;r<n.length&&r<e.length;){const i=n.codePointAt(r),a=e.codePointAt(r);if(i!==a){if(i<128&&a<128)return Fe(i,a);{const u=vv(),h=lI(u.encode(bv(n,r)),u.encode(bv(e,r)));return h!==0?h:Fe(i,a)}}r+=i>65535?2:1}return Fe(n.length,e.length)}function bv(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function lI(n,e){for(let r=0;r<n.length&&r<e.length;++r)if(n[r]!==e[r])return Fe(n[r],e[r]);return Fe(n.length,e.length)}function wo(n,e,r){return n.length===e.length&&n.every(((i,a)=>r(i,e[a])))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const wv="__name__";class vr{constructor(e,r,i){r===void 0?r=0:r>e.length&&ke(637,{offset:r,range:e.length}),i===void 0?i=e.length-r:i>e.length-r&&ke(1746,{length:i,range:e.length-r}),this.segments=e,this.offset=r,this.len=i}get length(){return this.len}isEqual(e){return vr.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof vr?e.forEach((i=>{r.push(i)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,i=this.limit();r<i;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const i=Math.min(e.length,r.length);for(let a=0;a<i;a++){const u=vr.compareSegments(e.get(a),r.get(a));if(u!==0)return u}return Fe(e.length,r.length)}static compareSegments(e,r){const i=vr.isNumericId(e),a=vr.isNumericId(r);return i&&!a?-1:!i&&a?1:i&&a?vr.extractNumericId(e).compare(vr.extractNumericId(r)):Bd(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return As.fromString(e.substring(4,e.length-2))}}class ct extends vr{construct(e,r,i){return new ct(e,r,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const i of e){if(i.indexOf("//")>=0)throw new be(ne.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);r.push(...i.split("/").filter((a=>a.length>0)))}return new ct(r)}static emptyPath(){return new ct([])}}const uI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends vr{construct(e,r,i){return new Zt(e,r,i)}static isValidIdentifier(e){return uI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wv}static keyField(){return new Zt([wv])}static fromServerFormat(e){const r=[];let i="",a=0;const u=()=>{if(i.length===0)throw new be(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(i),i=""};let h=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new be(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new be(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,a+=2}else f==="`"?(h=!h,a++):f!=="."||h?(i+=f,a++):(u(),a++)}if(u(),h)throw new be(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(r)}static emptyPath(){return new Zt([])}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(ct.fromString(e))}static fromName(e){return new Ee(ct.fromString(e).popFirst(5))}static empty(){return new Ee(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return ct.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new ct(e.slice()))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ev(n,e,r){if(!r)throw new be(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function cI(n,e,r,i){if(e===!0&&i===!0)throw new be(ne.INVALID_ARGUMENT,`${n} and ${r} cannot be used together.`)}function Sv(n){if(!Ee.isDocumentKey(n))throw new be(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Tv(n){if(Ee.isDocumentKey(n))throw new be(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function kv(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Ud(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ke(12329,{type:typeof n})}function Ns(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new be(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Ud(n);throw new be(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return n}/**
* @license
* Copyright 2025 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Nt(n,e){const r={typeString:n};return e&&(r.value=e),r}function $a(n,e){if(!kv(n))throw new be(ne.INVALID_ARGUMENT,"JSON must be an object");let r;for(const i in e)if(e[i]){const a=e[i].typeString,u="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){r=`JSON missing required field: '${i}'`;break}const h=n[i];if(a&&typeof h!==a){r=`JSON field '${i}' must be a ${a}.`;break}if(u!==void 0&&h!==u.value){r=`Expected '${i}' field to equal '${u.value}'`;break}}if(r)throw new be(ne.INVALID_ARGUMENT,r);return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Cv=-62135596800,xv=1e6;class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),i=Math.floor((e-1e3*r)*xv);return new ht(r,i)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new be(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new be(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<Cv)throw new be(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xv}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if($a(e,ht._jsonSchema))return new ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Cv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ht._jsonSchemaVersion="firestore/timestamp/1.0",ht._jsonSchema={type:Nt("string",ht._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new ht(0,0))}static max(){return new Ae(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ka=-1;function hI(n,e){const r=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Ae.fromTimestamp(i===1e9?new ht(r+1,0):new ht(r,i));return new _s(a,Ee.empty(),e)}function dI(n){return new _s(n.readTime,n.key,Ka)}class _s{constructor(e,r,i){this.readTime=e,this.documentKey=r,this.largestBatchId=i}static min(){return new _s(Ae.min(),Ee.empty(),Ka)}static max(){return new _s(Ae.max(),Ee.empty(),Ka)}}function fI(n,e){let r=n.readTime.compareTo(e.readTime);return r!==0?r:(r=Ee.comparator(n.documentKey,e.documentKey),r!==0?r:Fe(n.largestBatchId,e.largestBatchId))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const pI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Eo(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==pI)throw n;he("LocalStore","Unexpectedly lost primary lease")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new J(((i,a)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(i,a)},this.catchCallback=u=>{this.wrapFailure(r,u).next(i,a)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof J?r:J.resolve(r)}catch(r){return J.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):J.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):J.reject(r)}static resolve(e){return new J(((r,i)=>{r(e)}))}static reject(e){return new J(((r,i)=>{i(e)}))}static waitFor(e){return new J(((r,i)=>{let a=0,u=0,h=!1;e.forEach((f=>{++a,f.next((()=>{++u,h&&u===a&&r()}),(m=>i(m)))})),h=!0,u===a&&r()}))}static or(e){let r=J.resolve(!1);for(const i of e)r=r.next((a=>a?J.resolve(a):i()));return r}static forEach(e,r){const i=[];return e.forEach(((a,u)=>{i.push(r.call(this,a,u))})),this.waitFor(i)}static mapArray(e,r){return new J(((i,a)=>{const u=e.length,h=new Array(u);let f=0;for(let m=0;m<u;m++){const g=m;r(e[g]).next((v=>{h[g]=v,++f,f===u&&i(h)}),(v=>a(v)))}}))}static doWhile(e,r){return new J(((i,a)=>{const u=()=>{e()===!0?r().next((()=>{u()}),a):i()};u()}))}}function gI(n){const e=n.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function So(n){return n.name==="IndexedDbTransactionError"}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qu{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}qu.ue=-1;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const qd=-1;function $u(n){return n==null}function Ku(n){return n===0&&1/n==-1/0}function yI(n){return typeof n=="number"&&Number.isInteger(n)&&!Ku(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Iv="";function vI(n){let e="";for(let r=0;r<n.length;r++)e.length>0&&(e=Av(e)),e=bI(n.get(r),e);return Av(e)}function bI(n,e){let r=e;const i=n.length;for(let a=0;a<i;a++){const u=n.charAt(a);switch(u){case"\0":r+="";break;case Iv:r+="";break;default:r+=u}}return r}function Av(n){return n+Iv+""}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Pv(n){let e=0;for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&e++;return e}function Ds(n,e){for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&e(r,n[r])}function Nv(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class yt{constructor(e,r){this.comparator=e,this.root=r||Jt.EMPTY}insert(e,r){return new yt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return r.value;i<0?r=r.left:i>0&&(r=r.right)}return null}indexOf(e){let r=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return r+i.left.size;a<0?i=i.left:(r+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,i)=>(e(r,i),!1)))}toString(){const e=[];return this.inorderTraversal(((r,i)=>(e.push(`${r}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wu(this.root,e,this.comparator,!0)}}class Wu{constructor(e,r,i,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=r?i(e.key,r):1,r&&a&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,r,i,a,u){this.key=e,this.value=r,this.color=i??Jt.RED,this.left=a??Jt.EMPTY,this.right=u??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,i,a,u){return new Jt(e??this.key,r??this.value,i??this.color,a??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,i){let a=this;const u=i(e,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(e,r,i),null):u===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(e,r,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let i,a=this;if(r(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(e,a.key)===0){if(a.right.isEmpty())return Jt.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ke(27949);return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1,Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw ke(57766)}get value(){throw ke(16141)}get color(){throw ke(16727)}get left(){throw ke(29726)}get right(){throw ke(36894)}copy(n,e,r,i,a){return this}insert(n,e,r){return new Jt(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Vt{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,i)=>(e(r),!1)))}forEachInRange(e,r){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;r(a.key)}}forEachWhile(e,r){let i;for(i=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new _v(this.data.getIterator())}getIteratorFrom(e){return new _v(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((i=>{r=r.add(i)})),r}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const r=this.data.getIterator(),i=e.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,u=i.getNext().key;if(this.comparator(a,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new Vt(this.comparator);return r.data=e,r}}class _v{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _n{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new _n([])}unionWith(e){let r=new Vt(Zt.comparator);for(const i of this.fields)r=r.add(i);for(const i of e)r=r.add(i);return new _n(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return wo(this.fields,e.fields,((r,i)=>r.isEqual(i)))}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Dv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class en{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Dv("Invalid base64 string: "+a):a}})(e);return new en(r)}static fromUint8Array(e){const r=(function(i){let a="";for(let u=0;u<i.length;++u)a+=String.fromCharCode(i[u]);return a})(e);return new en(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const r=new Uint8Array(e.length);for(let i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const wI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ms(n){if(Ze(!!n,39018),typeof n=="string"){let e=0;const r=wI.exec(n);if(Ze(!!r,46558,{timestamp:n}),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ct(n.seconds),nanos:Ct(n.nanos)}}function Ct(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Fs(n){return typeof n=="string"?en.fromBase64String(n):en.fromUint8Array(n)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Mv="server_timestamp",Fv="__type__",Rv="__previous_value__",Ov="__local_write_time__";function $d(n){var e,r;return((r=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Fv])===null||r===void 0?void 0:r.stringValue)===Mv}function Hu(n){const e=n.mapValue.fields[Rv];return $d(e)?Hu(e):e}function Wa(n){const e=Ms(n.mapValue.fields[Ov].timestampValue);return new ht(e.seconds,e.nanos)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class EI{constructor(e,r,i,a,u,h,f,m,g,v){this.databaseId=e,this.appId=r,this.persistenceKey=i,this.host=a,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=v}}const Xu="(default)";class Ha{constructor(e,r){this.projectId=e,this.database=r||Xu}static empty(){return new Ha("","")}get isDefaultDatabase(){return this.database===Xu}isEqual(e){return e instanceof Ha&&e.projectId===this.projectId&&e.database===this.database}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Lv="__type__",SI="__max__",Qu={mapValue:{}},Vv="__vector__",Gu="value";function Rs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?$d(n)?4:kI(n)?9007199254740991:TI(n)?10:11:ke(28295,{value:n})}function br(n,e){if(n===e)return!0;const r=Rs(n);if(r!==Rs(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Wa(n).isEqual(Wa(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const u=Ms(i.timestampValue),h=Ms(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,a){return Fs(i.bytesValue).isEqual(Fs(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,a){return Ct(i.geoPointValue.latitude)===Ct(a.geoPointValue.latitude)&&Ct(i.geoPointValue.longitude)===Ct(a.geoPointValue.longitude)})(n,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Ct(i.integerValue)===Ct(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const u=Ct(i.doubleValue),h=Ct(a.doubleValue);return u===h?Ku(u)===Ku(h):isNaN(u)&&isNaN(h)}return!1})(n,e);case 9:return wo(n.arrayValue.values||[],e.arrayValue.values||[],br);case 10:case 11:return(function(i,a){const u=i.mapValue.fields||{},h=a.mapValue.fields||{};if(Pv(u)!==Pv(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!br(u[f],h[f])))return!1;return!0})(n,e);default:return ke(52216,{left:n})}}function Xa(n,e){return(n.values||[]).find((r=>br(r,e)))!==void 0}function To(n,e){if(n===e)return 0;const r=Rs(n),i=Rs(e);if(r!==i)return Fe(r,i);switch(r){case 0:case 9007199254740991:return 0;case 1:return Fe(n.booleanValue,e.booleanValue);case 2:return(function(a,u){const h=Ct(a.integerValue||a.doubleValue),f=Ct(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,e);case 3:return jv(n.timestampValue,e.timestampValue);case 4:return jv(Wa(n),Wa(e));case 5:return Bd(n.stringValue,e.stringValue);case 6:return(function(a,u){const h=Fs(a),f=Fs(u);return h.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(a,u){const h=a.split("/"),f=u.split("/");for(let m=0;m<h.length&&m<f.length;m++){const g=Fe(h[m],f[m]);if(g!==0)return g}return Fe(h.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,u){const h=Fe(Ct(a.latitude),Ct(u.latitude));return h!==0?h:Fe(Ct(a.longitude),Ct(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return zv(n.arrayValue,e.arrayValue);case 10:return(function(a,u){var h,f,m,g;const v=a.fields||{},E=u.fields||{},k=(h=v[Gu])===null||h===void 0?void 0:h.arrayValue,A=(f=E[Gu])===null||f===void 0?void 0:f.arrayValue,V=Fe(((m=k==null?void 0:k.values)===null||m===void 0?void 0:m.length)||0,((g=A==null?void 0:A.values)===null||g===void 0?void 0:g.length)||0);return V!==0?V:zv(k,A)})(n.mapValue,e.mapValue);case 11:return(function(a,u){if(a===Qu.mapValue&&u===Qu.mapValue)return 0;if(a===Qu.mapValue)return 1;if(u===Qu.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),m=u.fields||{},g=Object.keys(m);f.sort(),g.sort();for(let v=0;v<f.length&&v<g.length;++v){const E=Bd(f[v],g[v]);if(E!==0)return E;const k=To(h[f[v]],m[g[v]]);if(k!==0)return k}return Fe(f.length,g.length)})(n.mapValue,e.mapValue);default:throw ke(23264,{le:r})}}function jv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Fe(n,e);const r=Ms(n),i=Ms(e),a=Fe(r.seconds,i.seconds);return a!==0?a:Fe(r.nanos,i.nanos)}function zv(n,e){const r=n.values||[],i=e.values||[];for(let a=0;a<r.length&&a<i.length;++a){const u=To(r[a],i[a]);if(u)return u}return Fe(r.length,i.length)}function ko(n){return Kd(n)}function Kd(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const r=Ms(e);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return Fs(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return Ee.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let r="[",i=!0;for(const a of e.values||[])i?i=!1:r+=",",r+=Kd(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(e){const r=Object.keys(e.fields||{}).sort();let i="{",a=!0;for(const u of r)a?a=!1:i+=",",i+=`${u}:${Kd(e.fields[u])}`;return i+"}"})(n.mapValue):ke(61005,{value:n})}function Yu(n){switch(Rs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hu(n);return e?16+Yu(e):16;case 5:return 2*n.stringValue.length;case 6:return Fs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+Yu(a)),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return Ds(r.fields,((a,u)=>{i+=a.length+Yu(u)})),i})(n.mapValue);default:throw ke(13486,{value:n})}}function Wd(n){return!!n&&"integerValue"in n}function Hd(n){return!!n&&"arrayValue"in n}function Bv(n){return!!n&&"nullValue"in n}function Uv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Zu(n){return!!n&&"mapValue"in n}function TI(n){var e,r;return((r=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Lv])===null||r===void 0?void 0:r.stringValue)===Vv}function Qa(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ds(n.mapValue.fields,((r,i)=>e.mapValue.fields[r]=Qa(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(n.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Qa(n.arrayValue.values[r]);return e}return Object.assign({},n)}function kI(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===SI}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class kn{constructor(e){this.value=e}static empty(){return new kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let i=0;i<e.length-1;++i)if(r=(r.mapValue.fields||{})[e.get(i)],!Zu(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qa(r)}setAll(e){let r=Zt.emptyPath(),i={},a=[];e.forEach(((h,f)=>{if(!r.isImmediateParentOf(f)){const m=this.getFieldsMap(r);this.applyChanges(m,i,a),i={},a=[],r=f.popLast()}h?i[f.lastSegment()]=Qa(h):a.push(f.lastSegment())}));const u=this.getFieldsMap(r);this.applyChanges(u,i,a)}delete(e){const r=this.field(e.popLast());Zu(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return br(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=r.mapValue.fields[e.get(i)];Zu(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[e.get(i)]=a),r=a}return r.mapValue.fields}applyChanges(e,r,i){Ds(r,((a,u)=>e[a]=u));for(const a of i)delete e[a]}clone(){return new kn(Qa(this.value))}}function qv(n){const e=[];return Ds(n.fields,((r,i)=>{const a=new Zt([r]);if(Zu(i)){const u=qv(i.mapValue).fields;if(u.length===0)e.push(a);else for(const h of u)e.push(a.child(h))}else e.push(a)})),new _n(e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class dn{constructor(e,r,i,a,u,h,f){this.key=e,this.documentType=r,this.version=i,this.readTime=a,this.createTime=u,this.data=h,this.documentState=f}static newInvalidDocument(e){return new dn(e,0,Ae.min(),Ae.min(),Ae.min(),kn.empty(),0)}static newFoundDocument(e,r,i,a){return new dn(e,1,r,Ae.min(),i,a,0)}static newNoDocument(e,r){return new dn(e,2,r,Ae.min(),Ae.min(),kn.empty(),0)}static newUnknownDocument(e,r){return new dn(e,3,r,Ae.min(),Ae.min(),kn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ju{constructor(e,r){this.position=e,this.inclusive=r}}function $v(n,e,r){let i=0;for(let a=0;a<n.position.length;a++){const u=e[a],h=n.position[a];if(u.field.isKeyField()?i=Ee.comparator(Ee.fromName(h.referenceValue),r.key):i=To(h,r.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return i}function Kv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let r=0;r<n.position.length;r++)if(!br(n.position[r],e.position[r]))return!1;return!0}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ec{constructor(e,r="asc"){this.field=e,this.dir=r}}function CI(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Wv{}class jt extends Wv{constructor(e,r,i){super(),this.field=e,this.op=r,this.value=i}static create(e,r,i){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,i):new II(e,r,i):r==="array-contains"?new NI(e,i):r==="in"?new _I(e,i):r==="not-in"?new DI(e,i):r==="array-contains-any"?new MI(e,i):new jt(e,r,i)}static createKeyFieldInFilter(e,r,i){return r==="in"?new AI(e,i):new PI(e,i)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(To(r,this.value)):r!==null&&Rs(this.value)===Rs(r)&&this.matchesComparison(To(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wr extends Wv{constructor(e,r){super(),this.filters=e,this.op=r,this.he=null}static create(e,r){return new wr(e,r)}matches(e){return Hv(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Hv(n){return n.op==="and"}function Xv(n){return xI(n)&&Hv(n)}function xI(n){for(const e of n.filters)if(e instanceof wr)return!1;return!0}function Xd(n){if(n instanceof jt)return n.field.canonicalString()+n.op.toString()+ko(n.value);if(Xv(n))return n.filters.map((e=>Xd(e))).join(",");{const e=n.filters.map((r=>Xd(r))).join(",");return`${n.op}(${e})`}}function Qv(n,e){return n instanceof jt?(function(r,i){return i instanceof jt&&r.op===i.op&&r.field.isEqual(i.field)&&br(r.value,i.value)})(n,e):n instanceof wr?(function(r,i){return i instanceof wr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,u,h)=>a&&Qv(u,i.filters[h])),!0):!1})(n,e):void ke(19439)}function Gv(n){return n instanceof jt?(function(e){return`${e.field.canonicalString()} ${e.op} ${ko(e.value)}`})(n):n instanceof wr?(function(e){return e.op.toString()+" {"+e.getFilters().map(Gv).join(" ,")+"}"})(n):"Filter"}class II extends jt{constructor(e,r,i){super(e,r,i),this.key=Ee.fromName(i.referenceValue)}matches(e){const r=Ee.comparator(e.key,this.key);return this.matchesComparison(r)}}class AI extends jt{constructor(e,r){super(e,"in",r),this.keys=Yv("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class PI extends jt{constructor(e,r){super(e,"not-in",r),this.keys=Yv("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function Yv(n,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map((i=>Ee.fromName(i.referenceValue)))}class NI extends jt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Hd(r)&&Xa(r.arrayValue,this.value)}}class _I extends jt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Xa(this.value.arrayValue,r)}}class DI extends jt{constructor(e,r){super(e,"not-in",r)}matches(e){if(Xa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Xa(this.value.arrayValue,r)}}class MI extends jt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Hd(r)||!r.arrayValue.values)&&r.arrayValue.values.some((i=>Xa(this.value.arrayValue,i)))}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class FI{constructor(e,r=null,i=[],a=[],u=null,h=null,f=null){this.path=e,this.collectionGroup=r,this.orderBy=i,this.filters=a,this.limit=u,this.startAt=h,this.endAt=f,this.Pe=null}}function Zv(n,e=null,r=[],i=[],a=null,u=null,h=null){return new FI(n,e,r,i,a,u,h)}function Qd(n){const e=Pe(n);if(e.Pe===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((i=>Xd(i))).join(","),r+="|ob:",r+=e.orderBy.map((i=>(function(a){return a.field.canonicalString()+a.dir})(i))).join(","),$u(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((i=>ko(i))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((i=>ko(i))).join(",")),e.Pe=r}return e.Pe}function Gd(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!CI(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if(!Qv(n.filters[r],e.filters[r]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Kv(n.startAt,e.startAt)&&Kv(n.endAt,e.endAt)}function Yd(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tc{constructor(e,r=null,i=[],a=[],u=null,h="F",f=null,m=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=i,this.filters=a,this.limit=u,this.limitType=h,this.startAt=f,this.endAt=m,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function RI(n,e,r,i,a,u,h,f){return new tc(n,e,r,i,a,u,h,f)}function Zd(n){return new tc(n)}function Jv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function OI(n){return n.collectionGroup!==null}function Ga(n){const e=Pe(n);if(e.Te===null){e.Te=[];const r=new Set;for(const a of e.explicitOrderBy)e.Te.push(a),r.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let u=new Vt(Zt.comparator);return a.filters.forEach((h=>{h.getFlattenedFilters().forEach((f=>{f.isInequality()&&(u=u.add(f.field))}))})),u})(e).forEach((a=>{r.has(a.canonicalString())||a.isKeyField()||e.Te.push(new ec(a,i))})),r.has(Zt.keyField().canonicalString())||e.Te.push(new ec(Zt.keyField(),i))}return e.Te}function Er(n){const e=Pe(n);return e.Ie||(e.Ie=LI(e,Ga(n))),e.Ie}function LI(n,e){if(n.limitType==="F")return Zv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const u=a.dir==="desc"?"asc":"desc";return new ec(a.field,u)}));const r=n.endAt?new Ju(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Ju(n.startAt.position,n.startAt.inclusive):null;return Zv(n.path,n.collectionGroup,e,n.filters,n.limit,r,i)}}function Jd(n,e,r){return new tc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,r,n.startAt,n.endAt)}function nc(n,e){return Gd(Er(n),Er(e))&&n.limitType===e.limitType}function e0(n){return`${Qd(Er(n))}|lt:${n.limitType}`}function Co(n){return`Query(target=${(function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map((i=>Gv(i))).join(", ")}]`),$u(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map((i=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(i))).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((i=>ko(i))).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((i=>ko(i))).join(",")),`Target(${r})`})(Er(n))}; limitType=${n.limitType})`}function rc(n,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ee.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,i){for(const a of Ga(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(a,u,h){const f=$v(a,u,h);return a.inclusive?f<=0:f<0})(r.startAt,Ga(r),i)||r.endAt&&!(function(a,u,h){const f=$v(a,u,h);return a.inclusive?f>=0:f>0})(r.endAt,Ga(r),i))})(n,e)}function VI(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function t0(n){return(e,r)=>{let i=!1;for(const a of Ga(n)){const u=jI(a,e,r);if(u!==0)return u;i=i||a.field.isKeyField()}return 0}}function jI(n,e,r){const i=n.field.isKeyField()?Ee.comparator(e.key,r.key):(function(a,u,h){const f=u.data.field(a),m=h.data.field(a);return f!==null&&m!==null?To(f,m):ke(42886)})(n.field,e,r);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ke(19790,{direction:n.dir})}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ii{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),i=this.inner[r];if(i!==void 0){for(const[a,u]of i)if(this.equalsFn(a,e))return u}}has(e){return this.get(e)!==void 0}set(e,r){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,r]],void this.innerSize++;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return void(a[u]=[e,r]);a.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[r]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ds(this.inner,((r,i)=>{for(const[a,u]of i)e(a,u)}))}isEmpty(){return Nv(this.inner)}size(){return this.innerSize}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const zI=new yt(Ee.comparator);function Wr(){return zI}const n0=new yt(Ee.comparator);function Ya(...n){let e=n0;for(const r of n)e=e.insert(r.key,r);return e}function r0(n){let e=n0;return n.forEach(((r,i)=>e=e.insert(r,i.overlayedDocument))),e}function Ai(){return Za()}function s0(){return Za()}function Za(){return new Ii((n=>n.toString()),((n,e)=>n.isEqual(e)))}const BI=new yt(Ee.comparator),UI=new Vt(Ee.comparator);function Be(...n){let e=UI;for(const r of n)e=e.add(r);return e}const qI=new Vt(Fe);function $I(){return qI}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ef(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ku(e)?"-0":e}}function i0(n){return{integerValue:""+n}}function o0(n,e){return yI(e)?i0(e):ef(n,e)}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class sc{constructor(){this._=void 0}}function KI(n,e,r){return n instanceof ic?(function(i,a){const u={fields:{[Fv]:{stringValue:Mv},[Ov]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&$d(a)&&(a=Hu(a)),a&&(u.fields[Rv]=a),{mapValue:u}})(r,e):n instanceof Ja?l0(n,e):n instanceof el?u0(n,e):(function(i,a){const u=a0(i,a),h=c0(u)+c0(i.Ee);return Wd(u)&&Wd(i.Ee)?i0(h):ef(i.serializer,h)})(n,e)}function WI(n,e,r){return n instanceof Ja?l0(n,e):n instanceof el?u0(n,e):r}function a0(n,e){return n instanceof tl?(function(r){return Wd(r)||(function(i){return!!i&&"doubleValue"in i})(r)})(e)?e:{integerValue:0}:null}class ic extends sc{}class Ja extends sc{constructor(e){super(),this.elements=e}}function l0(n,e){const r=h0(e);for(const i of n.elements)r.some((a=>br(a,i)))||r.push(i);return{arrayValue:{values:r}}}class el extends sc{constructor(e){super(),this.elements=e}}function u0(n,e){let r=h0(e);for(const i of n.elements)r=r.filter((a=>!br(a,i)));return{arrayValue:{values:r}}}class tl extends sc{constructor(e,r){super(),this.serializer=e,this.Ee=r}}function c0(n){return Ct(n.integerValue||n.doubleValue)}function h0(n){return Hd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class HI{constructor(e,r){this.field=e,this.transform=r}}function XI(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof Ja&&i instanceof Ja||r instanceof el&&i instanceof el?wo(r.elements,i.elements,br):r instanceof tl&&i instanceof tl?br(r.Ee,i.Ee):r instanceof ic&&i instanceof ic})(n.transform,e.transform)}class QI{constructor(e,r){this.version=e,this.transformResults=r}}class Sr{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Sr}static exists(e){return new Sr(void 0,e)}static updateTime(e){return new Sr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function oc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ac{}function d0(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new y0(n.key,Sr.none()):new rl(n.key,n.data,Sr.none());{const r=n.data,i=kn.empty();let a=new Vt(Zt.comparator);for(let u of e.fields)if(!a.has(u)){let h=r.field(u);h===null&&u.length>1&&(u=u.popLast(),h=r.field(u)),h===null?i.delete(u):i.set(u,h),a=a.add(u)}return new Os(n.key,i,new _n(a.toArray()),Sr.none())}}function GI(n,e,r){n instanceof rl?(function(i,a,u){const h=i.value.clone(),f=m0(i.fieldTransforms,a,u.transformResults);h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,e,r):n instanceof Os?(function(i,a,u){if(!oc(i.precondition,a))return void a.convertToUnknownDocument(u.version);const h=m0(i.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(p0(i)),f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,r):(function(i,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,r)}function nl(n,e,r,i){return n instanceof rl?(function(a,u,h,f){if(!oc(a.precondition,u))return h;const m=a.value.clone(),g=g0(a.fieldTransforms,f,u);return m.setAll(g),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(n,e,r,i):n instanceof Os?(function(a,u,h,f){if(!oc(a.precondition,u))return h;const m=g0(a.fieldTransforms,f,u),g=u.data;return g.setAll(p0(a)),g.setAll(m),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((v=>v.field)))})(n,e,r,i):(function(a,u,h){return oc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(n,e,r)}function YI(n,e){let r=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),u=a0(i.transform,a||null);u!=null&&(r===null&&(r=kn.empty()),r.set(i.field,u))}return r||null}function f0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&wo(r,i,((a,u)=>XI(a,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class rl extends ac{constructor(e,r,i,a=[]){super(),this.key=e,this.value=r,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Os extends ac{constructor(e,r,i,a,u=[]){super(),this.key=e,this.data=r,this.fieldMask=i,this.precondition=a,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function p0(n){const e=new Map;return n.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const i=n.data.field(r);e.set(r,i)}})),e}function m0(n,e,r){const i=new Map;Ze(n.length===r.length,32656,{Ae:r.length,Re:n.length});for(let a=0;a<r.length;a++){const u=n[a],h=u.transform,f=e.data.field(u.field);i.set(u.field,WI(h,f,r[a]))}return i}function g0(n,e,r){const i=new Map;for(const a of n){const u=a.transform,h=r.data.field(a.field);i.set(a.field,KI(u,h,e))}return i}class y0 extends ac{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZI extends ac{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class JI{constructor(e,r,i,a){this.batchId=e,this.localWriteTime=r,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,r){const i=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(e.key)&&GI(u,e,i[a])}}applyToLocalView(e,r){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(r=nl(i,e,r,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(r=nl(i,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const i=s0();return this.mutations.forEach((a=>{const u=e.get(a.key),h=u.overlayedDocument;let f=this.applyToLocalView(h,u.mutatedFields);f=r.has(a.key)?null:f;const m=d0(h,f);m!==null&&i.set(a.key,m),h.isValidDocument()||h.convertToNoDocument(Ae.min())})),i}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),Be())}isEqual(e){return this.batchId===e.batchId&&wo(this.mutations,e.mutations,((r,i)=>f0(r,i)))&&wo(this.baseMutations,e.baseMutations,((r,i)=>f0(r,i)))}}class tf{constructor(e,r,i,a){this.batch=e,this.commitVersion=r,this.mutationResults=i,this.docVersions=a}static from(e,r,i){Ze(e.mutations.length===i.length,58842,{Ve:e.mutations.length,me:i.length});let a=(function(){return BI})();const u=e.mutations;for(let h=0;h<u.length;h++)a=a.insert(u[h].key,i[h].version);return new tf(e,r,i,a)}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class eA{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tA{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var _t,$e;function nA(n){switch(n){case ne.OK:return ke(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return ke(15467,{code:n})}}function v0(n){if(n===void 0)return Kr("GRPC error has no .code"),ne.UNKNOWN;switch(n){case _t.OK:return ne.OK;case _t.CANCELLED:return ne.CANCELLED;case _t.UNKNOWN:return ne.UNKNOWN;case _t.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case _t.INTERNAL:return ne.INTERNAL;case _t.UNAVAILABLE:return ne.UNAVAILABLE;case _t.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case _t.NOT_FOUND:return ne.NOT_FOUND;case _t.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case _t.ABORTED:return ne.ABORTED;case _t.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case _t.DATA_LOSS:return ne.DATA_LOSS;default:return ke(39323,{code:n})}}($e=_t||(_t={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const rA=new As([4294967295,4294967295],0);function b0(n){const e=vv().encode(n),r=new av;return r.update(e),new Uint8Array(r.digest())}function w0(n){const e=new DataView(n.buffer),r=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new As([r,i],0),new As([a,u],0)]}class nf{constructor(e,r,i){if(this.bitmap=e,this.padding=r,this.hashCount=i,r<0||r>=8)throw new sl(`Invalid padding: ${r}`);if(i<0)throw new sl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new sl(`Invalid hash count: ${i}`);if(e.length===0&&r!==0)throw new sl(`Invalid padding when bitmap length is 0: ${r}`);this.fe=8*e.length-r,this.ge=As.fromNumber(this.fe)}pe(e,r,i){let a=e.add(r.multiply(As.fromNumber(i)));return a.compare(rA)===1&&(a=new As([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const r=b0(e),[i,a]=w0(r);for(let u=0;u<this.hashCount;u++){const h=this.pe(i,a,u);if(!this.ye(h))return!1}return!0}static create(e,r,i){const a=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new nf(u,a,r);return i.forEach((f=>h.insert(f))),h}insert(e){if(this.fe===0)return;const r=b0(e),[i,a]=w0(r);for(let u=0;u<this.hashCount;u++){const h=this.pe(i,a,u);this.we(h)}}we(e){const r=Math.floor(e/8),i=e%8;this.bitmap[r]|=1<<i}}class sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class lc{constructor(e,r,i,a,u){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,r,i){const a=new Map;return a.set(e,il.createSynthesizedTargetChangeForCurrentChange(e,r,i)),new lc(Ae.min(),a,new yt(Fe),Wr(),Be())}}class il{constructor(e,r,i,a,u){this.resumeToken=e,this.current=r,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,r,i){return new il(i,r,Be(),Be(),Be())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class uc{constructor(e,r,i,a){this.Se=e,this.removedTargetIds=r,this.key=i,this.be=a}}class E0{constructor(e,r){this.targetId=e,this.De=r}}class S0{constructor(e,r,i=en.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=r,this.resumeToken=i,this.cause=a}}class T0{constructor(){this.ve=0,this.Ce=k0(),this.Fe=en.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Be(),r=Be(),i=Be();return this.Ce.forEach(((a,u)=>{switch(u){case 0:e=e.add(a);break;case 2:r=r.add(a);break;case 1:i=i.add(a);break;default:ke(38017,{changeType:u})}})),new il(this.Fe,this.Me,e,r,i)}ke(){this.xe=!1,this.Ce=k0()}qe(e,r){this.xe=!0,this.Ce=this.Ce.insert(e,r)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ze(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class sA{constructor(e){this.We=e,this.Ge=new Map,this.ze=Wr(),this.je=cc(),this.Je=cc(),this.He=new yt(Fe)}Ye(e){for(const r of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(r,e.be):this.Xe(r,e.key,e.be);for(const r of e.removedTargetIds)this.Xe(r,e.key,e.be)}et(e){this.forEachTarget(e,(r=>{const i=this.tt(r);switch(e.state){case 0:this.nt(r)&&i.Be(e.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(e.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(r);break;case 3:this.nt(r)&&(i.Ke(),i.Be(e.resumeToken));break;case 4:this.nt(r)&&(this.rt(r),i.Be(e.resumeToken));break;default:ke(56790,{state:e.state})}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Ge.forEach(((i,a)=>{this.nt(a)&&r(a)}))}it(e){const r=e.targetId,i=e.De.count,a=this.st(r);if(a){const u=a.target;if(Yd(u))if(i===0){const h=new Ee(u.path);this.Xe(r,h,dn.newNoDocument(h,Ae.min()))}else Ze(i===1,20013,{expectedCount:i});else{const h=this.ot(r);if(h!==i){const f=this._t(e),m=f?this.ut(f,e,h):1;if(m!==0){this.rt(r);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(r,g)}}}}}_t(e){const r=e.De.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:u=0}=r;let h,f;try{h=Fs(i).toUint8Array()}catch(m){if(m instanceof Dv)return Ps("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new nf(h,a,u)}catch(m){return Ps(m instanceof sl?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.fe===0?null:f}ut(e,r,i){return r.De.count===i-this.ht(e,r.targetId)?0:2}ht(e,r){const i=this.We.getRemoteKeysForTarget(r);let a=0;return i.forEach((u=>{const h=this.We.lt(),f=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(f)||(this.Xe(r,u,null),a++)})),a}Pt(e){const r=new Map;this.Ge.forEach(((u,h)=>{const f=this.st(h);if(f){if(u.current&&Yd(f.target)){const m=new Ee(f.target.path);this.Tt(m).has(h)||this.It(h,m)||this.Xe(h,m,dn.newNoDocument(m,e))}u.Ne&&(r.set(h,u.Le()),u.ke())}}));let i=Be();this.Je.forEach(((u,h)=>{let f=!0;h.forEachWhile((m=>{const g=this.st(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(u))})),this.ze.forEach(((u,h)=>h.setReadTime(e)));const a=new lc(e,r,this.He,this.ze,i);return this.ze=Wr(),this.je=cc(),this.Je=cc(),this.He=new yt(Fe),a}Ze(e,r){if(!this.nt(e))return;const i=this.It(e,r.key)?2:0;this.tt(e).qe(r.key,i),this.ze=this.ze.insert(r.key,r),this.je=this.je.insert(r.key,this.Tt(r.key).add(e)),this.Je=this.Je.insert(r.key,this.dt(r.key).add(e))}Xe(e,r,i){if(!this.nt(e))return;const a=this.tt(e);this.It(e,r)?a.qe(r,1):a.Qe(r),this.Je=this.Je.insert(r,this.dt(r).delete(e)),this.Je=this.Je.insert(r,this.dt(r).add(e)),i&&(this.ze=this.ze.insert(r,i))}removeTarget(e){this.Ge.delete(e)}ot(e){const r=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let r=this.Ge.get(e);return r||(r=new T0,this.Ge.set(e,r)),r}dt(e){let r=this.Je.get(e);return r||(r=new Vt(Fe),this.Je=this.Je.insert(e,r)),r}Tt(e){let r=this.je.get(e);return r||(r=new Vt(Fe),this.je=this.je.insert(e,r)),r}nt(e){const r=this.st(e)!==null;return r||he("WatchChangeAggregator","Detected inactive target",e),r}st(e){const r=this.Ge.get(e);return r&&r.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new T0),this.We.getRemoteKeysForTarget(e).forEach((r=>{this.Xe(e,r,null)}))}It(e,r){return this.We.getRemoteKeysForTarget(e).has(r)}}function cc(){return new yt(Ee.comparator)}function k0(){return new yt(Ee.comparator)}const iA={asc:"ASCENDING",desc:"DESCENDING"},oA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aA={and:"AND",or:"OR"};class lA{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function rf(n,e){return n.useProto3Json||$u(e)?e:{value:e}}function hc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function C0(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function uA(n,e){return hc(n,e.toTimestamp())}function Tr(n){return Ze(!!n,49232),Ae.fromTimestamp((function(e){const r=Ms(e);return new ht(r.seconds,r.nanos)})(n))}function sf(n,e){return of(n,e).canonicalString()}function of(n,e){const r=(function(i){return new ct(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?r:r.child(e)}function x0(n){const e=ct.fromString(n);return Ze(D0(e),10190,{key:e.toString()}),e}function af(n,e){return sf(n.databaseId,e.path)}function lf(n,e){const r=x0(e);if(r.get(1)!==n.databaseId.projectId)throw new be(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+n.databaseId.projectId);if(r.get(3)!==n.databaseId.database)throw new be(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+n.databaseId.database);return new Ee(A0(r))}function I0(n,e){return sf(n.databaseId,e)}function cA(n){const e=x0(n);return e.length===4?ct.emptyPath():A0(e)}function uf(n){return new ct(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function A0(n){return Ze(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function P0(n,e,r){return{name:af(n,e),fields:r.value.mapValue.fields}}function hA(n,e){let r;if("targetChange"in e){e.targetChange;const i=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:ke(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],u=(function(m,g){return m.useProto3Json?(Ze(g===void 0||typeof g=="string",58123),en.fromBase64String(g||"")):(Ze(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),en.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),h=e.targetChange.cause,f=h&&(function(m){const g=m.code===void 0?ne.UNKNOWN:v0(m.code);return new be(g,m.message||"")})(h);r=new S0(i,a,u,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=lf(n,i.document.name),u=Tr(i.document.updateTime),h=i.document.createTime?Tr(i.document.createTime):Ae.min(),f=new kn({mapValue:{fields:i.document.fields}}),m=dn.newFoundDocument(a,u,h,f),g=i.targetIds||[],v=i.removedTargetIds||[];r=new uc(g,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=lf(n,i.document),u=i.readTime?Tr(i.readTime):Ae.min(),h=dn.newNoDocument(a,u),f=i.removedTargetIds||[];r=new uc([],f,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=lf(n,i.document),u=i.removedTargetIds||[];r=new uc([],u,a,null)}else{if(!("filter"in e))return ke(11601,{At:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:u}=i,h=new tA(a,u),f=i.targetId;r=new E0(f,h)}}return r}function dA(n,e){let r;if(e instanceof rl)r={update:P0(n,e.key,e.value)};else if(e instanceof y0)r={delete:af(n,e.key)};else if(e instanceof Os)r={update:P0(n,e.key,e.data),updateMask:EA(e.fieldMask)};else{if(!(e instanceof ZI))return ke(16599,{Rt:e.type});r={verify:af(n,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((i=>(function(a,u){const h=u.transform;if(h instanceof ic)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Ja)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof el)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof tl)return{fieldPath:u.field.canonicalString(),increment:h.Ee};throw ke(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(r.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:uA(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ke(27497)})(n,e.precondition)),r}function fA(n,e){return n&&n.length>0?(Ze(e!==void 0,14353),n.map((r=>(function(i,a){let u=i.updateTime?Tr(i.updateTime):Tr(a);return u.isEqual(Ae.min())&&(u=Tr(a)),new QI(u,i.transformResults||[])})(r,e)))):[]}function pA(n,e){return{documents:[I0(n,e.path)]}}function mA(n,e){const r={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),r.structuredQuery.from=[{collectionId:i.lastSegment()}]),r.parent=I0(n,a);const u=(function(m){if(m.length!==0)return _0(wr.create(m,"and"))})(e.filters);u&&(r.structuredQuery.where=u);const h=(function(m){if(m.length!==0)return m.map((g=>(function(v){return{field:xo(v.field),direction:vA(v.dir)}})(g)))})(e.orderBy);h&&(r.structuredQuery.orderBy=h);const f=rf(n,e.limit);return f!==null&&(r.structuredQuery.limit=f),e.startAt&&(r.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{Vt:r,parent:a}}function gA(n){let e=cA(n.parent);const r=n.structuredQuery,i=r.from?r.from.length:0;let a=null;if(i>0){Ze(i===1,65062);const v=r.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let u=[];r.where&&(u=(function(v){const E=N0(v);return E instanceof wr&&Xv(E)?E.getFilters():[E]})(r.where));let h=[];r.orderBy&&(h=(function(v){return v.map((E=>(function(k){return new ec(Io(k.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(E)))})(r.orderBy));let f=null;r.limit&&(f=(function(v){let E;return E=typeof v=="object"?v.value:v,$u(E)?null:E})(r.limit));let m=null;r.startAt&&(m=(function(v){const E=!!v.before,k=v.values||[];return new Ju(k,E)})(r.startAt));let g=null;return r.endAt&&(g=(function(v){const E=!v.before,k=v.values||[];return new Ju(k,E)})(r.endAt)),RI(e,a,h,u,f,"F",m,g)}function yA(n,e){const r=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke(28987,{purpose:i})}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function N0(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=Io(e.unaryFilter.field);return jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Io(e.unaryFilter.field);return jt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Io(e.unaryFilter.field);return jt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Io(e.unaryFilter.field);return jt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ke(61313);default:return ke(60726)}})(n):n.fieldFilter!==void 0?(function(e){return jt.create(Io(e.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ke(58110);default:return ke(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return wr.create(e.compositeFilter.filters.map((r=>N0(r))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ke(1026)}})(e.compositeFilter.op))})(n):ke(30097,{filter:n})}function vA(n){return iA[n]}function bA(n){return oA[n]}function wA(n){return aA[n]}function xo(n){return{fieldPath:n.canonicalString()}}function Io(n){return Zt.fromServerFormat(n.fieldPath)}function _0(n){return n instanceof jt?(function(e){if(e.op==="=="){if(Uv(e.value))return{unaryFilter:{field:xo(e.field),op:"IS_NAN"}};if(Bv(e.value))return{unaryFilter:{field:xo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Uv(e.value))return{unaryFilter:{field:xo(e.field),op:"IS_NOT_NAN"}};if(Bv(e.value))return{unaryFilter:{field:xo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xo(e.field),op:bA(e.op),value:e.value}}})(n):n instanceof wr?(function(e){const r=e.getFilters().map((i=>_0(i)));return r.length===1?r[0]:{compositeFilter:{op:wA(e.op),filters:r}}})(n):ke(54877,{filter:n})}function EA(n){const e=[];return n.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function D0(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ls{constructor(e,r,i,a,u=Ae.min(),h=Ae.min(),f=en.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=r,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new Ls(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class SA{constructor(e){this.gt=e}}function TA(n){const e=gA({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Jd(e,e.limit,"L"):e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class kA{constructor(){this.Dn=new CA}addToCollectionParentIndex(e,r){return this.Dn.add(r),J.resolve()}getCollectionParents(e,r){return J.resolve(this.Dn.getEntries(r))}addFieldIndex(e,r){return J.resolve()}deleteFieldIndex(e,r){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,r){return J.resolve()}getDocumentsMatchingTarget(e,r){return J.resolve(null)}getIndexType(e,r){return J.resolve(0)}getFieldIndexes(e,r){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,r){return J.resolve(_s.min())}getMinOffsetFromCollectionGroup(e,r){return J.resolve(_s.min())}updateCollectionGroup(e,r,i){return J.resolve()}updateIndexEntries(e,r){return J.resolve()}}class CA{constructor(){this.index={}}add(e){const r=e.lastSegment(),i=e.popLast(),a=this.index[r]||new Vt(ct.comparator),u=!a.has(i);return this.index[r]=a.add(i),u}has(e){const r=e.lastSegment(),i=e.popLast(),a=this.index[r];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Vt(ct.comparator)).toArray()}}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const M0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},F0=41943040;class Cn{static withCacheSize(e){return new Cn(e,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=i}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/Cn.DEFAULT_COLLECTION_PERCENTILE=10,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cn.DEFAULT=new Cn(F0,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cn.DISABLED=new Cn(-1,0,0);/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ao{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Ao(0)}static ur(){return new Ao(-1)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const R0="LruGarbageCollector",xA=1048576;function O0([n,e],[r,i]){const a=Fe(n,r);return a===0?Fe(e,i):a}class IA{constructor(e){this.Tr=e,this.buffer=new Vt(O0),this.Ir=0}dr(){return++this.Ir}Er(e){const r=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(r);else{const i=this.buffer.last();O0(r,i)<0&&(this.buffer=this.buffer.delete(i).add(r))}}get maxValue(){return this.buffer.last()[0]}}class AA{constructor(e,r,i){this.garbageCollector=e,this.asyncQueue=r,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){he(R0,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){So(r)?he(R0,"Ignoring IndexedDB error during garbage collection: ",r):await Eo(r)}await this.Rr(3e5)}))}}class PA{constructor(e,r){this.Vr=e,this.params=r}calculateTargetCount(e,r){return this.Vr.mr(e).next((i=>Math.floor(r/100*i)))}nthSequenceNumber(e,r){if(r===0)return J.resolve(qu.ue);const i=new IA(r);return this.Vr.forEachTarget(e,(a=>i.Er(a.sequenceNumber))).next((()=>this.Vr.gr(e,(a=>i.Er(a))))).next((()=>i.maxValue))}removeTargets(e,r,i){return this.Vr.removeTargets(e,r,i)}removeOrphanedDocuments(e,r){return this.Vr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(M0)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),M0):this.pr(e,r)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,r){let i,a,u,h,f,m,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),a=this.params.maximumSequenceNumbersToCollect):a=E,h=Date.now(),this.nthSequenceNumber(e,a)))).next((E=>(i=E,f=Date.now(),this.removeTargets(e,i,r)))).next((E=>(u=E,m=Date.now(),this.removeOrphanedDocuments(e,i)))).next((E=>(g=Date.now(),bo()<=qe.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${a} in `+(f-h)+`ms
	Removed ${u} targets in `+(m-f)+`ms
	Removed ${E} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:u,documentsRemoved:E}))))}}function NA(n,e){return new PA(n,e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _A{constructor(){this.changes=new Ii((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const i=this.changes.get(r);return i!==void 0?J.resolve(i):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class DA{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class MA{constructor(e,r,i,a){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,r){let i=null;return this.documentOverlayCache.getOverlay(e,r).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,r)))).next((a=>(i!==null&&nl(i.mutation,a,_n.empty(),ht.now()),a)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((i=>this.getLocalViewOfDocuments(e,i,Be()).next((()=>i))))}getLocalViewOfDocuments(e,r,i=Be()){const a=Ai();return this.populateOverlays(e,a,r).next((()=>this.computeViews(e,r,a,i).next((u=>{let h=Ya();return u.forEach(((f,m)=>{h=h.insert(f,m.overlayedDocument)})),h}))))}getOverlayedDocuments(e,r){const i=Ai();return this.populateOverlays(e,i,r).next((()=>this.computeViews(e,r,i,Be())))}populateOverlays(e,r,i){const a=[];return i.forEach((u=>{r.has(u)||a.push(u)})),this.documentOverlayCache.getOverlays(e,a).next((u=>{u.forEach(((h,f)=>{r.set(h,f)}))}))}computeViews(e,r,i,a){let u=Wr();const h=Za(),f=(function(){return Za()})();return r.forEach(((m,g)=>{const v=i.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof Os)?u=u.insert(g.key,g):v!==void 0?(h.set(g.key,v.mutation.getFieldMask()),nl(v.mutation,g,v.mutation.getFieldMask(),ht.now())):h.set(g.key,_n.empty())})),this.recalculateAndSaveOverlays(e,u).next((m=>(m.forEach(((g,v)=>h.set(g,v))),r.forEach(((g,v)=>{var E;return f.set(g,new DA(v,(E=h.get(g))!==null&&E!==void 0?E:null))})),f)))}recalculateAndSaveOverlays(e,r){const i=Za();let a=new yt(((h,f)=>h-f)),u=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((h=>{for(const f of h)f.keys().forEach((m=>{const g=r.get(m);if(g===null)return;let v=i.get(m)||_n.empty();v=f.applyToLocalView(g,v),i.set(m,v);const E=(a.get(f.batchId)||Be()).add(m);a=a.insert(f.batchId,E)}))})).next((()=>{const h=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),g=m.key,v=m.value,E=s0();v.forEach((k=>{if(!u.has(k)){const A=d0(r.get(k),i.get(k));A!==null&&E.set(k,A),u=u.add(k)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,E))}return J.waitFor(h)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,r,i,a){return(function(u){return Ee.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):OI(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,i,a):this.getDocumentsMatchingCollectionQuery(e,r,i,a)}getNextDocuments(e,r,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,i,a).next((u=>{const h=a-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,i.largestBatchId,a-u.size):J.resolve(Ai());let f=Ka,m=u;return h.next((g=>J.forEach(g,((v,E)=>(f<E.largestBatchId&&(f=E.largestBatchId),u.get(v)?J.resolve():this.remoteDocumentCache.getEntry(e,v).next((k=>{m=m.insert(v,k)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,m,g,Be()))).next((v=>({batchId:f,changes:r0(v)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ee(r)).next((i=>{let a=Ya();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,r,i,a){const u=r.collectionGroup;let h=Ya();return this.indexManager.getCollectionParents(e,u).next((f=>J.forEach(f,(m=>{const g=(function(v,E){return new tc(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(r,m.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,i,a).next((v=>{v.forEach(((E,k)=>{h=h.insert(E,k)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,r,i,a){let u;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,i.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,i,u,a)))).next((h=>{u.forEach(((m,g)=>{const v=g.getKey();h.get(v)===null&&(h=h.insert(v,dn.newInvalidDocument(v)))}));let f=Ya();return h.forEach(((m,g)=>{const v=u.get(m);v!==void 0&&nl(v.mutation,g,_n.empty(),ht.now()),rc(r,g)&&(f=f.insert(m,g))})),f}))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class FA{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,r){return J.resolve(this.Br.get(r))}saveBundleMetadata(e,r){return this.Br.set(r.id,(function(i){return{id:i.id,version:i.version,createTime:Tr(i.createTime)}})(r)),J.resolve()}getNamedQuery(e,r){return J.resolve(this.Lr.get(r))}saveNamedQuery(e,r){return this.Lr.set(r.name,(function(i){return{name:i.name,query:TA(i.bundledQuery),readTime:Tr(i.readTime)}})(r)),J.resolve()}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class RA{constructor(){this.overlays=new yt(Ee.comparator),this.kr=new Map}getOverlay(e,r){return J.resolve(this.overlays.get(r))}getOverlays(e,r){const i=Ai();return J.forEach(r,(a=>this.getOverlay(e,a).next((u=>{u!==null&&i.set(a,u)})))).next((()=>i))}saveOverlays(e,r,i){return i.forEach(((a,u)=>{this.wt(e,r,u)})),J.resolve()}removeOverlaysForBatchId(e,r,i){const a=this.kr.get(i);return a!==void 0&&(a.forEach((u=>this.overlays=this.overlays.remove(u))),this.kr.delete(i)),J.resolve()}getOverlaysForCollection(e,r,i){const a=Ai(),u=r.length+1,h=new Ee(r.child("")),f=this.overlays.getIteratorFrom(h);for(;f.hasNext();){const m=f.getNext().value,g=m.getKey();if(!r.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>i&&a.set(m.getKey(),m)}return J.resolve(a)}getOverlaysForCollectionGroup(e,r,i,a){let u=new yt(((g,v)=>g-v));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===r&&g.largestBatchId>i){let v=u.get(g.largestBatchId);v===null&&(v=Ai(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const f=Ai(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,v)=>f.set(g,v))),!(f.size()>=a)););return J.resolve(f)}wt(e,r,i){const a=this.overlays.get(i.key);if(a!==null){const h=this.kr.get(a.largestBatchId).delete(i.key);this.kr.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new eA(r,i));let u=this.kr.get(r);u===void 0&&(u=Be(),this.kr.set(r,u)),this.kr.set(r,u.add(i.key))}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class OA{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,J.resolve()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class cf{constructor(){this.qr=new Vt(Wt.Qr),this.$r=new Vt(Wt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,r){const i=new Wt(e,r);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(e,r){e.forEach((i=>this.addReference(i,r)))}removeReference(e,r){this.Wr(new Wt(e,r))}Gr(e,r){e.forEach((i=>this.removeReference(i,r)))}zr(e){const r=new Ee(new ct([])),i=new Wt(r,e),a=new Wt(r,e+1),u=[];return this.$r.forEachInRange([i,a],(h=>{this.Wr(h),u.push(h.key)})),u}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const r=new Ee(new ct([])),i=new Wt(r,e),a=new Wt(r,e+1);let u=Be();return this.$r.forEachInRange([i,a],(h=>{u=u.add(h.key)})),u}containsKey(e){const r=new Wt(e,0),i=this.qr.firstAfterOrEqual(r);return i!==null&&e.isEqual(i.key)}}class Wt{constructor(e,r){this.key=e,this.Hr=r}static Qr(e,r){return Ee.comparator(e.key,r.key)||Fe(e.Hr,r.Hr)}static Ur(e,r){return Fe(e.Hr,r.Hr)||Ee.comparator(e.key,r.key)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class LA{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.er=1,this.Yr=new Vt(Wt.Qr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,i,a){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new JI(u,r,i,a);this.mutationQueue.push(h);for(const f of a)this.Yr=this.Yr.add(new Wt(f.key,u)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return J.resolve(h)}lookupMutationBatch(e,r){return J.resolve(this.Zr(r))}getNextMutationBatchAfterBatchId(e,r){const i=r+1,a=this.Xr(i),u=a<0?0:a;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?qd:this.er-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const i=new Wt(r,0),a=new Wt(r,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([i,a],(h=>{const f=this.Zr(h.Hr);u.push(f)})),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,r){let i=new Vt(Fe);return r.forEach((a=>{const u=new Wt(a,0),h=new Wt(a,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,h],(f=>{i=i.add(f.Hr)}))})),J.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(e,r){const i=r.path,a=i.length+1;let u=i;Ee.isDocumentKey(u)||(u=u.child(""));const h=new Wt(new Ee(u),0);let f=new Vt(Fe);return this.Yr.forEachWhile((m=>{const g=m.key.path;return!!i.isPrefixOf(g)&&(g.length===a&&(f=f.add(m.Hr)),!0)}),h),J.resolve(this.ei(f))}ei(e){const r=[];return e.forEach((i=>{const a=this.Zr(i);a!==null&&r.push(a)})),r}removeMutationBatch(e,r){Ze(this.ti(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return J.forEach(r.mutations,(a=>{const u=new Wt(a.key,r.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Yr=i}))}rr(e){}containsKey(e,r){const i=new Wt(r,0),a=this.Yr.firstAfterOrEqual(i);return J.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ti(e,r){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const r=this.Xr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class VA{constructor(e){this.ni=e,this.docs=(function(){return new yt(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const i=r.key,a=this.docs.get(i),u=a?a.size:0,h=this.ni(r);return this.docs=this.docs.insert(i,{document:r.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const i=this.docs.get(r);return J.resolve(i?i.document.mutableCopy():dn.newInvalidDocument(r))}getEntries(e,r){let i=Wr();return r.forEach((a=>{const u=this.docs.get(a);i=i.insert(a,u?u.document.mutableCopy():dn.newInvalidDocument(a))})),J.resolve(i)}getDocumentsMatchingQuery(e,r,i,a){let u=Wr();const h=r.path,f=new Ee(h.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||fI(dI(v),i)<=0||(a.has(v.key)||rc(r,v))&&(u=u.insert(v.key,v.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,r,i,a){ke(9500)}ri(e,r){return J.forEach(this.docs,(i=>r(i)))}newChangeBuffer(e){return new jA(this)}getSize(e){return J.resolve(this.size)}}class jA extends _A{constructor(e){super(),this.Or=e}applyChanges(e){const r=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?r.push(this.Or.addEntry(e,a)):this.Or.removeEntry(i)})),J.waitFor(r)}getFromCache(e,r){return this.Or.getEntry(e,r)}getAllFromCache(e,r){return this.Or.getEntries(e,r)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zA{constructor(e){this.persistence=e,this.ii=new Ii((r=>Qd(r)),Gd),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.si=0,this.oi=new cf,this.targetCount=0,this._i=Ao.ar()}forEachTarget(e,r){return this.ii.forEach(((i,a)=>r(a))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,r,i){return i&&(this.lastRemoteSnapshotVersion=i),r>this.si&&(this.si=r),J.resolve()}hr(e){this.ii.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this._i=new Ao(r),this.highestTargetId=r),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,r){return this.hr(r),this.targetCount+=1,J.resolve()}updateTargetData(e,r){return this.hr(r),J.resolve()}removeTargetData(e,r){return this.ii.delete(r.target),this.oi.zr(r.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,r,i){let a=0;const u=[];return this.ii.forEach(((h,f)=>{f.sequenceNumber<=r&&i.get(f.targetId)===null&&(this.ii.delete(h),u.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),J.waitFor(u).next((()=>a))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,r){const i=this.ii.get(r)||null;return J.resolve(i)}addMatchingKeys(e,r,i){return this.oi.Kr(r,i),J.resolve()}removeMatchingKeys(e,r,i){this.oi.Gr(r,i);const a=this.persistence.referenceDelegate,u=[];return a&&r.forEach((h=>{u.push(a.markPotentiallyOrphaned(e,h))})),J.waitFor(u)}removeMatchingKeysForTargetId(e,r){return this.oi.zr(r),J.resolve()}getMatchingKeysForTargetId(e,r){const i=this.oi.Jr(r);return J.resolve(i)}containsKey(e,r){return J.resolve(this.oi.containsKey(r))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class L0{constructor(e,r){this.ai={},this.overlays={},this.ui=new qu(0),this.ci=!1,this.ci=!0,this.li=new OA,this.referenceDelegate=e(this),this.hi=new zA(this),this.indexManager=new kA,this.remoteDocumentCache=(function(i){return new VA(i)})((i=>this.referenceDelegate.Pi(i))),this.serializer=new SA(r),this.Ti=new FA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new RA,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let i=this.ai[e.toKey()];return i||(i=new LA(r,this.referenceDelegate),this.ai[e.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,r,i){he("MemoryPersistence","Starting transaction:",e);const a=new BA(this.ui.next());return this.referenceDelegate.Ii(),i(a).next((u=>this.referenceDelegate.di(a).next((()=>u)))).toPromise().then((u=>(a.raiseOnCommittedEvent(),u)))}Ei(e,r){return J.or(Object.values(this.ai).map((i=>()=>i.containsKey(e,r))))}}class BA extends mI{constructor(e){super(),this.currentSequenceNumber=e}}class hf{constructor(e){this.persistence=e,this.Ai=new cf,this.Ri=null}static Vi(e){return new hf(e)}get mi(){if(this.Ri)return this.Ri;throw ke(60996)}addReference(e,r,i){return this.Ai.addReference(i,r),this.mi.delete(i.toString()),J.resolve()}removeReference(e,r,i){return this.Ai.removeReference(i,r),this.mi.add(i.toString()),J.resolve()}markPotentiallyOrphaned(e,r){return this.mi.add(r.toString()),J.resolve()}removeTarget(e,r){this.Ai.zr(r.targetId).forEach((a=>this.mi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,r.targetId).next((a=>{a.forEach((u=>this.mi.add(u.toString())))})).next((()=>i.removeTargetData(e,r)))}Ii(){this.Ri=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.mi,(i=>{const a=Ee.fromPath(i);return this.fi(e,a).next((u=>{u||r.removeEntry(a,Ae.min())}))})).next((()=>(this.Ri=null,r.apply(e))))}updateLimboDocument(e,r){return this.fi(e,r).next((i=>{i?this.mi.delete(r.toString()):this.mi.add(r.toString())}))}Pi(e){return 0}fi(e,r){return J.or([()=>J.resolve(this.Ai.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ei(e,r)])}}class dc{constructor(e,r){this.persistence=e,this.gi=new Ii((i=>vI(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=NA(this,r)}static Vi(e,r){return new dc(e,r)}Ii(){}di(e){return J.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}mr(e){const r=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>r.next((a=>i+a))))}yr(e){let r=0;return this.gr(e,(i=>{r++})).next((()=>r))}gr(e,r){return J.forEach(this.gi,((i,a)=>this.Sr(e,i,a).next((u=>u?J.resolve():r(a)))))}removeTargets(e,r,i){return this.persistence.getTargetCache().removeTargets(e,r,i)}removeOrphanedDocuments(e,r){let i=0;const a=this.persistence.getRemoteDocumentCache(),u=a.newChangeBuffer();return a.ri(e,(h=>this.Sr(e,h,r).next((f=>{f||(i++,u.removeEntry(h,Ae.min()))})))).next((()=>u.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,r){return this.gi.set(r,e.currentSequenceNumber),J.resolve()}removeTarget(e,r){const i=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,r,i){return this.gi.set(i,e.currentSequenceNumber),J.resolve()}removeReference(e,r,i){return this.gi.set(i,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,r){return this.gi.set(r,e.currentSequenceNumber),J.resolve()}Pi(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Yu(e.data.value)),r}Sr(e,r,i){return J.or([()=>this.persistence.Ei(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const a=this.gi.get(r);return J.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class df{constructor(e,r,i,a){this.targetId=e,this.fromCache=r,this.Is=i,this.ds=a}static Es(e,r){let i=Be(),a=Be();for(const u of r.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new df(e,r.fromCache,i,a)}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class UA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qA{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return y2()?8:gI(m2())>0?6:4})()}initialize(e,r){this.gs=e,this.indexManager=r,this.As=!0}getDocumentsMatchingQuery(e,r,i,a){const u={result:null};return this.ps(e,r).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ys(e,r,a,i).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new UA;return this.ws(e,r,h).next((f=>{if(u.result=f,this.Rs)return this.Ss(e,r,h,f.size)}))})).next((()=>u.result))}Ss(e,r,i,a){return i.documentReadCount<this.Vs?(bo()<=qe.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Co(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(bo()<=qe.DEBUG&&he("QueryEngine","Query:",Co(r),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.fs*a?(bo()<=qe.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Co(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Er(r))):J.resolve())}ps(e,r){if(Jv(r))return J.resolve(null);let i=Er(r);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(r.limit!==null&&a===1&&(r=Jd(r,null,"F"),i=Er(r)),this.indexManager.getDocumentsMatchingTarget(e,i).next((u=>{const h=Be(...u);return this.gs.getDocuments(e,h).next((f=>this.indexManager.getMinOffset(e,i).next((m=>{const g=this.bs(r,f);return this.Ds(r,g,h,m.readTime)?this.ps(e,Jd(r,null,"F")):this.vs(e,g,r,m)}))))})))))}ys(e,r,i,a){return Jv(r)||a.isEqual(Ae.min())?J.resolve(null):this.gs.getDocuments(e,i).next((u=>{const h=this.bs(r,u);return this.Ds(r,h,i,a)?J.resolve(null):(bo()<=qe.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Co(r)),this.vs(e,h,r,hI(a,Ka)).next((f=>f)))}))}bs(e,r){let i=new Vt(t0(e));return r.forEach(((a,u)=>{rc(e,u)&&(i=i.add(u))})),i}Ds(e,r,i,a){if(e.limit===null)return!1;if(i.size!==r.size)return!0;const u=e.limitType==="F"?r.last():r.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}ws(e,r,i){return bo()<=qe.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Co(r)),this.gs.getDocumentsMatchingQuery(e,r,_s.min(),i)}vs(e,r,i,a){return this.gs.getDocumentsMatchingQuery(e,i,a).next((u=>(r.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ff="LocalStore",$A=3e8;class KA{constructor(e,r,i,a){this.persistence=e,this.Cs=r,this.serializer=a,this.Fs=new yt(Fe),this.Ms=new Ii((u=>Qd(u)),Gd),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(i)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new MA(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.Fs)))}}function WA(n,e,r,i){return new KA(n,e,r,i)}async function V0(n,e){const r=Pe(n);return await r.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return r.mutationQueue.getAllMutationBatches(i).next((u=>(a=u,r.Ns(e),r.mutationQueue.getAllMutationBatches(i)))).next((u=>{const h=[],f=[];let m=Be();for(const g of a){h.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of u){f.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return r.localDocuments.getDocuments(i,m).next((g=>({Bs:g,removedBatchIds:h,addedBatchIds:f})))}))}))}function HA(n,e){const r=Pe(n);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),u=r.Os.newChangeBuffer({trackRemovals:!0});return(function(h,f,m,g){const v=m.batch,E=v.keys();let k=J.resolve();return E.forEach((A=>{k=k.next((()=>g.getEntry(f,A))).next((V=>{const q=m.docVersions.get(A);Ze(q!==null,48541),V.version.compareTo(q)<0&&(v.applyToRemoteDocument(V,m),V.isValidDocument()&&(V.setReadTime(m.commitVersion),g.addEntry(V)))}))})),k.next((()=>h.mutationQueue.removeMutationBatch(f,v)))})(r,i,e,u).next((()=>u.apply(i))).next((()=>r.mutationQueue.performConsistencyCheck(i))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let f=Be();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(f=f.add(h.batch.mutations[m].key));return f})(e)))).next((()=>r.localDocuments.getDocuments(i,a)))}))}function j0(n){const e=Pe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.hi.getLastRemoteSnapshotVersion(r)))}function XA(n,e){const r=Pe(n),i=e.snapshotVersion;let a=r.Fs;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=r.Os.newChangeBuffer({trackRemovals:!0});a=r.Fs;const f=[];e.targetChanges.forEach(((v,E)=>{const k=a.get(E);if(!k)return;f.push(r.hi.removeMatchingKeys(u,v.removedDocuments,E).next((()=>r.hi.addMatchingKeys(u,v.addedDocuments,E))));let A=k.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(E)!==null?A=A.withResumeToken(en.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):v.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(v.resumeToken,i)),a=a.insert(E,A),(function(V,q,j){return V.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=$A?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(k,A,v)&&f.push(r.hi.updateTargetData(u,A))}));let m=Wr(),g=Be();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&f.push(r.persistence.referenceDelegate.updateLimboDocument(u,v))})),f.push(QA(u,h,e.documentUpdates).next((v=>{m=v.Ls,g=v.ks}))),!i.isEqual(Ae.min())){const v=r.hi.getLastRemoteSnapshotVersion(u).next((E=>r.hi.setTargetsMetadata(u,u.currentSequenceNumber,i)));f.push(v)}return J.waitFor(f).next((()=>h.apply(u))).next((()=>r.localDocuments.getLocalViewOfDocuments(u,m,g))).next((()=>m))})).then((u=>(r.Fs=a,u)))}function QA(n,e,r){let i=Be(),a=Be();return r.forEach((u=>i=i.add(u))),e.getEntries(n,i).next((u=>{let h=Wr();return r.forEach(((f,m)=>{const g=u.get(f);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Ae.min())?(e.removeEntry(f,m.readTime),h=h.insert(f,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),h=h.insert(f,m)):he(ff,"Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",m.version)})),{Ls:h,ks:a}}))}function GA(n,e){const r=Pe(n);return r.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=qd),r.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function YA(n,e){const r=Pe(n);return r.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return r.hi.getTargetData(i,e).next((u=>u?(a=u,J.resolve(a)):r.hi.allocateTargetId(i).next((h=>(a=new Ls(e,h,"TargetPurposeListen",i.currentSequenceNumber),r.hi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=r.Fs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(r.Fs=r.Fs.insert(i.targetId,i),r.Ms.set(e,i.targetId)),i}))}async function pf(n,e,r){const i=Pe(n),a=i.Fs.get(e),u=r?"readwrite":"readwrite-primary";try{r||await i.persistence.runTransaction("Release target",u,(h=>i.persistence.referenceDelegate.removeTarget(h,a)))}catch(h){if(!So(h))throw h;he(ff,`Failed to update sequence numbers for target ${e}: ${h}`)}i.Fs=i.Fs.remove(e),i.Ms.delete(a.target)}function z0(n,e,r){const i=Pe(n);let a=Ae.min(),u=Be();return i.persistence.runTransaction("Execute query","readwrite",(h=>(function(f,m,g){const v=Pe(f),E=v.Ms.get(g);return E!==void 0?J.resolve(v.Fs.get(E)):v.hi.getTargetData(m,g)})(i,h,Er(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(h,f.targetId).next((m=>{u=m}))})).next((()=>i.Cs.getDocumentsMatchingQuery(h,e,r?a:Ae.min(),r?u:Be()))).next((f=>(ZA(i,VI(e),f),{documents:f,qs:u})))))}function ZA(n,e,r){let i=n.xs.get(e)||Ae.min();r.forEach(((a,u)=>{u.readTime.compareTo(i)>0&&(i=u.readTime)})),n.xs.set(e,i)}class B0{constructor(){this.activeTargetIds=$I()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JA{constructor(){this.Fo=new B0,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,i){}addLocalQueryTarget(e,r=!0){return r&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,r,i){this.Mo[e]=r}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new B0,Promise.resolve()}handleUserChange(e,r,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class eP{xo(e){}shutdown(){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const U0="ConnectivityMonitor";class q0{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){he(U0,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){he(U0,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let fc=null;function mf(){return fc===null?fc=(function(){return 268435456+Math.round(2147483648*Math.random())})():fc++,"0x"+fc.toString(16)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const gf="RestConnection",tP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nP{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.$o=r+"://"+e.host,this.Uo=`projects/${i}/databases/${a}`,this.Ko=this.databaseId.database===Xu?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Wo(e,r,i,a,u){const h=mf(),f=this.Go(e,r.toUriEncodedString());he(gf,`Sending RPC '${e}' ${h}:`,f,i);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(m,a,u);const{host:g}=new URL(f),v=md(g);return this.jo(e,f,m,i,v).then((E=>(he(gf,`Received RPC '${e}' ${h}: `,E),E)),(E=>{throw Ps(gf,`RPC '${e}' ${h} failed with error: `,E,"url: ",f,"request:",i),E}))}Jo(e,r,i,a,u,h){return this.Wo(e,r,i,a,u)}zo(e,r,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+vo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((a,u)=>e[u]=a)),i&&i.headers.forEach(((a,u)=>e[u]=a))}Go(e,r){const i=tP[e];return`${this.$o}/v1/${r}:${i}`}terminate(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rP{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const fn="WebChannelConnection";class sP extends nP{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,r,i,a,u){const h=mf();return new Promise(((f,m)=>{const g=new lv;g.setWithCredentials(!0),g.listenOnce(uv.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Uu.NO_ERROR:const E=g.getResponseJson();he(fn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(E)),f(E);break;case Uu.TIMEOUT:he(fn,`RPC '${e}' ${h} timed out`),m(new be(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Uu.HTTP_ERROR:const k=g.getStatus();if(he(fn,`RPC '${e}' ${h} failed with status:`,k,"response text:",g.getResponseText()),k>0){let A=g.getResponseJson();Array.isArray(A)&&(A=A[0]);const V=A==null?void 0:A.error;if(V&&V.status&&V.message){const q=(function(j){const Q=j.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(Q)>=0?Q:ne.UNKNOWN})(V.status);m(new be(q,V.message))}else m(new be(ne.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new be(ne.UNAVAILABLE,"Connection failed."));break;default:ke(9055,{c_:e,streamId:h,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{he(fn,`RPC '${e}' ${h} completed.`)}}));const v=JSON.stringify(a);he(fn,`RPC '${e}' ${h} sending request:`,a),g.send(r,"POST",v,i,15)}))}P_(e,r,i){const a=mf(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=dv(),f=hv(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.zo(m.initMessageHeaders,r,i),m.encodeInitMessageHeaders=!0;const v=u.join("");he(fn,`Creating RPC '${e}' stream ${a}: ${v}`,m);const E=h.createWebChannel(v,m);this.T_(E);let k=!1,A=!1;const V=new rP({Ho:j=>{A?he(fn,`Not sending because RPC '${e}' stream ${a} is closed:`,j):(k||(he(fn,`Opening RPC '${e}' stream ${a} transport.`),E.open(),k=!0),he(fn,`RPC '${e}' stream ${a} sending:`,j),E.send(j))},Yo:()=>E.close()}),q=(j,Q,te)=>{j.listen(Q,(ie=>{try{te(ie)}catch(pe){setTimeout((()=>{throw pe}),0)}}))};return q(E,qa.EventType.OPEN,(()=>{A||(he(fn,`RPC '${e}' stream ${a} transport opened.`),V.s_())})),q(E,qa.EventType.CLOSE,(()=>{A||(A=!0,he(fn,`RPC '${e}' stream ${a} transport closed`),V.__(),this.I_(E))})),q(E,qa.EventType.ERROR,(j=>{A||(A=!0,Ps(fn,`RPC '${e}' stream ${a} transport errored. Name:`,j.name,"Message:",j.message),V.__(new be(ne.UNAVAILABLE,"The operation could not be completed")))})),q(E,qa.EventType.MESSAGE,(j=>{var Q;if(!A){const te=j.data[0];Ze(!!te,16349);const ie=te,pe=(ie==null?void 0:ie.error)||((Q=ie[0])===null||Q===void 0?void 0:Q.error);if(pe){he(fn,`RPC '${e}' stream ${a} received error:`,pe);const le=pe.status;let ye=(function(I){const P=_t[I];if(P!==void 0)return v0(P)})(le),M=pe.message;ye===void 0&&(ye=ne.INTERNAL,M="Unknown error status: "+le+" with message "+pe.message),A=!0,V.__(new be(ye,M)),E.close()}else he(fn,`RPC '${e}' stream ${a} received:`,te),V.a_(te)}})),q(f,cv.STAT_EVENT,(j=>{j.stat===Vd.PROXY?he(fn,`RPC '${e}' stream ${a} detected buffering proxy`):j.stat===Vd.NOPROXY&&he(fn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{V.o_()}),0),V}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((r=>r===e))}}function yf(){return typeof document<"u"?document:null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function pc(n){return new lA(n,!0)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $0{constructor(e,r,i=1e3,a=1.5,u=6e4){this.Fi=e,this.timerId=r,this.d_=i,this.E_=a,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const r=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),a=Math.max(0,r-i);a>0&&he("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.R_} ms, delay with jitter: ${r} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,a,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const K0="PersistentStream";class W0{constructor(e,r,i,a,u,h,f,m){this.Fi=e,this.w_=i,this.S_=a,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new $0(e,r)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():r&&r.code===ne.RESOURCE_EXHAUSTED?(Kr(r.toString()),Kr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):r&&r.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(r)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),r=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.b_===r&&this.W_(i,a)}),(i=>{e((()=>{const a=new be(ne.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(a)}))}))}W_(e,r){const i=this.K_(this.b_);this.stream=this.z_(e,r),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.e_((()=>{i((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((a=>{i((()=>this.G_(a)))})),this.stream.onMessage((a=>{i((()=>++this.C_==1?this.j_(a):this.onNext(a)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return he(K0,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return r=>{this.Fi.enqueueAndForget((()=>this.b_===e?r():(he(K0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class iP extends W0{constructor(e,r,i,a,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,h),this.serializer=u}z_(e,r){return this.connection.P_("Listen",e,r)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const r=hA(this.serializer,e),i=(function(a){if(!("targetChange"in a))return Ae.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Ae.min():u.readTime?Tr(u.readTime):Ae.min()})(e);return this.listener.J_(r,i)}H_(e){const r={};r.database=uf(this.serializer),r.addTarget=(function(a,u){let h;const f=u.target;if(h=Yd(f)?{documents:pA(a,f)}:{query:mA(a,f).Vt},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=C0(a,u.resumeToken);const m=rf(a,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(Ae.min())>0){h.readTime=hc(a,u.snapshotVersion.toTimestamp());const m=rf(a,u.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,e);const i=yA(this.serializer,e);i&&(r.labels=i),this.k_(r)}Y_(e){const r={};r.database=uf(this.serializer),r.removeTarget=e,this.k_(r)}}class oP extends W0{constructor(e,r,i,a,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,h),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,r){return this.connection.P_("Write",e,r)}j_(e){return Ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const r=fA(e.writeResults,e.commitTime),i=Tr(e.commitTime);return this.listener.ta(i,r)}na(){const e={};e.database=uf(this.serializer),this.k_(e)}X_(e){const r={streamToken:this.lastStreamToken,writes:e.map((i=>dA(this.serializer,i)))};this.k_(r)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class aP{}class lP extends aP{constructor(e,r,i,a){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=i,this.serializer=a,this.ra=!1}ia(){if(this.ra)throw new be(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,r,i,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Wo(e,of(r,i),a,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new be(ne.UNKNOWN,u.toString())}))}Jo(e,r,i,a,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,f])=>this.connection.Jo(e,of(r,i),a,h,f,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new be(ne.UNKNOWN,h.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class uP{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Kr(r),this._a=!1):he("OnlineStateTracker",r)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Pi="RemoteStore";class cP{constructor(e,r,i,a,u){this.localStore=e,this.datastore=r,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo((h=>{i.enqueueAndForget((async()=>{Ni(this)&&(he(Pi,"Restarting streams for network reachability change."),await(async function(f){const m=Pe(f);m.Ia.add(4),await ol(m),m.Aa.set("Unknown"),m.Ia.delete(4),await mc(m)})(this))}))})),this.Aa=new uP(i,a)}}async function mc(n){if(Ni(n))for(const e of n.da)await e(!0)}async function ol(n){for(const e of n.da)await e(!1)}function H0(n,e){const r=Pe(n);r.Ta.has(e.targetId)||(r.Ta.set(e.targetId,e),Ef(r)?wf(r):Po(r).x_()&&bf(r,e))}function vf(n,e){const r=Pe(n),i=Po(r);r.Ta.delete(e),i.x_()&&X0(r,e),r.Ta.size===0&&(i.x_()?i.B_():Ni(r)&&r.Aa.set("Unknown"))}function bf(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const r=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Po(n).H_(e)}function X0(n,e){n.Ra.$e(e),Po(n).Y_(e)}function wf(n){n.Ra=new sA({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Po(n).start(),n.Aa.aa()}function Ef(n){return Ni(n)&&!Po(n).M_()&&n.Ta.size>0}function Ni(n){return Pe(n).Ia.size===0}function Q0(n){n.Ra=void 0}async function hP(n){n.Aa.set("Online")}async function dP(n){n.Ta.forEach(((e,r)=>{bf(n,e)}))}async function fP(n,e){Q0(n),Ef(n)?(n.Aa.la(e),wf(n)):n.Aa.set("Unknown")}async function pP(n,e,r){if(n.Aa.set("Online"),e instanceof S0&&e.state===2&&e.cause)try{await(async function(i,a){const u=a.cause;for(const h of a.targetIds)i.Ta.has(h)&&(await i.remoteSyncer.rejectListen(h,u),i.Ta.delete(h),i.Ra.removeTarget(h))})(n,e)}catch(i){he(Pi,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await gc(n,i)}else if(e instanceof uc?n.Ra.Ye(e):e instanceof E0?n.Ra.it(e):n.Ra.et(e),!r.isEqual(Ae.min()))try{const i=await j0(n.localStore);r.compareTo(i)>=0&&await(function(a,u){const h=a.Ra.Pt(u);return h.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const g=a.Ta.get(m);g&&a.Ta.set(m,g.withResumeToken(f.resumeToken,u))}})),h.targetMismatches.forEach(((f,m)=>{const g=a.Ta.get(f);if(!g)return;a.Ta.set(f,g.withResumeToken(en.EMPTY_BYTE_STRING,g.snapshotVersion)),X0(a,f);const v=new Ls(g.target,f,m,g.sequenceNumber);bf(a,v)})),a.remoteSyncer.applyRemoteEvent(h)})(n,r)}catch(i){he(Pi,"Failed to raise snapshot:",i),await gc(n,i)}}async function gc(n,e,r){if(!So(e))throw e;n.Ia.add(1),await ol(n),n.Aa.set("Offline"),r||(r=()=>j0(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{he(Pi,"Retrying IndexedDB access"),await r(),n.Ia.delete(1),await mc(n)}))}function G0(n,e){return e().catch((r=>gc(n,r,e)))}async function yc(n){const e=Pe(n),r=Vs(e);let i=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:qd;for(;mP(e);)try{const a=await GA(e.localStore,i);if(a===null){e.Pa.length===0&&r.B_();break}i=a.batchId,gP(e,a)}catch(a){await gc(e,a)}Y0(e)&&Z0(e)}function mP(n){return Ni(n)&&n.Pa.length<10}function gP(n,e){n.Pa.push(e);const r=Vs(n);r.x_()&&r.Z_&&r.X_(e.mutations)}function Y0(n){return Ni(n)&&!Vs(n).M_()&&n.Pa.length>0}function Z0(n){Vs(n).start()}async function yP(n){Vs(n).na()}async function vP(n){const e=Vs(n);for(const r of n.Pa)e.X_(r.mutations)}async function bP(n,e,r){const i=n.Pa.shift(),a=tf.from(i,e,r);await G0(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await yc(n)}async function wP(n,e){e&&Vs(n).Z_&&await(async function(r,i){if((function(a){return nA(a)&&a!==ne.ABORTED})(i.code)){const a=r.Pa.shift();Vs(r).N_(),await G0(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await yc(r)}})(n,e),Y0(n)&&Z0(n)}async function J0(n,e){const r=Pe(n);r.asyncQueue.verifyOperationInProgress(),he(Pi,"RemoteStore received new credentials");const i=Ni(r);r.Ia.add(3),await ol(r),i&&r.Aa.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ia.delete(3),await mc(r)}async function EP(n,e){const r=Pe(n);e?(r.Ia.delete(2),await mc(r)):e||(r.Ia.add(2),await ol(r),r.Aa.set("Unknown"))}function Po(n){return n.Va||(n.Va=(function(e,r,i){const a=Pe(e);return a.ia(),new iP(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(n.datastore,n.asyncQueue,{Zo:hP.bind(null,n),e_:dP.bind(null,n),n_:fP.bind(null,n),J_:pP.bind(null,n)}),n.da.push((async e=>{e?(n.Va.N_(),Ef(n)?wf(n):n.Aa.set("Unknown")):(await n.Va.stop(),Q0(n))}))),n.Va}function Vs(n){return n.ma||(n.ma=(function(e,r,i){const a=Pe(e);return a.ia(),new oP(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:yP.bind(null,n),n_:wP.bind(null,n),ea:vP.bind(null,n),ta:bP.bind(null,n)}),n.da.push((async e=>{e?(n.ma.N_(),await yc(n)):(await n.ma.stop(),n.Pa.length>0&&(he(Pi,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Sf{constructor(e,r,i,a,u){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=i,this.op=a,this.removalCallback=u,this.deferred=new xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,i,a,u){const h=Date.now()+i,f=new Sf(e,r,h,a,u);return f.start(i),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tf(n,e){if(Kr("AsyncQueue",`${e}: ${n}`),So(n))return new be(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class No{static emptySet(e){return new No(e.comparator)}constructor(e){this.comparator=e?(r,i)=>e(r,i)||Ee.comparator(r.key,i.key):(r,i)=>Ee.comparator(r.key,i.key),this.keyedMap=Ya(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,i)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof No)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;r.hasNext();){const a=r.getNext().key,u=i.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const i=new No;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=r,i}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class eb{constructor(){this.fa=new yt(Ee.comparator)}track(e){const r=e.doc.key,i=this.fa.get(r);i?e.type!==0&&i.type===3?this.fa=this.fa.insert(r,e):e.type===3&&i.type!==1?this.fa=this.fa.insert(r,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.fa=this.fa.insert(r,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.fa=this.fa.insert(r,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.fa=this.fa.remove(r):e.type===1&&i.type===2?this.fa=this.fa.insert(r,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.fa=this.fa.insert(r,{type:2,doc:e.doc}):ke(63341,{At:e,ga:i}):this.fa=this.fa.insert(r,e)}pa(){const e=[];return this.fa.inorderTraversal(((r,i)=>{e.push(i)})),e}}class _o{constructor(e,r,i,a,u,h,f,m,g){this.query=e,this.docs=r,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,r,i,a,u){const h=[];return r.forEach((f=>{h.push({type:0,doc:f})})),new _o(e,r,No.emptySet(r),h,i,a,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,i=e.docChanges;if(r.length!==i.length)return!1;for(let a=0;a<r.length;a++)if(r[a].type!==i[a].type||!r[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class SP{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class TP{constructor(){this.queries=tb(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(e,r){const i=Pe(e),a=i.queries;i.queries=tb(),a.forEach(((u,h)=>{for(const f of h.wa)f.onError(r)}))})(this,new be(ne.ABORTED,"Firestore shutting down"))}}function tb(){return new Ii((n=>e0(n)),nc)}async function kP(n,e){const r=Pe(n);let i=3;const a=e.query;let u=r.queries.get(a);u?!u.Sa()&&e.ba()&&(i=2):(u=new SP,i=e.ba()?0:1);try{switch(i){case 0:u.ya=await r.onListen(a,!0);break;case 1:u.ya=await r.onListen(a,!1);break;case 2:await r.onFirstRemoteStoreListen(a)}}catch(h){const f=Tf(h,`Initialization of query '${Co(e.query)}' failed`);return void e.onError(f)}r.queries.set(a,u),u.wa.push(e),e.va(r.onlineState),u.ya&&e.Ca(u.ya)&&kf(r)}async function CP(n,e){const r=Pe(n),i=e.query;let a=3;const u=r.queries.get(i);if(u){const h=u.wa.indexOf(e);h>=0&&(u.wa.splice(h,1),u.wa.length===0?a=e.ba()?0:1:!u.Sa()&&e.ba()&&(a=2))}switch(a){case 0:return r.queries.delete(i),r.onUnlisten(i,!0);case 1:return r.queries.delete(i),r.onUnlisten(i,!1);case 2:return r.onLastRemoteStoreUnlisten(i);default:return}}function xP(n,e){const r=Pe(n);let i=!1;for(const a of e){const u=a.query,h=r.queries.get(u);if(h){for(const f of h.wa)f.Ca(a)&&(i=!0);h.ya=a}}i&&kf(r)}function IP(n,e,r){const i=Pe(n),a=i.queries.get(e);if(a)for(const u of a.wa)u.onError(r);i.queries.delete(e)}function kf(n){n.Da.forEach((e=>{e.next()}))}var Cf,nb;(nb=Cf||(Cf={})).Fa="default",nb.Cache="cache";class AP{constructor(e,r,i){this.query=e,this.Ma=r,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new _o(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),r=!0):this.Ba(e,this.onlineState)&&(this.La(e),r=!0),this.Oa=e,r}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let r=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),r=!0),r}Ba(e,r){if(!e.fromCache||!this.ba())return!0;const i=r!=="Offline";return(!this.options.ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const r=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}La(e){e=_o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Cf.Cache}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rb{constructor(e){this.key=e}}class sb{constructor(e){this.key=e}}class PP{constructor(e,r){this.query=e,this.Ha=r,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Be(),this.mutatedKeys=Be(),this.Xa=t0(e),this.eu=new No(this.Xa)}get tu(){return this.Ha}nu(e,r){const i=r?r.ru:new eb,a=r?r.eu:this.eu;let u=r?r.mutatedKeys:this.mutatedKeys,h=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,E)=>{const k=a.get(v),A=rc(this.query,E)?E:null,V=!!k&&this.mutatedKeys.has(k.key),q=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let j=!1;k&&A?k.data.isEqual(A.data)?V!==q&&(i.track({type:3,doc:A}),j=!0):this.iu(k,A)||(i.track({type:2,doc:A}),j=!0,(m&&this.Xa(A,m)>0||g&&this.Xa(A,g)<0)&&(f=!0)):!k&&A?(i.track({type:0,doc:A}),j=!0):k&&!A&&(i.track({type:1,doc:k}),j=!0,(m||g)&&(f=!0)),j&&(A?(h=h.add(A),u=q?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),i.track({type:1,doc:v})}return{eu:h,ru:i,Ds:f,mutatedKeys:u}}iu(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,i,a){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const h=e.ru.pa();h.sort(((v,E)=>(function(k,A){const V=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke(20277,{At:q})}};return V(k)-V(A)})(v.type,E.type)||this.Xa(v.doc,E.doc))),this.su(i),a=a!=null&&a;const f=r&&!a?this.ou():[],m=this.Za.size===0&&this.current&&!a?1:0,g=m!==this.Ya;return this.Ya=m,h.length!==0||g?{snapshot:new _o(this.query,e.eu,u,h,e.mutatedKeys,m===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:f}:{_u:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new eb,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((r=>this.Ha=this.Ha.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ha=this.Ha.delete(r))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Be(),this.eu.forEach((i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))}));const r=[];return e.forEach((i=>{this.Za.has(i)||r.push(new sb(i))})),this.Za.forEach((i=>{e.has(i)||r.push(new rb(i))})),r}uu(e){this.Ha=e.qs,this.Za=Be();const r=this.nu(e.documents);return this.applyChanges(r,!0)}cu(){return _o.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const xf="SyncEngine";class NP{constructor(e,r,i){this.query=e,this.targetId=r,this.view=i}}class _P{constructor(e){this.key=e,this.lu=!1}}class DP{constructor(e,r,i,a,u,h){this.localStore=e,this.remoteStore=r,this.eventManager=i,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.hu={},this.Pu=new Ii((f=>e0(f)),nc),this.Tu=new Map,this.Iu=new Set,this.du=new yt(Ee.comparator),this.Eu=new Map,this.Au=new cf,this.Ru={},this.Vu=new Map,this.mu=Ao.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function MP(n,e,r=!0){const i=db(n);let a;const u=i.Pu.get(e);return u?(i.sharedClientState.addLocalQueryTarget(u.targetId),a=u.view.cu()):a=await ib(i,e,r,!0),a}async function FP(n,e){const r=db(n);await ib(r,e,!0,!1)}async function ib(n,e,r,i){const a=await YA(n.localStore,Er(e)),u=a.targetId,h=n.sharedClientState.addLocalQueryTarget(u,r);let f;return i&&(f=await RP(n,e,u,h==="current",a.resumeToken)),n.isPrimaryClient&&r&&H0(n.remoteStore,a),f}async function RP(n,e,r,i,a){n.gu=(E,k,A)=>(async function(V,q,j,Q){let te=q.view.nu(j);te.Ds&&(te=await z0(V.localStore,q.query,!1).then((({documents:ye})=>q.view.nu(ye,te))));const ie=Q&&Q.targetChanges.get(q.targetId),pe=Q&&Q.targetMismatches.get(q.targetId)!=null,le=q.view.applyChanges(te,V.isPrimaryClient,ie,pe);return hb(V,q.targetId,le._u),le.snapshot})(n,E,k,A);const u=await z0(n.localStore,e,!0),h=new PP(e,u.qs),f=h.nu(u.documents),m=il.createSynthesizedTargetChangeForCurrentChange(r,i&&n.onlineState!=="Offline",a),g=h.applyChanges(f,n.isPrimaryClient,m);hb(n,r,g._u);const v=new NP(e,r,h);return n.Pu.set(e,v),n.Tu.has(r)?n.Tu.get(r).push(e):n.Tu.set(r,[e]),g.snapshot}async function OP(n,e,r){const i=Pe(n),a=i.Pu.get(e),u=i.Tu.get(a.targetId);if(u.length>1)return i.Tu.set(a.targetId,u.filter((h=>!nc(h,e)))),void i.Pu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await pf(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),r&&vf(i.remoteStore,a.targetId),If(i,a.targetId)})).catch(Eo)):(If(i,a.targetId),await pf(i.localStore,a.targetId,!0))}async function LP(n,e){const r=Pe(n),i=r.Pu.get(e),a=r.Tu.get(i.targetId);r.isPrimaryClient&&a.length===1&&(r.sharedClientState.removeLocalQueryTarget(i.targetId),vf(r.remoteStore,i.targetId))}async function VP(n,e,r){const i=KP(n);try{const a=await(function(u,h){const f=Pe(u),m=ht.now(),g=h.reduce(((k,A)=>k.add(A.key)),Be());let v,E;return f.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let A=Wr(),V=Be();return f.Os.getEntries(k,g).next((q=>{A=q,A.forEach(((j,Q)=>{Q.isValidDocument()||(V=V.add(j))}))})).next((()=>f.localDocuments.getOverlayedDocuments(k,A))).next((q=>{v=q;const j=[];for(const Q of h){const te=YI(Q,v.get(Q.key).overlayedDocument);te!=null&&j.push(new Os(Q.key,te,qv(te.value.mapValue),Sr.exists(!0)))}return f.mutationQueue.addMutationBatch(k,m,j,h)})).next((q=>{E=q;const j=q.applyToLocalDocumentSet(v,V);return f.documentOverlayCache.saveOverlays(k,q.batchId,j)}))})).then((()=>({batchId:E.batchId,changes:r0(v)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(u,h,f){let m=u.Ru[u.currentUser.toKey()];m||(m=new yt(Fe)),m=m.insert(h,f),u.Ru[u.currentUser.toKey()]=m})(i,a.batchId,r),await al(i,a.changes),await yc(i.remoteStore)}catch(a){const u=Tf(a,"Failed to persist write");r.reject(u)}}async function ob(n,e){const r=Pe(n);try{const i=await XA(r.localStore,e);e.targetChanges.forEach(((a,u)=>{const h=r.Eu.get(u);h&&(Ze(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?h.lu=!0:a.modifiedDocuments.size>0?Ze(h.lu,14607):a.removedDocuments.size>0&&(Ze(h.lu,42227),h.lu=!1))})),await al(r,i,e)}catch(i){await Eo(i)}}function ab(n,e,r){const i=Pe(n);if(i.isPrimaryClient&&r===0||!i.isPrimaryClient&&r===1){const a=[];i.Pu.forEach(((u,h)=>{const f=h.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(u,h){const f=Pe(u);f.onlineState=h;let m=!1;f.queries.forEach(((g,v)=>{for(const E of v.wa)E.va(h)&&(m=!0)})),m&&kf(f)})(i.eventManager,e),a.length&&i.hu.J_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function jP(n,e,r){const i=Pe(n);i.sharedClientState.updateQueryState(e,"rejected",r);const a=i.Eu.get(e),u=a&&a.key;if(u){let h=new yt(Ee.comparator);h=h.insert(u,dn.newNoDocument(u,Ae.min()));const f=Be().add(u),m=new lc(Ae.min(),new Map,new yt(Fe),h,f);await ob(i,m),i.du=i.du.remove(u),i.Eu.delete(e),Af(i)}else await pf(i.localStore,e,!1).then((()=>If(i,e,r))).catch(Eo)}async function zP(n,e){const r=Pe(n),i=e.batch.batchId;try{const a=await HA(r.localStore,e);ub(r,i,null),lb(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),await al(r,a)}catch(a){await Eo(a)}}async function BP(n,e,r){const i=Pe(n);try{const a=await(function(u,h){const f=Pe(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let g;return f.mutationQueue.lookupMutationBatch(m,h).next((v=>(Ze(v!==null,37113),g=v.keys(),f.mutationQueue.removeMutationBatch(m,v)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,g,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g))).next((()=>f.localDocuments.getDocuments(m,g)))}))})(i.localStore,e);ub(i,e,r),lb(i,e),i.sharedClientState.updateMutationState(e,"rejected",r),await al(i,a)}catch(a){await Eo(a)}}function lb(n,e){(n.Vu.get(e)||[]).forEach((r=>{r.resolve()})),n.Vu.delete(e)}function ub(n,e,r){const i=Pe(n);let a=i.Ru[i.currentUser.toKey()];if(a){const u=a.get(e);u&&(r?u.reject(r):u.resolve(),a=a.remove(e)),i.Ru[i.currentUser.toKey()]=a}}function If(n,e,r=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Tu.get(e))n.Pu.delete(i),r&&n.hu.pu(i,r);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach((i=>{n.Au.containsKey(i)||cb(n,i)}))}function cb(n,e){n.Iu.delete(e.path.canonicalString());const r=n.du.get(e);r!==null&&(vf(n.remoteStore,r),n.du=n.du.remove(e),n.Eu.delete(r),Af(n))}function hb(n,e,r){for(const i of r)i instanceof rb?(n.Au.addReference(i.key,e),UP(n,i)):i instanceof sb?(he(xf,"Document no longer in limbo: "+i.key),n.Au.removeReference(i.key,e),n.Au.containsKey(i.key)||cb(n,i.key)):ke(19791,{yu:i})}function UP(n,e){const r=e.key,i=r.path.canonicalString();n.du.get(r)||n.Iu.has(i)||(he(xf,"New document in limbo: "+r),n.Iu.add(i),Af(n))}function Af(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const r=new Ee(ct.fromString(e)),i=n.mu.next();n.Eu.set(i,new _P(r)),n.du=n.du.insert(r,i),H0(n.remoteStore,new Ls(Er(Zd(r.path)),i,"TargetPurposeLimboResolution",qu.ue))}}async function al(n,e,r){const i=Pe(n),a=[],u=[],h=[];i.Pu.isEmpty()||(i.Pu.forEach(((f,m)=>{h.push(i.gu(m,e,r).then((g=>{var v;if((g||r)&&i.isPrimaryClient){const E=g?!g.fromCache:(v=r==null?void 0:r.targetChanges.get(m.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(m.targetId,E?"current":"not-current")}if(g){a.push(g);const E=df.Es(m.targetId,g);u.push(E)}})))})),await Promise.all(h),i.hu.J_(a),await(async function(f,m){const g=Pe(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>J.forEach(m,(E=>J.forEach(E.Is,(k=>g.persistence.referenceDelegate.addReference(v,E.targetId,k))).next((()=>J.forEach(E.ds,(k=>g.persistence.referenceDelegate.removeReference(v,E.targetId,k)))))))))}catch(v){if(!So(v))throw v;he(ff,"Failed to update sequence numbers: "+v)}for(const v of m){const E=v.targetId;if(!v.fromCache){const k=g.Fs.get(E),A=k.snapshotVersion,V=k.withLastLimboFreeSnapshotVersion(A);g.Fs=g.Fs.insert(E,V)}}})(i.localStore,u))}async function qP(n,e){const r=Pe(n);if(!r.currentUser.isEqual(e)){he(xf,"User change. New user:",e.toKey());const i=await V0(r.localStore,e);r.currentUser=e,(function(a,u){a.Vu.forEach((h=>{h.forEach((f=>{f.reject(new be(ne.CANCELLED,u))}))})),a.Vu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await al(r,i.Bs)}}function $P(n,e){const r=Pe(n),i=r.Eu.get(e);if(i&&i.lu)return Be().add(i.key);{let a=Be();const u=r.Tu.get(e);if(!u)return a;for(const h of u){const f=r.Pu.get(h);a=a.unionWith(f.view.tu)}return a}}function db(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ob.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$P.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jP.bind(null,e),e.hu.J_=xP.bind(null,e.eventManager),e.hu.pu=IP.bind(null,e.eventManager),e}function KP(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BP.bind(null,e),e}class vc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pc(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,r){return null}Fu(e,r){return null}vu(e){return WA(this.persistence,new qA,e.initialUser,this.serializer)}Du(e){return new L0(hf.Vi,this.serializer)}bu(e){return new JA}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vc.provider={build:()=>new vc};class WP extends vc{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,r){Ze(this.persistence.referenceDelegate instanceof dc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new AA(i,e.asyncQueue,r)}Du(e){const r=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new L0((i=>dc.Vi(i,r)),this.serializer)}}class Pf{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>ab(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=qP.bind(null,this.syncEngine),await EP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new TP})()}createDatastore(e){const r=pc(e.databaseInfo.databaseId),i=(function(a){return new sP(a)})(e.databaseInfo);return(function(a,u,h,f){return new lP(a,u,h,f)})(e.authCredentials,e.appCheckCredentials,i,r)}createRemoteStore(e){return(function(r,i,a,u,h){return new cP(r,i,a,u,h)})(this.localStore,this.datastore,e.asyncQueue,(r=>ab(this.syncEngine,r,0)),(function(){return q0.C()?new q0:new eP})())}createSyncEngine(e,r){return(function(i,a,u,h,f,m,g){const v=new DP(i,a,u,h,f,m);return g&&(v.fu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await(async function(i){const a=Pe(i);he(Pi,"RemoteStore shutting down."),a.Ia.add(5),await ol(a),a.Ea.shutdown(),a.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Pf.provider={build:()=>new Pf};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class HP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Kr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const js="FirestoreClient";class XP{constructor(e,r,i,a,u){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=i,this.databaseInfo=a,this.user=hn.UNAUTHENTICATED,this.clientId=zd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(i,(async h=>{he(js,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(i,(h=>(he(js,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const i=Tf(r,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Nf(n,e){n.asyncQueue.verifyOperationInProgress(),he(js,"Initializing OfflineComponentProvider");const r=n.configuration;await e.initialize(r);let i=r.initialUser;n.setCredentialChangeListener((async a=>{i.isEqual(a)||(await V0(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>{Ps("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then((()=>{he("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((a=>{Ps("Terminating Firestore due to IndexedDb database deletion failed",a)}))})),n._offlineComponents=e}async function fb(n,e){n.asyncQueue.verifyOperationInProgress();const r=await QP(n);he(js,"Initializing OnlineComponentProvider"),await e.initialize(r,n.configuration),n.setCredentialChangeListener((i=>J0(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,a)=>J0(e.remoteStore,a))),n._onlineComponents=e}async function QP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){he(js,"Using user provided OfflineComponentProvider");try{await Nf(n,n._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ne.FAILED_PRECONDITION||i.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(r))throw r;Ps("Error using user provided cache. Falling back to memory cache: "+r),await Nf(n,new vc)}}else he(js,"Using default OfflineComponentProvider"),await Nf(n,new WP(void 0));return n._offlineComponents}async function pb(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(he(js,"Using user provided OnlineComponentProvider"),await fb(n,n._uninitializedComponentsProvider._online)):(he(js,"Using default OnlineComponentProvider"),await fb(n,new Pf))),n._onlineComponents}function GP(n){return pb(n).then((e=>e.syncEngine))}async function mb(n){const e=await pb(n),r=e.eventManager;return r.onListen=MP.bind(null,e.syncEngine),r.onUnlisten=OP.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=FP.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=LP.bind(null,e.syncEngine),r}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function gb(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const yb=new Map;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const vb="firestore.googleapis.com",bb=!0;class wb{constructor(e){var r,i;if(e.host===void 0){if(e.ssl!==void 0)throw new be(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vb,this.ssl=bb}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:bb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=F0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<xA)throw new be(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gb((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new be(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new be(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new be(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bc{constructor(e,r,i,a){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new tI;switch(r.type){case"firstParty":return new iI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new be(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const r=yb.get(e);r&&(he("ComponentProvider","Removing Datastore"),yb.delete(e),r.terminate())})(this),Promise.resolve()}}function YP(n,e,r,i={}){var a;n=Ns(n,bc);const u=md(e),h=n._getSettings(),f=Object.assign(Object.assign({},h),{emulatorOptions:n._getEmulatorOptions()}),m=`${e}:${r}`;u&&(c2(`https://${m}`),p2("Firestore",!0)),h.host!==vb&&h.host!==m&&Ps("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},h),{host:m,ssl:u,emulatorOptions:i});if(!ja(g,f)&&(n._setSettings(g),i.mockUserToken)){let v,E;if(typeof i.mockUserToken=="string")v=i.mockUserToken,E=hn.MOCK_USER;else{v=h2(i.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const k=i.mockUserToken.sub||i.mockUserToken.user_id;if(!k)throw new be(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new hn(k)}n._authCredentials=new nI(new gv(v,E))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class wc{constructor(e,r,i){this.converter=r,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new wc(this.firestore,e,this._query)}}class Dt{constructor(e,r,i){this.converter=r,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dt(this.firestore,e,this._key)}toJSON(){return{type:Dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,i){if($a(r,Dt._jsonSchema))return new Dt(e,i||null,new Ee(ct.fromString(r.referencePath)))}}Dt._jsonSchemaVersion="firestore/documentReference/1.0",Dt._jsonSchema={type:Nt("string",Dt._jsonSchemaVersion),referencePath:Nt("string")};class zs extends wc{constructor(e,r,i){super(e,r,Zd(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dt(this.firestore,null,new Ee(e))}withConverter(e){return new zs(this.firestore,e,this._path)}}function ZP(n,e,...r){if(n=lr(n),Ev("collection","path",e),n instanceof bc){const i=ct.fromString(e,...r);return Tv(i),new zs(n,null,i)}{if(!(n instanceof Dt||n instanceof zs))throw new be(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ct.fromString(e,...r));return Tv(i),new zs(n.firestore,null,i)}}function Ec(n,e,...r){if(n=lr(n),arguments.length===1&&(e=zd.newId()),Ev("doc","path",e),n instanceof bc){const i=ct.fromString(e,...r);return Sv(i),new Dt(n,null,new Ee(i))}{if(!(n instanceof Dt||n instanceof zs))throw new be(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ct.fromString(e,...r));return Sv(i),new Dt(n.firestore,n instanceof zs?n.converter:null,new Ee(i))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Eb="AsyncQueue";class Sb{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new $0(this,"async_queue_retry"),this.oc=()=>{const i=yf();i&&he(Eb,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=e;const r=yf();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const r=yf();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const r=new xi;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!So(e))throw e;he(Eb,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const r=this._c.then((()=>(this.nc=!0,e().catch((i=>{throw this.tc=i,this.nc=!1,Kr("INTERNAL UNHANDLED ERROR: ",Tb(i)),i})).then((i=>(this.nc=!1,i))))));return this._c=r,r}enqueueAfterDelay(e,r,i){this.ac(),this.sc.indexOf(e)>-1&&(r=0);const a=Sf.createAndSchedule(this,e,r,i,(u=>this.lc(u)));return this.ec.push(a),a}ac(){this.tc&&ke(47125,{hc:Tb(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const r of this.ec)if(r.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((r,i)=>r.targetTimeMs-i.targetTimeMs));for(const r of this.ec)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const r=this.ec.indexOf(e);this.ec.splice(r,1)}}function Tb(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function kb(n){return(function(e,r){if(typeof e!="object"||e===null)return!1;const i=e;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1})(n,["next","error","complete"])}class ll extends bc{constructor(e,r,i,a){super(e,r,i,a),this.type="firestore",this._queue=new Sb,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Sb(e),this._firestoreClient=void 0,await e}}}function JP(n,e){const r=typeof n=="object"?n:Ty(),i=typeof n=="string"?n:Xu,a=za(r,"firestore").getImmediate({identifier:i});if(!a._initialized){const u=l2("firestore");u&&YP(a,...u)}return a}function Cb(n){if(n._terminated)throw new be(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||eN(n),n._firestoreClient}function eN(n){var e,r,i;const a=n._freezeSettings(),u=(function(h,f,m,g){return new EI(h,f,m,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,gb(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((r=a.localCache)===null||r===void 0)&&r._offlineComponentProvider&&!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new XP(n._authCredentials,n._appCheckCredentials,n._queue,u,n._componentsProvider&&(function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}})(n._componentsProvider))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $n(en.fromBase64String(e))}catch(r){throw new be(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new $n(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:$n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if($a(e,$n._jsonSchema))return $n.fromBase64String(e.bytes)}}$n._jsonSchemaVersion="firestore/bytes/1.0",$n._jsonSchema={type:Nt("string",$n._jsonSchemaVersion),bytes:Nt("string")};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Sc{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new be(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Tc{constructor(e){this._methodName=e}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class kr{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new be(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new be(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:kr._jsonSchemaVersion}}static fromJSON(e){if($a(e,kr._jsonSchema))return new kr(e.latitude,e.longitude)}}kr._jsonSchemaVersion="firestore/geoPoint/1.0",kr._jsonSchema={type:Nt("string",kr._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Cr{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Cr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if($a(e,Cr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((r=>typeof r=="number")))return new Cr(e.vectorValues);throw new be(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Cr._jsonSchemaVersion="firestore/vectorValue/1.0",Cr._jsonSchema={type:Nt("string",Cr._jsonSchemaVersion),vectorValues:Nt("object")};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const tN=/^__.*__$/;class nN{constructor(e,r,i){this.data=e,this.fieldMask=r,this.fieldTransforms=i}toMutation(e,r){return this.fieldMask!==null?new Os(e,this.data,this.fieldMask,r,this.fieldTransforms):new rl(e,this.data,r,this.fieldTransforms)}}class xb{constructor(e,r,i){this.data=e,this.fieldMask=r,this.fieldTransforms=i}toMutation(e,r){return new Os(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function Ib(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke(40011,{Ec:n})}}class _f{constructor(e,r,i,a,u,h){this.settings=e,this.databaseId=r,this.serializer=i,this.ignoreUndefinedProperties=a,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new _f(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var r;const i=(r=this.path)===null||r===void 0?void 0:r.child(e),a=this.Rc({path:i,mc:!1});return a.fc(e),a}gc(e){var r;const i=(r=this.path)===null||r===void 0?void 0:r.child(e),a=this.Rc({path:i,mc:!1});return a.Ac(),a}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return xc(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(Ib(this.Ec)&&tN.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class rN{constructor(e,r,i){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=i||pc(e)}Dc(e,r,i,a=!1){return new _f({Ec:e,methodName:r,bc:i,path:Zt.emptyPath(),mc:!1,Sc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ab(n){const e=n._freezeSettings(),r=pc(n._databaseId);return new rN(n._databaseId,!!e.ignoreUndefinedProperties,r)}function sN(n,e,r,i,a,u={}){const h=n.Dc(u.merge||u.mergeFields?2:0,e,r,a);Mf("Data must be an object, but it was:",h,i);const f=Pb(i,h);let m,g;if(u.merge)m=new _n(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const v=[];for(const E of u.mergeFields){const k=Ff(e,E,r);if(!h.contains(k))throw new be(ne.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);_b(v,k)||v.push(k)}m=new _n(v),g=h.fieldTransforms.filter((E=>m.covers(E.field)))}else m=null,g=h.fieldTransforms;return new nN(new kn(f),m,g)}class kc extends Tc{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kc}}class Df extends Tc{constructor(e,r){super(e),this.Cc=r}_toFieldTransform(e){const r=new tl(e.serializer,o0(e.serializer,this.Cc));return new HI(e.path,r)}isEqual(e){return e instanceof Df&&this.Cc===e.Cc}}function iN(n,e,r,i){const a=n.Dc(1,e,r);Mf("Data must be an object, but it was:",a,i);const u=[],h=kn.empty();Ds(i,((m,g)=>{const v=Rf(e,m,r);g=lr(g);const E=a.gc(v);if(g instanceof kc)u.push(v);else{const k=Cc(g,E);k!=null&&(u.push(v),h.set(v,k))}}));const f=new _n(u);return new xb(h,f,a.fieldTransforms)}function oN(n,e,r,i,a,u){const h=n.Dc(1,e,r),f=[Ff(e,i,r)],m=[a];if(u.length%2!=0)throw new be(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let k=0;k<u.length;k+=2)f.push(Ff(e,u[k])),m.push(u[k+1]);const g=[],v=kn.empty();for(let k=f.length-1;k>=0;--k)if(!_b(g,f[k])){const A=f[k];let V=m[k];V=lr(V);const q=h.gc(A);if(V instanceof kc)g.push(A);else{const j=Cc(V,q);j!=null&&(g.push(A),v.set(A,j))}}const E=new _n(g);return new xb(v,E,h.fieldTransforms)}function Cc(n,e){if(Nb(n=lr(n)))return Mf("Unsupported field value:",e,n),Pb(n,e);if(n instanceof Tc)return(function(r,i){if(!Ib(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){const a=[];let u=0;for(const h of r){let f=Cc(h,i.yc(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}})(n,e)}return(function(r,i){if((r=lr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return o0(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=ht.fromDate(r);return{timestampValue:hc(i.serializer,a)}}if(r instanceof ht){const a=new ht(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hc(i.serializer,a)}}if(r instanceof kr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $n)return{bytesValue:C0(i.serializer,r._byteString)};if(r instanceof Dt){const a=i.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw i.wc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:sf(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Cr)return(function(a,u){return{mapValue:{fields:{[Lv]:{stringValue:Vv},[Gu]:{arrayValue:{values:a.toArray().map((h=>{if(typeof h!="number")throw u.wc("VectorValues must only contain numeric values.");return ef(u.serializer,h)}))}}}}}})(r,i);throw i.wc(`Unsupported field value: ${Ud(r)}`)})(n,e)}function Pb(n,e){const r={};return Nv(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ds(n,((i,a)=>{const u=Cc(a,e.Vc(i));u!=null&&(r[i]=u)})),{mapValue:{fields:r}}}function Nb(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ht||n instanceof kr||n instanceof $n||n instanceof Dt||n instanceof Tc||n instanceof Cr)}function Mf(n,e,r){if(!Nb(r)||!kv(r)){const i=Ud(r);throw i==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+i)}}function Ff(n,e,r){if((e=lr(e))instanceof Sc)return e._internalPath;if(typeof e=="string")return Rf(n,e);throw xc("Field path arguments must be of type string or ",n,!1,void 0,r)}const aN=new RegExp("[~\\*/\\[\\]]");function Rf(n,e,r){if(e.search(aN)>=0)throw xc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,r);try{return new Sc(...e.split("."))._internalPath}catch{throw xc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,r)}}function xc(n,e,r,i,a){const u=i&&!i.isEmpty(),h=a!==void 0;let f=`Function ${e}() called with invalid data`;r&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(u||h)&&(m+=" (found",u&&(m+=` in field ${i}`),h&&(m+=` in document ${a}`),m+=")"),new be(ne.INVALID_ARGUMENT,f+n+m)}function _b(n,e){return n.some((r=>r.isEqual(e)))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Db{constructor(e,r,i,a,u){this._firestore=e,this._userDataWriter=r,this._key=i,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Mb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class lN extends Db{data(){return super.data()}}function Mb(n,e){return typeof e=="string"?Rf(n,e):e instanceof Sc?e._internalPath:e._delegate._internalPath}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function uN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new be(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cN{convertValue(e,r="none"){switch(Rs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw ke(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const i={};return Ds(e,((a,u)=>{i[a]=this.convertValue(u,r)})),i}convertVectorValue(e){var r,i,a;const u=(a=(i=(r=e.fields)===null||r===void 0?void 0:r[Gu].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map((h=>Ct(h.doubleValue)));return new Cr(u)}convertGeoPoint(e){return new kr(Ct(e.latitude),Ct(e.longitude))}convertArray(e,r){return(e.values||[]).map((i=>this.convertValue(i,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const i=Hu(e);return i==null?null:this.convertValue(i,r);case"estimate":return this.convertTimestamp(Wa(e));default:return null}}convertTimestamp(e){const r=Ms(e);return new ht(r.seconds,r.nanos)}convertDocumentKey(e,r){const i=ct.fromString(e);Ze(D0(i),9688,{name:e});const a=new Ha(i.get(1),i.get(3)),u=new Ee(i.popFirst(5));return a.isEqual(r)||Kr(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),u}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function hN(n,e,r){let i;return i=n?n.toFirestore(e):e,i}class ul{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _i extends Db{constructor(e,r,i,a,u,h){super(e,r,i,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Ic(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const i=this._document.data.field(Mb("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new be(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=_i._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()||(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED")),r}}_i._jsonSchemaVersion="firestore/documentSnapshot/1.0",_i._jsonSchema={type:Nt("string",_i._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class Ic extends _i{data(e={}){return super.data(e)}}class Do{constructor(e,r,i,a){this._firestore=e,this._userDataWriter=r,this._snapshot=a,this.metadata=new ul(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((i=>{e.call(r,new Ic(this._firestore,this._userDataWriter,i.key,i,new ul(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new be(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map((h=>{const f=new Ic(i._firestore,i._userDataWriter,h.doc.key,h.doc,new ul(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((h=>a||h.type!==3)).map((h=>{const f=new Ic(i._firestore,i._userDataWriter,h.doc.key,h.doc,new ul(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,g=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),g=u.indexOf(h.doc.key)),{type:dN(h.type),doc:f,oldIndex:m,newIndex:g}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new be(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Do._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=zd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],i=[],a=[];return this.docs.forEach((u=>{u._document!==null&&(r.push(u._document),i.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),a.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function dN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke(61501,{type:n})}}Do._jsonSchemaVersion="firestore/querySnapshot/1.0",Do._jsonSchema={type:Nt("string",Do._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class Fb extends cN{constructor(e){super(),this.firestore=e}convertBytes(e){return new $n(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Dt(this.firestore,null,r)}}function Rb(n,e,r){n=Ns(n,Dt);const i=Ns(n.firestore,ll),a=hN(n.converter,e);return Lb(i,[sN(Ab(i),"setDoc",n._key,a,n.converter!==null,r).toMutation(n._key,Sr.none())])}function Ob(n,e,r,...i){n=Ns(n,Dt);const a=Ns(n.firestore,ll),u=Ab(a);let h;return h=typeof(e=lr(e))=="string"||e instanceof Sc?oN(u,"updateDoc",n._key,e,r,i):iN(u,"updateDoc",n._key,e),Lb(a,[h.toMutation(n._key,Sr.exists(!0))])}function fN(n,...e){var r,i,a;n=lr(n);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||kb(e[h])||(u=e[h++]);const f={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(kb(e[h])){const E=e[h];e[h]=(r=E.next)===null||r===void 0?void 0:r.bind(E),e[h+1]=(i=E.error)===null||i===void 0?void 0:i.bind(E),e[h+2]=(a=E.complete)===null||a===void 0?void 0:a.bind(E)}let m,g,v;if(n instanceof Dt)g=Ns(n.firestore,ll),v=Zd(n._key.path),m={next:E=>{e[h]&&e[h](pN(g,n,E))},error:e[h+1],complete:e[h+2]};else{const E=Ns(n,wc);g=Ns(E.firestore,ll),v=E._query;const k=new Fb(g);m={next:A=>{e[h]&&e[h](new Do(g,k,E,A))},error:e[h+1],complete:e[h+2]},uN(n._query)}return(function(E,k,A,V){const q=new HP(V),j=new AP(k,q,A);return E.asyncQueue.enqueueAndForget((async()=>kP(await mb(E),j))),()=>{q.Ou(),E.asyncQueue.enqueueAndForget((async()=>CP(await mb(E),j)))}})(Cb(g),v,f,m)}function Lb(n,e){return(function(r,i){const a=new xi;return r.asyncQueue.enqueueAndForget((async()=>VP(await GP(r),i,a))),a.promise})(Cb(n),e)}function pN(n,e,r){const i=r.docs.get(e._key),a=new Fb(n);return new _i(n,a,e._key,i,new ul(r.hasPendingWrites,r.fromCache),e.converter)}function Mo(n){return new Df("increment",n)}(function(n,e=!0){(function(r){vo=r})(TC),xs(new qr("firestore",((r,{instanceIdentifier:i,options:a})=>{const u=r.getProvider("app").getImmediate(),h=new ll(new rI(r.getProvider("auth-internal")),new oI(u,r.getProvider("app-check-internal")),(function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new be(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ha(f.options.projectId,m)})(u,i),u);return a=Object.assign({useFetchStreams:e},a),h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),yr(fv,pv,n),yr(fv,pv,"esm2017")})();const Vb={apiKey:"AIzaSyBDD29_0DyHGF2J6804sOothQileESrLuA",authDomain:"fragen-katalog.firebaseapp.com",projectId:"fragen-katalog",storageBucket:"fragen-katalog.firebasestorage.app",messagingSenderId:"208859056966",appId:"1:208859056966:web:039f86d0b8722e4395f347",measurementId:"G-STMLG4PCQ1"},jb=Sy(Vb),cl=JP(jb),mN=()=>Yx().then(n=>{if(n){let e=function(){window.dataLayer.push(arguments)};const r=Qx(jb);return window.dataLayer=window.dataLayer||[],e("js",new Date),e("config",Vb.measurementId,{debug_mode:!0}),console.log("📈 Firebase Analytics initialized with debug_mode"),r}else return console.warn("⚠️ Firebase Analytics not supported on this device."),null});function gN({question:n,answers:e,correctIndex:r,selectedAnswer:i,onSelectAnswer:a,id:u,imageId:h}){const[f,m]=ge.useState(!1);if(ge.useEffect(()=>{const v=E=>{E.key==="Escape"&&m(!1)};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[]),!n||!e||e.length===0)return se.jsx("p",{className:"text-base",children:"Loading question..."});const g=h?`/images/${h}.png`:null;return se.jsxs(se.Fragment,{children:[se.jsxs("div",{className:"flashcard",children:[se.jsxs("div",{className:"question-section",children:[g&&se.jsx("img",{src:g,alt:`Bild zur Frage ${u}`,className:"question-image",onClick:()=>m(!0)}),se.jsx("p",{className:"question-text text-base font-medium mb-4 mt-2",children:n}),se.jsx("div",{className:"answer-list",children:e.map((v,E)=>{const k=i!==null,A=E===r,V=E===i;let q="answer-button text-base";return k&&(A?q+=" correct":V&&(q+=" wrong")),se.jsx("button",{className:q,onClick:j=>{j.preventDefault(),a(E)},disabled:k,children:v},E)})})]}),se.jsxs("div",{className:"question-meta text-sm text-muted-light",children:["Frage #",u]})]}),f&&g&&se.jsx("div",{className:"lightbox-overlay",onClick:()=>m(!1),children:se.jsx("img",{src:g,alt:`Frage ${u} groß`,className:"lightbox-image",onClick:v=>v.stopPropagation()})})]})}function Dn(n,e={}){mN().then(r=>{r?(rv(r,n,e),console.log(`📊 Logged: ${n}`,e)):console.warn(`⚠️ Analytics not initialized – could not log ${n}`)})}function zb({variant:n="soft",style:e={},className:r="",fullWidth:i=!1}){const a=()=>{Dn("support_this_project_clicked"),window.open("https://www.buymeacoffee.com/roiesh","_blank")},u={padding:"12px 20px",borderRadius:"12px",fontWeight:"500",fontSize:"15px",border:"none",cursor:"pointer",display:"inline-block",padding:"12px 20px",maxWidth:"90vw",whiteSpace:"nowrap",textAlign:"center",transition:"all 0.2s ease",zindex:1e3,...e},h=n==="modal"?{backgroundColor:"var(--color-primary)",color:"white"}:{backgroundColor:"#f2f7fc",color:"var(--color-primary)",boxShadow:"0 2px 6px rgba(0,0,0,0.08)"};return se.jsx("button",{onClick:a,className:`support-button ${r}`,style:{...u,...h},children:se.jsxs("span",{style:{display:"inline-block",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:"15px"},children:[se.jsx("span",{role:"img","aria-label":"heart",children:"❤️"})," Support this project"]})})}function yN({onClose:n}){const[e,r]=ge.useState("de"),i=h=>{h.target.classList.contains("about-modal-overlay")&&(Dn("modal_closed_without_click",{modal:"about"}),u())},a=h=>{r(h)},u=()=>{Dn("about_language_read",{language:e}),n()};return se.jsx("div",{className:"about-modal-overlay",onClick:i,children:se.jsxs("div",{className:"about-modal overflow-y-auto max-h-[90vh] flex flex-col relative pb-[180px]",children:[se.jsxs("div",{className:"w-full flex justify-between items-center px-4 mb-4",children:[se.jsxs("h2",{className:"text-xl font-bold flex items-center gap-4",children:["Über",se.jsxs("span",{className:"flex gap-2",children:[se.jsx("button",{onClick:()=>a("de"),style:{fontSize:"18px",background:"none",border:"none",cursor:"pointer",opacity:e==="de"?1:.4},"aria-label":"Deutsch",children:"🇩🇪"}),se.jsx("button",{onClick:()=>a("en"),style:{fontSize:"18px",background:"none",border:"none",cursor:"pointer",opacity:e==="en"?1:.4},"aria-label":"English",children:"🇬🇧"})]})]}),se.jsx("button",{className:"close-button",onClick:u,children:"×"})]}),se.jsx("div",{className:"max-w-prose w-full px-4 text-center",children:e==="de"?se.jsxs("p",{className:"text-base",children:[se.jsx("span",{className:"text-base font-semibold",children:"Diese Seite enthält alle offiziellen Fragen und Antworten für den Einbürgerungstest in Berlin."}),se.jsx("br",{}),"Ich habe diese Website als Lernhilfe für den Einbürgerungstest „Leben in Deutschland“ erstellt. Die Fragen basieren auf dem offiziellen Fragenkatalog der Bundeszentrale für politische Bildung – inklusive des landesspezifischen Teils für Berlin. Ich übernehme keine Gewähr für Richtigkeit oder Aktualität. Dies ist ein rein privates Nebenprojekt – keine Anmeldung, keine Werbung, keine Verbindung zu staatlichen Stellen.",se.jsx("br",{}),"Diese Website verwendet Google Analytics, um anonyme Nutzungsstatistiken zu erfassen. Es werden keine persönlichen Daten gespeichert oder weitergegeben."]}):se.jsxs("p",{className:"text-base",children:[se.jsx("span",{className:"text-base font-semibold",children:"This site includes all official questions and answers for the Berlin naturalization test."}),se.jsx("br",{}),se.jsx("br",{}),"I built this website as a personal study tool for the “Leben in Deutschland” naturalization test. The questions are based on the official public catalog — including the state-specific questions for Berlin. Some states have different regional questions. I can’t guarantee accuracy or updates. This is a private side project — no login, no ads, no government affiliation.",se.jsx("br",{}),se.jsx("br",{}),"This site uses Google Analytics to collect anonymous usage data. No personal data is stored or shared."]})}),se.jsxs("div",{style:{position:"absolute",bottom:"40px",left:"50%",transform:"translateX(-50%)",display:"flex",flexDirection:"column",alignItems:"center",width:"90%",gap:"30px"},children:[se.jsx("a",{href:"mailto:fragen@fragen-katalog.com",className:"text-base text-center",style:{textDecoration:"underline",color:"var(--color-primary)",fontWeight:500},children:"fragen@fragen-katalog.com"}),se.jsx(zb,{fullWidth:!0,variant:"modal",style:{whiteSpace:"nowrap"}})]})]})})}const Bb=ge.createContext({});function vN(n){const e=ge.useRef(null);return e.current===null&&(e.current=n()),e.current}const Of=typeof window<"u",bN=Of?ge.useLayoutEffect:ge.useEffect,Lf=ge.createContext(null);function Vf(n,e){n.indexOf(e)===-1&&n.push(e)}function jf(n,e){const r=n.indexOf(e);r>-1&&n.splice(r,1)}const Hr=(n,e,r)=>r>e?e:r<n?n:r;let zf=()=>{};const Xr={},Ub=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function qb(n){return typeof n=="object"&&n!==null}const $b=n=>/^0[^.\s]+$/u.test(n);function Bf(n){let e;return()=>(e===void 0&&(e=n()),e)}const Kn=n=>n,wN=(n,e)=>r=>e(n(r)),hl=(...n)=>n.reduce(wN),dl=(n,e,r)=>{const i=e-n;return i===0?1:(r-n)/i};class Uf{constructor(){this.subscriptions=[]}add(e){return Vf(this.subscriptions,e),()=>jf(this.subscriptions,e)}notify(e,r,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,r,i);else for(let u=0;u<a;u++){const h=this.subscriptions[u];h&&h(e,r,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const xr=n=>n*1e3,Wn=n=>n/1e3;function Kb(n,e){return e?n*(1e3/e):0}const Wb=(n,e,r)=>(((1-3*r+3*e)*n+(3*r-6*e))*n+3*e)*n,EN=1e-7,SN=12;function TN(n,e,r,i,a){let u,h,f=0;do h=e+(r-e)/2,u=Wb(h,i,a)-n,u>0?r=h:e=h;while(Math.abs(u)>EN&&++f<SN);return h}function fl(n,e,r,i){if(n===e&&r===i)return Kn;const a=u=>TN(u,0,1,n,r);return u=>u===0||u===1?u:Wb(a(u),e,i)}const Hb=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,Xb=n=>e=>1-n(1-e),Qb=fl(.33,1.53,.69,.99),qf=Xb(Qb),Gb=Hb(qf),Yb=n=>(n*=2)<1?.5*qf(n):.5*(2-Math.pow(2,-10*(n-1))),$f=n=>1-Math.sin(Math.acos(n)),Zb=Xb($f),Jb=Hb($f),kN=fl(.42,0,1,1),CN=fl(0,0,.58,1),ew=fl(.42,0,.58,1),xN=n=>Array.isArray(n)&&typeof n[0]!="number",tw=n=>Array.isArray(n)&&typeof n[0]=="number",IN={linear:Kn,easeIn:kN,easeInOut:ew,easeOut:CN,circIn:$f,circInOut:Jb,circOut:Zb,backIn:qf,backInOut:Gb,backOut:Qb,anticipate:Yb},AN=n=>typeof n=="string",nw=n=>{if(tw(n)){zf(n.length===4);const[e,r,i,a]=n;return fl(e,r,i,a)}else if(AN(n))return IN[n];return n},Ac=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function PN(n,e){let r=new Set,i=new Set,a=!1,u=!1;const h=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(v){h.has(v)&&(g.schedule(v),n()),v(f)}const g={schedule:(v,E=!1,k=!1)=>{const A=k&&a?r:i;return E&&h.add(v),A.has(v)||A.add(v),v},cancel:v=>{i.delete(v),h.delete(v)},process:v=>{if(f=v,a){u=!0;return}a=!0,[r,i]=[i,r],r.forEach(m),r.clear(),a=!1,u&&(u=!1,g.process(v))}};return g}const NN=40;function rw(n,e){let r=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},u=()=>r=!0,h=Ac.reduce((Q,te)=>(Q[te]=PN(u),Q),{}),{setup:f,read:m,resolveKeyframes:g,preUpdate:v,update:E,preRender:k,render:A,postRender:V}=h,q=()=>{const Q=Xr.useManualTiming?a.timestamp:performance.now();r=!1,Xr.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(Q-a.timestamp,NN),1)),a.timestamp=Q,a.isProcessing=!0,f.process(a),m.process(a),g.process(a),v.process(a),E.process(a),k.process(a),A.process(a),V.process(a),a.isProcessing=!1,r&&e&&(i=!1,n(q))},j=()=>{r=!0,i=!0,a.isProcessing||n(q)};return{schedule:Ac.reduce((Q,te)=>{const ie=h[te];return Q[te]=(pe,le=!1,ye=!1)=>(r||j(),ie.schedule(pe,le,ye)),Q},{}),cancel:Q=>{for(let te=0;te<Ac.length;te++)h[Ac[te]].cancel(Q)},state:a,steps:h}}const{schedule:ft,cancel:Bs,state:tn,steps:Kf}=rw(typeof requestAnimationFrame<"u"?requestAnimationFrame:Kn,!0);let Pc;function _N(){Pc=void 0}const xn={now:()=>(Pc===void 0&&xn.set(tn.isProcessing||Xr.useManualTiming?tn.timestamp:performance.now()),Pc),set:n=>{Pc=n,queueMicrotask(_N)}},sw=n=>e=>typeof e=="string"&&e.startsWith(n),Wf=sw("--"),DN=sw("var(--"),Hf=n=>DN(n)?MN.test(n.split("/*")[0].trim()):!1,MN=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Fo={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},pl={...Fo,transform:n=>Hr(0,1,n)},Nc={...Fo,default:1},ml=n=>Math.round(n*1e5)/1e5,Xf=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function FN(n){return n==null}const RN=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Qf=(n,e)=>r=>!!(typeof r=="string"&&RN.test(r)&&r.startsWith(n)||e&&!FN(r)&&Object.prototype.hasOwnProperty.call(r,e)),iw=(n,e,r)=>i=>{if(typeof i!="string")return i;const[a,u,h,f]=i.match(Xf);return{[n]:parseFloat(a),[e]:parseFloat(u),[r]:parseFloat(h),alpha:f!==void 0?parseFloat(f):1}},ON=n=>Hr(0,255,n),Gf={...Fo,transform:n=>Math.round(ON(n))},Di={test:Qf("rgb","red"),parse:iw("red","green","blue"),transform:({red:n,green:e,blue:r,alpha:i=1})=>"rgba("+Gf.transform(n)+", "+Gf.transform(e)+", "+Gf.transform(r)+", "+ml(pl.transform(i))+")"};function LN(n){let e="",r="",i="",a="";return n.length>5?(e=n.substring(1,3),r=n.substring(3,5),i=n.substring(5,7),a=n.substring(7,9)):(e=n.substring(1,2),r=n.substring(2,3),i=n.substring(3,4),a=n.substring(4,5),e+=e,r+=r,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const Yf={test:Qf("#"),parse:LN,transform:Di.transform},gl=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Us=gl("deg"),Ir=gl("%"),Ce=gl("px"),VN=gl("vh"),jN=gl("vw"),ow={...Ir,parse:n=>Ir.parse(n)/100,transform:n=>Ir.transform(n*100)},Ro={test:Qf("hsl","hue"),parse:iw("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:r,alpha:i=1})=>"hsla("+Math.round(n)+", "+Ir.transform(ml(e))+", "+Ir.transform(ml(r))+", "+ml(pl.transform(i))+")"},Mt={test:n=>Di.test(n)||Yf.test(n)||Ro.test(n),parse:n=>Di.test(n)?Di.parse(n):Ro.test(n)?Ro.parse(n):Yf.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Di.transform(n):Ro.transform(n),getAnimatableNone:n=>{const e=Mt.parse(n);return e.alpha=0,Mt.transform(e)}},zN=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function BN(n){var e,r;return isNaN(n)&&typeof n=="string"&&(((e=n.match(Xf))==null?void 0:e.length)||0)+(((r=n.match(zN))==null?void 0:r.length)||0)>0}const aw="number",lw="color",UN="var",qN="var(",uw="${}",$N=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function yl(n){const e=n.toString(),r=[],i={color:[],number:[],var:[]},a=[];let u=0;const h=e.replace($N,f=>(Mt.test(f)?(i.color.push(u),a.push(lw),r.push(Mt.parse(f))):f.startsWith(qN)?(i.var.push(u),a.push(UN),r.push(f)):(i.number.push(u),a.push(aw),r.push(parseFloat(f))),++u,uw)).split(uw);return{values:r,split:h,indexes:i,types:a}}function cw(n){return yl(n).values}function hw(n){const{split:e,types:r}=yl(n),i=e.length;return a=>{let u="";for(let h=0;h<i;h++)if(u+=e[h],a[h]!==void 0){const f=r[h];f===aw?u+=ml(a[h]):f===lw?u+=Mt.transform(a[h]):u+=a[h]}return u}}const KN=n=>typeof n=="number"?0:Mt.test(n)?Mt.getAnimatableNone(n):n;function WN(n){const e=cw(n);return hw(n)(e.map(KN))}const qs={test:BN,parse:cw,createTransformer:hw,getAnimatableNone:WN};function Zf(n,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?n+(e-n)*6*r:r<1/2?e:r<2/3?n+(e-n)*(2/3-r)*6:n}function HN({hue:n,saturation:e,lightness:r,alpha:i}){n/=360,e/=100,r/=100;let a=0,u=0,h=0;if(!e)a=u=h=r;else{const f=r<.5?r*(1+e):r+e-r*e,m=2*r-f;a=Zf(m,f,n+1/3),u=Zf(m,f,n),h=Zf(m,f,n-1/3)}return{red:Math.round(a*255),green:Math.round(u*255),blue:Math.round(h*255),alpha:i}}function _c(n,e){return r=>r>0?e:n}const vt=(n,e,r)=>n+(e-n)*r,Jf=(n,e,r)=>{const i=n*n,a=r*(e*e-i)+i;return a<0?0:Math.sqrt(a)},XN=[Yf,Di,Ro],QN=n=>XN.find(e=>e.test(n));function dw(n){const e=QN(n);if(!e)return!1;let r=e.parse(n);return e===Ro&&(r=HN(r)),r}const fw=(n,e)=>{const r=dw(n),i=dw(e);if(!r||!i)return _c(n,e);const a={...r};return u=>(a.red=Jf(r.red,i.red,u),a.green=Jf(r.green,i.green,u),a.blue=Jf(r.blue,i.blue,u),a.alpha=vt(r.alpha,i.alpha,u),Di.transform(a))},ep=new Set(["none","hidden"]);function GN(n,e){return ep.has(n)?r=>r<=0?n:e:r=>r>=1?e:n}function YN(n,e){return r=>vt(n,e,r)}function tp(n){return typeof n=="number"?YN:typeof n=="string"?Hf(n)?_c:Mt.test(n)?fw:e_:Array.isArray(n)?pw:typeof n=="object"?Mt.test(n)?fw:ZN:_c}function pw(n,e){const r=[...n],i=r.length,a=n.map((u,h)=>tp(u)(u,e[h]));return u=>{for(let h=0;h<i;h++)r[h]=a[h](u);return r}}function ZN(n,e){const r={...n,...e},i={};for(const a in r)n[a]!==void 0&&e[a]!==void 0&&(i[a]=tp(n[a])(n[a],e[a]));return a=>{for(const u in i)r[u]=i[u](a);return r}}function JN(n,e){const r=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const u=e.types[a],h=n.indexes[u][i[u]],f=n.values[h]??0;r[a]=f,i[u]++}return r}const e_=(n,e)=>{const r=qs.createTransformer(e),i=yl(n),a=yl(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?ep.has(n)&&!a.values.length||ep.has(e)&&!i.values.length?GN(n,e):hl(pw(JN(i,a),a.values),r):_c(n,e)};function mw(n,e,r){return typeof n=="number"&&typeof e=="number"&&typeof r=="number"?vt(n,e,r):tp(n)(n,e)}const t_=n=>{const e=({timestamp:r})=>n(r);return{start:(r=!0)=>ft.update(e,r),stop:()=>Bs(e),now:()=>tn.isProcessing?tn.timestamp:xn.now()}},gw=(n,e,r=10)=>{let i="";const a=Math.max(Math.round(e/r),2);for(let u=0;u<a;u++)i+=Math.round(n(u/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Dc=2e4;function np(n){let e=0;const r=50;let i=n.next(e);for(;!i.done&&e<Dc;)e+=r,i=n.next(e);return e>=Dc?1/0:e}function n_(n,e=100,r){const i=r({...n,keyframes:[0,e]}),a=Math.min(np(i),Dc);return{type:"keyframes",ease:u=>i.next(a*u).value/e,duration:Wn(a)}}const r_=5;function yw(n,e,r){const i=Math.max(e-r_,0);return Kb(r-n(i),e-i)}const St={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},rp=.001;function s_({duration:n=St.duration,bounce:e=St.bounce,velocity:r=St.velocity,mass:i=St.mass}){let a,u,h=1-e;h=Hr(St.minDamping,St.maxDamping,h),n=Hr(St.minDuration,St.maxDuration,Wn(n)),h<1?(a=g=>{const v=g*h,E=v*n,k=v-r,A=sp(g,h),V=Math.exp(-E);return rp-k/A*V},u=g=>{const v=g*h*n,E=v*r+r,k=Math.pow(h,2)*Math.pow(g,2)*n,A=Math.exp(-v),V=sp(Math.pow(g,2),h);return(-a(g)+rp>0?-1:1)*((E-k)*A)/V}):(a=g=>{const v=Math.exp(-g*n),E=(g-r)*n+1;return-rp+v*E},u=g=>{const v=Math.exp(-g*n),E=(r-g)*(n*n);return v*E});const f=5/n,m=o_(a,u,f);if(n=xr(n),isNaN(m))return{stiffness:St.stiffness,damping:St.damping,duration:n};{const g=Math.pow(m,2)*i;return{stiffness:g,damping:h*2*Math.sqrt(i*g),duration:n}}}const i_=12;function o_(n,e,r){let i=r;for(let a=1;a<i_;a++)i=i-n(i)/e(i);return i}function sp(n,e){return n*Math.sqrt(1-e*e)}const a_=["duration","bounce"],l_=["stiffness","damping","mass"];function vw(n,e){return e.some(r=>n[r]!==void 0)}function u_(n){let e={velocity:St.velocity,stiffness:St.stiffness,damping:St.damping,mass:St.mass,isResolvedFromDuration:!1,...n};if(!vw(n,l_)&&vw(n,a_))if(n.visualDuration){const r=n.visualDuration,i=2*Math.PI/(r*1.2),a=i*i,u=2*Hr(.05,1,1-(n.bounce||0))*Math.sqrt(a);e={...e,mass:St.mass,stiffness:a,damping:u}}else{const r=s_(n);e={...e,...r,mass:St.mass},e.isResolvedFromDuration=!0}return e}function Mc(n=St.visualDuration,e=St.bounce){const r=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:a}=r;const u=r.keyframes[0],h=r.keyframes[r.keyframes.length-1],f={done:!1,value:u},{stiffness:m,damping:g,mass:v,duration:E,velocity:k,isResolvedFromDuration:A}=u_({...r,velocity:-Wn(r.velocity||0)}),V=k||0,q=g/(2*Math.sqrt(m*v)),j=h-u,Q=Wn(Math.sqrt(m/v)),te=Math.abs(j)<5;i||(i=te?St.restSpeed.granular:St.restSpeed.default),a||(a=te?St.restDelta.granular:St.restDelta.default);let ie;if(q<1){const le=sp(Q,q);ie=ye=>{const M=Math.exp(-q*Q*ye);return h-M*((V+q*Q*j)/le*Math.sin(le*ye)+j*Math.cos(le*ye))}}else if(q===1)ie=le=>h-Math.exp(-Q*le)*(j+(V+Q*j)*le);else{const le=Q*Math.sqrt(q*q-1);ie=ye=>{const M=Math.exp(-q*Q*ye),I=Math.min(le*ye,300);return h-M*((V+q*Q*j)*Math.sinh(I)+le*j*Math.cosh(I))/le}}const pe={calculatedDuration:A&&E||null,next:le=>{const ye=ie(le);if(A)f.done=le>=E;else{let M=le===0?V:0;q<1&&(M=le===0?xr(V):yw(ie,le,ye));const I=Math.abs(M)<=i,P=Math.abs(h-ye)<=a;f.done=I&&P}return f.value=f.done?h:ye,f},toString:()=>{const le=Math.min(np(pe),Dc),ye=gw(M=>pe.next(le*M).value,le,30);return le+"ms "+ye},toTransition:()=>{}};return pe}Mc.applyToOptions=n=>{const e=n_(n,100,Mc);return n.ease=e.ease,n.duration=xr(e.duration),n.type="keyframes",n};function ip({keyframes:n,velocity:e=0,power:r=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:u=500,modifyTarget:h,min:f,max:m,restDelta:g=.5,restSpeed:v}){const E=n[0],k={done:!1,value:E},A=I=>f!==void 0&&I<f||m!==void 0&&I>m,V=I=>f===void 0?m:m===void 0||Math.abs(f-I)<Math.abs(m-I)?f:m;let q=r*e;const j=E+q,Q=h===void 0?j:h(j);Q!==j&&(q=Q-E);const te=I=>-q*Math.exp(-I/i),ie=I=>Q+te(I),pe=I=>{const P=te(I),D=ie(I);k.done=Math.abs(P)<=g,k.value=k.done?Q:D};let le,ye;const M=I=>{A(k.value)&&(le=I,ye=Mc({keyframes:[k.value,V(k.value)],velocity:yw(ie,I,k.value),damping:a,stiffness:u,restDelta:g,restSpeed:v}))};return M(0),{calculatedDuration:null,next:I=>{let P=!1;return!ye&&le===void 0&&(P=!0,pe(I),M(I)),le!==void 0&&I>=le?ye.next(I-le):(!P&&pe(I),k)}}}function c_(n,e,r){const i=[],a=r||Xr.mix||mw,u=n.length-1;for(let h=0;h<u;h++){let f=a(n[h],n[h+1]);if(e){const m=Array.isArray(e)?e[h]||Kn:e;f=hl(m,f)}i.push(f)}return i}function h_(n,e,{clamp:r=!0,ease:i,mixer:a}={}){const u=n.length;if(zf(u===e.length),u===1)return()=>e[0];if(u===2&&e[0]===e[1])return()=>e[1];const h=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),e=[...e].reverse());const f=c_(e,i,a),m=f.length,g=v=>{if(h&&v<n[0])return e[0];let E=0;if(m>1)for(;E<n.length-2&&!(v<n[E+1]);E++);const k=dl(n[E],n[E+1],v);return f[E](k)};return r?v=>g(Hr(n[0],n[u-1],v)):g}function d_(n,e){const r=n[n.length-1];for(let i=1;i<=e;i++){const a=dl(0,e,i);n.push(vt(r,1,a))}}function f_(n){const e=[0];return d_(e,n.length-1),e}function p_(n,e){return n.map(r=>r*e)}function m_(n,e){return n.map(()=>e||ew).splice(0,n.length-1)}function vl({duration:n=300,keyframes:e,times:r,ease:i="easeInOut"}){const a=xN(i)?i.map(nw):nw(i),u={done:!1,value:e[0]},h=p_(r&&r.length===e.length?r:f_(e),n),f=h_(h,e,{ease:Array.isArray(a)?a:m_(e,a)});return{calculatedDuration:n,next:m=>(u.value=f(m),u.done=m>=n,u)}}const g_=n=>n!==null;function op(n,{repeat:e,repeatType:r="loop"},i,a=1){const u=n.filter(g_),h=a<0||e&&r!=="loop"&&e%2===1?0:u.length-1;return!h||i===void 0?u[h]:i}const y_={decay:ip,inertia:ip,tween:vl,keyframes:vl,spring:Mc};function bw(n){typeof n.type=="string"&&(n.type=y_[n.type])}class ap{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const v_=n=>n/100;class lp extends ap{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:a}=this.options;a&&a.updatedAt!==xn.now()&&this.tick(xn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;bw(e);const{type:r=vl,repeat:i=0,repeatDelay:a=0,repeatType:u,velocity:h=0}=e;let{keyframes:f}=e;const m=r||vl;m!==vl&&typeof f[0]!="number"&&(this.mixKeyframes=hl(v_,mw(f[0],f[1])),f=[0,100]);const g=m({...e,keyframes:f});u==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...f].reverse(),velocity:-h})),g.calculatedDuration===null&&(g.calculatedDuration=np(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=g}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:i,totalDuration:a,mixKeyframes:u,mirroredGenerator:h,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return i.next(0);const{delay:g=0,keyframes:v,repeat:E,repeatType:k,repeatDelay:A,type:V,onUpdate:q,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const Q=this.currentTime-g*(this.playbackSpeed>=0?1:-1),te=this.playbackSpeed>=0?Q<0:Q>a;this.currentTime=Math.max(Q,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let ie=this.currentTime,pe=i;if(E){const I=Math.min(this.currentTime,a)/f;let P=Math.floor(I),D=I%1;!D&&I>=1&&(D=1),D===1&&P--,P=Math.min(P,E+1),P%2&&(k==="reverse"?(D=1-D,A&&(D-=A/f)):k==="mirror"&&(pe=h)),ie=Hr(0,1,D)*f}const le=te?{done:!1,value:v[0]}:pe.next(ie);u&&(le.value=u(le.value));let{done:ye}=le;!te&&m!==null&&(ye=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ye);return M&&V!==ip&&(le.value=op(v,this.options,j,this.speed)),q&&q(le.value),M&&this.finish(),le}then(e,r){return this.finished.then(e,r)}get duration(){return Wn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Wn(e)}get time(){return Wn(this.currentTime)}set time(e){var r;e=xr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(xn.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=Wn(this.currentTime))}play(){var e,r;if(this.isStopped)return;const{driver:i=t_,startTime:a}=this.options;this.driver||(this.driver=i(h=>this.tick(h))),(r=(e=this.options).onPlay)==null||r.call(e);const u=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=u):this.holdTime!==null?this.startTime=u-this.holdTime:this.startTime||(this.startTime=a??u),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(xn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(e=this.options).onComplete)==null||r.call(e)}cancel(){var e,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(e=this.options).onCancel)==null||r.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),e.observe(this)}}function b_(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Mi=n=>n*180/Math.PI,up=n=>{const e=Mi(Math.atan2(n[1],n[0]));return cp(e)},w_={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:up,rotateZ:up,skewX:n=>Mi(Math.atan(n[1])),skewY:n=>Mi(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},cp=n=>(n=n%360,n<0&&(n+=360),n),ww=up,Ew=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),Sw=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),E_={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ew,scaleY:Sw,scale:n=>(Ew(n)+Sw(n))/2,rotateX:n=>cp(Mi(Math.atan2(n[6],n[5]))),rotateY:n=>cp(Mi(Math.atan2(-n[2],n[0]))),rotateZ:ww,rotate:ww,skewX:n=>Mi(Math.atan(n[4])),skewY:n=>Mi(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function hp(n){return n.includes("scale")?1:0}function dp(n,e){if(!n||n==="none")return hp(e);const r=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(r)i=E_,a=r;else{const f=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=w_,a=f}if(!a)return hp(e);const u=i[e],h=a[1].split(",").map(T_);return typeof u=="function"?u(h):h[u]}const S_=(n,e)=>{const{transform:r="none"}=getComputedStyle(n);return dp(r,e)};function T_(n){return parseFloat(n.trim())}const Oo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Lo=new Set(Oo),Tw=n=>n===Fo||n===Ce,k_=new Set(["x","y","z"]),C_=Oo.filter(n=>!k_.has(n));function x_(n){const e=[];return C_.forEach(r=>{const i=n.getValue(r);i!==void 0&&(e.push([r,i.get()]),i.set(r.startsWith("scale")?1:0))}),e}const Fi={width:({x:n},{paddingLeft:e="0",paddingRight:r="0"})=>n.max-n.min-parseFloat(e)-parseFloat(r),height:({y:n},{paddingTop:e="0",paddingBottom:r="0"})=>n.max-n.min-parseFloat(e)-parseFloat(r),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>dp(e,"x"),y:(n,{transform:e})=>dp(e,"y")};Fi.translateX=Fi.x,Fi.translateY=Fi.y;const Ri=new Set;let fp=!1,pp=!1,mp=!1;function kw(){if(pp){const n=Array.from(Ri).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),r=new Map;e.forEach(i=>{const a=x_(i);a.length&&(r.set(i,a),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=r.get(i);a&&a.forEach(([u,h])=>{var f;(f=i.getValue(u))==null||f.set(h)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}pp=!1,fp=!1,Ri.forEach(n=>n.complete(mp)),Ri.clear()}function Cw(){Ri.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(pp=!0)})}function I_(){mp=!0,Cw(),kw(),mp=!1}class gp{constructor(e,r,i,a,u,h=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=i,this.motionValue=a,this.element=u,this.isAsync=h}scheduleResolve(){this.state="scheduled",this.isAsync?(Ri.add(this),fp||(fp=!0,ft.read(Cw),ft.resolveKeyframes(kw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:i,motionValue:a}=this;if(e[0]===null){const u=a==null?void 0:a.get(),h=e[e.length-1];if(u!==void 0)e[0]=u;else if(i&&r){const f=i.readValue(r,h);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=h),a&&u===void 0&&a.set(e[0])}b_(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ri.delete(this)}cancel(){this.state==="scheduled"&&(Ri.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const A_=n=>n.startsWith("--");function P_(n,e,r){A_(e)?n.style.setProperty(e,r):n.style[e]=r}const N_=Bf(()=>window.ScrollTimeline!==void 0),__={};function D_(n,e){const r=Bf(n);return()=>__[e]??r()}const xw=D_(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),bl=([n,e,r,i])=>`cubic-bezier(${n}, ${e}, ${r}, ${i})`,Iw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:bl([0,.65,.55,1]),circOut:bl([.55,0,1,.45]),backIn:bl([.31,.01,.66,-.59]),backOut:bl([.33,1.53,.69,.99])};function Aw(n,e){if(n)return typeof n=="function"?xw()?gw(n,e):"ease-out":tw(n)?bl(n):Array.isArray(n)?n.map(r=>Aw(r,e)||Iw.easeOut):Iw[n]}function M_(n,e,r,{delay:i=0,duration:a=300,repeat:u=0,repeatType:h="loop",ease:f="easeOut",times:m}={},g=void 0){const v={[e]:r};m&&(v.offset=m);const E=Aw(f,a);Array.isArray(E)&&(v.easing=E);const k={delay:i,duration:a,easing:Array.isArray(E)?"linear":E,fill:"both",iterations:u+1,direction:h==="reverse"?"alternate":"normal"};return g&&(k.pseudoElement=g),n.animate(v,k)}function Pw(n){return typeof n=="function"&&"applyToOptions"in n}function F_({type:n,...e}){return Pw(n)&&xw()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class R_ extends ap{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:i,keyframes:a,pseudoElement:u,allowFlatten:h=!1,finalKeyframe:f,onComplete:m}=e;this.isPseudoElement=!!u,this.allowFlatten=h,this.options=e,zf(typeof e.type!="string");const g=F_(e);this.animation=M_(r,i,a,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const v=op(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(v):P_(r,i,v),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var e,r;const i=((r=(e=this.animation.effect)==null?void 0:e.getComputedTiming)==null?void 0:r.call(e).duration)||0;return Wn(Number(i))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Wn(e)}get time(){return Wn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=xr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&N_()?(this.animation.timeline=e,Kn):r(this)}}const Nw={anticipate:Yb,backInOut:Gb,circInOut:Jb};function O_(n){return n in Nw}function L_(n){typeof n.ease=="string"&&O_(n.ease)&&(n.ease=Nw[n.ease])}const _w=10;class V_ extends R_{constructor(e){L_(e),bw(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:i,onComplete:a,element:u,...h}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const f=new lp({...h,autoplay:!1}),m=xr(this.finishedTime??this.time);r.setWithVelocity(f.sample(m-_w).value,f.sample(m).value,_w),f.stop()}}const Dw=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(qs.test(n)||n==="0")&&!n.startsWith("url("));function j_(n){const e=n[0];if(n.length===1)return!0;for(let r=0;r<n.length;r++)if(n[r]!==e)return!0}function z_(n,e,r,i){const a=n[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const u=n[n.length-1],h=Dw(a,e),f=Dw(u,e);return!h||!f?!1:j_(n)||(r==="spring"||Pw(r))&&i}function yp(n){n.duration=0,n.type="keyframes"}const B_=new Set(["opacity","clipPath","filter","transform"]),U_=Bf(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function q_(n){var e;const{motionValue:r,name:i,repeatDelay:a,repeatType:u,damping:h,type:f}=n;if(!(((e=r==null?void 0:r.owner)==null?void 0:e.current)instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=r.owner.getProps();return U_()&&i&&B_.has(i)&&(i!=="transform"||!g)&&!m&&!a&&u!=="mirror"&&h!==0&&f!=="inertia"}const $_=40;class K_ extends ap{constructor({autoplay:e=!0,delay:r=0,type:i="keyframes",repeat:a=0,repeatDelay:u=0,repeatType:h="loop",keyframes:f,name:m,motionValue:g,element:v,...E}){var k;super(),this.stop=()=>{var q,j;this._animation&&(this._animation.stop(),(q=this.stopTimeline)==null||q.call(this)),(j=this.keyframeResolver)==null||j.cancel()},this.createdAt=xn.now();const A={autoplay:e,delay:r,type:i,repeat:a,repeatDelay:u,repeatType:h,name:m,motionValue:g,element:v,...E},V=(v==null?void 0:v.KeyframeResolver)||gp;this.keyframeResolver=new V(f,(q,j,Q)=>this.onKeyframesResolved(q,j,A,!Q),m,g,v),(k=this.keyframeResolver)==null||k.scheduleResolve()}onKeyframesResolved(e,r,i,a){this.keyframeResolver=void 0;const{name:u,type:h,velocity:f,delay:m,isHandoff:g,onUpdate:v}=i;this.resolvedAt=xn.now(),z_(e,u,h,f)||((Xr.instantAnimations||!m)&&(v==null||v(op(e,i,r))),e[0]=e[e.length-1],yp(i),i.repeat=0);const E={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>$_?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...i,keyframes:e},k=!g&&q_(E)?new V_({...E,element:E.motionValue.owner.current}):new lp(E);k.finished.then(()=>this.notifyFinished()).catch(Kn),this.pendingTimeline&&(this.stopTimeline=k.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=k}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),I_()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const W_=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function H_(n){const e=W_.exec(n);if(!e)return[,];const[,r,i,a]=e;return[`--${r??i}`,a]}function Mw(n,e,r=1){const[i,a]=H_(n);if(!i)return;const u=window.getComputedStyle(e).getPropertyValue(i);if(u){const h=u.trim();return Ub(h)?parseFloat(h):h}return Hf(a)?Mw(a,e,r+1):a}function vp(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const Fw=new Set(["width","height","top","left","right","bottom",...Oo]),X_={test:n=>n==="auto",parse:n=>n},Rw=n=>e=>e.test(n),Ow=[Fo,Ce,Ir,Us,jN,VN,X_],Lw=n=>Ow.find(Rw(n));function Q_(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||$b(n):!0}const G_=new Set(["brightness","contrast","saturate","opacity"]);function Y_(n){const[e,r]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=r.match(Xf)||[];if(!i)return n;const a=r.replace(i,"");let u=G_.has(e)?1:0;return i!==r&&(u*=100),e+"("+u+a+")"}const Z_=/\b([a-z-]*)\(.*?\)/gu,bp={...qs,getAnimatableNone:n=>{const e=n.match(Z_);return e?e.map(Y_).join(" "):n}},Vw={...Fo,transform:Math.round},J_={rotate:Us,rotateX:Us,rotateY:Us,rotateZ:Us,scale:Nc,scaleX:Nc,scaleY:Nc,scaleZ:Nc,skew:Us,skewX:Us,skewY:Us,distance:Ce,translateX:Ce,translateY:Ce,translateZ:Ce,x:Ce,y:Ce,z:Ce,perspective:Ce,transformPerspective:Ce,opacity:pl,originX:ow,originY:ow,originZ:Ce},wp={borderWidth:Ce,borderTopWidth:Ce,borderRightWidth:Ce,borderBottomWidth:Ce,borderLeftWidth:Ce,borderRadius:Ce,radius:Ce,borderTopLeftRadius:Ce,borderTopRightRadius:Ce,borderBottomRightRadius:Ce,borderBottomLeftRadius:Ce,width:Ce,maxWidth:Ce,height:Ce,maxHeight:Ce,top:Ce,right:Ce,bottom:Ce,left:Ce,padding:Ce,paddingTop:Ce,paddingRight:Ce,paddingBottom:Ce,paddingLeft:Ce,margin:Ce,marginTop:Ce,marginRight:Ce,marginBottom:Ce,marginLeft:Ce,backgroundPositionX:Ce,backgroundPositionY:Ce,...J_,zIndex:Vw,fillOpacity:pl,strokeOpacity:pl,numOctaves:Vw},e4={...wp,color:Mt,backgroundColor:Mt,outlineColor:Mt,fill:Mt,stroke:Mt,borderColor:Mt,borderTopColor:Mt,borderRightColor:Mt,borderBottomColor:Mt,borderLeftColor:Mt,filter:bp,WebkitFilter:bp},jw=n=>e4[n];function zw(n,e){let r=jw(n);return r!==bp&&(r=qs),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const t4=new Set(["auto","none","0"]);function n4(n,e,r){let i=0,a;for(;i<n.length&&!a;){const u=n[i];typeof u=="string"&&!t4.has(u)&&yl(u).values.length&&(a=n[i]),i++}if(a&&r)for(const u of e)n[u]=zw(r,a)}class r4 extends gp{constructor(e,r,i,a,u){super(e,r,i,a,u,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:i}=this;if(!r||!r.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let g=e[m];if(typeof g=="string"&&(g=g.trim(),Hf(g))){const v=Mw(g,r.current);v!==void 0&&(e[m]=v),m===e.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!Fw.has(i)||e.length!==2)return;const[a,u]=e,h=Lw(a),f=Lw(u);if(h!==f)if(Tw(h)&&Tw(f))for(let m=0;m<e.length;m++){const g=e[m];typeof g=="string"&&(e[m]=parseFloat(g))}else Fi[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||Q_(e[a]))&&i.push(a);i.length&&n4(e,i,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Fi[i](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){var e;const{element:r,name:i,unresolvedKeyframes:a}=this;if(!r||!r.current)return;const u=r.getValue(i);u&&u.jump(this.measuredOrigin,!1);const h=a.length-1,f=a[h];a[h]=Fi[i](r.measureViewportBox(),window.getComputedStyle(r.current)),f!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=f),(e=this.removedTransforms)!=null&&e.length&&this.removedTransforms.forEach(([m,g])=>{r.getValue(m).set(g)}),this.resolveNoneKeyframes()}}function s4(n,e,r){if(n instanceof EventTarget)return[n];if(typeof n=="string"){const i=document.querySelectorAll(n);return i?Array.from(i):[]}return Array.from(n)}const Bw=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function i4(n){return qb(n)&&"offsetHeight"in n}const Uw=30,o4=n=>!isNaN(parseFloat(n));class a4{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var a;const u=xn.now();if(this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const h of this.dependents)h.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=xn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=o4(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new Uf);const i=this.events[e].add(r);return e==="change"?()=>{i(),ft.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,i){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=xn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Uw)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Uw);return Kb(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Vo(n,e){return new a4(n,e)}const{schedule:Ep}=rw(queueMicrotask,!1),ur={x:!1,y:!1};function qw(){return ur.x||ur.y}function l4(n){return n==="x"||n==="y"?ur[n]?null:(ur[n]=!0,()=>{ur[n]=!1}):ur.x||ur.y?null:(ur.x=ur.y=!0,()=>{ur.x=ur.y=!1})}function $w(n,e){const r=s4(n),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[r,a,()=>i.abort()]}function Kw(n){return!(n.pointerType==="touch"||qw())}function u4(n,e,r={}){const[i,a,u]=$w(n,r),h=f=>{if(!Kw(f))return;const{target:m}=f,g=e(m,f);if(typeof g!="function"||!m)return;const v=E=>{Kw(E)&&(g(E),m.removeEventListener("pointerleave",v))};m.addEventListener("pointerleave",v,a)};return i.forEach(f=>{f.addEventListener("pointerenter",h,a)}),u}const Ww=(n,e)=>e?n===e?!0:Ww(n,e.parentElement):!1,Sp=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,c4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function h4(n){return c4.has(n.tagName)||n.tabIndex!==-1}const Fc=new WeakSet;function Hw(n){return e=>{e.key==="Enter"&&n(e)}}function Tp(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const d4=(n,e)=>{const r=n.currentTarget;if(!r)return;const i=Hw(()=>{if(Fc.has(r))return;Tp(r,"down");const a=Hw(()=>{Tp(r,"up")}),u=()=>Tp(r,"cancel");r.addEventListener("keyup",a,e),r.addEventListener("blur",u,e)});r.addEventListener("keydown",i,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",i),e)};function Xw(n){return Sp(n)&&!qw()}function f4(n,e,r={}){const[i,a,u]=$w(n,r),h=f=>{const m=f.currentTarget;if(!Xw(f))return;Fc.add(m);const g=e(m,f),v=(A,V)=>{window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",k),Fc.has(m)&&Fc.delete(m),Xw(A)&&typeof g=="function"&&g(A,{success:V})},E=A=>{v(A,m===window||m===document||r.useGlobalTarget||Ww(m,A.target))},k=A=>{v(A,!1)};window.addEventListener("pointerup",E,a),window.addEventListener("pointercancel",k,a)};return i.forEach(f=>{(r.useGlobalTarget?window:f).addEventListener("pointerdown",h,a),i4(f)&&(f.addEventListener("focus",m=>d4(m,a)),!h4(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),u}function Qw(n){return qb(n)&&"ownerSVGElement"in n}function p4(n){return Qw(n)&&n.tagName==="svg"}const pn=n=>!!(n&&n.getVelocity),m4=[...Ow,Mt,qs],g4=n=>m4.find(Rw(n)),Gw=ge.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function y4(n=!0){const e=ge.useContext(Lf);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:i,register:a}=e,u=ge.useId();ge.useEffect(()=>{if(n)return a(u)},[n]);const h=ge.useCallback(()=>n&&i&&i(u),[u,i,n]);return!r&&i?[!1,h]:[!0]}const Yw=ge.createContext({strict:!1}),Zw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},jo={};for(const n in Zw)jo[n]={isEnabled:e=>Zw[n].some(r=>!!e[r])};function v4(n){for(const e in n)jo[e]={...jo[e],...n[e]}}const b4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Rc(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||b4.has(n)}let Jw=n=>!Rc(n);function w4(n){typeof n=="function"&&(Jw=e=>e.startsWith("on")?!Rc(e):n(e))}try{w4(require("@emotion/is-prop-valid").default)}catch{}function E4(n,e,r){const i={};for(const a in n)a==="values"&&typeof n.values=="object"||(Jw(a)||r===!0&&Rc(a)||!e&&!Rc(a)||n.draggable&&a.startsWith("onDrag"))&&(i[a]=n[a]);return i}const Oc=ge.createContext({});function Lc(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function wl(n){return typeof n=="string"||Array.isArray(n)}const kp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Cp=["initial",...kp];function Vc(n){return Lc(n.animate)||Cp.some(e=>wl(n[e]))}function e1(n){return!!(Vc(n)||n.variants)}function S4(n,e){if(Vc(n)){const{initial:r,animate:i}=n;return{initial:r===!1||wl(r)?r:void 0,animate:wl(i)?i:void 0}}return n.inherit!==!1?e:{}}function T4(n){const{initial:e,animate:r}=S4(n,ge.useContext(Oc));return ge.useMemo(()=>({initial:e,animate:r}),[t1(e),t1(r)])}function t1(n){return Array.isArray(n)?n.join(" "):n}const El={};function k4(n){for(const e in n)El[e]=n[e],Wf(e)&&(El[e].isCSSVariable=!0)}function n1(n,{layout:e,layoutId:r}){return Lo.has(n)||n.startsWith("origin")||(e||r!==void 0)&&(!!El[n]||n==="opacity")}const C4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},x4=Oo.length;function I4(n,e,r){let i="",a=!0;for(let u=0;u<x4;u++){const h=Oo[u],f=n[h];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(h.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||r){const g=Bw(f,wp[h]);if(!m){a=!1;const v=C4[h]||h;i+=`${v}(${g}) `}r&&(e[h]=g)}}return i=i.trim(),r?i=r(e,a?"":i):a&&(i="none"),i}function xp(n,e,r){const{style:i,vars:a,transformOrigin:u}=n;let h=!1,f=!1;for(const m in e){const g=e[m];if(Lo.has(m)){h=!0;continue}else if(Wf(m)){a[m]=g;continue}else{const v=Bw(g,wp[m]);m.startsWith("origin")?(f=!0,u[m]=v):i[m]=v}}if(e.transform||(h||r?i.transform=I4(e,n.transform,r):i.transform&&(i.transform="none")),f){const{originX:m="50%",originY:g="50%",originZ:v=0}=u;i.transformOrigin=`${m} ${g} ${v}`}}const Ip=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function r1(n,e,r){for(const i in e)!pn(e[i])&&!n1(i,r)&&(n[i]=e[i])}function A4({transformTemplate:n},e){return ge.useMemo(()=>{const r=Ip();return xp(r,e,n),Object.assign({},r.vars,r.style)},[e])}function P4(n,e){const r=n.style||{},i={};return r1(i,r,n),Object.assign(i,A4(n,e)),i}function N4(n,e){const r={},i=P4(n,e);return n.drag&&n.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(r.tabIndex=0),r.style=i,r}const _4={offset:"stroke-dashoffset",array:"stroke-dasharray"},D4={offset:"strokeDashoffset",array:"strokeDasharray"};function M4(n,e,r=1,i=0,a=!0){n.pathLength=1;const u=a?_4:D4;n[u.offset]=Ce.transform(-i);const h=Ce.transform(e),f=Ce.transform(r);n[u.array]=`${h} ${f}`}function s1(n,{attrX:e,attrY:r,attrScale:i,pathLength:a,pathSpacing:u=1,pathOffset:h=0,...f},m,g,v){if(xp(n,f,g),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:E,style:k}=n;E.transform&&(k.transform=E.transform,delete E.transform),(k.transform||E.transformOrigin)&&(k.transformOrigin=E.transformOrigin??"50% 50%",delete E.transformOrigin),k.transform&&(k.transformBox=(v==null?void 0:v.transformBox)??"fill-box",delete E.transformBox),e!==void 0&&(E.x=e),r!==void 0&&(E.y=r),i!==void 0&&(E.scale=i),a!==void 0&&M4(E,a,u,h,!1)}const i1=()=>({...Ip(),attrs:{}}),o1=n=>typeof n=="string"&&n.toLowerCase()==="svg";function F4(n,e,r,i){const a=ge.useMemo(()=>{const u=i1();return s1(u,e,o1(i),n.transformTemplate,n.style),{...u.attrs,style:{...u.style}}},[e]);if(n.style){const u={};r1(u,n.style,n),a.style={...u,...a.style}}return a}const R4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ap(n){return typeof n!="string"||n.includes("-")?!1:!!(R4.indexOf(n)>-1||/[A-Z]/u.test(n))}function O4(n,e,r,{latestValues:i},a,u=!1){const h=(Ap(n)?F4:N4)(e,i,a,n),f=E4(e,typeof n=="string",u),m=n!==ge.Fragment?{...f,...h,ref:r}:{},{children:g}=e,v=ge.useMemo(()=>pn(g)?g.get():g,[g]);return ge.createElement(n,{...m,children:v})}function a1(n){const e=[{},{}];return n==null||n.values.forEach((r,i)=>{e[0][i]=r.get(),e[1][i]=r.getVelocity()}),e}function Pp(n,e,r,i){if(typeof e=="function"){const[a,u]=a1(i);e=e(r!==void 0?r:n.custom,a,u)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[a,u]=a1(i);e=e(r!==void 0?r:n.custom,a,u)}return e}function jc(n){return pn(n)?n.get():n}function L4({scrapeMotionValuesFromProps:n,createRenderState:e},r,i,a){return{latestValues:V4(r,i,a,n),renderState:e()}}function V4(n,e,r,i){const a={},u=i(n,{});for(const k in u)a[k]=jc(u[k]);let{initial:h,animate:f}=n;const m=Vc(n),g=e1(n);e&&g&&!m&&n.inherit!==!1&&(h===void 0&&(h=e.initial),f===void 0&&(f=e.animate));let v=r?r.initial===!1:!1;v=v||h===!1;const E=v?f:h;if(E&&typeof E!="boolean"&&!Lc(E)){const k=Array.isArray(E)?E:[E];for(let A=0;A<k.length;A++){const V=Pp(n,k[A]);if(V){const{transitionEnd:q,transition:j,...Q}=V;for(const te in Q){let ie=Q[te];if(Array.isArray(ie)){const pe=v?ie.length-1:0;ie=ie[pe]}ie!==null&&(a[te]=ie)}for(const te in q)a[te]=q[te]}}}return a}const l1=n=>(e,r)=>{const i=ge.useContext(Oc),a=ge.useContext(Lf),u=()=>L4(n,e,i,a);return r?u():vN(u)};function Np(n,e,r){var i;const{style:a}=n,u={};for(const h in a)(pn(a[h])||e.style&&pn(e.style[h])||n1(h,n)||((i=r==null?void 0:r.getValue(h))==null?void 0:i.liveStyle)!==void 0)&&(u[h]=a[h]);return u}const j4=l1({scrapeMotionValuesFromProps:Np,createRenderState:Ip});function u1(n,e,r){const i=Np(n,e,r);for(const a in n)if(pn(n[a])||pn(e[a])){const u=Oo.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[u]=n[a]}return i}const z4=l1({scrapeMotionValuesFromProps:u1,createRenderState:i1}),B4=Symbol.for("motionComponentSymbol");function zo(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function U4(n,e,r){return ge.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),r&&(typeof r=="function"?r(i):zo(r)&&(r.current=i))},[e])}const _p=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),q4="framerAppearId",c1="data-"+_p(q4),h1=ge.createContext({});function $4(n,e,r,i,a){var u,h;const{visualElement:f}=ge.useContext(Oc),m=ge.useContext(Yw),g=ge.useContext(Lf),v=ge.useContext(Gw).reducedMotion,E=ge.useRef(null);i=i||m.renderer,!E.current&&i&&(E.current=i(n,{visualState:e,parent:f,props:r,presenceContext:g,blockInitialAnimation:g?g.initial===!1:!1,reducedMotionConfig:v}));const k=E.current,A=ge.useContext(h1);k&&!k.projection&&a&&(k.type==="html"||k.type==="svg")&&K4(E.current,r,a,A);const V=ge.useRef(!1);ge.useInsertionEffect(()=>{k&&V.current&&k.update(r,g)});const q=r[c1],j=ge.useRef(!!q&&!((u=window.MotionHandoffIsComplete)!=null&&u.call(window,q))&&((h=window.MotionHasOptimisedAnimation)==null?void 0:h.call(window,q)));return bN(()=>{k&&(V.current=!0,window.MotionIsMounted=!0,k.updateFeatures(),k.scheduleRenderMicrotask(),j.current&&k.animationState&&k.animationState.animateChanges())}),ge.useEffect(()=>{k&&(!j.current&&k.animationState&&k.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{var Q;(Q=window.MotionHandoffMarkAsComplete)==null||Q.call(window,q)}),j.current=!1),k.enteringChildren=void 0)}),k}function K4(n,e,r,i){const{layoutId:a,layout:u,drag:h,dragConstraints:f,layoutScroll:m,layoutRoot:g,layoutCrossfade:v}=e;n.projection=new r(n.latestValues,e["data-framer-portal-id"]?void 0:d1(n.parent)),n.projection.setOptions({layoutId:a,layout:u,alwaysMeasureLayout:!!h||f&&zo(f),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,crossfade:v,layoutScroll:m,layoutRoot:g})}function d1(n){if(n)return n.options.allowProjection!==!1?n.projection:d1(n.parent)}function Dp(n,{forwardMotionProps:e=!1}={},r,i){r&&v4(r);const a=Ap(n)?z4:j4;function u(f,m){let g;const v={...ge.useContext(Gw),...f,layoutId:W4(f)},{isStatic:E}=v,k=T4(f),A=a(f,E);if(!E&&Of){H4();const V=X4(v);g=V.MeasureLayout,k.visualElement=$4(n,A,v,i,V.ProjectionNode)}return se.jsxs(Oc.Provider,{value:k,children:[g&&k.visualElement?se.jsx(g,{visualElement:k.visualElement,...v}):null,O4(n,f,U4(A,k.visualElement,m),A,E,e)]})}u.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const h=ge.forwardRef(u);return h[B4]=n,h}function W4({layoutId:n}){const e=ge.useContext(Bb).id;return e&&n!==void 0?e+"-"+n:n}function H4(n,e){ge.useContext(Yw).strict}function X4(n){const{drag:e,layout:r}=jo;if(!e&&!r)return{};const i={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(n)||r!=null&&r.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function Q4(n,e){if(typeof Proxy>"u")return Dp;const r=new Map,i=(u,h)=>Dp(u,h,n,e),a=(u,h)=>i(u,h);return new Proxy(a,{get:(u,h)=>h==="create"?i:(r.has(h)||r.set(h,Dp(h,void 0,n,e)),r.get(h))})}function f1({top:n,left:e,right:r,bottom:i}){return{x:{min:e,max:r},y:{min:n,max:i}}}function G4({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function Y4(n,e){if(!e)return n;const r=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:r.y,left:r.x,bottom:i.y,right:i.x}}function Mp(n){return n===void 0||n===1}function Fp({scale:n,scaleX:e,scaleY:r}){return!Mp(n)||!Mp(e)||!Mp(r)}function Oi(n){return Fp(n)||p1(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function p1(n){return m1(n.x)||m1(n.y)}function m1(n){return n&&n!=="0%"}function zc(n,e,r){const i=n-r,a=e*i;return r+a}function g1(n,e,r,i,a){return a!==void 0&&(n=zc(n,a,i)),zc(n,r,i)+e}function Rp(n,e=0,r=1,i,a){n.min=g1(n.min,e,r,i,a),n.max=g1(n.max,e,r,i,a)}function y1(n,{x:e,y:r}){Rp(n.x,e.translate,e.scale,e.originPoint),Rp(n.y,r.translate,r.scale,r.originPoint)}const v1=.999999999999,b1=1.0000000000001;function Z4(n,e,r,i=!1){const a=r.length;if(!a)return;e.x=e.y=1;let u,h;for(let f=0;f<a;f++){u=r[f],h=u.projectionDelta;const{visualElement:m}=u.options;m&&m.props.style&&m.props.style.display==="contents"||(i&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Uo(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),h&&(e.x*=h.x.scale,e.y*=h.y.scale,y1(n,h)),i&&Oi(u.latestValues)&&Uo(n,u.latestValues))}e.x<b1&&e.x>v1&&(e.x=1),e.y<b1&&e.y>v1&&(e.y=1)}function Bo(n,e){n.min=n.min+e,n.max=n.max+e}function w1(n,e,r,i,a=.5){const u=vt(n.min,n.max,a);Rp(n,e,r,u,i)}function Uo(n,e){w1(n.x,e.x,e.scaleX,e.scale,e.originX),w1(n.y,e.y,e.scaleY,e.scale,e.originY)}function E1(n,e){return f1(Y4(n.getBoundingClientRect(),e))}function J4(n,e,r){const i=E1(n,r),{scroll:a}=e;return a&&(Bo(i.x,a.offset.x),Bo(i.y,a.offset.y)),i}const S1=()=>({translate:0,scale:1,origin:0,originPoint:0}),qo=()=>({x:S1(),y:S1()}),T1=()=>({min:0,max:0}),xt=()=>({x:T1(),y:T1()}),Op={current:null},k1={current:!1};function eD(){if(k1.current=!0,!!Of)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Op.current=n.matches;n.addEventListener("change",e),e()}else Op.current=!1}const tD=new WeakMap;function nD(n,e,r){for(const i in e){const a=e[i],u=r[i];if(pn(a))n.addValue(i,a);else if(pn(u))n.addValue(i,Vo(a,{owner:n}));else if(u!==a)if(n.hasValue(i)){const h=n.getValue(i);h.liveStyle===!0?h.jump(a):h.hasAnimated||h.set(a)}else{const h=n.getStaticValue(i);n.addValue(i,Vo(h!==void 0?h:a,{owner:n}))}}for(const i in r)e[i]===void 0&&n.removeValue(i);return e}const C1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class rD{scrapeMotionValuesFromProps(e,r,i){return{}}constructor({parent:e,props:r,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:u,visualState:h},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=gp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const k=xn.now();this.renderScheduledAt<k&&(this.renderScheduledAt=k,ft.render(this.render,!1,!0))};const{latestValues:m,renderState:g}=h;this.latestValues=m,this.baseTarget={...m},this.initialValues=r.initial?{...m}:{},this.renderState=g,this.parent=e,this.props=r,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!u,this.isControllingVariants=Vc(r),this.isVariantNode=e1(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...E}=this.scrapeMotionValuesFromProps(r,{},this);for(const k in E){const A=E[k];m[k]!==void 0&&pn(A)&&A.set(m[k])}}mount(e){var r;this.current=e,tD.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,a)=>this.bindToMotionValue(a,i)),k1.current||eD(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Op.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Bs(this.notifyUpdate),Bs(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const i=this.features[r];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Lo.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&ft.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{a(),u&&u(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in jo){const r=jo[e];if(!r)continue;const{isEnabled:i,Feature:a}=r;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const u=this.features[e];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):xt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let i=0;i<C1.length;i++){const a=C1[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const u="on"+a,h=e[u];h&&(this.propEventSubscriptions[a]=this.on(a,h))}this.prevMotionValues=nD(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const i=this.values.get(e);r!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&r!==void 0&&(i=Vo(r===null?void 0:r,{owner:this}),this.addValue(e,i)),i}readValue(e,r){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(Ub(i)||$b(i))?i=parseFloat(i):!g4(i)&&qs.test(r)&&(i=zw(e,r)),this.setBaseTarget(e,pn(i)?i.get():i)),pn(i)?i.get():i}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:i}=this.props;let a;if(typeof i=="string"||typeof i=="object"){const h=Pp(this.props,i,(r=this.presenceContext)==null?void 0:r.custom);h&&(a=h[e])}if(i&&a!==void 0)return a;const u=this.getBaseTargetFromProps(this.props,e);return u!==void 0&&!pn(u)?u:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new Uf),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){Ep.render(this.render)}}class x1 extends rD{constructor(){super(...arguments),this.KeyframeResolver=r4}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:i}){delete r[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;pn(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function I1(n,{style:e,vars:r},i,a){const u=n.style;let h;for(h in e)u[h]=e[h];a==null||a.applyProjectionStyles(u,i);for(h in r)u.setProperty(h,r[h])}function sD(n){return window.getComputedStyle(n)}class iD extends x1{constructor(){super(...arguments),this.type="html",this.renderInstance=I1}readValueFromInstance(e,r){var i;if(Lo.has(r))return(i=this.projection)!=null&&i.isProjecting?hp(r):S_(e,r);{const a=sD(e),u=(Wf(r)?a.getPropertyValue(r):a[r])||0;return typeof u=="string"?u.trim():u}}measureInstanceViewportBox(e,{transformPagePoint:r}){return E1(e,r)}build(e,r,i){xp(e,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,r,i){return Np(e,r,i)}}const A1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function oD(n,e,r,i){I1(n,e,void 0,i);for(const a in e.attrs)n.setAttribute(A1.has(a)?a:_p(a),e.attrs[a])}class aD extends x1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=xt}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Lo.has(r)){const i=jw(r);return i&&i.default||0}return r=A1.has(r)?r:_p(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,i){return u1(e,r,i)}build(e,r,i){s1(e,r,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,r,i,a){oD(e,r,i,a)}mount(e){this.isSVGTag=o1(e.tagName),super.mount(e)}}const lD=(n,e)=>Ap(n)?new aD(e):new iD(e,{allowProjection:n!==ge.Fragment});function $o(n,e,r){const i=n.getProps();return Pp(i,e,r!==void 0?r:i.custom,n)}const Lp=n=>Array.isArray(n);function uD(n,e,r){n.hasValue(e)?n.getValue(e).set(r):n.addValue(e,Vo(r))}function cD(n){return Lp(n)?n[n.length-1]||0:n}function hD(n,e){const r=$o(n,e);let{transitionEnd:i={},transition:a={},...u}=r||{};u={...u,...i};for(const h in u){const f=cD(u[h]);uD(n,h,f)}}function dD(n){return!!(pn(n)&&n.add)}function Vp(n,e){const r=n.getValue("willChange");if(dD(r))return r.add(e);if(!r&&Xr.WillChange){const i=new Xr.WillChange("auto");n.addValue("willChange",i),i.add(e)}}function P1(n){return n.props[c1]}const fD=n=>n!==null;function pD(n,{repeat:e,repeatType:r="loop"},i){const a=n.filter(fD),u=e&&r!=="loop"&&e%2===1?0:a.length-1;return a[u]}const mD={type:"spring",stiffness:500,damping:25,restSpeed:10},gD=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),yD={type:"keyframes",duration:.8},vD={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},bD=(n,{keyframes:e})=>e.length>2?yD:Lo.has(n)?n.startsWith("scale")?gD(e[1]):mD:vD;function wD({when:n,delay:e,delayChildren:r,staggerChildren:i,staggerDirection:a,repeat:u,repeatType:h,repeatDelay:f,from:m,elapsed:g,...v}){return!!Object.keys(v).length}const jp=(n,e,r,i={},a,u)=>h=>{const f=vp(i,n)||{},m=f.delay||i.delay||0;let{elapsed:g=0}=i;g=g-xr(m);const v={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-g,onUpdate:k=>{e.set(k),f.onUpdate&&f.onUpdate(k)},onComplete:()=>{h(),f.onComplete&&f.onComplete()},name:n,motionValue:e,element:u?void 0:a};wD(f)||Object.assign(v,bD(n,v)),v.duration&&(v.duration=xr(v.duration)),v.repeatDelay&&(v.repeatDelay=xr(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let E=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(yp(v),v.delay===0&&(E=!0)),(Xr.instantAnimations||Xr.skipAnimations)&&(E=!0,yp(v),v.delay=0),v.allowFlatten=!f.type&&!f.ease,E&&!u&&e.get()!==void 0){const k=pD(v.keyframes,f);if(k!==void 0){ft.update(()=>{v.onUpdate(k),v.onComplete()});return}}return f.isSync?new lp(v):new K_(v)};function ED({protectedKeys:n,needsAnimating:e},r){const i=n.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,i}function N1(n,e,{delay:r=0,transitionOverride:i,type:a}={}){let{transition:u=n.getDefaultTransition(),transitionEnd:h,...f}=e;i&&(u=i);const m=[],g=a&&n.animationState&&n.animationState.getState()[a];for(const v in f){const E=n.getValue(v,n.latestValues[v]??null),k=f[v];if(k===void 0||g&&ED(g,v))continue;const A={delay:r,...vp(u||{},v)},V=E.get();if(V!==void 0&&!E.isAnimating&&!Array.isArray(k)&&k===V&&!A.velocity)continue;let q=!1;if(window.MotionHandoffAnimation){const Q=P1(n);if(Q){const te=window.MotionHandoffAnimation(Q,v,ft);te!==null&&(A.startTime=te,q=!0)}}Vp(n,v),E.start(jp(v,E,k,n.shouldReduceMotion&&Fw.has(v)?{type:!1}:A,n,q));const j=E.animation;j&&m.push(j)}return h&&Promise.all(m).then(()=>{ft.update(()=>{h&&hD(n,h)})}),m}function _1(n,e,r,i=0,a=1){const u=Array.from(n).sort((m,g)=>m.sortNodePosition(g)).indexOf(e),h=n.size,f=(h-1)*i;return typeof r=="function"?r(u,h):a===1?u*i:f-u*i}function zp(n,e,r={}){var i;const a=$o(n,e,r.type==="exit"?(i=n.presenceContext)==null?void 0:i.custom:void 0);let{transition:u=n.getDefaultTransition()||{}}=a||{};r.transitionOverride&&(u=r.transitionOverride);const h=a?()=>Promise.all(N1(n,a,r)):()=>Promise.resolve(),f=n.variantChildren&&n.variantChildren.size?(g=0)=>{const{delayChildren:v=0,staggerChildren:E,staggerDirection:k}=u;return SD(n,e,g,v,E,k,r)}:()=>Promise.resolve(),{when:m}=u;if(m){const[g,v]=m==="beforeChildren"?[h,f]:[f,h];return g().then(()=>v())}else return Promise.all([h(),f(r.delay)])}function SD(n,e,r=0,i=0,a=0,u=1,h){const f=[];for(const m of n.variantChildren)m.notify("AnimationStart",e),f.push(zp(m,e,{...h,delay:r+(typeof i=="function"?0:i)+_1(n.variantChildren,m,i,a,u)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(f)}function TD(n,e,r={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(u=>zp(n,u,r));i=Promise.all(a)}else if(typeof e=="string")i=zp(n,e,r);else{const a=typeof e=="function"?$o(n,e,r.custom):e;i=Promise.all(N1(n,a,r))}return i.then(()=>{n.notify("AnimationComplete",e)})}function D1(n,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==n.length)return!1;for(let i=0;i<r;i++)if(e[i]!==n[i])return!1;return!0}const kD=Cp.length;function M1(n){if(!n)return;if(!n.isControllingVariants){const r=n.parent?M1(n.parent)||{}:{};return n.props.initial!==void 0&&(r.initial=n.props.initial),r}const e={};for(let r=0;r<kD;r++){const i=Cp[r],a=n.props[i];(wl(a)||a===!1)&&(e[i]=a)}return e}const CD=[...kp].reverse(),xD=kp.length;function ID(n){return e=>Promise.all(e.map(({animation:r,options:i})=>TD(n,r,i)))}function AD(n){let e=ID(n),r=F1(),i=!0;const a=m=>(g,v)=>{var E;const k=$o(n,v,m==="exit"?(E=n.presenceContext)==null?void 0:E.custom:void 0);if(k){const{transition:A,transitionEnd:V,...q}=k;g={...g,...q,...V}}return g};function u(m){e=m(n)}function h(m){const{props:g}=n,v=M1(n.parent)||{},E=[],k=new Set;let A={},V=1/0;for(let j=0;j<xD;j++){const Q=CD[j],te=r[Q],ie=g[Q]!==void 0?g[Q]:v[Q],pe=wl(ie),le=Q===m?te.isActive:null;le===!1&&(V=j);let ye=ie===v[Q]&&ie!==g[Q]&&pe;if(ye&&i&&n.manuallyAnimateOnMount&&(ye=!1),te.protectedKeys={...A},!te.isActive&&le===null||!ie&&!te.prevProp||Lc(ie)||typeof ie=="boolean")continue;const M=PD(te.prevProp,ie);let I=M||Q===m&&te.isActive&&!ye&&pe||j>V&&pe,P=!1;const D=Array.isArray(ie)?ie:[ie];let F=D.reduce(a(Q),{});le===!1&&(F={});const{prevResolvedValues:O={}}=te,N={...O,...F},We=K=>{I=!0,k.has(K)&&(P=!0,k.delete(K)),te.needsAnimating[K]=!0;const re=n.getValue(K);re&&(re.liveStyle=!1)};for(const K in N){const re=F[K],de=O[K];if(A.hasOwnProperty(K))continue;let Me=!1;Lp(re)&&Lp(de)?Me=!D1(re,de):Me=re!==de,Me?re!=null?We(K):k.add(K):re!==void 0&&k.has(K)?We(K):te.protectedKeys[K]=!0}te.prevProp=ie,te.prevResolvedValues=F,te.isActive&&(A={...A,...F}),i&&n.blockInitialAnimation&&(I=!1);const Ue=ye&&M;I&&(!Ue||P)&&E.push(...D.map(K=>{const re={type:Q};if(typeof K=="string"&&i&&!Ue&&n.manuallyAnimateOnMount&&n.parent){const{parent:de}=n,Me=$o(de,K);if(de.enteringChildren&&Me){const{delayChildren:T}=Me.transition||{};re.delay=_1(de.enteringChildren,n,T)}}return{animation:K,options:re}}))}if(k.size){const j={};if(typeof g.initial!="boolean"){const Q=$o(n,Array.isArray(g.initial)?g.initial[0]:g.initial);Q&&Q.transition&&(j.transition=Q.transition)}k.forEach(Q=>{const te=n.getBaseTarget(Q),ie=n.getValue(Q);ie&&(ie.liveStyle=!0),j[Q]=te??null}),E.push({animation:j})}let q=!!E.length;return i&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(q=!1),i=!1,q?e(E):Promise.resolve()}function f(m,g){var v;if(r[m].isActive===g)return Promise.resolve();(v=n.variantChildren)==null||v.forEach(k=>{var A;return(A=k.animationState)==null?void 0:A.setActive(m,g)}),r[m].isActive=g;const E=h(m);for(const k in r)r[k].protectedKeys={};return E}return{animateChanges:h,setActive:f,setAnimateFunction:u,getState:()=>r,reset:()=>{r=F1(),i=!0}}}function PD(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!D1(e,n):!1}function Li(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function F1(){return{animate:Li(!0),whileInView:Li(),whileHover:Li(),whileTap:Li(),whileDrag:Li(),whileFocus:Li(),exit:Li()}}class $s{constructor(e){this.isMounted=!1,this.node=e}update(){}}class ND extends $s{constructor(e){super(e),e.animationState||(e.animationState=AD(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Lc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let _D=0;class DD extends $s{constructor(){super(...arguments),this.id=_D++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);r&&!e&&a.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const MD={animation:{Feature:ND},exit:{Feature:DD}};function Sl(n,e,r,i={passive:!0}){return n.addEventListener(e,r,i),()=>n.removeEventListener(e,r)}function Tl(n){return{point:{x:n.pageX,y:n.pageY}}}const FD=n=>e=>Sp(e)&&n(e,Tl(e));function kl(n,e,r,i){return Sl(n,e,FD(r),i)}const R1=1e-4,RD=1-R1,OD=1+R1,O1=.01,LD=0-O1,VD=0+O1;function yn(n){return n.max-n.min}function jD(n,e,r){return Math.abs(n-e)<=r}function L1(n,e,r,i=.5){n.origin=i,n.originPoint=vt(e.min,e.max,n.origin),n.scale=yn(r)/yn(e),n.translate=vt(r.min,r.max,n.origin)-n.originPoint,(n.scale>=RD&&n.scale<=OD||isNaN(n.scale))&&(n.scale=1),(n.translate>=LD&&n.translate<=VD||isNaN(n.translate))&&(n.translate=0)}function Cl(n,e,r,i){L1(n.x,e.x,r.x,i?i.originX:void 0),L1(n.y,e.y,r.y,i?i.originY:void 0)}function V1(n,e,r){n.min=r.min+e.min,n.max=n.min+yn(e)}function zD(n,e,r){V1(n.x,e.x,r.x),V1(n.y,e.y,r.y)}function j1(n,e,r){n.min=e.min-r.min,n.max=n.min+yn(e)}function xl(n,e,r){j1(n.x,e.x,r.x),j1(n.y,e.y,r.y)}function Hn(n){return[n("x"),n("y")]}const z1=({current:n})=>n?n.ownerDocument.defaultView:null,B1=(n,e)=>Math.abs(n-e);function BD(n,e){const r=B1(n.x,e.x),i=B1(n.y,e.y);return Math.sqrt(r**2+i**2)}class U1{constructor(e,r,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:u=!1,distanceThreshold:h=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=Up(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,V=BD(k.offset,{x:0,y:0})>=this.distanceThreshold;if(!A&&!V)return;const{point:q}=k,{timestamp:j}=tn;this.history.push({...q,timestamp:j});const{onStart:Q,onMove:te}=this.handlers;A||(Q&&Q(this.lastMoveEvent,k),this.startEvent=this.lastMoveEvent),te&&te(this.lastMoveEvent,k)},this.handlePointerMove=(k,A)=>{this.lastMoveEvent=k,this.lastMoveEventInfo=Bp(A,this.transformPagePoint),ft.update(this.updatePoint,!0)},this.handlePointerUp=(k,A)=>{this.end();const{onEnd:V,onSessionEnd:q,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Q=Up(k.type==="pointercancel"?this.lastMoveEventInfo:Bp(A,this.transformPagePoint),this.history);this.startEvent&&V&&V(k,Q),q&&q(k,Q)},!Sp(e))return;this.dragSnapToOrigin=u,this.handlers=r,this.transformPagePoint=i,this.distanceThreshold=h,this.contextWindow=a||window;const f=Tl(e),m=Bp(f,this.transformPagePoint),{point:g}=m,{timestamp:v}=tn;this.history=[{...g,timestamp:v}];const{onSessionStart:E}=r;E&&E(e,Up(m,this.history)),this.removeListeners=hl(kl(this.contextWindow,"pointermove",this.handlePointerMove),kl(this.contextWindow,"pointerup",this.handlePointerUp),kl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Bs(this.updatePoint)}}function Bp(n,e){return e?{point:e(n.point)}:n}function q1(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Up({point:n},e){return{point:n,delta:q1(n,$1(e)),offset:q1(n,UD(e)),velocity:qD(e,.1)}}function UD(n){return n[0]}function $1(n){return n[n.length-1]}function qD(n,e){if(n.length<2)return{x:0,y:0};let r=n.length-1,i=null;const a=$1(n);for(;r>=0&&(i=n[r],!(a.timestamp-i.timestamp>xr(e)));)r--;if(!i)return{x:0,y:0};const u=Wn(a.timestamp-i.timestamp);if(u===0)return{x:0,y:0};const h={x:(a.x-i.x)/u,y:(a.y-i.y)/u};return h.x===1/0&&(h.x=0),h.y===1/0&&(h.y=0),h}function $D(n,{min:e,max:r},i){return e!==void 0&&n<e?n=i?vt(e,n,i.min):Math.max(n,e):r!==void 0&&n>r&&(n=i?vt(r,n,i.max):Math.min(n,r)),n}function K1(n,e,r){return{min:e!==void 0?n.min+e:void 0,max:r!==void 0?n.max+r-(n.max-n.min):void 0}}function KD(n,{top:e,left:r,bottom:i,right:a}){return{x:K1(n.x,r,a),y:K1(n.y,e,i)}}function W1(n,e){let r=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([r,i]=[i,r]),{min:r,max:i}}function WD(n,e){return{x:W1(n.x,e.x),y:W1(n.y,e.y)}}function HD(n,e){let r=.5;const i=yn(n),a=yn(e);return a>i?r=dl(e.min,e.max-i,n.min):i>a&&(r=dl(n.min,n.max-a,e.min)),Hr(0,1,r)}function XD(n,e){const r={};return e.min!==void 0&&(r.min=e.min-n.min),e.max!==void 0&&(r.max=e.max-n.min),r}const qp=.35;function QD(n=qp){return n===!1?n=0:n===!0&&(n=qp),{x:H1(n,"left","right"),y:H1(n,"top","bottom")}}function H1(n,e,r){return{min:X1(n,e),max:X1(n,r)}}function X1(n,e){return typeof n=="number"?n:n[e]||0}const GD=new WeakMap;class YD{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=xt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const u=E=>{const{dragSnapToOrigin:k}=this.getProps();k?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Tl(E).point)},h=(E,k)=>{const{drag:A,dragPropagation:V,onDragStart:q}=this.getProps();if(A&&!V&&(this.openDragLock&&this.openDragLock(),this.openDragLock=l4(A),!this.openDragLock))return;this.latestPointerEvent=E,this.latestPanInfo=k,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Hn(Q=>{let te=this.getAxisMotionValue(Q).get()||0;if(Ir.test(te)){const{projection:ie}=this.visualElement;if(ie&&ie.layout){const pe=ie.layout.layoutBox[Q];pe&&(te=yn(pe)*(parseFloat(te)/100))}}this.originPoint[Q]=te}),q&&ft.postRender(()=>q(E,k)),Vp(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},f=(E,k)=>{this.latestPointerEvent=E,this.latestPanInfo=k;const{dragPropagation:A,dragDirectionLock:V,onDirectionLock:q,onDrag:j}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:Q}=k;if(V&&this.currentDirection===null){this.currentDirection=ZD(Q),this.currentDirection!==null&&q&&q(this.currentDirection);return}this.updateAxis("x",k.point,Q),this.updateAxis("y",k.point,Q),this.visualElement.render(),j&&j(E,k)},m=(E,k)=>{this.latestPointerEvent=E,this.latestPanInfo=k,this.stop(E,k),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Hn(E=>{var k;return this.getAnimationState(E)==="paused"&&((k=this.getAxisMotionValue(E).animation)==null?void 0:k.play())}),{dragSnapToOrigin:v}=this.getProps();this.panSession=new U1(e,{onSessionStart:u,onStart:h,onMove:f,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:i,contextWindow:z1(this.visualElement)})}stop(e,r){const i=e||this.latestPointerEvent,a=r||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!a||!i)return;const{velocity:h}=a;this.startAnimation(h);const{onDragEnd:f}=this.getProps();f&&ft.postRender(()=>f(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,i){const{drag:a}=this.getProps();if(!i||!Bc(e,a,this.currentDirection))return;const u=this.getAxisMotionValue(e);let h=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(h=$D(h,this.constraints[e],this.elastic[e])),u.set(h)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:i}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)==null?void 0:e.layout,u=this.constraints;r&&zo(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&a?this.constraints=KD(a.layoutBox,r):this.constraints=!1,this.elastic=QD(i),u!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Hn(h=>{this.constraints!==!1&&this.getAxisMotionValue(h)&&(this.constraints[h]=XD(a.layoutBox[h],this.constraints[h]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!zo(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const u=J4(i,a.root,this.visualElement.getTransformPagePoint());let h=WD(a.layout.layoutBox,u);if(r){const f=r(G4(h));this.hasMutatedConstraints=!!f,f&&(h=f1(f))}return h}startAnimation(e){const{drag:r,dragMomentum:i,dragElastic:a,dragTransition:u,dragSnapToOrigin:h,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},g=Hn(v=>{if(!Bc(v,r,this.currentDirection))return;let E=m&&m[v]||{};h&&(E={min:0,max:0});const k=a?200:1e6,A=a?40:1e7,V={type:"inertia",velocity:i?e[v]:0,bounceStiffness:k,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...u,...E};return this.startAxisValueAnimation(v,V)});return Promise.all(g).then(f)}startAxisValueAnimation(e,r){const i=this.getAxisMotionValue(e);return Vp(this.visualElement,e),i.start(jp(e,i,0,r,this.visualElement,!1))}stopAnimation(){Hn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Hn(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps();return i[r]||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Hn(r=>{const{drag:i}=this.getProps();if(!Bc(r,i,this.currentDirection))return;const{projection:a}=this.visualElement,u=this.getAxisMotionValue(r);if(a&&a.layout){const{min:h,max:f}=a.layout.layoutBox[r];u.set(e[r]-vt(h,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:i}=this.visualElement;if(!zo(r)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Hn(h=>{const f=this.getAxisMotionValue(h);if(f&&this.constraints!==!1){const m=f.get();a[h]=HD({min:m,max:m},this.constraints[h])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Hn(h=>{if(!Bc(h,e,null))return;const f=this.getAxisMotionValue(h),{min:m,max:g}=this.constraints[h];f.set(vt(m,g,a[h]))})}addListeners(){if(!this.visualElement.current)return;GD.set(this.visualElement,this);const e=this.visualElement.current,r=kl(e,"pointerdown",m=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(m)}),i=()=>{const{dragConstraints:m}=this.getProps();zo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,u=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ft.read(i);const h=Sl(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(Hn(v=>{const E=this.getAxisMotionValue(v);E&&(this.originPoint[v]+=m[v].translate,E.set(E.get()+m[v].translate))}),this.visualElement.render())}));return()=>{h(),r(),u(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:u=!1,dragElastic:h=qp,dragMomentum:f=!0}=e;return{...e,drag:r,dragDirectionLock:i,dragPropagation:a,dragConstraints:u,dragElastic:h,dragMomentum:f}}}function Bc(n,e,r){return(e===!0||e===n)&&(r===null||r===n)}function ZD(n,e=10){let r=null;return Math.abs(n.y)>e?r="y":Math.abs(n.x)>e&&(r="x"),r}class JD extends $s{constructor(e){super(e),this.removeGroupControls=Kn,this.removeListeners=Kn,this.controls=new YD(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Kn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Q1=n=>(e,r)=>{n&&ft.postRender(()=>n(e,r))};class eM extends $s{constructor(){super(...arguments),this.removePointerDownListener=Kn}onPointerDown(e){this.session=new U1(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:z1(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:Q1(e),onStart:Q1(r),onMove:i,onEnd:(u,h)=>{delete this.session,a&&ft.postRender(()=>a(u,h))}}}mount(){this.removePointerDownListener=kl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Uc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function G1(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Il={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Ce.test(n))n=parseFloat(n);else return n;const r=G1(n,e.target.x),i=G1(n,e.target.y);return`${r}% ${i}%`}},tM={correct:(n,{treeScale:e,projectionDelta:r})=>{const i=n,a=qs.parse(n);if(a.length>5)return i;const u=qs.createTransformer(n),h=typeof a[0]!="number"?1:0,f=r.x.scale*e.x,m=r.y.scale*e.y;a[0+h]/=f,a[1+h]/=m;const g=vt(f,m,.5);return typeof a[2+h]=="number"&&(a[2+h]/=g),typeof a[3+h]=="number"&&(a[3+h]/=g),u(a)}};let $p=!1;class nM extends ge.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:i,layoutId:a}=this.props,{projection:u}=e;k4(rM),u&&(r.group&&r.group.add(u),i&&i.register&&a&&i.register(u),$p&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Uc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:i,drag:a,isPresent:u}=this.props,{projection:h}=i;return h&&(h.isPresent=u,$p=!0,a||e.layoutDependency!==r||r===void 0||e.isPresent!==u?h.willUpdate():this.safeToRemove(),e.isPresent!==u&&(u?h.promote():h.relegate()||ft.postRender(()=>{const f=h.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ep.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:i}=this.props,{projection:a}=e;$p=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Y1(n){const[e,r]=y4(),i=ge.useContext(Bb);return se.jsx(nM,{...n,layoutGroup:i,switchLayoutGroup:ge.useContext(h1),isPresent:e,safeToRemove:r})}const rM={borderRadius:{...Il,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Il,borderTopRightRadius:Il,borderBottomLeftRadius:Il,borderBottomRightRadius:Il,boxShadow:tM};function sM(n,e,r){const i=pn(n)?n:Vo(n);return i.start(jp("",i,e,r)),i.animation}const iM=(n,e)=>n.depth-e.depth;class oM{constructor(){this.children=[],this.isDirty=!1}add(e){Vf(this.children,e),this.isDirty=!0}remove(e){jf(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(iM),this.isDirty=!1,this.children.forEach(e)}}function aM(n,e){const r=xn.now(),i=({timestamp:a})=>{const u=a-r;u>=e&&(Bs(i),n(u-e))};return ft.setup(i,!0),()=>Bs(i)}const Z1=["TopLeft","TopRight","BottomLeft","BottomRight"],lM=Z1.length,J1=n=>typeof n=="string"?parseFloat(n):n,eE=n=>typeof n=="number"||Ce.test(n);function uM(n,e,r,i,a,u){a?(n.opacity=vt(0,r.opacity??1,cM(i)),n.opacityExit=vt(e.opacity??1,0,hM(i))):u&&(n.opacity=vt(e.opacity??1,r.opacity??1,i));for(let h=0;h<lM;h++){const f=`border${Z1[h]}Radius`;let m=tE(e,f),g=tE(r,f);m===void 0&&g===void 0||(m||(m=0),g||(g=0),m===0||g===0||eE(m)===eE(g)?(n[f]=Math.max(vt(J1(m),J1(g),i),0),(Ir.test(g)||Ir.test(m))&&(n[f]+="%")):n[f]=g)}(e.rotate||r.rotate)&&(n.rotate=vt(e.rotate||0,r.rotate||0,i))}function tE(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const cM=nE(0,.5,Zb),hM=nE(.5,.95,Kn);function nE(n,e,r){return i=>i<n?0:i>e?1:r(dl(n,e,i))}function rE(n,e){n.min=e.min,n.max=e.max}function Xn(n,e){rE(n.x,e.x),rE(n.y,e.y)}function sE(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function iE(n,e,r,i,a){return n-=e,n=zc(n,1/r,i),a!==void 0&&(n=zc(n,1/a,i)),n}function dM(n,e=0,r=1,i=.5,a,u=n,h=n){if(Ir.test(e)&&(e=parseFloat(e),e=vt(h.min,h.max,e/100)-h.min),typeof e!="number")return;let f=vt(u.min,u.max,i);n===u&&(f-=e),n.min=iE(n.min,e,r,f,a),n.max=iE(n.max,e,r,f,a)}function oE(n,e,[r,i,a],u,h){dM(n,e[r],e[i],e[a],e.scale,u,h)}const fM=["x","scaleX","originX"],pM=["y","scaleY","originY"];function aE(n,e,r,i){oE(n.x,e,fM,r?r.x:void 0,i?i.x:void 0),oE(n.y,e,pM,r?r.y:void 0,i?i.y:void 0)}function lE(n){return n.translate===0&&n.scale===1}function uE(n){return lE(n.x)&&lE(n.y)}function cE(n,e){return n.min===e.min&&n.max===e.max}function mM(n,e){return cE(n.x,e.x)&&cE(n.y,e.y)}function hE(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function dE(n,e){return hE(n.x,e.x)&&hE(n.y,e.y)}function fE(n){return yn(n.x)/yn(n.y)}function pE(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class gM{constructor(){this.members=[]}add(e){Vf(this.members,e),e.scheduleRender()}remove(e){if(jf(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(a=>e===a);if(r===0)return!1;let i;for(let a=r;a>=0;a--){const u=this.members[a];if(u.isPresent!==!1){i=u;break}}return i?(this.promote(i),!0):!1}promote(e,r){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,r&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:i}=e;r.onExitComplete&&r.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function yM(n,e,r){let i="";const a=n.x.translate/e.x,u=n.y.translate/e.y,h=(r==null?void 0:r.z)||0;if((a||u||h)&&(i=`translate3d(${a}px, ${u}px, ${h}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:g,rotate:v,rotateX:E,rotateY:k,skewX:A,skewY:V}=r;g&&(i=`perspective(${g}px) ${i}`),v&&(i+=`rotate(${v}deg) `),E&&(i+=`rotateX(${E}deg) `),k&&(i+=`rotateY(${k}deg) `),A&&(i+=`skewX(${A}deg) `),V&&(i+=`skewY(${V}deg) `)}const f=n.x.scale*e.x,m=n.y.scale*e.y;return(f!==1||m!==1)&&(i+=`scale(${f}, ${m})`),i||"none"}const Kp=["","X","Y","Z"],vM=1e3;let bM=0;function Wp(n,e,r,i){const{latestValues:a}=e;a[n]&&(r[n]=a[n],e.setStaticValue(n,0),i&&(i[n]=0))}function mE(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const r=P1(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(r,"transform",ft,!(a||u))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&mE(i)}function gE({attachResizeListener:n,defaultParent:e,measureScroll:r,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(u={},h=e==null?void 0:e()){this.id=bM++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(SM),this.nodes.forEach(xM),this.nodes.forEach(IM),this.nodes.forEach(TM)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new oM)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Uf),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const f=this.eventHandlers.get(u);f&&f.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=Qw(u)&&!p4(u),this.instance=u;const{layoutId:h,layout:f,visualElement:m}=this.options;if(m&&!m.current&&m.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||h)&&(this.isLayoutDirty=!0),n){let g,v=0;const E=()=>this.root.updateBlockedByResize=!1;ft.read(()=>{v=window.innerWidth}),n(u,()=>{const k=window.innerWidth;k!==v&&(v=k,this.root.updateBlockedByResize=!0,g&&g(),g=aM(E,250),Uc.hasAnimatedSinceResize&&(Uc.hasAnimatedSinceResize=!1,this.nodes.forEach(bE)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||f)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:E,layout:k})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||m.getDefaultTransition()||DM,{onLayoutAnimationStart:V,onLayoutAnimationComplete:q}=m.getProps(),j=!this.targetLayout||!dE(this.targetLayout,k),Q=!v&&E;if(this.options.layoutRoot||this.resumeFrom||Q||v&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const te={...vp(A,"layout"),onPlay:V,onComplete:q};(m.shouldReduceMotion||this.options.layoutRoot)&&(te.delay=0,te.type=!1),this.startAnimation(te),this.setAnimationOrigin(g,Q)}else v||bE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=k})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Bs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(AM),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&mE(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(yE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(vE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(CM),this.nodes.forEach(wM),this.nodes.forEach(EM)):this.nodes.forEach(vE),this.clearAllSnapshots();const u=xn.now();tn.delta=Hr(0,1e3/60,u-tn.timestamp),tn.timestamp=u,tn.isProcessing=!0,Kf.update.process(tn),Kf.preRender.process(tn),Kf.render.process(tn),tn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ep.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(kM),this.sharedNodes.forEach(PM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!yn(this.snapshot.measuredBox.x)&&!yn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=xt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!uE(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;u&&this.instance&&(h||Oi(this.latestValues)||g)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return u&&(f=this.removeTransform(f)),MM(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:h}=this.options;if(!h)return xt();const f=h.measureViewportBox();if(!((u=this.scroll)!=null&&u.wasRoot||this.path.some(FM))){const{scroll:m}=this.root;m&&(Bo(f.x,m.offset.x),Bo(f.y,m.offset.y))}return f}removeElementScroll(u){var h;const f=xt();if(Xn(f,u),(h=this.scroll)!=null&&h.wasRoot)return f;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:v,options:E}=g;g!==this.root&&v&&E.layoutScroll&&(v.wasRoot&&Xn(f,u),Bo(f.x,v.offset.x),Bo(f.y,v.offset.y))}return f}applyTransform(u,h=!1){const f=xt();Xn(f,u);for(let m=0;m<this.path.length;m++){const g=this.path[m];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Uo(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Oi(g.latestValues)&&Uo(f,g.latestValues)}return Oi(this.latestValues)&&Uo(f,this.latestValues),f}removeTransform(u){const h=xt();Xn(h,u);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!Oi(m.latestValues))continue;Fp(m.latestValues)&&m.updateSnapshot();const g=xt(),v=m.measurePageBox();Xn(g,v),aE(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return Oi(this.latestValues)&&aE(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==tn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var h;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=tn.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xt(),this.relativeTargetOrigin=xt(),xl(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),Xn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=xt(),this.targetWithTransforms=xt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),zD(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Xn(this.target,this.layout.layoutBox),y1(this.target,this.targetDelta)):Xn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xt(),this.relativeTargetOrigin=xt(),xl(this.relativeTargetOrigin,this.target,E.target),Xn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Fp(this.parent.latestValues)||p1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const h=this.getLead(),f=!!this.resumingFrom||this!==h;let m=!0;if((this.isProjectionDirty||(u=this.parent)!=null&&u.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===tn.timestamp&&(m=!1),m)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;Xn(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,k=this.treeScale.y;Z4(this.layoutCorrected,this.treeScale,this.path,f),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=xt());const{target:A}=h;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(sE(this.prevProjectionDelta.x,this.projectionDelta.x),sE(this.prevProjectionDelta.y,this.projectionDelta.y)),Cl(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==k||!pE(this.projectionDelta.x,this.prevProjectionDelta.x)||!pE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=qo(),this.projectionDelta=qo(),this.projectionDeltaWithTransform=qo()}setAnimationOrigin(u,h=!1){const f=this.snapshot,m=f?f.latestValues:{},g={...this.latestValues},v=qo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const E=xt(),k=f?f.source:void 0,A=this.layout?this.layout.source:void 0,V=k!==A,q=this.getStack(),j=!q||q.members.length<=1,Q=!!(V&&!j&&this.options.crossfade===!0&&!this.path.some(_M));this.animationProgress=0;let te;this.mixTargetDelta=ie=>{const pe=ie/1e3;wE(v.x,u.x,pe),wE(v.y,u.y,pe),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xl(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),NM(this.relativeTarget,this.relativeTargetOrigin,E,pe),te&&mM(this.relativeTarget,te)&&(this.isProjectionDirty=!1),te||(te=xt()),Xn(te,this.relativeTarget)),V&&(this.animationValues=g,uM(g,m,this.latestValues,pe,Q,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=pe},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var h,f,m;this.notifyListeners("animationStart"),(h=this.currentAnimation)==null||h.stop(),(m=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||m.stop(),this.pendingAnimation&&(Bs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ft.update(()=>{Uc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Vo(0)),this.currentAnimation=sM(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),u.onUpdate&&u.onUpdate(g)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(vM),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:f,layout:m,latestValues:g}=u;if(!(!h||!f||!m)){if(this!==u&&this.layout&&m&&CE(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||xt();const v=yn(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+v;const E=yn(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+E}Xn(h,f),Uo(h,g),Cl(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new gM),this.sharedNodes.get(u).add(h);const f=h.options.initialPromotionConfig;h.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:h}=this.options;return h?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:h}=this.options;return h?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const m={};f.z&&Wp("z",u,m,this.animationValues);for(let g=0;g<Kp.length;g++)Wp(`rotate${Kp[g]}`,u,m,this.animationValues),Wp(`skew${Kp[g]}`,u,m,this.animationValues);u.render();for(const g in m)u.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=jc(h==null?void 0:h.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=jc(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!Oi(this.latestValues)&&(u.transform=f?f({},""):"none",this.hasProjected=!1);return}u.visibility="";const g=m.animationValues||m.latestValues;this.applyTransformsToTarget();let v=yM(this.projectionDeltaWithTransform,this.treeScale,g);f&&(v=f(g,v)),u.transform=v;const{x:E,y:k}=this.projectionDelta;u.transformOrigin=`${E.origin*100}% ${k.origin*100}% 0`,m.animationValues?u.opacity=m===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const A in El){if(g[A]===void 0)continue;const{correct:V,applyTo:q,isCSSVariable:j}=El[A],Q=v==="none"?g[A]:V(g[A],m);if(q){const te=q.length;for(let ie=0;ie<te;ie++)u[q[ie]]=Q}else j?this.options.visualElement.renderState.vars[A]=Q:u[A]=Q}this.options.layoutId&&(u.pointerEvents=m===this?jc(h==null?void 0:h.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var h;return(h=u.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(yE),this.root.sharedNodes.clear()}}}function wM(n){n.updateLayout()}function EM(n){var e;const r=((e=n.resumeFrom)==null?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&r&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:a}=n.layout,{animationType:u}=n.options,h=r.source!==n.layout.source;u==="size"?Hn(E=>{const k=h?r.measuredBox[E]:r.layoutBox[E],A=yn(k);k.min=i[E].min,k.max=k.min+A}):CE(u,r.layoutBox,i)&&Hn(E=>{const k=h?r.measuredBox[E]:r.layoutBox[E],A=yn(i[E]);k.max=k.min+A,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[E].max=n.relativeTarget[E].min+A)});const f=qo();Cl(f,i,r.layoutBox);const m=qo();h?Cl(m,n.applyTransform(a,!0),r.measuredBox):Cl(m,i,r.layoutBox);const g=!uE(f);let v=!1;if(!n.resumeFrom){const E=n.getClosestProjectingParent();if(E&&!E.resumeFrom){const{snapshot:k,layout:A}=E;if(k&&A){const V=xt();xl(V,r.layoutBox,k.layoutBox);const q=xt();xl(q,i,A.layoutBox),dE(V,q)||(v=!0),E.options.layoutRoot&&(n.relativeTarget=q,n.relativeTargetOrigin=V,n.relativeParent=E)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:r,delta:m,layoutDelta:f,hasLayoutChanged:g,hasRelativeLayoutChanged:v})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function SM(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function TM(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function kM(n){n.clearSnapshot()}function yE(n){n.clearMeasurements()}function vE(n){n.isLayoutDirty=!1}function CM(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function bE(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function xM(n){n.resolveTargetDelta()}function IM(n){n.calcProjection()}function AM(n){n.resetSkewAndRotation()}function PM(n){n.removeLeadSnapshot()}function wE(n,e,r){n.translate=vt(e.translate,0,r),n.scale=vt(e.scale,1,r),n.origin=e.origin,n.originPoint=e.originPoint}function EE(n,e,r,i){n.min=vt(e.min,r.min,i),n.max=vt(e.max,r.max,i)}function NM(n,e,r,i){EE(n.x,e.x,r.x,i),EE(n.y,e.y,r.y,i)}function _M(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const DM={duration:.45,ease:[.4,0,.1,1]},SE=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),TE=SE("applewebkit/")&&!SE("chrome/")?Math.round:Kn;function kE(n){n.min=TE(n.min),n.max=TE(n.max)}function MM(n){kE(n.x),kE(n.y)}function CE(n,e,r){return n==="position"||n==="preserve-aspect"&&!jD(fE(e),fE(r),.2)}function FM(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const RM=gE({attachResizeListener:(n,e)=>Sl(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Hp={current:void 0},xE=gE({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Hp.current){const n=new RM({});n.mount(window),n.setOptions({layoutScroll:!0}),Hp.current=n}return Hp.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),OM={pan:{Feature:eM},drag:{Feature:JD,ProjectionNode:xE,MeasureLayout:Y1}};function IE(n,e,r){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,u=i[a];u&&ft.postRender(()=>u(e,Tl(e)))}class LM extends $s{mount(){const{current:e}=this.node;e&&(this.unmount=u4(e,(r,i)=>(IE(this.node,i,"Start"),a=>IE(this.node,a,"End"))))}unmount(){}}class VM extends $s{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=hl(Sl(this.node.current,"focus",()=>this.onFocus()),Sl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function AE(n,e,r){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),u=i[a];u&&ft.postRender(()=>u(e,Tl(e)))}class jM extends $s{mount(){const{current:e}=this.node;e&&(this.unmount=f4(e,(r,i)=>(AE(this.node,i,"Start"),(a,{success:u})=>AE(this.node,a,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Xp=new WeakMap,Qp=new WeakMap,zM=n=>{const e=Xp.get(n.target);e&&e(n)},BM=n=>{n.forEach(zM)};function UM({root:n,...e}){const r=n||document;Qp.has(r)||Qp.set(r,{});const i=Qp.get(r),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(BM,{root:n,...e})),i[a]}function qM(n,e,r){const i=UM(e);return Xp.set(n,r),i.observe(n),()=>{Xp.delete(n),i.unobserve(n)}}const $M={some:0,all:1};class KM extends $s{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:i,amount:a="some",once:u}=e,h={root:r?r.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:$M[a]},f=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:E}=this.node.getProps(),k=g?v:E;k&&k(m)};return qM(this.node.current,h,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(WM(e,r))&&this.startObserver()}unmount(){}}function WM({viewport:n={}},{viewport:e={}}={}){return r=>n[r]!==e[r]}const HM={inView:{Feature:KM},tap:{Feature:jM},focus:{Feature:VM},hover:{Feature:LM}},XM={layout:{ProjectionNode:xE,MeasureLayout:Y1}},QM={...MD,...HM,...OM,...XM},GM=Q4(QM,lD);var qc={};(function n(e,r,i,a){var u=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),h=typeof Path2D=="function"&&typeof DOMMatrix=="function",f=(function(){if(!e.OffscreenCanvas)return!1;var T=new OffscreenCanvas(1,1),x=T.getContext("2d");x.fillRect(0,0,1,1);var G=T.transferToImageBitmap();try{x.createPattern(G,"no-repeat")}catch{return!1}return!0})();function m(){}function g(T){var x=r.exports.Promise,G=x!==void 0?x:e.Promise;return typeof G=="function"?new G(T):(T(m,m),null)}var v=(function(T,x){return{transform:function(G){if(T)return G;if(x.has(G))return x.get(G);var X=new OffscreenCanvas(G.width,G.height),oe=X.getContext("2d");return oe.drawImage(G,0,0),x.set(G,X),X},clear:function(){x.clear()}}})(f,new Map),E=(function(){var T=Math.floor(16.666666666666668),x,G,X={},oe=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(x=function(ce){var ae=Math.random();return X[ae]=requestAnimationFrame(function me(ve){oe===ve||oe+T-1<ve?(oe=ve,delete X[ae],ce()):X[ae]=requestAnimationFrame(me)}),ae},G=function(ce){X[ce]&&cancelAnimationFrame(X[ce])}):(x=function(ce){return setTimeout(ce,T)},G=function(ce){return clearTimeout(ce)}),{frame:x,cancel:G}})(),k=(function(){var T,x,G={};function X(oe){function ce(ae,me){oe.postMessage({options:ae||{},callback:me})}oe.init=function(ae){var me=ae.transferControlToOffscreen();oe.postMessage({canvas:me},[me])},oe.fire=function(ae,me,ve){if(x)return ce(ae,null),x;var _e=Math.random().toString(36).slice(2);return x=g(function(at){function Ve(nt){nt.data.callback===_e&&(delete G[_e],oe.removeEventListener("message",Ve),x=null,v.clear(),ve(),at())}oe.addEventListener("message",Ve),ce(ae,_e),G[_e]=Ve.bind(null,{data:{callback:_e}})}),x},oe.reset=function(){oe.postMessage({reset:!0});for(var ae in G)G[ae](),delete G[ae]}}return function(){if(T)return T;if(!i&&u){var oe=["var CONFETTI, SIZE = {}, module = {};","("+n.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{T=new Worker(URL.createObjectURL(new Blob([oe])))}catch(ce){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",ce),null}X(T)}return T}})(),A={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function V(T,x){return x?x(T):T}function q(T){return T!=null}function j(T,x,G){return V(T&&q(T[x])?T[x]:A[x],G)}function Q(T){return T<0?0:Math.floor(T)}function te(T,x){return Math.floor(Math.random()*(x-T))+T}function ie(T){return parseInt(T,16)}function pe(T){return T.map(le)}function le(T){var x=String(T).replace(/[^0-9a-f]/gi,"");return x.length<6&&(x=x[0]+x[0]+x[1]+x[1]+x[2]+x[2]),{r:ie(x.substring(0,2)),g:ie(x.substring(2,4)),b:ie(x.substring(4,6))}}function ye(T){var x=j(T,"origin",Object);return x.x=j(x,"x",Number),x.y=j(x,"y",Number),x}function M(T){T.width=document.documentElement.clientWidth,T.height=document.documentElement.clientHeight}function I(T){var x=T.getBoundingClientRect();T.width=x.width,T.height=x.height}function P(T){var x=document.createElement("canvas");return x.style.position="fixed",x.style.top="0px",x.style.left="0px",x.style.pointerEvents="none",x.style.zIndex=T,x}function D(T,x,G,X,oe,ce,ae,me,ve){T.save(),T.translate(x,G),T.rotate(ce),T.scale(X,oe),T.arc(0,0,1,ae,me,ve),T.restore()}function F(T){var x=T.angle*(Math.PI/180),G=T.spread*(Math.PI/180);return{x:T.x,y:T.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:T.startVelocity*.5+Math.random()*T.startVelocity,angle2D:-x+(.5*G-Math.random()*G),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:T.color,shape:T.shape,tick:0,totalTicks:T.ticks,decay:T.decay,drift:T.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:T.gravity*3,ovalScalar:.6,scalar:T.scalar,flat:T.flat}}function O(T,x){x.x+=Math.cos(x.angle2D)*x.velocity+x.drift,x.y+=Math.sin(x.angle2D)*x.velocity+x.gravity,x.velocity*=x.decay,x.flat?(x.wobble=0,x.wobbleX=x.x+10*x.scalar,x.wobbleY=x.y+10*x.scalar,x.tiltSin=0,x.tiltCos=0,x.random=1):(x.wobble+=x.wobbleSpeed,x.wobbleX=x.x+10*x.scalar*Math.cos(x.wobble),x.wobbleY=x.y+10*x.scalar*Math.sin(x.wobble),x.tiltAngle+=.1,x.tiltSin=Math.sin(x.tiltAngle),x.tiltCos=Math.cos(x.tiltAngle),x.random=Math.random()+2);var G=x.tick++/x.totalTicks,X=x.x+x.random*x.tiltCos,oe=x.y+x.random*x.tiltSin,ce=x.wobbleX+x.random*x.tiltCos,ae=x.wobbleY+x.random*x.tiltSin;if(T.fillStyle="rgba("+x.color.r+", "+x.color.g+", "+x.color.b+", "+(1-G)+")",T.beginPath(),h&&x.shape.type==="path"&&typeof x.shape.path=="string"&&Array.isArray(x.shape.matrix))T.fill(re(x.shape.path,x.shape.matrix,x.x,x.y,Math.abs(ce-X)*.1,Math.abs(ae-oe)*.1,Math.PI/10*x.wobble));else if(x.shape.type==="bitmap"){var me=Math.PI/10*x.wobble,ve=Math.abs(ce-X)*.1,_e=Math.abs(ae-oe)*.1,at=x.shape.bitmap.width*x.scalar,Ve=x.shape.bitmap.height*x.scalar,nt=new DOMMatrix([Math.cos(me)*ve,Math.sin(me)*ve,-Math.sin(me)*_e,Math.cos(me)*_e,x.x,x.y]);nt.multiplySelf(new DOMMatrix(x.shape.matrix));var bt=T.createPattern(v.transform(x.shape.bitmap),"no-repeat");bt.setTransform(nt),T.globalAlpha=1-G,T.fillStyle=bt,T.fillRect(x.x-at/2,x.y-Ve/2,at,Ve),T.globalAlpha=1}else if(x.shape==="circle")T.ellipse?T.ellipse(x.x,x.y,Math.abs(ce-X)*x.ovalScalar,Math.abs(ae-oe)*x.ovalScalar,Math.PI/10*x.wobble,0,2*Math.PI):D(T,x.x,x.y,Math.abs(ce-X)*x.ovalScalar,Math.abs(ae-oe)*x.ovalScalar,Math.PI/10*x.wobble,0,2*Math.PI);else if(x.shape==="star")for(var De=Math.PI/2*3,Ft=4*x.scalar,mn=8*x.scalar,pt=x.x,Mn=x.y,Fn=5,nn=Math.PI/Fn;Fn--;)pt=x.x+Math.cos(De)*mn,Mn=x.y+Math.sin(De)*mn,T.lineTo(pt,Mn),De+=nn,pt=x.x+Math.cos(De)*Ft,Mn=x.y+Math.sin(De)*Ft,T.lineTo(pt,Mn),De+=nn;else T.moveTo(Math.floor(x.x),Math.floor(x.y)),T.lineTo(Math.floor(x.wobbleX),Math.floor(oe)),T.lineTo(Math.floor(ce),Math.floor(ae)),T.lineTo(Math.floor(X),Math.floor(x.wobbleY));return T.closePath(),T.fill(),x.tick<x.totalTicks}function N(T,x,G,X,oe){var ce=x.slice(),ae=T.getContext("2d"),me,ve,_e=g(function(at){function Ve(){me=ve=null,ae.clearRect(0,0,X.width,X.height),v.clear(),oe(),at()}function nt(){i&&!(X.width===a.width&&X.height===a.height)&&(X.width=T.width=a.width,X.height=T.height=a.height),!X.width&&!X.height&&(G(T),X.width=T.width,X.height=T.height),ae.clearRect(0,0,X.width,X.height),ce=ce.filter(function(bt){return O(ae,bt)}),ce.length?me=E.frame(nt):Ve()}me=E.frame(nt),ve=Ve});return{addFettis:function(at){return ce=ce.concat(at),_e},canvas:T,promise:_e,reset:function(){me&&E.cancel(me),ve&&ve()}}}function We(T,x){var G=!T,X=!!j(x||{},"resize"),oe=!1,ce=j(x,"disableForReducedMotion",Boolean),ae=u&&!!j(x||{},"useWorker"),me=ae?k():null,ve=G?M:I,_e=T&&me?!!T.__confetti_initialized:!1,at=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Ve;function nt(De,Ft,mn){for(var pt=j(De,"particleCount",Q),Mn=j(De,"angle",Number),Fn=j(De,"spread",Number),nn=j(De,"startVelocity",Number),Qr=j(De,"decay",Number),Al=j(De,"gravity",Number),Ks=j(De,"drift",Number),Ws=j(De,"colors",pe),Ko=j(De,"ticks",Number),dt=j(De,"shapes"),Qe=j(De,"scalar"),vn=!!j(De,"flat"),zt=ye(De),Vi=pt,ji=[],Gr=T.width*zt.x,Yr=T.height*zt.y;Vi--;)ji.push(F({x:Gr,y:Yr,angle:Mn,spread:Fn,startVelocity:nn,color:Ws[Vi%Ws.length],shape:dt[te(0,dt.length)],ticks:Ko,decay:Qr,gravity:Al,drift:Ks,scalar:Qe,flat:vn}));return Ve?Ve.addFettis(ji):(Ve=N(T,ji,ve,Ft,mn),Ve.promise)}function bt(De){var Ft=ce||j(De,"disableForReducedMotion",Boolean),mn=j(De,"zIndex",Number);if(Ft&&at)return g(function(nn){nn()});G&&Ve?T=Ve.canvas:G&&!T&&(T=P(mn),document.body.appendChild(T)),X&&!_e&&ve(T);var pt={width:T.width,height:T.height};me&&!_e&&me.init(T),_e=!0,me&&(T.__confetti_initialized=!0);function Mn(){if(me){var nn={getBoundingClientRect:function(){if(!G)return T.getBoundingClientRect()}};ve(nn),me.postMessage({resize:{width:nn.width,height:nn.height}});return}pt.width=pt.height=null}function Fn(){Ve=null,X&&(oe=!1,e.removeEventListener("resize",Mn)),G&&T&&(document.body.contains(T)&&document.body.removeChild(T),T=null,_e=!1)}return X&&!oe&&(oe=!0,e.addEventListener("resize",Mn,!1)),me?me.fire(De,pt,Fn):nt(De,pt,Fn)}return bt.reset=function(){me&&me.reset(),Ve&&Ve.reset()},bt}var Ue;function K(){return Ue||(Ue=We(null,{useWorker:!0,resize:!0})),Ue}function re(T,x,G,X,oe,ce,ae){var me=new Path2D(T),ve=new Path2D;ve.addPath(me,new DOMMatrix(x));var _e=new Path2D;return _e.addPath(ve,new DOMMatrix([Math.cos(ae)*oe,Math.sin(ae)*oe,-Math.sin(ae)*ce,Math.cos(ae)*ce,G,X])),_e}function de(T){if(!h)throw new Error("path confetti are not supported in this browser");var x,G;typeof T=="string"?x=T:(x=T.path,G=T.matrix);var X=new Path2D(x),oe=document.createElement("canvas"),ce=oe.getContext("2d");if(!G){for(var ae=1e3,me=ae,ve=ae,_e=0,at=0,Ve,nt,bt=0;bt<ae;bt+=2)for(var De=0;De<ae;De+=2)ce.isPointInPath(X,bt,De,"nonzero")&&(me=Math.min(me,bt),ve=Math.min(ve,De),_e=Math.max(_e,bt),at=Math.max(at,De));Ve=_e-me,nt=at-ve;var Ft=10,mn=Math.min(Ft/Ve,Ft/nt);G=[mn,0,0,mn,-Math.round(Ve/2+me)*mn,-Math.round(nt/2+ve)*mn]}return{type:"path",path:x,matrix:G}}function Me(T){var x,G=1,X="#000000",oe='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof T=="string"?x=T:(x=T.text,G="scalar"in T?T.scalar:G,oe="fontFamily"in T?T.fontFamily:oe,X="color"in T?T.color:X);var ce=10*G,ae=""+ce+"px "+oe,me=new OffscreenCanvas(ce,ce),ve=me.getContext("2d");ve.font=ae;var _e=ve.measureText(x),at=Math.ceil(_e.actualBoundingBoxRight+_e.actualBoundingBoxLeft),Ve=Math.ceil(_e.actualBoundingBoxAscent+_e.actualBoundingBoxDescent),nt=2,bt=_e.actualBoundingBoxLeft+nt,De=_e.actualBoundingBoxAscent+nt;at+=nt+nt,Ve+=nt+nt,me=new OffscreenCanvas(at,Ve),ve=me.getContext("2d"),ve.font=ae,ve.fillStyle=X,ve.fillText(x,bt,De);var Ft=1/G;return{type:"bitmap",bitmap:me.transferToImageBitmap(),matrix:[Ft,0,0,Ft,-at*Ft/2,-Ve*Ft/2]}}r.exports=function(){return K().apply(this,arguments)},r.exports.reset=function(){K().reset()},r.exports.create=We,r.exports.shapeFromPath=de,r.exports.shapeFromText=Me})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),qc,!1);const PE=qc.exports;qc.exports.create;const NE=17;function YM({streak:n,triggerCelebration:e,onResetStreak:r}){const i=Math.min(n/NE*100,100),a=n===NE;return ge.useEffect(()=>{a&&(PE({particleCount:500,startVelocity:60,spread:90,angle:90,gravity:.5,origin:{y:1.2}}),setTimeout(()=>{PE({particleCount:500,startVelocity:60,spread:90,angle:90,gravity:.5,origin:{y:1.2}})},500))},[a]),se.jsx("div",{className:"streak-wrapper",children:se.jsxs("div",{className:"streak-bar-background",children:[se.jsx(GM.div,{className:"streak-bar-fill",initial:{width:0},animate:{width:`${i}%`},transition:{duration:.4}}),se.jsxs("div",{className:"streak-bar-content",children:[se.jsx("span",{className:"streak-text",children:"17 richtige Fragen"}),a&&se.jsx("button",{className:"streak-reset-inline",onClick:r,children:"Reset"})]})]})})}function ZM({onClose:n,questions:e}){const[r,i]=ge.useState([]),[a,u]=ge.useState(0),[h,f]=ge.useState(0);ge.useEffect(()=>{Dn("stats_modal_opened");const A=fN(ZP(cl,"questionStats"),V=>{const q=[];let j=0,Q=0;V.forEach(te=>{const ie=te.data();q.push({id:te.id,...ie}),j+=ie.total||0,Q+=ie.correct||0}),i(q),u(j),f(Q)});return()=>A()},[]);const m=a?Math.round(h/a*100):0,g=[...r].filter(A=>A.correct>0).sort((A,V)=>V.correct-A.correct).slice(0,3),v=[...r].filter(A=>A.wrong>0).sort((A,V)=>V.wrong-A.wrong).slice(0,3),E=A=>{if(!Array.isArray(e))return`Frage #${A}`;const V=e.find(q=>String(q.id)===String(A));return(V==null?void 0:V.question)||`Frage #${A}`},k=(A,V)=>{Dn("stats_question_clicked",{question_id:A,type:V});const q=e.findIndex(j=>String(j.id)===String(A));q!==-1&&n(q)};return se.jsx("div",{className:"about-modal-overlay",onClick:A=>{A.target.classList.contains("about-modal-overlay")&&n()},children:se.jsxs("div",{className:"about-modal",children:[se.jsx("button",{className:"close-button",onClick:()=>n(),children:"×"}),se.jsx("h2",{className:"text-xl font-bold mb-4",children:"Globale Statistiken"}),se.jsxs("div",{className:"modal-content",children:[se.jsxs("div",{className:"stats-summary",children:[se.jsxs("div",{className:"stats-summary-box",children:[se.jsxs("p",{className:"text-sm",children:["Beantwortete",se.jsx("br",{}),"Fragen"]}),se.jsx("p",{className:"big-number",children:a})]}),se.jsxs("div",{className:"stats-summary-box",children:[se.jsxs("p",{className:"text-sm",children:["Richtig",se.jsx("br",{}),"beantwortet"]}),se.jsxs("p",{className:"big-number",children:[m,"%"]})]})]}),se.jsxs("h3",{className:"modal-subtitle text-lg font-semibold mb-2",children:["Top 3 ",se.jsx("span",{className:"green-text",children:"Richtig"})," beantwortete Fragen"]}),se.jsx("div",{className:"answer-list mb-4",children:g.map(A=>se.jsx("div",{className:"answer-button text-sm",onClick:()=>k(A.id,"correct"),children:E(A.id)},A.id))}),se.jsxs("h3",{className:"modal-subtitle text-lg font-semibold mb-2",children:["Top 3 ",se.jsx("span",{className:"red-text",children:"Falsch"})," beantwortete Fragen"]}),se.jsx("div",{className:"answer-list",children:v.map(A=>se.jsx("div",{className:"answer-button text-sm",onClick:()=>k(A.id,"wrong"),children:E(A.id)},A.id))})]})]})})}function JM(){const[n,e]=ge.useState(()=>localStorage.getItem("user_consent")==="true");ge.useEffect(()=>{var i;n||(i=window.gtag)==null||i.call(window,"consent","default",{ad_storage:"denied",analytics_storage:"granted"})},[n]);const r=()=>{var i;localStorage.setItem("user_consent","true"),e(!0),(i=window.gtag)==null||i.call(window,"consent","update",{ad_storage:"granted",analytics_storage:"granted"}),console.log("✅ User accepted cookies")};return n?null:se.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(255, 255, 255, 0.5)",zIndex:9999,display:"flex",justifyContent:"center",alignItems:"center",padding:"1rem"},children:se.jsxs("div",{style:{background:"white",color:"#222",borderRadius:"12px",padding:"24px",maxWidth:"300px",textAlign:"center",boxShadow:"0 6px 16px rgba(0,0,0,0.1)"},children:[se.jsx("p",{style:{marginBottom:"16px",fontSize:"15px",lineHeight:1.5},children:"Diese Website verwendet Google Analytics, um anonyme Nutzungsdaten zu sammeln. Keine persönlichen Daten werden gespeichert oder weitergegeben."}),se.jsx("button",{onClick:r,style:{fontSize:"15px",padding:"10px 16px",fontWeight:"500",backgroundColor:"var(--color-primary)",color:"white",borderRadius:"8px",border:"none",cursor:"pointer"},children:"OK, verstanden"})]})})}function e6(){var n,e,r,i,a;const[u,h]=ge.useState([]),[f,m]=ge.useState(0),[g,v]=ge.useState(null),[E,k]=ge.useState(!0),[A,V]=ge.useState(!1),[q,j]=ge.useState(!1),[Q,te]=ge.useState(0),[ie,pe]=ge.useState(!1),le=new Set([21,55,70,130,176,181,187,209,216,226,235,301,308]);ge.useEffect(()=>{const D=setInterval(()=>{var F;(window.gtag||(F=window.firebase)!=null&&F.analytics)&&(Dn("session_start"),clearInterval(D))},100);return fetch("/data/questions.json").then(F=>F.json()).then(F=>{const O=F.map(We=>{var Ue;const K=We.question_number;return{id:K??"N/A",question:We.question??"No question provided",answers:We.options??[],correct:((Ue=We.options)==null?void 0:Ue.indexOf(We.correct_answer))??-1,imageId:le.has(K)?K:null}});h(O);const N=Math.floor(Math.random()*O.length);m(N),k(!1)}).catch(F=>{console.error("❌ Failed to load questions:",F),k(!1)}),()=>clearInterval(D)},[]);const ye=async D=>{var F,O;const N=D===((F=u[f])==null?void 0:F.correct);v(D);const We=N?Q+1:0;te(We),We===17&&(Dn("completed_streak_17"),pe(!0),setTimeout(()=>pe(!1),3e3));const Ue=String((O=u[f])==null?void 0:O.id);Dn("question_answered",{question_id:Ue,correct:N});let K=Number(sessionStorage.getItem("answered_count")||0)+1;sessionStorage.setItem("answered_count",K),K===3&&(Dn("answered_3_in_session"),console.log("🎯 Logged: answered_3_in_session"));try{const re=Ec(cl,"questionStats",Ue);await Ob(re,{total:Mo(1),correct:Mo(N?1:0),wrong:Mo(N?0:1)})}catch(re){re.code==="not-found"?await Rb(Ec(cl,"questionStats",Ue),{total:1,correct:N?1:0,wrong:N?0:1}):console.error("❌ Firestore update failed:",re)}try{const re=Ec(cl,"metrics","totals");await Ob(re,{total:Mo(1),correct:Mo(N?1:0),wrong:Mo(N?0:1)})}catch(re){re.code==="not-found"?await Rb(Ec(cl,"metrics","totals"),{total:1,correct:N?1:0,wrong:N?0:1}):console.error("❌ Failed to update global totals:",re)}},M=()=>{v(null),m(Math.floor(Math.random()*u.length)),Dn("random_question_clicked")},I=()=>{j(!1),V(!0),Dn("about_modal_opened")},P=()=>{V(!1),j(!0),Dn("stats_modal_opened")};return se.jsxs("div",{className:"app-wrapper",children:[se.jsx("header",{className:"app-header",children:se.jsxs("div",{className:"header-inner",children:[se.jsx("div",{className:"header-titles",children:se.jsx("h1",{className:"app-title",children:"Fragen Katalog"})}),se.jsxs("div",{className:"header-links",children:[se.jsx("a",{href:"#",className:"about-link",onClick:D=>{D.preventDefault(),P()},children:"Statistiken"}),se.jsx("a",{href:"#",className:"about-link",onClick:D=>{D.preventDefault(),I()},children:"Über"})]})]})}),se.jsx("main",{className:"main-content",children:E?se.jsx("p",{className:"loading-text",children:"Loading questions..."}):se.jsxs(se.Fragment,{children:[se.jsx(YM,{streak:Q,triggerCelebration:ie,onResetStreak:()=>te(0)}),se.jsx(gN,{id:(n=u[f])==null?void 0:n.id,question:(e=u[f])==null?void 0:e.question,answers:(r=u[f])==null?void 0:r.answers,correctIndex:(i=u[f])==null?void 0:i.correct,selectedAnswer:g,onSelectAnswer:ye,imageId:(a=u[f])==null?void 0:a.imageId}),se.jsx("div",{className:"controls",children:se.jsx("button",{className:"controls-button",onClick:()=>{Dn("next_question_clicked"),M()},children:"Nächste Frage"})}),se.jsx("div",{style:{height:"10px"}})]})}),A&&!q&&se.jsx(yN,{onClose:()=>V(!1)}),q&&!A&&se.jsx(ZM,{onClose:D=>{j(!1),typeof D=="number"&&m(D)},questions:u}),se.jsx(JM,{}),!A&&!q&&se.jsx("div",{style:{position:"fixed",bottom:16,right:16,zIndex:1e3,width:"100%",maxWidth:"200px"},children:se.jsx(zb,{})})]})}(function(n,e,r,i,a,u,h){n[r]=n[r]||function(){(n[r].q=n[r].q||[]).push(arguments)},u=e.createElement(i),u.async=1,u.src="https://www.clarity.ms/tag/qyg3chkjg3",h=e.getElementsByTagName(i)[0],h.parentNode.insertBefore(u,h)})(window,document,"clarity","script"),Yk.createRoot(document.getElementById("root")).render(se.jsx(qk.StrictMode,{children:se.jsx(e6,{})}))});x3();
