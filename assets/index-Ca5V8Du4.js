(function(){const pr=document.createElement("link").relList;if(pr&&pr.supports&&pr.supports("modulepreload"))return;for(const He of document.querySelectorAll('link[rel="modulepreload"]'))xt(He);new MutationObserver(He=>{for(const $t of He)if($t.type==="childList")for(const Vo of $t.addedNodes)Vo.tagName==="LINK"&&Vo.rel==="modulepreload"&&xt(Vo)}).observe(document,{childList:!0,subtree:!0});function ws(He){const $t={};return He.integrity&&($t.integrity=He.integrity),He.referrerPolicy&&($t.referrerPolicy=He.referrerPolicy),He.crossOrigin==="use-credentials"?$t.credentials="include":He.crossOrigin==="anonymous"?$t.credentials="omit":$t.credentials="same-origin",$t}function xt(He){if(He.ep)return;He.ep=!0;const $t=ws(He);fetch(He.href,$t)}})();(function(){const bs=document.createElement("link").relList;if(bs&&bs.supports&&bs.supports("modulepreload"))return;for(const xt of document.querySelectorAll('link[rel="modulepreload"]'))ws(xt);new MutationObserver(xt=>{for(const He of xt)if(He.type==="childList")for(const $t of He.addedNodes)$t.tagName==="LINK"&&$t.rel==="modulepreload"&&ws($t)}).observe(document,{childList:!0,subtree:!0});function pr(xt){const He={};return xt.integrity&&(He.integrity=xt.integrity),xt.referrerPolicy&&(He.referrerPolicy=xt.referrerPolicy),xt.crossOrigin==="use-credentials"?He.credentials="include":xt.crossOrigin==="anonymous"?He.credentials="omit":He.credentials="same-origin",He}function ws(xt){if(xt.ep)return;xt.ep=!0;const He=pr(xt);fetch(xt.href,He)}})();var k3=(bs,pr)=>()=>(pr||bs((pr={exports:{}}).exports,pr),pr.exports),C3=k3((bs,qc)=>{(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function e(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=e(s);fetch(s.href,o)}})();function ws(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var xt={exports:{}},He={};/**
* @license React
* react-jsx-runtime.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var $t;function Vo(){if($t)return He;$t=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:n,type:s,key:h,ref:o!==void 0?o:null,props:u}}return He.Fragment=e,He.jsx=r,He.jsxs=r,He}var Wg;function UT(){return Wg||(Wg=1,xt.exports=Vo()),xt.exports}var ae=UT(),Qg={exports:{}},Ae={};/**
* @license React
* react.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Xg;function zT(){if(Xg)return Ae;Xg=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function T(x){return x===null||typeof x!="object"?null:(x=E&&x[E]||x["@@iterator"],typeof x=="function"?x:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,q={};function F(x,C,K){this.props=x,this.context=C,this.refs=q,this.updater=K||I}F.prototype.isReactComponent={},F.prototype.setState=function(x,C){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,C,"setState")},F.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function X(){}X.prototype=F.prototype;function te(x,C,K){this.props=x,this.context=C,this.refs=q,this.updater=K||I}var se=te.prototype=new X;se.constructor=te,j(se,F.prototype),se.isPureReactComponent=!0;var pe=Array.isArray,le={H:null,A:null,T:null,S:null,V:null},ye=Object.prototype.hasOwnProperty;function M(x,C,K,Q,ie,ce){return K=ce.ref,{$$typeof:n,type:x,key:C,ref:K!==void 0?K:null,props:ce}}function _(x,C){return M(x.type,C,void 0,void 0,void 0,x.props)}function A(x){return typeof x=="object"&&x!==null&&x.$$typeof===n}function P(x){var C={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(K){return C[K]})}var O=/\/+/g;function V(x,C){return typeof x=="object"&&x!==null&&x.key!=null?P(""+x.key):C.toString(36)}function N(){}function $e(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(N,N):(x.status="pending",x.then(function(C){x.status==="pending"&&(x.status="fulfilled",x.value=C)},function(C){x.status==="pending"&&(x.status="rejected",x.reason=C)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function Be(x,C,K,Q,ie){var ce=typeof x;(ce==="undefined"||ce==="boolean")&&(x=null);var oe=!1;if(x===null)oe=!0;else switch(ce){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(x.$$typeof){case n:case e:oe=!0;break;case v:return oe=x._init,Be(oe(x._payload),C,K,Q,ie)}}if(oe)return ie=ie(x),oe=Q===""?"."+V(x,0):Q,pe(ie)?(K="",oe!=null&&(K=oe.replace(O,"$&/")+"/"),Be(ie,C,K,"",function(Ne){return Ne})):ie!=null&&(A(ie)&&(ie=_(ie,K+(ie.key==null||x&&x.key===ie.key?"":(""+ie.key).replace(O,"$&/")+"/")+oe)),C.push(ie)),1;oe=0;var me=Q===""?".":Q+":";if(pe(x))for(var ve=0;ve<x.length;ve++)Q=x[ve],ce=me+V(Q,ve),oe+=Be(Q,C,K,ce,ie);else if(ve=T(x),typeof ve=="function")for(x=ve.call(x),ve=0;!(Q=x.next()).done;)Q=Q.value,ce=me+V(Q,ve++),oe+=Be(Q,C,K,ce,ie);else if(ce==="object"){if(typeof x.then=="function")return Be($e(x),C,K,Q,ie);throw C=String(x),Error("Objects are not valid as a React child (found: "+(C==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":C)+"). If you meant to render a collection of children, use an array instead.")}return oe}function $(x,C,K){if(x==null)return x;var Q=[],ie=0;return Be(x,Q,"","",function(ce){return C.call(K,ce,ie++)}),Q}function re(x){if(x._status===-1){var C=x._result;C=C(),C.then(function(K){(x._status===0||x._status===-1)&&(x._status=1,x._result=K)},function(K){(x._status===0||x._status===-1)&&(x._status=2,x._result=K)}),x._status===-1&&(x._status=0,x._result=C)}if(x._status===1)return x._result.default;throw x._result}var fe=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var C=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(C))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function Pe(){}return Ae.Children={map:$,forEach:function(x,C,K){$(x,function(){C.apply(this,arguments)},K)},count:function(x){var C=0;return $(x,function(){C++}),C},toArray:function(x){return $(x,function(C){return C})||[]},only:function(x){if(!A(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Ae.Component=F,Ae.Fragment=r,Ae.Profiler=o,Ae.PureComponent=te,Ae.StrictMode=s,Ae.Suspense=m,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(x){return le.H.useMemoCache(x)}},Ae.cache=function(x){return function(){return x.apply(null,arguments)}},Ae.cloneElement=function(x,C,K){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var Q=j({},x.props),ie=x.key,ce=void 0;if(C!=null)for(oe in C.ref!==void 0&&(ce=void 0),C.key!==void 0&&(ie=""+C.key),C)!ye.call(C,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&C.ref===void 0||(Q[oe]=C[oe]);var oe=arguments.length-2;if(oe===1)Q.children=K;else if(1<oe){for(var me=Array(oe),ve=0;ve<oe;ve++)me[ve]=arguments[ve+2];Q.children=me}return M(x.type,ie,void 0,void 0,ce,Q)},Ae.createContext=function(x){return x={$$typeof:h,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},Ae.createElement=function(x,C,K){var Q,ie={},ce=null;if(C!=null)for(Q in C.key!==void 0&&(ce=""+C.key),C)ye.call(C,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(ie[Q]=C[Q]);var oe=arguments.length-2;if(oe===1)ie.children=K;else if(1<oe){for(var me=Array(oe),ve=0;ve<oe;ve++)me[ve]=arguments[ve+2];ie.children=me}if(x&&x.defaultProps)for(Q in oe=x.defaultProps,oe)ie[Q]===void 0&&(ie[Q]=oe[Q]);return M(x,ce,void 0,void 0,null,ie)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(x){return{$$typeof:d,render:x}},Ae.isValidElement=A,Ae.lazy=function(x){return{$$typeof:v,_payload:{_status:-1,_result:x},_init:re}},Ae.memo=function(x,C){return{$$typeof:g,type:x,compare:C===void 0?null:C}},Ae.startTransition=function(x){var C=le.T,K={};le.T=K;try{var Q=x(),ie=le.S;ie!==null&&ie(K,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(Pe,fe)}catch(ce){fe(ce)}finally{le.T=C}},Ae.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},Ae.use=function(x){return le.H.use(x)},Ae.useActionState=function(x,C,K){return le.H.useActionState(x,C,K)},Ae.useCallback=function(x,C){return le.H.useCallback(x,C)},Ae.useContext=function(x){return le.H.useContext(x)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(x,C){return le.H.useDeferredValue(x,C)},Ae.useEffect=function(x,C,K){var Q=le.H;if(typeof K=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(x,C)},Ae.useId=function(){return le.H.useId()},Ae.useImperativeHandle=function(x,C,K){return le.H.useImperativeHandle(x,C,K)},Ae.useInsertionEffect=function(x,C){return le.H.useInsertionEffect(x,C)},Ae.useLayoutEffect=function(x,C){return le.H.useLayoutEffect(x,C)},Ae.useMemo=function(x,C){return le.H.useMemo(x,C)},Ae.useOptimistic=function(x,C){return le.H.useOptimistic(x,C)},Ae.useReducer=function(x,C,K){return le.H.useReducer(x,C,K)},Ae.useRef=function(x){return le.H.useRef(x)},Ae.useState=function(x){return le.H.useState(x)},Ae.useSyncExternalStore=function(x,C,K){return le.H.useSyncExternalStore(x,C,K)},Ae.useTransition=function(){return le.H.useTransition()},Ae.version="19.1.1",Ae}var Kg;function ff(){return Kg||(Kg=1,Qg.exports=zT()),Qg.exports}var ge=ff();const qT=ws(ge);var df={exports:{}},Ro={},Yg={exports:{}},Jg={};/**
* @license React
* scheduler.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Zg;function HT(){return Zg||(Zg=1,(function(n){function e($,re){var fe=$.length;$.push(re);e:for(;0<fe;){var Pe=fe-1>>>1,x=$[Pe];if(0<o(x,re))$[Pe]=re,$[fe]=x,fe=Pe;else break e}}function r($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var re=$[0],fe=$.pop();if(fe!==re){$[0]=fe;e:for(var Pe=0,x=$.length,C=x>>>1;Pe<C;){var K=2*(Pe+1)-1,Q=$[K],ie=K+1,ce=$[ie];if(0>o(Q,fe))ie<x&&0>o(ce,Q)?($[Pe]=ce,$[ie]=fe,Pe=ie):($[Pe]=Q,$[K]=fe,Pe=K);else if(ie<x&&0>o(ce,fe))$[Pe]=ce,$[ie]=fe,Pe=ie;else break e}}return re}function o($,re){var fe=$.sortIndex-re.sortIndex;return fe!==0?fe:$.id-re.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();n.unstable_now=function(){return h.now()-d}}var m=[],g=[],v=1,E=null,T=3,I=!1,j=!1,q=!1,F=!1,X=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function pe($){for(var re=r(g);re!==null;){if(re.callback===null)s(g);else if(re.startTime<=$)s(g),re.sortIndex=re.expirationTime,e(m,re);else break;re=r(g)}}function le($){if(q=!1,pe($),!j)if(r(m)!==null)j=!0,ye||(ye=!0,V());else{var re=r(g);re!==null&&Be(le,re.startTime-$)}}var ye=!1,M=-1,_=5,A=-1;function P(){return F?!0:!(n.unstable_now()-A<_)}function O(){if(F=!1,ye){var $=n.unstable_now();A=$;var re=!0;try{e:{j=!1,q&&(q=!1,te(M),M=-1),I=!0;var fe=T;try{t:{for(pe($),E=r(m);E!==null&&!(E.expirationTime>$&&P());){var Pe=E.callback;if(typeof Pe=="function"){E.callback=null,T=E.priorityLevel;var x=Pe(E.expirationTime<=$);if($=n.unstable_now(),typeof x=="function"){E.callback=x,pe($),re=!0;break t}E===r(m)&&s(m),pe($)}else s(m);E=r(m)}if(E!==null)re=!0;else{var C=r(g);C!==null&&Be(le,C.startTime-$),re=!1}}break e}finally{E=null,T=fe,I=!1}re=void 0}}finally{re?V():ye=!1}}}var V;if(typeof se=="function")V=function(){se(O)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,$e=N.port2;N.port1.onmessage=O,V=function(){$e.postMessage(null)}}else V=function(){X(O,0)};function Be($,re){M=X(function(){$(n.unstable_now())},re)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function($){switch(T){case 1:case 2:case 3:var re=3;break;default:re=T}var fe=T;T=re;try{return $()}finally{T=fe}},n.unstable_requestPaint=function(){F=!0},n.unstable_runWithPriority=function($,re){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var fe=T;T=$;try{return re()}finally{T=fe}},n.unstable_scheduleCallback=function($,re,fe){var Pe=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Pe+fe:Pe):fe=Pe,$){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=fe+x,$={id:v++,callback:re,priorityLevel:$,startTime:fe,expirationTime:x,sortIndex:-1},fe>Pe?($.sortIndex=fe,e(g,$),r(m)===null&&$===r(g)&&(q?(te(M),M=-1):q=!0,Be(le,fe-Pe))):($.sortIndex=x,e(m,$),j||I||(j=!0,ye||(ye=!0,V()))),$},n.unstable_shouldYield=P,n.unstable_wrapCallback=function($){var re=T;return function(){var fe=T;T=re;try{return $.apply(this,arguments)}finally{T=fe}}}})(Jg)),Jg}var ey;function $T(){return ey||(ey=1,Yg.exports=HT()),Yg.exports}var pf={exports:{}},cn={};/**
* @license React
* react-dom.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var ty;function GT(){if(ty)return cn;ty=1;var n=ff();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:m,containerInfo:g,implementation:v}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,cn.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(m,g,null,v)},cn.flushSync=function(m){var g=h.T,v=s.p;try{if(h.T=null,s.p=2,m)return m()}finally{h.T=g,s.p=v,s.d.f()}},cn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},cn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},cn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,I=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:T,fetchPriority:I}):v==="script"&&s.d.X(m,{crossOrigin:E,integrity:T,fetchPriority:I,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},cn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},cn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin);s.d.L(m,v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},cn.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=d(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},cn.requestFormReset=function(m){s.d.r(m)},cn.unstable_batchedUpdates=function(m,g){return m(g)},cn.useFormState=function(m,g,v){return h.H.useFormState(m,g,v)},cn.useFormStatus=function(){return h.H.useHostTransitionStatus()},cn.version="19.1.1",cn}var ny;function WT(){if(ny)return pf.exports;ny=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),pf.exports=GT(),pf.exports}/**
* @license React
* react-dom-client.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var ry;function QT(){if(ry)return Ro;ry=1;var n=$T(),e=ff(),r=WT();function s(t){var a="https://react.dev/errors/"+t;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)a+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var a=t,i=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,(a.flags&4098)!==0&&(i=a.return),t=a.return;while(t)}return a.tag===3?i:null}function h(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function d(t){if(u(t)!==t)throw Error(s(188))}function m(t){var a=t.alternate;if(!a){if(a=u(t),a===null)throw Error(s(188));return a!==t?null:t}for(var i=t,l=a;;){var f=i.return;if(f===null)break;var p=f.alternate;if(p===null){if(l=f.return,l!==null){i=l;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===i)return d(f),t;if(p===l)return d(f),a;p=p.sibling}throw Error(s(188))}if(i.return!==l.return)i=f,l=p;else{for(var w=!1,S=f.child;S;){if(S===i){w=!0,i=f,l=p;break}if(S===l){w=!0,l=f,i=p;break}S=S.sibling}if(!w){for(S=p.child;S;){if(S===i){w=!0,i=p,l=f;break}if(S===l){w=!0,l=p,i=f;break}S=S.sibling}if(!w)throw Error(s(189))}}if(i.alternate!==l)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?t:a}function g(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t;for(t=t.child;t!==null;){if(a=g(t),a!==null)return a;t=t.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),te=Symbol.for("react.consumer"),se=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function $e(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case j:return"Fragment";case F:return"Profiler";case q:return"StrictMode";case le:return"Suspense";case ye:return"SuspenseList";case A:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case I:return"Portal";case se:return(t.displayName||"Context")+".Provider";case te:return(t._context.displayName||"Context")+".Consumer";case pe:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case M:return a=t.displayName||null,a!==null?a:$e(t.type)||"Memo";case _:a=t._payload,t=t._init;try{return $e(t(a))}catch{}}return null}var Be=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Pe=[],x=-1;function C(t){return{current:t}}function K(t){0>x||(t.current=Pe[x],Pe[x]=null,x--)}function Q(t,a){x++,Pe[x]=t.current,t.current=a}var ie=C(null),ce=C(null),oe=C(null),me=C(null);function ve(t,a){switch(Q(oe,a),Q(ce,t),Q(ie,null),a.nodeType){case 9:case 11:t=(t=a.documentElement)&&(t=t.namespaceURI)?mT(t):0;break;default:if(t=a.tagName,a=a.namespaceURI)a=mT(a),t=gT(a,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(ie),Q(ie,t)}function Ne(){K(ie),K(ce),K(oe)}function it(t){t.memoizedState!==null&&Q(me,t);var a=ie.current,i=gT(a,t.type);a!==i&&(Q(ce,t),Q(ie,i))}function Ve(t){ce.current===t&&(K(ie),K(ce)),me.current===t&&(K(me),Au._currentValue=fe)}var tt=Object.prototype.hasOwnProperty,vt=n.unstable_scheduleCallback,De=n.unstable_cancelCallback,Mt=n.unstable_shouldYield,mn=n.unstable_requestPaint,dt=n.unstable_now,Mn=n.unstable_getCurrentPriorityLevel,On=n.unstable_ImmediatePriority,nn=n.unstable_UserBlockingPriority,Wr=n.unstable_NormalPriority,Il=n.unstable_LowPriority,qa=n.unstable_IdlePriority,Ha=n.log,Hi=n.unstable_setDisableYieldValue,ht=null,Qe=null;function vn(t){if(typeof Ha=="function"&&Hi(t),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(ht,t)}catch{}}var Ft=Math.clz32?Math.clz32:Qr,js=Math.log,Fs=Math.LN2;function Qr(t){return t>>>=0,t===0?32:31-(js(t)/Fs|0)|0}var Xr=256,Bs=4194304;function lr(t){var a=t&42;if(a!==0)return a;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function $i(t,a,i){var l=t.pendingLanes;if(l===0)return 0;var f=0,p=t.suspendedLanes,w=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~p,l!==0?f=lr(l):(w&=S,w!==0?f=lr(w):i||(i=S&~t,i!==0&&(f=lr(i))))):(S=l&~p,S!==0?f=lr(S):w!==0?f=lr(w):i||(i=l&~t,i!==0&&(f=lr(i)))),f===0?0:a!==0&&a!==f&&(a&p)===0&&(p=f&-f,i=a&-a,p>=i||p===32&&(i&4194048)!==0)?a:f}function Us(t,a){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&a)===0}function Al(t,a){switch(t){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nl(){var t=Xr;return Xr<<=1,(Xr&4194048)===0&&(Xr=256),t}function Dl(){var t=Bs;return Bs<<=1,(Bs&62914560)===0&&(Bs=4194304),t}function Kr(t){for(var a=[],i=0;31>i;i++)a.push(t);return a}function Yr(t,a){t.pendingLanes|=a,a!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Pl(t,a,i,l,f,p){var w=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var S=t.entanglements,D=t.expirationTimes,z=t.hiddenUpdates;for(i=w&~i;0<i;){var Y=31-Ft(i),ee=1<<Y;S[Y]=0,D[Y]=-1;var H=z[Y];if(H!==null)for(z[Y]=null,Y=0;Y<H.length;Y++){var G=H[Y];G!==null&&(G.lane&=-536870913)}i&=~ee}l!==0&&Cr(t,l,0),p!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=p&~(w&~a))}function Cr(t,a,i){t.pendingLanes|=a,t.suspendedLanes&=~a;var l=31-Ft(a);t.entangledLanes|=a,t.entanglements[l]=t.entanglements[l]|1073741824|i&4194090}function Ml(t,a){var i=t.entangledLanes|=a;for(t=t.entanglements;i;){var l=31-Ft(i),f=1<<l;f&a|t[l]&a&&(t[l]|=a),i&=~f}}function $a(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Gi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ga(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:LT(t.type))}function Hc(t,a){var i=re.p;try{return re.p=t,a()}finally{re.p=i}}var pt=Math.random().toString(36).slice(2),Bt="__reactFiber$"+pt,Ot="__reactProps$"+pt,Qn="__reactContainer$"+pt,Ol="__reactEvents$"+pt,Kp="__reactListeners$"+pt,Wa="__reactHandles$"+pt,$c="__reactResources$"+pt,zs="__reactMarker$"+pt;function Qa(t){delete t[Bt],delete t[Ot],delete t[Ol],delete t[Kp],delete t[Wa]}function Jr(t){var a=t[Bt];if(a)return a;for(var i=t.parentNode;i;){if(a=i[Qn]||i[Bt]){if(i=a.alternate,a.child!==null||i!==null&&i.child!==null)for(t=wT(t);t!==null;){if(i=t[Bt])return i;t=wT(t)}return a}t=i,i=t.parentNode}return null}function _r(t){if(t=t[Bt]||t[Qn]){var a=t.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return t}return null}function Ir(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t.stateNode;throw Error(s(33))}function bn(t){var a=t[$c];return a||(a=t[$c]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ct(t){t[zs]=!0}var Ll=new Set,Wi={};function ur(t,a){Zr(t,a),Zr(t+"Capture",a)}function Zr(t,a){for(Wi[t]=a,t=0;t<a.length;t++)Ll.add(a[t])}var Gc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wc={},qs={};function Qc(t){return tt.call(qs,t)?!0:tt.call(Wc,t)?!1:Gc.test(t)?qs[t]=!0:(Wc[t]=!0,!1)}function Xa(t,a,i){if(Qc(a))if(i===null)t.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(a);return;case"boolean":var l=a.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(a);return}}t.setAttribute(a,""+i)}}function Ar(t,a,i){if(i===null)t.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttribute(a,""+i)}}function rn(t,a,i,l){if(l===null)t.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(a,i,""+l)}}var Hs,Xc;function ea(t){if(Hs===void 0)try{throw Error()}catch(i){var a=i.stack.trim().match(/\n( *(at )?)/);Hs=a&&a[1]||"",Xc=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hs+t+Xc}var Qi=!1;function Xi(t,a){if(!t||Qi)return"";Qi=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(a){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(G){var H=G}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(G){H=G}t.call(ee.prototype)}}else{try{throw Error()}catch(G){H=G}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),w=p[0],S=p[1];if(w&&S){var D=w.split(`
`),z=S.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<z.length&&!z[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===z.length)for(l=D.length-1,f=z.length-1;1<=l&&0<=f&&D[l]!==z[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==z[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==z[f]){var Y=`
`+D[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=f);break}}}finally{Qi=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?ea(i):""}function Vl(t){switch(t.tag){case 26:case 27:case 5:return ea(t.type);case 16:return ea("Lazy");case 13:return ea("Suspense");case 19:return ea("SuspenseList");case 0:case 15:return Xi(t.type,!1);case 11:return Xi(t.type.render,!1);case 1:return Xi(t.type,!0);case 31:return ea("Activity");default:return""}}function Ki(t){try{var a="";do a+=Vl(t),t=t.return;while(t);return a}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function wn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Rl(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Yp(t){var a=Rl(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,a),l=""+t[a];if(!t.hasOwnProperty(a)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var f=i.get,p=i.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return f.call(this)},set:function(w){l=""+w,p.call(this,w)}}),Object.defineProperty(t,a,{enumerable:i.enumerable}),{getValue:function(){return l},setValue:function(w){l=""+w},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function Yi(t){t._valueTracker||(t._valueTracker=Yp(t))}function jl(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var i=a.getValue(),l="";return t&&(l=Rl(t)?t.checked?"true":"false":t.value),t=l,t!==i?(a.setValue(t),!0):!1}function $s(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Jp=/[\n"\\]/g;function Ut(t){return t.replace(Jp,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Ln(t,a,i,l,f,p,w,S){t.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.type=w:t.removeAttribute("type"),a!=null?w==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+wn(a)):t.value!==""+wn(a)&&(t.value=""+wn(a)):w!=="submit"&&w!=="reset"||t.removeAttribute("value"),a!=null?Ka(t,w,wn(a)):i!=null?Ka(t,w,wn(i)):l!=null&&t.removeAttribute("value"),f==null&&p!=null&&(t.defaultChecked=!!p),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+wn(S):t.removeAttribute("name")}function Gs(t,a,i,l,f,p,w,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.type=p),a!=null||i!=null){if(!(p!=="submit"&&p!=="reset"||a!=null))return;i=i!=null?""+wn(i):"",a=a!=null?""+wn(a):i,S||a===t.value||(t.value=a),t.defaultValue=a}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(t.name=w)}function Ka(t,a,i){a==="number"&&$s(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function ta(t,a,i,l){if(t=t.options,a){a={};for(var f=0;f<i.length;f++)a["$"+i[f]]=!0;for(i=0;i<t.length;i++)f=a.hasOwnProperty("$"+t[i].value),t[i].selected!==f&&(t[i].selected=f),f&&l&&(t[i].defaultSelected=!0)}else{for(i=""+wn(i),a=null,f=0;f<t.length;f++){if(t[f].value===i){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}a!==null||t[f].disabled||(a=t[f])}a!==null&&(a.selected=!0)}}function nt(t,a,i){if(a!=null&&(a=""+wn(a),a!==t.value&&(t.value=a),i==null)){t.defaultValue!==a&&(t.defaultValue=a);return}t.defaultValue=i!=null?""+wn(i):""}function Ws(t,a,i,l){if(a==null){if(l!=null){if(i!=null)throw Error(s(92));if(Be(l)){if(1<l.length)throw Error(s(93));l=l[0]}i=l}i==null&&(i=""),a=i}i=wn(a),t.defaultValue=i,l=t.textContent,l===i&&l!==""&&l!==null&&(t.value=l)}function Xn(t,a){if(a){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=a;return}}t.textContent=a}var Qs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kc(t,a,i){var l=a.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?l?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="":l?t.setProperty(a,i):typeof i!="number"||i===0||Qs.has(a)?a==="float"?t.cssFloat=i:t[a]=(""+i).trim():t[a]=i+"px"}function Fl(t,a,i){if(a!=null&&typeof a!="object")throw Error(s(62));if(t=t.style,i!=null){for(var l in i)!i.hasOwnProperty(l)||a!=null&&a.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in a)l=a[f],a.hasOwnProperty(f)&&i[f]!==l&&Kc(t,f,l)}else for(var p in a)a.hasOwnProperty(p)&&Kc(t,p,a[p])}function Bl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),em=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ji(t){return em.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var na=null;function Kn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ra=null,aa=null;function Ul(t){var a=_r(t);if(a&&(t=a.stateNode)){var i=t[Ot]||null;e:switch(t=a.stateNode,a.type){case"input":if(Ln(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),a=i.name,i.type==="radio"&&a!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Ut(""+a)+'"][type="radio"]'),a=0;a<i.length;a++){var l=i[a];if(l!==t&&l.form===t.form){var f=l[Ot]||null;if(!f)throw Error(s(90));Ln(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(a=0;a<i.length;a++)l=i[a],l.form===t.form&&jl(l)}break e;case"textarea":nt(t,i.value,i.defaultValue);break e;case"select":a=i.value,a!=null&&ta(t,!!i.multiple,a,!1)}}}var Nr=!1;function Yc(t,a,i){if(Nr)return t(a,i);Nr=!0;try{var l=t(a);return l}finally{if(Nr=!1,(ra!==null||aa!==null)&&(Hh(),ra&&(a=ra,t=aa,aa=ra=null,Ul(a),t)))for(a=0;a<t.length;a++)Ul(t[a])}}function Xs(t,a){var i=t.stateNode;if(i===null)return null;var l=i[Ot]||null;if(l===null)return null;i=l[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(s(231,a,typeof i));return i}var cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yn=!1;if(cr)try{var Ks={};Object.defineProperty(Ks,"passive",{get:function(){Yn=!0}}),window.addEventListener("test",Ks,Ks),window.removeEventListener("test",Ks,Ks)}catch{Yn=!1}var Dr=null,Ya=null,sa=null;function zl(){if(sa)return sa;var t,a=Ya,i=a.length,l,f="value"in Dr?Dr.value:Dr.textContent,p=f.length;for(t=0;t<i&&a[t]===f[t];t++);var w=i-t;for(l=1;l<=w&&a[i-l]===f[p-l];l++);return sa=f.slice(t,1<l?1-l:void 0)}function Pr(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function Mr(){return!0}function ql(){return!1}function Wt(t){function a(i,l,f,p,w){this._reactName=i,this._targetInst=f,this.type=l,this.nativeEvent=p,this.target=w,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(i=t[S],this[S]=i?i(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Mr:ql,this.isPropagationStopped=ql,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Mr)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Mr)},persist:function(){},isPersistent:Mr}),a}var Je={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zi=Wt(Je),Ys=v({},Je,{view:0,detail:0}),Jc=Wt(Ys),eo,to,Or,Js=v({},Ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ti,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Or&&(Or&&t.type==="mousemove"?(eo=t.screenX-Or.screenX,to=t.screenY-Or.screenY):to=eo=0,Or=t),eo)},movementY:function(t){return"movementY"in t?t.movementY:to}}),Jn=Wt(Js),Zc=v({},Js,{dataTransfer:0}),tm=Wt(Zc),Zs=v({},Ys,{relatedTarget:0}),no=Wt(Zs),Hl=v({},Je,{animationName:0,elapsedTime:0,pseudoElement:0}),ro=Wt(Hl),eh=v({},Je,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ao=Wt(eh),nm=v({},Je,{data:0}),$l=Wt(nm),ei={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},th={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gl(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=nh[t])?!!a[t]:!1}function ti(){return Gl}var rh=v({},Ys,{key:function(t){if(t.key){var a=ei[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=Pr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?th[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ti,charCode:function(t){return t.type==="keypress"?Pr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),so=Wt(rh),ah=v({},Js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wl=Wt(ah),ia=v({},Ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ti}),sh=Wt(ia),ih=v({},Je,{propertyName:0,elapsedTime:0,pseudoElement:0}),oh=Wt(ih),lh=v({},Js,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),io=Wt(lh),En=v({},Je,{newState:0,oldState:0}),uh=Wt(En),ch=[9,13,27,32],Lr=cr&&"CompositionEvent"in window,c=null;cr&&"documentMode"in document&&(c=document.documentMode);var y=cr&&"TextEvent"in window&&!c,b=cr&&(!Lr||c&&8<c&&11>=c),k=" ",B=!1;function W(t,a){switch(t){case"keyup":return ch.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ue(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ge=!1;function zt(t,a){switch(t){case"compositionend":return ue(a);case"keypress":return a.which!==32?null:(B=!0,k);case"textInput":return t=a.data,t===k&&B?null:t;default:return null}}function Xe(t,a){if(Ge)return t==="compositionend"||!Lr&&W(t,a)?(t=zl(),sa=Ya=Dr=null,Ge=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return b&&a.locale!=="ko"?null:a.data;default:return null}}var Qt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function an(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!Qt[t.type]:a==="textarea"}function oa(t,a,i,l){ra?aa?aa.push(l):aa=[l]:ra=l,a=Kh(a,"onChange"),0<a.length&&(i=new Zi("onChange","change",null,i,l),t.push({event:i,listeners:a}))}var sn=null,Vr=null;function Ql(t){cT(t,0)}function hh(t){var a=Ir(t);if(jl(a))return t}function DE(t,a){if(t==="change")return a}var PE=!1;if(cr){var rm;if(cr){var am="oninput"in document;if(!am){var ME=document.createElement("div");ME.setAttribute("oninput","return;"),am=typeof ME.oninput=="function"}rm=am}else rm=!1;PE=rm&&(!document.documentMode||9<document.documentMode)}function OE(){sn&&(sn.detachEvent("onpropertychange",LE),Vr=sn=null)}function LE(t){if(t.propertyName==="value"&&hh(Vr)){var a=[];oa(a,Vr,t,Kn(t)),Yc(Ql,a)}}function t6(t,a,i){t==="focusin"?(OE(),sn=a,Vr=i,sn.attachEvent("onpropertychange",LE)):t==="focusout"&&OE()}function n6(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hh(Vr)}function r6(t,a){if(t==="click")return hh(a)}function a6(t,a){if(t==="input"||t==="change")return hh(a)}function s6(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var Vn=typeof Object.is=="function"?Object.is:s6;function Xl(t,a){if(Vn(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var i=Object.keys(t),l=Object.keys(a);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var f=i[l];if(!tt.call(a,f)||!Vn(t[f],a[f]))return!1}return!0}function VE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function RE(t,a){var i=VE(t);t=0;for(var l;i;){if(i.nodeType===3){if(l=t+i.textContent.length,t<=a&&l>=a)return{node:i,offset:a-t};t=l}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=VE(i)}}function jE(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?jE(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function FE(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var a=$s(t.document);a instanceof t.HTMLIFrameElement;){try{var i=typeof a.contentWindow.location.href=="string"}catch{i=!1}if(i)t=a.contentWindow;else break;a=$s(t.document)}return a}function sm(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}var i6=cr&&"documentMode"in document&&11>=document.documentMode,oo=null,im=null,Kl=null,om=!1;function BE(t,a,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;om||oo==null||oo!==$s(l)||(l=oo,"selectionStart"in l&&sm(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Kl&&Xl(Kl,l)||(Kl=l,l=Kh(im,"onSelect"),0<l.length&&(a=new Zi("onSelect","select",null,a,i),t.push({event:a,listeners:l}),a.target=oo)))}function ni(t,a){var i={};return i[t.toLowerCase()]=a.toLowerCase(),i["Webkit"+t]="webkit"+a,i["Moz"+t]="moz"+a,i}var lo={animationend:ni("Animation","AnimationEnd"),animationiteration:ni("Animation","AnimationIteration"),animationstart:ni("Animation","AnimationStart"),transitionrun:ni("Transition","TransitionRun"),transitionstart:ni("Transition","TransitionStart"),transitioncancel:ni("Transition","TransitionCancel"),transitionend:ni("Transition","TransitionEnd")},lm={},UE={};cr&&(UE=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function ri(t){if(lm[t])return lm[t];if(!lo[t])return t;var a=lo[t],i;for(i in a)if(a.hasOwnProperty(i)&&i in UE)return lm[t]=a[i];return t}var zE=ri("animationend"),qE=ri("animationiteration"),HE=ri("animationstart"),o6=ri("transitionrun"),l6=ri("transitionstart"),u6=ri("transitioncancel"),$E=ri("transitionend"),GE=new Map,um="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");um.push("scrollEnd");function hr(t,a){GE.set(t,a),ur(a,[t])}var WE=new WeakMap;function Zn(t,a){if(typeof t=="object"&&t!==null){var i=WE.get(t);return i!==void 0?i:(a={value:t,source:a,stack:Ki(a)},WE.set(t,a),a)}return{value:t,source:a,stack:Ki(a)}}var er=[],uo=0,cm=0;function fh(){for(var t=uo,a=cm=uo=0;a<t;){var i=er[a];er[a++]=null;var l=er[a];er[a++]=null;var f=er[a];er[a++]=null;var p=er[a];if(er[a++]=null,l!==null&&f!==null){var w=l.pending;w===null?f.next=f:(f.next=w.next,w.next=f),l.pending=f}p!==0&&QE(i,f,p)}}function dh(t,a,i,l){er[uo++]=t,er[uo++]=a,er[uo++]=i,er[uo++]=l,cm|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function hm(t,a,i,l){return dh(t,a,i,l),ph(t)}function co(t,a){return dh(t,null,null,a),ph(t)}function QE(t,a,i){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i);for(var f=!1,p=t.return;p!==null;)p.childLanes|=i,l=p.alternate,l!==null&&(l.childLanes|=i),p.tag===22&&(t=p.stateNode,t===null||t._visibility&1||(f=!0)),t=p,p=p.return;return t.tag===3?(p=t.stateNode,f&&a!==null&&(f=31-Ft(i),t=p.hiddenUpdates,l=t[f],l===null?t[f]=[a]:l.push(a),a.lane=i|536870912),p):null}function ph(t){if(50<Eu)throw Eu=0,yg=null,Error(s(185));for(var a=t.return;a!==null;)t=a,a=t.return;return t.tag===3?t.stateNode:null}var ho={};function c6(t,a,i,l){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(t,a,i,l){return new c6(t,a,i,l)}function fm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function la(t,a){var i=t.alternate;return i===null?(i=Rn(t.tag,a,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=a,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,a=t.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function XE(t,a){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=a,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,a=i.dependencies,t.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),t}function mh(t,a,i,l,f,p){var w=0;if(l=t,typeof t=="function")fm(t)&&(w=1);else if(typeof t=="string")w=f3(t,i,ie.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case A:return t=Rn(31,i,a,f),t.elementType=A,t.lanes=p,t;case j:return ai(i.children,f,p,a);case q:w=8,f|=24;break;case F:return t=Rn(12,i,a,f|2),t.elementType=F,t.lanes=p,t;case le:return t=Rn(13,i,a,f),t.elementType=le,t.lanes=p,t;case ye:return t=Rn(19,i,a,f),t.elementType=ye,t.lanes=p,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case X:case se:w=10;break e;case te:w=9;break e;case pe:w=11;break e;case M:w=14;break e;case _:w=16,l=null;break e}w=29,i=Error(s(130,t===null?"null":typeof t,"")),l=null}return a=Rn(w,i,a,f),a.elementType=t,a.type=l,a.lanes=p,a}function ai(t,a,i,l){return t=Rn(7,t,l,a),t.lanes=i,t}function dm(t,a,i){return t=Rn(6,t,null,a),t.lanes=i,t}function pm(t,a,i){return a=Rn(4,t.children!==null?t.children:[],t.key,a),a.lanes=i,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}var fo=[],po=0,gh=null,yh=0,tr=[],nr=0,si=null,ua=1,ca="";function ii(t,a){fo[po++]=yh,fo[po++]=gh,gh=t,yh=a}function KE(t,a,i){tr[nr++]=ua,tr[nr++]=ca,tr[nr++]=si,si=t;var l=ua;t=ca;var f=32-Ft(l)-1;l&=~(1<<f),i+=1;var p=32-Ft(a)+f;if(30<p){var w=f-f%5;p=(l&(1<<w)-1).toString(32),l>>=w,f-=w,ua=1<<32-Ft(a)+f|i<<f|l,ca=p+t}else ua=1<<p|i<<f|l,ca=t}function mm(t){t.return!==null&&(ii(t,1),KE(t,1,0))}function gm(t){for(;t===gh;)gh=fo[--po],fo[po]=null,yh=fo[--po],fo[po]=null;for(;t===si;)si=tr[--nr],tr[nr]=null,ca=tr[--nr],tr[nr]=null,ua=tr[--nr],tr[nr]=null}var Sn=null,Et=null,Ke=!1,oi=null,Rr=!1,ym=Error(s(519));function li(t){var a=Error(s(418,""));throw Zl(Zn(a,t)),ym}function YE(t){var a=t.stateNode,i=t.type,l=t.memoizedProps;switch(a[Bt]=t,a[Ot]=l,i){case"dialog":je("cancel",a),je("close",a);break;case"iframe":case"object":case"embed":je("load",a);break;case"video":case"audio":for(i=0;i<xu.length;i++)je(xu[i],a);break;case"source":je("error",a);break;case"img":case"image":case"link":je("error",a),je("load",a);break;case"details":je("toggle",a);break;case"input":je("invalid",a),Gs(a,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Yi(a);break;case"select":je("invalid",a);break;case"textarea":je("invalid",a),Ws(a,l.value,l.defaultValue,l.children),Yi(a)}i=l.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||a.textContent===""+i||l.suppressHydrationWarning===!0||pT(a.textContent,i)?(l.popover!=null&&(je("beforetoggle",a),je("toggle",a)),l.onScroll!=null&&je("scroll",a),l.onScrollEnd!=null&&je("scrollend",a),l.onClick!=null&&(a.onclick=Yh),a=!0):a=!1,a||li(t)}function JE(t){for(Sn=t.return;Sn;)switch(Sn.tag){case 5:case 13:Rr=!1;return;case 27:case 3:Rr=!0;return;default:Sn=Sn.return}}function Yl(t){if(t!==Sn)return!1;if(!Ke)return JE(t),Ke=!0,!1;var a=t.tag,i;if((i=a!==3&&a!==27)&&((i=a===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||Mg(t.type,t.memoizedProps)),i=!i),i&&Et&&li(t),JE(t),a===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,a=0;t;){if(t.nodeType===8)if(i=t.data,i==="/$"){if(a===0){Et=dr(t.nextSibling);break e}a--}else i!=="$"&&i!=="$!"&&i!=="$?"||a++;t=t.nextSibling}Et=null}}else a===27?(a=Et,ds(t.type)?(t=Rg,Rg=null,Et=t):Et=a):Et=Sn?dr(t.stateNode.nextSibling):null;return!0}function Jl(){Et=Sn=null,Ke=!1}function ZE(){var t=oi;return t!==null&&(An===null?An=t:An.push.apply(An,t),oi=null),t}function Zl(t){oi===null?oi=[t]:oi.push(t)}var vm=C(null),ui=null,ha=null;function Ja(t,a,i){Q(vm,a._currentValue),a._currentValue=i}function fa(t){t._currentValue=vm.current,K(vm)}function bm(t,a,i){for(;t!==null;){var l=t.alternate;if((t.childLanes&a)!==a?(t.childLanes|=a,l!==null&&(l.childLanes|=a)):l!==null&&(l.childLanes&a)!==a&&(l.childLanes|=a),t===i)break;t=t.return}}function wm(t,a,i,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var p=f.dependencies;if(p!==null){var w=f.child;p=p.firstContext;e:for(;p!==null;){var S=p;p=f;for(var D=0;D<a.length;D++)if(S.context===a[D]){p.lanes|=i,S=p.alternate,S!==null&&(S.lanes|=i),bm(p.return,i,t),l||(w=null);break e}p=S.next}}else if(f.tag===18){if(w=f.return,w===null)throw Error(s(341));w.lanes|=i,p=w.alternate,p!==null&&(p.lanes|=i),bm(w,i,t),w=null}else w=f.child;if(w!==null)w.return=f;else for(w=f;w!==null;){if(w===t){w=null;break}if(f=w.sibling,f!==null){f.return=w.return,w=f;break}w=w.return}f=w}}function eu(t,a,i,l){t=null;for(var f=a,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var w=f.alternate;if(w===null)throw Error(s(387));if(w=w.memoizedProps,w!==null){var S=f.type;Vn(f.pendingProps.value,w.value)||(t!==null?t.push(S):t=[S])}}else if(f===me.current){if(w=f.alternate,w===null)throw Error(s(387));w.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Au):t=[Au])}f=f.return}t!==null&&wm(a,t,i,l),a.flags|=262144}function vh(t){for(t=t.firstContext;t!==null;){if(!Vn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ci(t){ui=t,ha=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function gn(t){return eS(ui,t)}function bh(t,a){return ui===null&&ci(t),eS(t,a)}function eS(t,a){var i=a._currentValue;if(a={context:a,memoizedValue:i,next:null},ha===null){if(t===null)throw Error(s(308));ha=a,t.dependencies={lanes:0,firstContext:a},t.flags|=524288}else ha=ha.next=a;return i}var h6=typeof AbortController<"u"?AbortController:function(){var t=[],a=this.signal={aborted:!1,addEventListener:function(i,l){t.push(l)}};this.abort=function(){a.aborted=!0,t.forEach(function(i){return i()})}},f6=n.unstable_scheduleCallback,d6=n.unstable_NormalPriority,qt={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Em(){return{controller:new h6,data:new Map,refCount:0}}function tu(t){t.refCount--,t.refCount===0&&f6(d6,function(){t.controller.abort()})}var nu=null,Sm=0,mo=0,go=null;function p6(t,a){if(nu===null){var i=nu=[];Sm=0,mo=Tg(),go={status:"pending",value:void 0,then:function(l){i.push(l)}}}return Sm++,a.then(tS,tS),a}function tS(){if(--Sm===0&&nu!==null){go!==null&&(go.status="fulfilled");var t=nu;nu=null,mo=0,go=null;for(var a=0;a<t.length;a++)(0,t[a])()}}function m6(t,a){var i=[],l={status:"pending",value:null,reason:null,then:function(f){i.push(f)}};return t.then(function(){l.status="fulfilled",l.value=a;for(var f=0;f<i.length;f++)(0,i[f])(a)},function(f){for(l.status="rejected",l.reason=f,f=0;f<i.length;f++)(0,i[f])(void 0)}),l}var nS=$.S;$.S=function(t,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&p6(t,a),nS!==null&&nS(t,a)};var hi=C(null);function xm(){var t=hi.current;return t!==null?t:lt.pooledCache}function wh(t,a){a===null?Q(hi,hi.current):Q(hi,a.pool)}function rS(){var t=xm();return t===null?null:{parent:qt._currentValue,pool:t}}var ru=Error(s(460)),aS=Error(s(474)),Eh=Error(s(542)),Tm={then:function(){}};function sS(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Sh(){}function iS(t,a,i){switch(i=t[i],i===void 0?t.push(a):i!==a&&(a.then(Sh,Sh),a=i),a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,lS(t),t;default:if(typeof a.status=="string")a.then(Sh,Sh);else{if(t=lt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=a,t.status="pending",t.then(function(l){if(a.status==="pending"){var f=a;f.status="fulfilled",f.value=l}},function(l){if(a.status==="pending"){var f=a;f.status="rejected",f.reason=l}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,lS(t),t}throw au=a,ru}}var au=null;function oS(){if(au===null)throw Error(s(459));var t=au;return au=null,t}function lS(t){if(t===ru||t===Eh)throw Error(s(483))}var Za=!1;function km(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cm(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function es(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ts(t,a,i){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ze&2)!==0){var f=l.pending;return f===null?a.next=a:(a.next=f.next,f.next=a),l.pending=a,a=ph(t),QE(t,null,i),a}return dh(t,l,a,i),ph(t)}function su(t,a,i){if(a=a.updateQueue,a!==null&&(a=a.shared,(i&4194048)!==0)){var l=a.lanes;l&=t.pendingLanes,i|=l,a.lanes=i,Ml(t,i)}}function _m(t,a){var i=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var f=null,p=null;if(i=i.firstBaseUpdate,i!==null){do{var w={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};p===null?f=p=w:p=p.next=w,i=i.next}while(i!==null);p===null?f=p=a:p=p.next=a}else f=p=a;i={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=a:t.next=a,i.lastBaseUpdate=a}var Im=!1;function iu(){if(Im){var t=go;if(t!==null)throw t}}function ou(t,a,i,l){Im=!1;var f=t.updateQueue;Za=!1;var p=f.firstBaseUpdate,w=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var D=S,z=D.next;D.next=null,w===null?p=z:w.next=z,w=D;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,S=Y.lastBaseUpdate,S!==w&&(S===null?Y.firstBaseUpdate=z:S.next=z,Y.lastBaseUpdate=D))}if(p!==null){var ee=f.baseState;w=0,Y=z=D=null,S=p;do{var H=S.lane&-536870913,G=H!==S.lane;if(G?(qe&H)===H:(l&H)===H){H!==0&&H===mo&&(Im=!0),Y!==null&&(Y=Y.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Ce=t,Se=S;H=a;var st=i;switch(Se.tag){case 1:if(Ce=Se.payload,typeof Ce=="function"){ee=Ce.call(st,ee,H);break e}ee=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Se.payload,H=typeof Ce=="function"?Ce.call(st,ee,H):Ce,H==null)break e;ee=v({},ee,H);break e;case 2:Za=!0}}H=S.callback,H!==null&&(t.flags|=64,G&&(t.flags|=8192),G=f.callbacks,G===null?f.callbacks=[H]:G.push(H))}else G={lane:H,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Y===null?(z=Y=G,D=ee):Y=Y.next=G,w|=H;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;G=S,S=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);Y===null&&(D=ee),f.baseState=D,f.firstBaseUpdate=z,f.lastBaseUpdate=Y,p===null&&(f.shared.lanes=0),us|=w,t.lanes=w,t.memoizedState=ee}}function uS(t,a){if(typeof t!="function")throw Error(s(191,t));t.call(a)}function cS(t,a){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)uS(i[t],a)}var yo=C(null),xh=C(0);function hS(t,a){t=wa,Q(xh,t),Q(yo,a),wa=t|a.baseLanes}function Am(){Q(xh,wa),Q(yo,yo.current)}function Nm(){wa=xh.current,K(yo),K(xh)}var ns=0,Oe=null,rt=null,Lt=null,Th=!1,vo=!1,fi=!1,kh=0,lu=0,bo=null,g6=0;function _t(){throw Error(s(321))}function Dm(t,a){if(a===null)return!1;for(var i=0;i<a.length&&i<t.length;i++)if(!Vn(t[i],a[i]))return!1;return!0}function Pm(t,a,i,l,f,p){return ns=p,Oe=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,$.H=t===null||t.memoizedState===null?QS:XS,fi=!1,p=i(l,f),fi=!1,vo&&(p=dS(a,i,l,f)),fS(t),p}function fS(t){$.H=Dh;var a=rt!==null&&rt.next!==null;if(ns=0,Lt=rt=Oe=null,Th=!1,lu=0,bo=null,a)throw Error(s(300));t===null||Xt||(t=t.dependencies,t!==null&&vh(t)&&(Xt=!0))}function dS(t,a,i,l){Oe=t;var f=0;do{if(vo&&(bo=null),lu=0,vo=!1,25<=f)throw Error(s(301));if(f+=1,Lt=rt=null,t.updateQueue!=null){var p=t.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}$.H=x6,p=a(i,l)}while(vo);return p}function y6(){var t=$.H,a=t.useState()[0];return a=typeof a.then=="function"?uu(a):a,t=t.useState()[0],(rt!==null?rt.memoizedState:null)!==t&&(Oe.flags|=1024),a}function Mm(){var t=kh!==0;return kh=0,t}function Om(t,a,i){a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~i}function Lm(t){if(Th){for(t=t.memoizedState;t!==null;){var a=t.queue;a!==null&&(a.pending=null),t=t.next}Th=!1}ns=0,Lt=rt=Oe=null,vo=!1,lu=kh=0,bo=null}function _n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?Oe.memoizedState=Lt=t:Lt=Lt.next=t,Lt}function Vt(){if(rt===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=rt.next;var a=Lt===null?Oe.memoizedState:Lt.next;if(a!==null)Lt=a,rt=t;else{if(t===null)throw Oe.alternate===null?Error(s(467)):Error(s(310));rt=t,t={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},Lt===null?Oe.memoizedState=Lt=t:Lt=Lt.next=t}return Lt}function Vm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function uu(t){var a=lu;return lu+=1,bo===null&&(bo=[]),t=iS(bo,t,a),a=Oe,(Lt===null?a.memoizedState:Lt.next)===null&&(a=a.alternate,$.H=a===null||a.memoizedState===null?QS:XS),t}function Ch(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return uu(t);if(t.$$typeof===se)return gn(t)}throw Error(s(438,String(t)))}function Rm(t){var a=null,i=Oe.updateQueue;if(i!==null&&(a=i.memoCache),a==null){var l=Oe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(a={data:l.data.map(function(f){return f.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),i===null&&(i=Vm(),Oe.updateQueue=i),i.memoCache=a,i=a.data[a.index],i===void 0)for(i=a.data[a.index]=Array(t),l=0;l<t;l++)i[l]=P;return a.index++,i}function da(t,a){return typeof a=="function"?a(t):a}function _h(t){var a=Vt();return jm(a,rt,t)}function jm(t,a,i){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=i;var f=t.baseQueue,p=l.pending;if(p!==null){if(f!==null){var w=f.next;f.next=p.next,p.next=w}a.baseQueue=f=p,l.pending=null}if(p=t.baseState,f===null)t.memoizedState=p;else{a=f.next;var S=w=null,D=null,z=a,Y=!1;do{var ee=z.lane&-536870913;if(ee!==z.lane?(qe&ee)===ee:(ns&ee)===ee){var H=z.revertLane;if(H===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),ee===mo&&(Y=!0);else if((ns&H)===H){z=z.next,H===mo&&(Y=!0);continue}else ee={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},D===null?(S=D=ee,w=p):D=D.next=ee,Oe.lanes|=H,us|=H;ee=z.action,fi&&i(p,ee),p=z.hasEagerState?z.eagerState:i(p,ee)}else H={lane:ee,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},D===null?(S=D=H,w=p):D=D.next=H,Oe.lanes|=ee,us|=ee;z=z.next}while(z!==null&&z!==a);if(D===null?w=p:D.next=S,!Vn(p,t.memoizedState)&&(Xt=!0,Y&&(i=go,i!==null)))throw i;t.memoizedState=p,t.baseState=w,t.baseQueue=D,l.lastRenderedState=p}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Fm(t){var a=Vt(),i=a.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=t;var l=i.dispatch,f=i.pending,p=a.memoizedState;if(f!==null){i.pending=null;var w=f=f.next;do p=t(p,w.action),w=w.next;while(w!==f);Vn(p,a.memoizedState)||(Xt=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),i.lastRenderedState=p}return[p,l]}function pS(t,a,i){var l=Oe,f=Vt(),p=Ke;if(p){if(i===void 0)throw Error(s(407));i=i()}else i=a();var w=!Vn((rt||f).memoizedState,i);w&&(f.memoizedState=i,Xt=!0),f=f.queue;var S=yS.bind(null,l,f,t);if(cu(2048,8,S,[t]),f.getSnapshot!==a||w||Lt!==null&&Lt.memoizedState.tag&1){if(l.flags|=2048,wo(9,Ih(),gS.bind(null,l,f,i,a),null),lt===null)throw Error(s(349));p||(ns&124)!==0||mS(l,a,i)}return i}function mS(t,a,i){t.flags|=16384,t={getSnapshot:a,value:i},a=Oe.updateQueue,a===null?(a=Vm(),Oe.updateQueue=a,a.stores=[t]):(i=a.stores,i===null?a.stores=[t]:i.push(t))}function gS(t,a,i,l){a.value=i,a.getSnapshot=l,vS(a)&&bS(t)}function yS(t,a,i){return i(function(){vS(a)&&bS(t)})}function vS(t){var a=t.getSnapshot;t=t.value;try{var i=a();return!Vn(t,i)}catch{return!0}}function bS(t){var a=co(t,2);a!==null&&zn(a,t,2)}function Bm(t){var a=_n();if(typeof t=="function"){var i=t;if(t=i(),fi){vn(!0);try{i()}finally{vn(!1)}}}return a.memoizedState=a.baseState=t,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:t},a}function wS(t,a,i,l){return t.baseState=i,jm(t,rt,typeof l=="function"?l:da)}function v6(t,a,i,l,f){if(Nh(t))throw Error(s(485));if(t=a.action,t!==null){var p={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){p.listeners.push(w)}};$.T!==null?i(!0):p.isTransition=!1,l(p),i=a.pending,i===null?(p.next=a.pending=p,ES(a,p)):(p.next=i.next,a.pending=i.next=p)}}function ES(t,a){var i=a.action,l=a.payload,f=t.state;if(a.isTransition){var p=$.T,w={};$.T=w;try{var S=i(f,l),D=$.S;D!==null&&D(w,S),SS(t,a,S)}catch(z){Um(t,a,z)}finally{$.T=p}}else try{p=i(f,l),SS(t,a,p)}catch(z){Um(t,a,z)}}function SS(t,a,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(l){xS(t,a,l)},function(l){return Um(t,a,l)}):xS(t,a,i)}function xS(t,a,i){a.status="fulfilled",a.value=i,TS(a),t.state=i,a=t.pending,a!==null&&(i=a.next,i===a?t.pending=null:(i=i.next,a.next=i,ES(t,i)))}function Um(t,a,i){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do a.status="rejected",a.reason=i,TS(a),a=a.next;while(a!==l)}t.action=null}function TS(t){t=t.listeners;for(var a=0;a<t.length;a++)(0,t[a])()}function kS(t,a){return a}function CS(t,a){if(Ke){var i=lt.formState;if(i!==null){e:{var l=Oe;if(Ke){if(Et){t:{for(var f=Et,p=Rr;f.nodeType!==8;){if(!p){f=null;break t}if(f=dr(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){Et=dr(f.nextSibling),l=f.data==="F!";break e}}li(l)}l=!1}l&&(a=i[0])}}return i=_n(),i.memoizedState=i.baseState=a,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kS,lastRenderedState:a},i.queue=l,i=$S.bind(null,Oe,l),l.dispatch=i,l=Bm(!1),p=Gm.bind(null,Oe,!1,l.queue),l=_n(),f={state:a,dispatch:null,action:t,pending:null},l.queue=f,i=v6.bind(null,Oe,f,p,i),f.dispatch=i,l.memoizedState=t,[a,i,!1]}function _S(t){var a=Vt();return IS(a,rt,t)}function IS(t,a,i){if(a=jm(t,a,kS)[0],t=_h(da)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var l=uu(a)}catch(w){throw w===ru?Eh:w}else l=a;a=Vt();var f=a.queue,p=f.dispatch;return i!==a.memoizedState&&(Oe.flags|=2048,wo(9,Ih(),b6.bind(null,f,i),null)),[l,p,t]}function b6(t,a){t.action=a}function AS(t){var a=Vt(),i=rt;if(i!==null)return IS(a,i,t);Vt(),a=a.memoizedState,i=Vt();var l=i.queue.dispatch;return i.memoizedState=t,[a,l,!1]}function wo(t,a,i,l){return t={tag:t,create:i,deps:l,inst:a,next:null},a=Oe.updateQueue,a===null&&(a=Vm(),Oe.updateQueue=a),i=a.lastEffect,i===null?a.lastEffect=t.next=t:(l=i.next,i.next=t,t.next=l,a.lastEffect=t),t}function Ih(){return{destroy:void 0,resource:void 0}}function NS(){return Vt().memoizedState}function Ah(t,a,i,l){var f=_n();l=l===void 0?null:l,Oe.flags|=t,f.memoizedState=wo(1|a,Ih(),i,l)}function cu(t,a,i,l){var f=Vt();l=l===void 0?null:l;var p=f.memoizedState.inst;rt!==null&&l!==null&&Dm(l,rt.memoizedState.deps)?f.memoizedState=wo(a,p,i,l):(Oe.flags|=t,f.memoizedState=wo(1|a,p,i,l))}function DS(t,a){Ah(8390656,8,t,a)}function PS(t,a){cu(2048,8,t,a)}function MS(t,a){return cu(4,2,t,a)}function OS(t,a){return cu(4,4,t,a)}function LS(t,a){if(typeof a=="function"){t=t();var i=a(t);return function(){typeof i=="function"?i():a(null)}}if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function VS(t,a,i){i=i!=null?i.concat([t]):null,cu(4,4,LS.bind(null,a,t),i)}function zm(){}function RS(t,a){var i=Vt();a=a===void 0?null:a;var l=i.memoizedState;return a!==null&&Dm(a,l[1])?l[0]:(i.memoizedState=[t,a],t)}function jS(t,a){var i=Vt();a=a===void 0?null:a;var l=i.memoizedState;if(a!==null&&Dm(a,l[1]))return l[0];if(l=t(),fi){vn(!0);try{t()}finally{vn(!1)}}return i.memoizedState=[l,a],l}function qm(t,a,i){return i===void 0||(ns&1073741824)!==0?t.memoizedState=a:(t.memoizedState=i,t=Ux(),Oe.lanes|=t,us|=t,i)}function FS(t,a,i,l){return Vn(i,a)?i:yo.current!==null?(t=qm(t,i,l),Vn(t,a)||(Xt=!0),t):(ns&42)===0?(Xt=!0,t.memoizedState=i):(t=Ux(),Oe.lanes|=t,us|=t,a)}function BS(t,a,i,l,f){var p=re.p;re.p=p!==0&&8>p?p:8;var w=$.T,S={};$.T=S,Gm(t,!1,a,i);try{var D=f(),z=$.S;if(z!==null&&z(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Y=m6(D,l);hu(t,a,Y,Un(t))}else hu(t,a,l,Un(t))}catch(ee){hu(t,a,{then:function(){},status:"rejected",reason:ee},Un())}finally{re.p=p,$.T=w}}function w6(){}function Hm(t,a,i,l){if(t.tag!==5)throw Error(s(476));var f=US(t).queue;BS(t,f,a,fe,i===null?w6:function(){return zS(t),i(l)})}function US(t){var a=t.memoizedState;if(a!==null)return a;a={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:fe},next:null};var i={};return a.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:i},next:null},t.memoizedState=a,t=t.alternate,t!==null&&(t.memoizedState=a),a}function zS(t){var a=US(t).next.queue;hu(t,a,{},Un())}function $m(){return gn(Au)}function qS(){return Vt().memoizedState}function HS(){return Vt().memoizedState}function E6(t){for(var a=t.return;a!==null;){switch(a.tag){case 24:case 3:var i=Un();t=es(i);var l=ts(a,t,i);l!==null&&(zn(l,a,i),su(l,a,i)),a={cache:Em()},t.payload=a;return}a=a.return}}function S6(t,a,i){var l=Un();i={lane:l,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},Nh(t)?GS(a,i):(i=hm(t,a,i,l),i!==null&&(zn(i,t,l),WS(i,a,l)))}function $S(t,a,i){var l=Un();hu(t,a,i,l)}function hu(t,a,i,l){var f={lane:l,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(Nh(t))GS(a,f);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var w=a.lastRenderedState,S=p(w,i);if(f.hasEagerState=!0,f.eagerState=S,Vn(S,w))return dh(t,a,f,0),lt===null&&fh(),!1}catch{}finally{}if(i=hm(t,a,f,l),i!==null)return zn(i,t,l),WS(i,a,l),!0}return!1}function Gm(t,a,i,l){if(l={lane:2,revertLane:Tg(),action:l,hasEagerState:!1,eagerState:null,next:null},Nh(t)){if(a)throw Error(s(479))}else a=hm(t,i,l,2),a!==null&&zn(a,t,2)}function Nh(t){var a=t.alternate;return t===Oe||a!==null&&a===Oe}function GS(t,a){vo=Th=!0;var i=t.pending;i===null?a.next=a:(a.next=i.next,i.next=a),t.pending=a}function WS(t,a,i){if((i&4194048)!==0){var l=a.lanes;l&=t.pendingLanes,i|=l,a.lanes=i,Ml(t,i)}}var Dh={readContext:gn,use:Ch,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t},QS={readContext:gn,use:Ch,useCallback:function(t,a){return _n().memoizedState=[t,a===void 0?null:a],t},useContext:gn,useEffect:DS,useImperativeHandle:function(t,a,i){i=i!=null?i.concat([t]):null,Ah(4194308,4,LS.bind(null,a,t),i)},useLayoutEffect:function(t,a){return Ah(4194308,4,t,a)},useInsertionEffect:function(t,a){Ah(4,2,t,a)},useMemo:function(t,a){var i=_n();a=a===void 0?null:a;var l=t();if(fi){vn(!0);try{t()}finally{vn(!1)}}return i.memoizedState=[l,a],l},useReducer:function(t,a,i){var l=_n();if(i!==void 0){var f=i(a);if(fi){vn(!0);try{i(a)}finally{vn(!1)}}}else f=a;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=S6.bind(null,Oe,t),[l.memoizedState,t]},useRef:function(t){var a=_n();return t={current:t},a.memoizedState=t},useState:function(t){t=Bm(t);var a=t.queue,i=$S.bind(null,Oe,a);return a.dispatch=i,[t.memoizedState,i]},useDebugValue:zm,useDeferredValue:function(t,a){var i=_n();return qm(i,t,a)},useTransition:function(){var t=Bm(!1);return t=BS.bind(null,Oe,t.queue,!0,!1),_n().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,a,i){var l=Oe,f=_n();if(Ke){if(i===void 0)throw Error(s(407));i=i()}else{if(i=a(),lt===null)throw Error(s(349));(qe&124)!==0||mS(l,a,i)}f.memoizedState=i;var p={value:i,getSnapshot:a};return f.queue=p,DS(yS.bind(null,l,p,t),[t]),l.flags|=2048,wo(9,Ih(),gS.bind(null,l,p,i,a),null),i},useId:function(){var t=_n(),a=lt.identifierPrefix;if(Ke){var i=ca,l=ua;i=(l&~(1<<32-Ft(l)-1)).toString(32)+i,a="«"+a+"R"+i,i=kh++,0<i&&(a+="H"+i.toString(32)),a+="»"}else i=g6++,a="«"+a+"r"+i.toString(32)+"»";return t.memoizedState=a},useHostTransitionStatus:$m,useFormState:CS,useActionState:CS,useOptimistic:function(t){var a=_n();a.memoizedState=a.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=i,a=Gm.bind(null,Oe,!0,i),i.dispatch=a,[t,a]},useMemoCache:Rm,useCacheRefresh:function(){return _n().memoizedState=E6.bind(null,Oe)}},XS={readContext:gn,use:Ch,useCallback:RS,useContext:gn,useEffect:PS,useImperativeHandle:VS,useInsertionEffect:MS,useLayoutEffect:OS,useMemo:jS,useReducer:_h,useRef:NS,useState:function(){return _h(da)},useDebugValue:zm,useDeferredValue:function(t,a){var i=Vt();return FS(i,rt.memoizedState,t,a)},useTransition:function(){var t=_h(da)[0],a=Vt().memoizedState;return[typeof t=="boolean"?t:uu(t),a]},useSyncExternalStore:pS,useId:qS,useHostTransitionStatus:$m,useFormState:_S,useActionState:_S,useOptimistic:function(t,a){var i=Vt();return wS(i,rt,t,a)},useMemoCache:Rm,useCacheRefresh:HS},x6={readContext:gn,use:Ch,useCallback:RS,useContext:gn,useEffect:PS,useImperativeHandle:VS,useInsertionEffect:MS,useLayoutEffect:OS,useMemo:jS,useReducer:Fm,useRef:NS,useState:function(){return Fm(da)},useDebugValue:zm,useDeferredValue:function(t,a){var i=Vt();return rt===null?qm(i,t,a):FS(i,rt.memoizedState,t,a)},useTransition:function(){var t=Fm(da)[0],a=Vt().memoizedState;return[typeof t=="boolean"?t:uu(t),a]},useSyncExternalStore:pS,useId:qS,useHostTransitionStatus:$m,useFormState:AS,useActionState:AS,useOptimistic:function(t,a){var i=Vt();return rt!==null?wS(i,rt,t,a):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:Rm,useCacheRefresh:HS},Eo=null,fu=0;function Ph(t){var a=fu;return fu+=1,Eo===null&&(Eo=[]),iS(Eo,t,a)}function du(t,a){a=a.props.ref,t.ref=a!==void 0?a:null}function Mh(t,a){throw a.$$typeof===E?Error(s(525)):(t=Object.prototype.toString.call(a),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t)))}function KS(t){var a=t._init;return a(t._payload)}function YS(t){function a(R,L){if(t){var U=R.deletions;U===null?(R.deletions=[L],R.flags|=16):U.push(L)}}function i(R,L){if(!t)return null;for(;L!==null;)a(R,L),L=L.sibling;return null}function l(R){for(var L=new Map;R!==null;)R.key!==null?L.set(R.key,R):L.set(R.index,R),R=R.sibling;return L}function f(R,L){return R=la(R,L),R.index=0,R.sibling=null,R}function p(R,L,U){return R.index=U,t?(U=R.alternate,U!==null?(U=U.index,U<L?(R.flags|=67108866,L):U):(R.flags|=67108866,L)):(R.flags|=1048576,L)}function w(R){return t&&R.alternate===null&&(R.flags|=67108866),R}function S(R,L,U,J){return L===null||L.tag!==6?(L=dm(U,R.mode,J),L.return=R,L):(L=f(L,U),L.return=R,L)}function D(R,L,U,J){var de=U.type;return de===j?Y(R,L,U.props.children,J,U.key):L!==null&&(L.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===_&&KS(de)===L.type)?(L=f(L,U.props),du(L,U),L.return=R,L):(L=mh(U.type,U.key,U.props,null,R.mode,J),du(L,U),L.return=R,L)}function z(R,L,U,J){return L===null||L.tag!==4||L.stateNode.containerInfo!==U.containerInfo||L.stateNode.implementation!==U.implementation?(L=pm(U,R.mode,J),L.return=R,L):(L=f(L,U.children||[]),L.return=R,L)}function Y(R,L,U,J,de){return L===null||L.tag!==7?(L=ai(U,R.mode,J,de),L.return=R,L):(L=f(L,U),L.return=R,L)}function ee(R,L,U){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=dm(""+L,R.mode,U),L.return=R,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case T:return U=mh(L.type,L.key,L.props,null,R.mode,U),du(U,L),U.return=R,U;case I:return L=pm(L,R.mode,U),L.return=R,L;case _:var J=L._init;return L=J(L._payload),ee(R,L,U)}if(Be(L)||V(L))return L=ai(L,R.mode,U,null),L.return=R,L;if(typeof L.then=="function")return ee(R,Ph(L),U);if(L.$$typeof===se)return ee(R,bh(R,L),U);Mh(R,L)}return null}function H(R,L,U,J){var de=L!==null?L.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return de!==null?null:S(R,L,""+U,J);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case T:return U.key===de?D(R,L,U,J):null;case I:return U.key===de?z(R,L,U,J):null;case _:return de=U._init,U=de(U._payload),H(R,L,U,J)}if(Be(U)||V(U))return de!==null?null:Y(R,L,U,J,null);if(typeof U.then=="function")return H(R,L,Ph(U),J);if(U.$$typeof===se)return H(R,L,bh(R,U),J);Mh(R,U)}return null}function G(R,L,U,J,de){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return R=R.get(U)||null,S(L,R,""+J,de);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case T:return R=R.get(J.key===null?U:J.key)||null,D(L,R,J,de);case I:return R=R.get(J.key===null?U:J.key)||null,z(L,R,J,de);case _:var Le=J._init;return J=Le(J._payload),G(R,L,U,J,de)}if(Be(J)||V(J))return R=R.get(U)||null,Y(L,R,J,de,null);if(typeof J.then=="function")return G(R,L,U,Ph(J),de);if(J.$$typeof===se)return G(R,L,U,bh(L,J),de);Mh(L,J)}return null}function Ce(R,L,U,J){for(var de=null,Le=null,we=L,xe=L=0,Yt=null;we!==null&&xe<U.length;xe++){we.index>xe?(Yt=we,we=null):Yt=we.sibling;var We=H(R,we,U[xe],J);if(We===null){we===null&&(we=Yt);break}t&&we&&We.alternate===null&&a(R,we),L=p(We,L,xe),Le===null?de=We:Le.sibling=We,Le=We,we=Yt}if(xe===U.length)return i(R,we),Ke&&ii(R,xe),de;if(we===null){for(;xe<U.length;xe++)we=ee(R,U[xe],J),we!==null&&(L=p(we,L,xe),Le===null?de=we:Le.sibling=we,Le=we);return Ke&&ii(R,xe),de}for(we=l(we);xe<U.length;xe++)Yt=G(we,R,xe,U[xe],J),Yt!==null&&(t&&Yt.alternate!==null&&we.delete(Yt.key===null?xe:Yt.key),L=p(Yt,L,xe),Le===null?de=Yt:Le.sibling=Yt,Le=Yt);return t&&we.forEach(function(vs){return a(R,vs)}),Ke&&ii(R,xe),de}function Se(R,L,U,J){if(U==null)throw Error(s(151));for(var de=null,Le=null,we=L,xe=L=0,Yt=null,We=U.next();we!==null&&!We.done;xe++,We=U.next()){we.index>xe?(Yt=we,we=null):Yt=we.sibling;var vs=H(R,we,We.value,J);if(vs===null){we===null&&(we=Yt);break}t&&we&&vs.alternate===null&&a(R,we),L=p(vs,L,xe),Le===null?de=vs:Le.sibling=vs,Le=vs,we=Yt}if(We.done)return i(R,we),Ke&&ii(R,xe),de;if(we===null){for(;!We.done;xe++,We=U.next())We=ee(R,We.value,J),We!==null&&(L=p(We,L,xe),Le===null?de=We:Le.sibling=We,Le=We);return Ke&&ii(R,xe),de}for(we=l(we);!We.done;xe++,We=U.next())We=G(we,R,xe,We.value,J),We!==null&&(t&&We.alternate!==null&&we.delete(We.key===null?xe:We.key),L=p(We,L,xe),Le===null?de=We:Le.sibling=We,Le=We);return t&&we.forEach(function(T3){return a(R,T3)}),Ke&&ii(R,xe),de}function st(R,L,U,J){if(typeof U=="object"&&U!==null&&U.type===j&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case T:e:{for(var de=U.key;L!==null;){if(L.key===de){if(de=U.type,de===j){if(L.tag===7){i(R,L.sibling),J=f(L,U.props.children),J.return=R,R=J;break e}}else if(L.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===_&&KS(de)===L.type){i(R,L.sibling),J=f(L,U.props),du(J,U),J.return=R,R=J;break e}i(R,L);break}else a(R,L);L=L.sibling}U.type===j?(J=ai(U.props.children,R.mode,J,U.key),J.return=R,R=J):(J=mh(U.type,U.key,U.props,null,R.mode,J),du(J,U),J.return=R,R=J)}return w(R);case I:e:{for(de=U.key;L!==null;){if(L.key===de)if(L.tag===4&&L.stateNode.containerInfo===U.containerInfo&&L.stateNode.implementation===U.implementation){i(R,L.sibling),J=f(L,U.children||[]),J.return=R,R=J;break e}else{i(R,L);break}else a(R,L);L=L.sibling}J=pm(U,R.mode,J),J.return=R,R=J}return w(R);case _:return de=U._init,U=de(U._payload),st(R,L,U,J)}if(Be(U))return Ce(R,L,U,J);if(V(U)){if(de=V(U),typeof de!="function")throw Error(s(150));return U=de.call(U),Se(R,L,U,J)}if(typeof U.then=="function")return st(R,L,Ph(U),J);if(U.$$typeof===se)return st(R,L,bh(R,U),J);Mh(R,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,L!==null&&L.tag===6?(i(R,L.sibling),J=f(L,U),J.return=R,R=J):(i(R,L),J=dm(U,R.mode,J),J.return=R,R=J),w(R)):i(R,L)}return function(R,L,U,J){try{fu=0;var de=st(R,L,U,J);return Eo=null,de}catch(we){if(we===ru||we===Eh)throw we;var Le=Rn(29,we,null,R.mode);return Le.lanes=J,Le.return=R,Le}finally{}}}var So=YS(!0),JS=YS(!1),rr=C(null),pa=null;function rs(t){var a=t.alternate;Q(Ht,Ht.current&1),Q(rr,t),pa===null&&(a===null||yo.current!==null||a.memoizedState!==null)&&(pa=t)}function ZS(t){if(t.tag===22){if(Q(Ht,Ht.current),Q(rr,t),pa===null){var a=t.alternate;a!==null&&a.memoizedState!==null&&(pa=t)}}else as()}function as(){Q(Ht,Ht.current),Q(rr,rr.current)}function ma(t){K(rr),pa===t&&(pa=null),K(Ht)}var Ht=C(0);function Oh(t){for(var a=t;a!==null;){if(a.tag===13){var i=a.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||Vg(i)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Wm(t,a,i,l){a=t.memoizedState,i=i(l,a),i=i==null?a:v({},a,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var Qm={enqueueSetState:function(t,a,i){t=t._reactInternals;var l=Un(),f=es(l);f.payload=a,i!=null&&(f.callback=i),a=ts(t,f,l),a!==null&&(zn(a,t,l),su(a,t,l))},enqueueReplaceState:function(t,a,i){t=t._reactInternals;var l=Un(),f=es(l);f.tag=1,f.payload=a,i!=null&&(f.callback=i),a=ts(t,f,l),a!==null&&(zn(a,t,l),su(a,t,l))},enqueueForceUpdate:function(t,a){t=t._reactInternals;var i=Un(),l=es(i);l.tag=2,a!=null&&(l.callback=a),a=ts(t,l,i),a!==null&&(zn(a,t,i),su(a,t,i))}};function ex(t,a,i,l,f,p,w){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,p,w):a.prototype&&a.prototype.isPureReactComponent?!Xl(i,l)||!Xl(f,p):!0}function tx(t,a,i,l){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(i,l),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(i,l),a.state!==t&&Qm.enqueueReplaceState(a,a.state,null)}function di(t,a){var i=a;if("ref"in a){i={};for(var l in a)l!=="ref"&&(i[l]=a[l])}if(t=t.defaultProps){i===a&&(i=v({},i));for(var f in t)i[f]===void 0&&(i[f]=t[f])}return i}var Lh=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function nx(t){Lh(t)}function rx(t){console.error(t)}function ax(t){Lh(t)}function Vh(t,a){try{var i=t.onUncaughtError;i(a.value,{componentStack:a.stack})}catch(l){setTimeout(function(){throw l})}}function sx(t,a,i){try{var l=t.onCaughtError;l(i.value,{componentStack:i.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Xm(t,a,i){return i=es(i),i.tag=3,i.payload={element:null},i.callback=function(){Vh(t,a)},i}function ix(t){return t=es(t),t.tag=3,t}function ox(t,a,i,l){var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var p=l.value;t.payload=function(){return f(p)},t.callback=function(){sx(a,i,l)}}var w=i.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(t.callback=function(){sx(a,i,l),typeof f!="function"&&(cs===null?cs=new Set([this]):cs.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function T6(t,a,i,l,f){if(i.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(a=i.alternate,a!==null&&eu(a,i,f,!0),i=rr.current,i!==null){switch(i.tag){case 13:return pa===null?bg():i.alternate===null&&St===0&&(St=3),i.flags&=-257,i.flags|=65536,i.lanes=f,l===Tm?i.flags|=16384:(a=i.updateQueue,a===null?i.updateQueue=new Set([l]):a.add(l),Eg(t,l,f)),!1;case 22:return i.flags|=65536,l===Tm?i.flags|=16384:(a=i.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([l])},i.updateQueue=a):(i=a.retryQueue,i===null?a.retryQueue=new Set([l]):i.add(l)),Eg(t,l,f)),!1}throw Error(s(435,i.tag))}return Eg(t,l,f),bg(),!1}if(Ke)return a=rr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=f,l!==ym&&(t=Error(s(422),{cause:l}),Zl(Zn(t,i)))):(l!==ym&&(a=Error(s(423),{cause:l}),Zl(Zn(a,i))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Zn(l,i),f=Xm(t.stateNode,l,f),_m(t,f),St!==4&&(St=2)),!1;var p=Error(s(520),{cause:l});if(p=Zn(p,i),wu===null?wu=[p]:wu.push(p),St!==4&&(St=2),a===null)return!0;l=Zn(l,i),i=a;do{switch(i.tag){case 3:return i.flags|=65536,t=f&-f,i.lanes|=t,t=Xm(i.stateNode,l,t),_m(i,t),!1;case 1:if(a=i.type,p=i.stateNode,(i.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(cs===null||!cs.has(p))))return i.flags|=65536,f&=-f,i.lanes|=f,f=ix(f),ox(f,t,i,l),_m(i,f),!1}i=i.return}while(i!==null);return!1}var lx=Error(s(461)),Xt=!1;function on(t,a,i,l){a.child=t===null?JS(a,null,i,l):So(a,t.child,i,l)}function ux(t,a,i,l,f){i=i.render;var p=a.ref;if("ref"in l){var w={};for(var S in l)S!=="ref"&&(w[S]=l[S])}else w=l;return ci(a),l=Pm(t,a,i,w,p,f),S=Mm(),t!==null&&!Xt?(Om(t,a,f),ga(t,a,f)):(Ke&&S&&mm(a),a.flags|=1,on(t,a,l,f),a.child)}function cx(t,a,i,l,f){if(t===null){var p=i.type;return typeof p=="function"&&!fm(p)&&p.defaultProps===void 0&&i.compare===null?(a.tag=15,a.type=p,hx(t,a,p,l,f)):(t=mh(i.type,null,l,a,a.mode,f),t.ref=a.ref,t.return=a,a.child=t)}if(p=t.child,!rg(t,f)){var w=p.memoizedProps;if(i=i.compare,i=i!==null?i:Xl,i(w,l)&&t.ref===a.ref)return ga(t,a,f)}return a.flags|=1,t=la(p,l),t.ref=a.ref,t.return=a,a.child=t}function hx(t,a,i,l,f){if(t!==null){var p=t.memoizedProps;if(Xl(p,l)&&t.ref===a.ref)if(Xt=!1,a.pendingProps=l=p,rg(t,f))(t.flags&131072)!==0&&(Xt=!0);else return a.lanes=t.lanes,ga(t,a,f)}return Km(t,a,i,l,f)}function fx(t,a,i){var l=a.pendingProps,f=l.children,p=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((a.flags&128)!==0){if(l=p!==null?p.baseLanes|i:i,t!==null){for(f=a.child=t.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;a.childLanes=p&~l}else a.childLanes=0,a.child=null;return dx(t,a,l,i)}if((i&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},t!==null&&wh(a,p!==null?p.cachePool:null),p!==null?hS(a,p):Am(),ZS(a);else return a.lanes=a.childLanes=536870912,dx(t,a,p!==null?p.baseLanes|i:i,i)}else p!==null?(wh(a,p.cachePool),hS(a,p),as(),a.memoizedState=null):(t!==null&&wh(a,null),Am(),as());return on(t,a,f,i),a.child}function dx(t,a,i,l){var f=xm();return f=f===null?null:{parent:qt._currentValue,pool:f},a.memoizedState={baseLanes:i,cachePool:f},t!==null&&wh(a,null),Am(),ZS(a),t!==null&&eu(t,a,l,!0),null}function Rh(t,a){var i=a.ref;if(i===null)t!==null&&t.ref!==null&&(a.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(t===null||t.ref!==i)&&(a.flags|=4194816)}}function Km(t,a,i,l,f){return ci(a),i=Pm(t,a,i,l,void 0,f),l=Mm(),t!==null&&!Xt?(Om(t,a,f),ga(t,a,f)):(Ke&&l&&mm(a),a.flags|=1,on(t,a,i,f),a.child)}function px(t,a,i,l,f,p){return ci(a),a.updateQueue=null,i=dS(a,l,i,f),fS(t),l=Mm(),t!==null&&!Xt?(Om(t,a,p),ga(t,a,p)):(Ke&&l&&mm(a),a.flags|=1,on(t,a,i,p),a.child)}function mx(t,a,i,l,f){if(ci(a),a.stateNode===null){var p=ho,w=i.contextType;typeof w=="object"&&w!==null&&(p=gn(w)),p=new i(l,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Qm,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=l,p.state=a.memoizedState,p.refs={},km(a),w=i.contextType,p.context=typeof w=="object"&&w!==null?gn(w):ho,p.state=a.memoizedState,w=i.getDerivedStateFromProps,typeof w=="function"&&(Wm(a,i,w,l),p.state=a.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(w=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),w!==p.state&&Qm.enqueueReplaceState(p,p.state,null),ou(a,l,p,f),iu(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),l=!0}else if(t===null){p=a.stateNode;var S=a.memoizedProps,D=di(i,S);p.props=D;var z=p.context,Y=i.contextType;w=ho,typeof Y=="object"&&Y!==null&&(w=gn(Y));var ee=i.getDerivedStateFromProps;Y=typeof ee=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=a.pendingProps!==S,Y||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||z!==w)&&tx(a,p,l,w),Za=!1;var H=a.memoizedState;p.state=H,ou(a,l,p,f),iu(),z=a.memoizedState,S||H!==z||Za?(typeof ee=="function"&&(Wm(a,i,ee,l),z=a.memoizedState),(D=Za||ex(a,i,D,l,H,z,w))?(Y||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=l,a.memoizedState=z),p.props=l,p.state=z,p.context=w,l=D):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),l=!1)}else{p=a.stateNode,Cm(t,a),w=a.memoizedProps,Y=di(i,w),p.props=Y,ee=a.pendingProps,H=p.context,z=i.contextType,D=ho,typeof z=="object"&&z!==null&&(D=gn(z)),S=i.getDerivedStateFromProps,(z=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w!==ee||H!==D)&&tx(a,p,l,D),Za=!1,H=a.memoizedState,p.state=H,ou(a,l,p,f),iu();var G=a.memoizedState;w!==ee||H!==G||Za||t!==null&&t.dependencies!==null&&vh(t.dependencies)?(typeof S=="function"&&(Wm(a,i,S,l),G=a.memoizedState),(Y=Za||ex(a,i,Y,l,H,G,D)||t!==null&&t.dependencies!==null&&vh(t.dependencies))?(z||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,G,D),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,G,D)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||w===t.memoizedProps&&H===t.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&H===t.memoizedState||(a.flags|=1024),a.memoizedProps=l,a.memoizedState=G),p.props=l,p.state=G,p.context=D,l=Y):(typeof p.componentDidUpdate!="function"||w===t.memoizedProps&&H===t.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&H===t.memoizedState||(a.flags|=1024),l=!1)}return p=l,Rh(t,a),l=(a.flags&128)!==0,p||l?(p=a.stateNode,i=l&&typeof i.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,t!==null&&l?(a.child=So(a,t.child,null,f),a.child=So(a,null,i,f)):on(t,a,i,f),a.memoizedState=p.state,t=a.child):t=ga(t,a,f),t}function gx(t,a,i,l){return Jl(),a.flags|=256,on(t,a,i,l),a.child}var Ym={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jm(t){return{baseLanes:t,cachePool:rS()}}function Zm(t,a,i){return t=t!==null?t.childLanes&~i:0,a&&(t|=ar),t}function yx(t,a,i){var l=a.pendingProps,f=!1,p=(a.flags&128)!==0,w;if((w=p)||(w=t!==null&&t.memoizedState===null?!1:(Ht.current&2)!==0),w&&(f=!0,a.flags&=-129),w=(a.flags&32)!==0,a.flags&=-33,t===null){if(Ke){if(f?rs(a):as(),Ke){var S=Et,D;if(D=S){e:{for(D=S,S=Rr;D.nodeType!==8;){if(!S){S=null;break e}if(D=dr(D.nextSibling),D===null){S=null;break e}}S=D}S!==null?(a.memoizedState={dehydrated:S,treeContext:si!==null?{id:ua,overflow:ca}:null,retryLane:536870912,hydrationErrors:null},D=Rn(18,null,null,0),D.stateNode=S,D.return=a,a.child=D,Sn=a,Et=null,D=!0):D=!1}D||li(a)}if(S=a.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Vg(S)?a.lanes=32:a.lanes=536870912,null;ma(a)}return S=l.children,l=l.fallback,f?(as(),f=a.mode,S=jh({mode:"hidden",children:S},f),l=ai(l,f,i,null),S.return=a,l.return=a,S.sibling=l,a.child=S,f=a.child,f.memoizedState=Jm(i),f.childLanes=Zm(t,w,i),a.memoizedState=Ym,l):(rs(a),eg(a,S))}if(D=t.memoizedState,D!==null&&(S=D.dehydrated,S!==null)){if(p)a.flags&256?(rs(a),a.flags&=-257,a=tg(t,a,i)):a.memoizedState!==null?(as(),a.child=t.child,a.flags|=128,a=null):(as(),f=l.fallback,S=a.mode,l=jh({mode:"visible",children:l.children},S),f=ai(f,S,i,null),f.flags|=2,l.return=a,f.return=a,l.sibling=f,a.child=l,So(a,t.child,null,i),l=a.child,l.memoizedState=Jm(i),l.childLanes=Zm(t,w,i),a.memoizedState=Ym,a=f);else if(rs(a),Vg(S)){if(w=S.nextSibling&&S.nextSibling.dataset,w)var z=w.dgst;w=z,l=Error(s(419)),l.stack="",l.digest=w,Zl({value:l,source:null,stack:null}),a=tg(t,a,i)}else if(Xt||eu(t,a,i,!1),w=(i&t.childLanes)!==0,Xt||w){if(w=lt,w!==null&&(l=i&-i,l=(l&42)!==0?1:$a(l),l=(l&(w.suspendedLanes|i))!==0?0:l,l!==0&&l!==D.retryLane))throw D.retryLane=l,co(t,l),zn(w,t,l),lx;S.data==="$?"||bg(),a=tg(t,a,i)}else S.data==="$?"?(a.flags|=192,a.child=t.child,a=null):(t=D.treeContext,Et=dr(S.nextSibling),Sn=a,Ke=!0,oi=null,Rr=!1,t!==null&&(tr[nr++]=ua,tr[nr++]=ca,tr[nr++]=si,ua=t.id,ca=t.overflow,si=a),a=eg(a,l.children),a.flags|=4096);return a}return f?(as(),f=l.fallback,S=a.mode,D=t.child,z=D.sibling,l=la(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,z!==null?f=la(z,f):(f=ai(f,S,i,null),f.flags|=2),f.return=a,l.return=a,l.sibling=f,a.child=l,l=f,f=a.child,S=t.child.memoizedState,S===null?S=Jm(i):(D=S.cachePool,D!==null?(z=qt._currentValue,D=D.parent!==z?{parent:z,pool:z}:D):D=rS(),S={baseLanes:S.baseLanes|i,cachePool:D}),f.memoizedState=S,f.childLanes=Zm(t,w,i),a.memoizedState=Ym,l):(rs(a),i=t.child,t=i.sibling,i=la(i,{mode:"visible",children:l.children}),i.return=a,i.sibling=null,t!==null&&(w=a.deletions,w===null?(a.deletions=[t],a.flags|=16):w.push(t)),a.child=i,a.memoizedState=null,i)}function eg(t,a){return a=jh({mode:"visible",children:a},t.mode),a.return=t,t.child=a}function jh(t,a){return t=Rn(22,t,null,a),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function tg(t,a,i){return So(a,t.child,null,i),t=eg(a,a.pendingProps.children),t.flags|=2,a.memoizedState=null,t}function vx(t,a,i){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a),bm(t.return,a,i)}function ng(t,a,i,l,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:f}:(p.isBackwards=a,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=i,p.tailMode=f)}function bx(t,a,i){var l=a.pendingProps,f=l.revealOrder,p=l.tail;if(on(t,a,l.children,i),l=Ht.current,(l&2)!==0)l=l&1|2,a.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vx(t,i,a);else if(t.tag===19)vx(t,i,a);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break e;for(;t.sibling===null;){if(t.return===null||t.return===a)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Q(Ht,l),f){case"forwards":for(i=a.child,f=null;i!==null;)t=i.alternate,t!==null&&Oh(t)===null&&(f=i),i=i.sibling;i=f,i===null?(f=a.child,a.child=null):(f=i.sibling,i.sibling=null),ng(a,!1,f,i,p);break;case"backwards":for(i=null,f=a.child,a.child=null;f!==null;){if(t=f.alternate,t!==null&&Oh(t)===null){a.child=f;break}t=f.sibling,f.sibling=i,i=f,f=t}ng(a,!0,i,null,p);break;case"together":ng(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ga(t,a,i){if(t!==null&&(a.dependencies=t.dependencies),us|=a.lanes,(i&a.childLanes)===0)if(t!==null){if(eu(t,a,i,!1),(i&a.childLanes)===0)return null}else return null;if(t!==null&&a.child!==t.child)throw Error(s(153));if(a.child!==null){for(t=a.child,i=la(t,t.pendingProps),a.child=i,i.return=a;t.sibling!==null;)t=t.sibling,i=i.sibling=la(t,t.pendingProps),i.return=a;i.sibling=null}return a.child}function rg(t,a){return(t.lanes&a)!==0?!0:(t=t.dependencies,!!(t!==null&&vh(t)))}function k6(t,a,i){switch(a.tag){case 3:ve(a,a.stateNode.containerInfo),Ja(a,qt,t.memoizedState.cache),Jl();break;case 27:case 5:it(a);break;case 4:ve(a,a.stateNode.containerInfo);break;case 10:Ja(a,a.type,a.memoizedProps.value);break;case 13:var l=a.memoizedState;if(l!==null)return l.dehydrated!==null?(rs(a),a.flags|=128,null):(i&a.child.childLanes)!==0?yx(t,a,i):(rs(a),t=ga(t,a,i),t!==null?t.sibling:null);rs(a);break;case 19:var f=(t.flags&128)!==0;if(l=(i&a.childLanes)!==0,l||(eu(t,a,i,!1),l=(i&a.childLanes)!==0),f){if(l)return bx(t,a,i);a.flags|=128}if(f=a.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Q(Ht,Ht.current),l)break;return null;case 22:case 23:return a.lanes=0,fx(t,a,i);case 24:Ja(a,qt,t.memoizedState.cache)}return ga(t,a,i)}function wx(t,a,i){if(t!==null)if(t.memoizedProps!==a.pendingProps)Xt=!0;else{if(!rg(t,i)&&(a.flags&128)===0)return Xt=!1,k6(t,a,i);Xt=(t.flags&131072)!==0}else Xt=!1,Ke&&(a.flags&1048576)!==0&&KE(a,yh,a.index);switch(a.lanes=0,a.tag){case 16:e:{t=a.pendingProps;var l=a.elementType,f=l._init;if(l=f(l._payload),a.type=l,typeof l=="function")fm(l)?(t=di(l,t),a.tag=1,a=mx(null,a,l,t,i)):(a.tag=0,a=Km(null,a,l,t,i));else{if(l!=null){if(f=l.$$typeof,f===pe){a.tag=11,a=ux(null,a,l,t,i);break e}else if(f===M){a.tag=14,a=cx(null,a,l,t,i);break e}}throw a=$e(l)||l,Error(s(306,a,""))}}return a;case 0:return Km(t,a,a.type,a.pendingProps,i);case 1:return l=a.type,f=di(l,a.pendingProps),mx(t,a,l,f,i);case 3:e:{if(ve(a,a.stateNode.containerInfo),t===null)throw Error(s(387));l=a.pendingProps;var p=a.memoizedState;f=p.element,Cm(t,a),ou(a,l,null,i);var w=a.memoizedState;if(l=w.cache,Ja(a,qt,l),l!==p.cache&&wm(a,[qt],i,!0),iu(),l=w.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:w.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=gx(t,a,l,i);break e}else if(l!==f){f=Zn(Error(s(424)),a),Zl(f),a=gx(t,a,l,i);break e}else{switch(t=a.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Et=dr(t.firstChild),Sn=a,Ke=!0,oi=null,Rr=!0,i=JS(a,null,l,i),a.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Jl(),l===f){a=ga(t,a,i);break e}on(t,a,l,i)}a=a.child}return a;case 26:return Rh(t,a),t===null?(i=TT(a.type,null,a.pendingProps,null))?a.memoizedState=i:Ke||(i=a.type,t=a.pendingProps,l=Jh(oe.current).createElement(i),l[Bt]=a,l[Ot]=t,un(l,i,t),Ct(l),a.stateNode=l):a.memoizedState=TT(a.type,t.memoizedProps,a.pendingProps,t.memoizedState),null;case 27:return it(a),t===null&&Ke&&(l=a.stateNode=ET(a.type,a.pendingProps,oe.current),Sn=a,Rr=!0,f=Et,ds(a.type)?(Rg=f,Et=dr(l.firstChild)):Et=f),on(t,a,a.pendingProps.children,i),Rh(t,a),t===null&&(a.flags|=4194304),a.child;case 5:return t===null&&Ke&&((f=l=Et)&&(l=Z6(l,a.type,a.pendingProps,Rr),l!==null?(a.stateNode=l,Sn=a,Et=dr(l.firstChild),Rr=!1,f=!0):f=!1),f||li(a)),it(a),f=a.type,p=a.pendingProps,w=t!==null?t.memoizedProps:null,l=p.children,Mg(f,p)?l=null:w!==null&&Mg(f,w)&&(a.flags|=32),a.memoizedState!==null&&(f=Pm(t,a,y6,null,null,i),Au._currentValue=f),Rh(t,a),on(t,a,l,i),a.child;case 6:return t===null&&Ke&&((t=i=Et)&&(i=e3(i,a.pendingProps,Rr),i!==null?(a.stateNode=i,Sn=a,Et=null,t=!0):t=!1),t||li(a)),null;case 13:return yx(t,a,i);case 4:return ve(a,a.stateNode.containerInfo),l=a.pendingProps,t===null?a.child=So(a,null,l,i):on(t,a,l,i),a.child;case 11:return ux(t,a,a.type,a.pendingProps,i);case 7:return on(t,a,a.pendingProps,i),a.child;case 8:return on(t,a,a.pendingProps.children,i),a.child;case 12:return on(t,a,a.pendingProps.children,i),a.child;case 10:return l=a.pendingProps,Ja(a,a.type,l.value),on(t,a,l.children,i),a.child;case 9:return f=a.type._context,l=a.pendingProps.children,ci(a),f=gn(f),l=l(f),a.flags|=1,on(t,a,l,i),a.child;case 14:return cx(t,a,a.type,a.pendingProps,i);case 15:return hx(t,a,a.type,a.pendingProps,i);case 19:return bx(t,a,i);case 31:return l=a.pendingProps,i=a.mode,l={mode:l.mode,children:l.children},t===null?(i=jh(l,i),i.ref=a.ref,a.child=i,i.return=a,a=i):(i=la(t.child,l),i.ref=a.ref,a.child=i,i.return=a,a=i),a;case 22:return fx(t,a,i);case 24:return ci(a),l=gn(qt),t===null?(f=xm(),f===null&&(f=lt,p=Em(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=i),f=p),a.memoizedState={parent:l,cache:f},km(a),Ja(a,qt,f)):((t.lanes&i)!==0&&(Cm(t,a),ou(a,null,null,i),iu()),f=t.memoizedState,p=a.memoizedState,f.parent!==l?(f={parent:l,cache:l},a.memoizedState=f,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=f),Ja(a,qt,l)):(l=p.cache,Ja(a,qt,l),l!==f.cache&&wm(a,[qt],i,!0))),on(t,a,a.pendingProps.children,i),a.child;case 29:throw a.pendingProps}throw Error(s(156,a.tag))}function ya(t){t.flags|=4}function Ex(t,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!AT(a)){if(a=rr.current,a!==null&&((qe&4194048)===qe?pa!==null:(qe&62914560)!==qe&&(qe&536870912)===0||a!==pa))throw au=Tm,aS;t.flags|=8192}}function Fh(t,a){a!==null&&(t.flags|=4),t.flags&16384&&(a=t.tag!==22?Dl():536870912,t.lanes|=a,Co|=a)}function pu(t,a){if(!Ke)switch(t.tailMode){case"hidden":a=t.tail;for(var i=null;a!==null;)a.alternate!==null&&(i=a),a=a.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function bt(t){var a=t.alternate!==null&&t.alternate.child===t.child,i=0,l=0;if(a)for(var f=t.child;f!==null;)i|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)i|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=i,a}function C6(t,a,i){var l=a.pendingProps;switch(gm(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(a),null;case 1:return bt(a),null;case 3:return i=a.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),fa(qt),Ne(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Yl(a)?ya(a):t===null||t.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,ZE())),bt(a),null;case 26:return i=a.memoizedState,t===null?(ya(a),i!==null?(bt(a),Ex(a,i)):(bt(a),a.flags&=-16777217)):i?i!==t.memoizedState?(ya(a),bt(a),Ex(a,i)):(bt(a),a.flags&=-16777217):(t.memoizedProps!==l&&ya(a),bt(a),a.flags&=-16777217),null;case 27:Ve(a),i=oe.current;var f=a.type;if(t!==null&&a.stateNode!=null)t.memoizedProps!==l&&ya(a);else{if(!l){if(a.stateNode===null)throw Error(s(166));return bt(a),null}t=ie.current,Yl(a)?YE(a):(t=ET(f,l,i),a.stateNode=t,ya(a))}return bt(a),null;case 5:if(Ve(a),i=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==l&&ya(a);else{if(!l){if(a.stateNode===null)throw Error(s(166));return bt(a),null}if(t=ie.current,Yl(a))YE(a);else{switch(f=Jh(oe.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?f.createElement(i,{is:l.is}):f.createElement(i)}}t[Bt]=a,t[Ot]=l;e:for(f=a.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===a)break e;for(;f.sibling===null;){if(f.return===null||f.return===a)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}a.stateNode=t;e:switch(un(t,i,l),i){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&ya(a)}}return bt(a),a.flags&=-16777217,null;case 6:if(t&&a.stateNode!=null)t.memoizedProps!==l&&ya(a);else{if(typeof l!="string"&&a.stateNode===null)throw Error(s(166));if(t=oe.current,Yl(a)){if(t=a.stateNode,i=a.memoizedProps,l=null,f=Sn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[Bt]=a,t=!!(t.nodeValue===i||l!==null&&l.suppressHydrationWarning===!0||pT(t.nodeValue,i)),t||li(a)}else t=Jh(t).createTextNode(l),t[Bt]=a,a.stateNode=t}return bt(a),null;case 13:if(l=a.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Yl(a),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=a.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Bt]=a}else Jl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;bt(a),f=!1}else f=ZE(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return a.flags&256?(ma(a),a):(ma(a),null)}if(ma(a),(a.flags&128)!==0)return a.lanes=i,a;if(i=l!==null,t=t!==null&&t.memoizedState!==null,i){l=a.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var p=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==f&&(l.flags|=2048)}return i!==t&&i&&(a.child.flags|=8192),Fh(a,a.updateQueue),bt(a),null;case 4:return Ne(),t===null&&Ig(a.stateNode.containerInfo),bt(a),null;case 10:return fa(a.type),bt(a),null;case 19:if(K(Ht),f=a.memoizedState,f===null)return bt(a),null;if(l=(a.flags&128)!==0,p=f.rendering,p===null)if(l)pu(f,!1);else{if(St!==0||t!==null&&(t.flags&128)!==0)for(t=a.child;t!==null;){if(p=Oh(t),p!==null){for(a.flags|=128,pu(f,!1),t=p.updateQueue,a.updateQueue=t,Fh(a,t),a.subtreeFlags=0,t=i,i=a.child;i!==null;)XE(i,t),i=i.sibling;return Q(Ht,Ht.current&1|2),a.child}t=t.sibling}f.tail!==null&&dt()>zh&&(a.flags|=128,l=!0,pu(f,!1),a.lanes=4194304)}else{if(!l)if(t=Oh(p),t!==null){if(a.flags|=128,l=!0,t=t.updateQueue,a.updateQueue=t,Fh(a,t),pu(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!Ke)return bt(a),null}else 2*dt()-f.renderingStartTime>zh&&i!==536870912&&(a.flags|=128,l=!0,pu(f,!1),a.lanes=4194304);f.isBackwards?(p.sibling=a.child,a.child=p):(t=f.last,t!==null?t.sibling=p:a.child=p,f.last=p)}return f.tail!==null?(a=f.tail,f.rendering=a,f.tail=a.sibling,f.renderingStartTime=dt(),a.sibling=null,t=Ht.current,Q(Ht,l?t&1|2:t&1),a):(bt(a),null);case 22:case 23:return ma(a),Nm(),l=a.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(a.flags|=8192):l&&(a.flags|=8192),l?(i&536870912)!==0&&(a.flags&128)===0&&(bt(a),a.subtreeFlags&6&&(a.flags|=8192)):bt(a),i=a.updateQueue,i!==null&&Fh(a,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),l=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),l!==i&&(a.flags|=2048),t!==null&&K(hi),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),a.memoizedState.cache!==i&&(a.flags|=2048),fa(qt),bt(a),null;case 25:return null;case 30:return null}throw Error(s(156,a.tag))}function _6(t,a){switch(gm(a),a.tag){case 1:return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 3:return fa(qt),Ne(),t=a.flags,(t&65536)!==0&&(t&128)===0?(a.flags=t&-65537|128,a):null;case 26:case 27:case 5:return Ve(a),null;case 13:if(ma(a),t=a.memoizedState,t!==null&&t.dehydrated!==null){if(a.alternate===null)throw Error(s(340));Jl()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 19:return K(Ht),null;case 4:return Ne(),null;case 10:return fa(a.type),null;case 22:case 23:return ma(a),Nm(),t!==null&&K(hi),t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 24:return fa(qt),null;case 25:return null;default:return null}}function Sx(t,a){switch(gm(a),a.tag){case 3:fa(qt),Ne();break;case 26:case 27:case 5:Ve(a);break;case 4:Ne();break;case 13:ma(a);break;case 19:K(Ht);break;case 10:fa(a.type);break;case 22:case 23:ma(a),Nm(),t!==null&&K(hi);break;case 24:fa(qt)}}function mu(t,a){try{var i=a.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var f=l.next;i=f;do{if((i.tag&t)===t){l=void 0;var p=i.create,w=i.inst;l=p(),w.destroy=l}i=i.next}while(i!==f)}}catch(S){ot(a,a.return,S)}}function ss(t,a,i){try{var l=a.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var p=f.next;l=p;do{if((l.tag&t)===t){var w=l.inst,S=w.destroy;if(S!==void 0){w.destroy=void 0,f=a;var D=i,z=S;try{z()}catch(Y){ot(f,D,Y)}}}l=l.next}while(l!==p)}}catch(Y){ot(a,a.return,Y)}}function xx(t){var a=t.updateQueue;if(a!==null){var i=t.stateNode;try{cS(a,i)}catch(l){ot(t,t.return,l)}}}function Tx(t,a,i){i.props=di(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(l){ot(t,a,l)}}function gu(t,a){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof i=="function"?t.refCleanup=i(l):i.current=l}}catch(f){ot(t,a,f)}}function jr(t,a){var i=t.ref,l=t.refCleanup;if(i!==null)if(typeof l=="function")try{l()}catch(f){ot(t,a,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(f){ot(t,a,f)}else i.current=null}function kx(t){var a=t.type,i=t.memoizedProps,l=t.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":i.autoFocus&&l.focus();break e;case"img":i.src?l.src=i.src:i.srcSet&&(l.srcset=i.srcSet)}}catch(f){ot(t,t.return,f)}}function ag(t,a,i){try{var l=t.stateNode;Q6(l,t.type,i,a),l[Ot]=a}catch(f){ot(t,t.return,f)}}function Cx(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ds(t.type)||t.tag===4}function sg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Cx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ds(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ig(t,a,i){var l=t.tag;if(l===5||l===6)t=t.stateNode,a?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,a):(a=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.appendChild(t),i=i._reactRootContainer,i!=null||a.onclick!==null||(a.onclick=Yh));else if(l!==4&&(l===27&&ds(t.type)&&(i=t.stateNode,a=null),t=t.child,t!==null))for(ig(t,a,i),t=t.sibling;t!==null;)ig(t,a,i),t=t.sibling}function Bh(t,a,i){var l=t.tag;if(l===5||l===6)t=t.stateNode,a?i.insertBefore(t,a):i.appendChild(t);else if(l!==4&&(l===27&&ds(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(Bh(t,a,i),t=t.sibling;t!==null;)Bh(t,a,i),t=t.sibling}function _x(t){var a=t.stateNode,i=t.memoizedProps;try{for(var l=t.type,f=a.attributes;f.length;)a.removeAttributeNode(f[0]);un(a,l,i),a[Bt]=t,a[Ot]=i}catch(p){ot(t,t.return,p)}}var va=!1,It=!1,og=!1,Ix=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function I6(t,a){if(t=t.containerInfo,Dg=af,t=FE(t),sm(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var f=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{i.nodeType,p.nodeType}catch{i=null;break e}var w=0,S=-1,D=-1,z=0,Y=0,ee=t,H=null;t:for(;;){for(var G;ee!==i||f!==0&&ee.nodeType!==3||(S=w+f),ee!==p||l!==0&&ee.nodeType!==3||(D=w+l),ee.nodeType===3&&(w+=ee.nodeValue.length),(G=ee.firstChild)!==null;)H=ee,ee=G;for(;;){if(ee===t)break t;if(H===i&&++z===f&&(S=w),H===p&&++Y===l&&(D=w),(G=ee.nextSibling)!==null)break;ee=H,H=ee.parentNode}ee=G}i=S===-1||D===-1?null:{start:S,end:D}}else i=null}i=i||{start:0,end:0}}else i=null;for(Pg={focusedElem:t,selectionRange:i},af=!1,Kt=a;Kt!==null;)if(a=Kt,t=a.child,(a.subtreeFlags&1024)!==0&&t!==null)t.return=a,Kt=t;else for(;Kt!==null;){switch(a=Kt,p=a.alternate,t=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&p!==null){t=void 0,i=a,f=p.memoizedProps,p=p.memoizedState,l=i.stateNode;try{var Ce=di(i.type,f,i.elementType===i.type);t=l.getSnapshotBeforeUpdate(Ce,p),l.__reactInternalSnapshotBeforeUpdate=t}catch(Se){ot(i,i.return,Se)}}break;case 3:if((t&1024)!==0){if(t=a.stateNode.containerInfo,i=t.nodeType,i===9)Lg(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Lg(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=a.sibling,t!==null){t.return=a.return,Kt=t;break}Kt=a.return}}function Ax(t,a,i){var l=i.flags;switch(i.tag){case 0:case 11:case 15:is(t,i),l&4&&mu(5,i);break;case 1:if(is(t,i),l&4)if(t=i.stateNode,a===null)try{t.componentDidMount()}catch(w){ot(i,i.return,w)}else{var f=di(i.type,a.memoizedProps);a=a.memoizedState;try{t.componentDidUpdate(f,a,t.__reactInternalSnapshotBeforeUpdate)}catch(w){ot(i,i.return,w)}}l&64&&xx(i),l&512&&gu(i,i.return);break;case 3:if(is(t,i),l&64&&(t=i.updateQueue,t!==null)){if(a=null,i.child!==null)switch(i.child.tag){case 27:case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}try{cS(t,a)}catch(w){ot(i,i.return,w)}}break;case 27:a===null&&l&4&&_x(i);case 26:case 5:is(t,i),a===null&&l&4&&kx(i),l&512&&gu(i,i.return);break;case 12:is(t,i);break;case 13:is(t,i),l&4&&Px(t,i),l&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=R6.bind(null,i),t3(t,i))));break;case 22:if(l=i.memoizedState!==null||va,!l){a=a!==null&&a.memoizedState!==null||It,f=va;var p=It;va=l,(It=a)&&!p?os(t,i,(i.subtreeFlags&8772)!==0):is(t,i),va=f,It=p}break;case 30:break;default:is(t,i)}}function Nx(t){var a=t.alternate;a!==null&&(t.alternate=null,Nx(a)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(a=t.stateNode,a!==null&&Qa(a)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var mt=null,In=!1;function ba(t,a,i){for(i=i.child;i!==null;)Dx(t,a,i),i=i.sibling}function Dx(t,a,i){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(ht,i)}catch{}switch(i.tag){case 26:It||jr(i,a),ba(t,a,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:It||jr(i,a);var l=mt,f=In;ds(i.type)&&(mt=i.stateNode,In=!1),ba(t,a,i),ku(i.stateNode),mt=l,In=f;break;case 5:It||jr(i,a);case 6:if(l=mt,f=In,mt=null,ba(t,a,i),mt=l,In=f,mt!==null)if(In)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(i.stateNode)}catch(p){ot(i,a,p)}else try{mt.removeChild(i.stateNode)}catch(p){ot(i,a,p)}break;case 18:mt!==null&&(In?(t=mt,bT(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),Mu(t)):bT(mt,i.stateNode));break;case 4:l=mt,f=In,mt=i.stateNode.containerInfo,In=!0,ba(t,a,i),mt=l,In=f;break;case 0:case 11:case 14:case 15:It||ss(2,i,a),It||ss(4,i,a),ba(t,a,i);break;case 1:It||(jr(i,a),l=i.stateNode,typeof l.componentWillUnmount=="function"&&Tx(i,a,l)),ba(t,a,i);break;case 21:ba(t,a,i);break;case 22:It=(l=It)||i.memoizedState!==null,ba(t,a,i),It=l;break;default:ba(t,a,i)}}function Px(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Mu(t)}catch(i){ot(a,a.return,i)}}function A6(t){switch(t.tag){case 13:case 19:var a=t.stateNode;return a===null&&(a=t.stateNode=new Ix),a;case 22:return t=t.stateNode,a=t._retryCache,a===null&&(a=t._retryCache=new Ix),a;default:throw Error(s(435,t.tag))}}function lg(t,a){var i=A6(t);a.forEach(function(l){var f=j6.bind(null,t,l);i.has(l)||(i.add(l),l.then(f,f))})}function jn(t,a){var i=a.deletions;if(i!==null)for(var l=0;l<i.length;l++){var f=i[l],p=t,w=a,S=w;e:for(;S!==null;){switch(S.tag){case 27:if(ds(S.type)){mt=S.stateNode,In=!1;break e}break;case 5:mt=S.stateNode,In=!1;break e;case 3:case 4:mt=S.stateNode.containerInfo,In=!0;break e}S=S.return}if(mt===null)throw Error(s(160));Dx(p,w,f),mt=null,In=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)Mx(a,t),a=a.sibling}var fr=null;function Mx(t,a){var i=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:jn(a,t),Fn(t),l&4&&(ss(3,t,t.return),mu(3,t),ss(5,t,t.return));break;case 1:jn(a,t),Fn(t),l&512&&(It||i===null||jr(i,i.return)),l&64&&va&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?l:i.concat(l))));break;case 26:var f=fr;if(jn(a,t),Fn(t),l&512&&(It||i===null||jr(i,i.return)),l&4){var p=i!==null?i.memoizedState:null;if(l=t.memoizedState,i===null)if(l===null)if(t.stateNode===null){e:{l=t.type,i=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":p=f.getElementsByTagName("title")[0],(!p||p[zs]||p[Bt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(l),f.head.insertBefore(p,f.querySelector("head > title"))),un(p,l,i),p[Bt]=t,Ct(p),l=p;break e;case"link":var w=_T("link","href",f).get(l+(i.href||""));if(w){for(var S=0;S<w.length;S++)if(p=w[S],p.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&p.getAttribute("rel")===(i.rel==null?null:i.rel)&&p.getAttribute("title")===(i.title==null?null:i.title)&&p.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){w.splice(S,1);break t}}p=f.createElement(l),un(p,l,i),f.head.appendChild(p);break;case"meta":if(w=_T("meta","content",f).get(l+(i.content||""))){for(S=0;S<w.length;S++)if(p=w[S],p.getAttribute("content")===(i.content==null?null:""+i.content)&&p.getAttribute("name")===(i.name==null?null:i.name)&&p.getAttribute("property")===(i.property==null?null:i.property)&&p.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&p.getAttribute("charset")===(i.charSet==null?null:i.charSet)){w.splice(S,1);break t}}p=f.createElement(l),un(p,l,i),f.head.appendChild(p);break;default:throw Error(s(468,l))}p[Bt]=t,Ct(p),l=p}t.stateNode=l}else IT(f,t.type,t.stateNode);else t.stateNode=CT(f,l,t.memoizedProps);else p!==l?(p===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):p.count--,l===null?IT(f,t.type,t.stateNode):CT(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&ag(t,t.memoizedProps,i.memoizedProps)}break;case 27:jn(a,t),Fn(t),l&512&&(It||i===null||jr(i,i.return)),i!==null&&l&4&&ag(t,t.memoizedProps,i.memoizedProps);break;case 5:if(jn(a,t),Fn(t),l&512&&(It||i===null||jr(i,i.return)),t.flags&32){f=t.stateNode;try{Xn(f,"")}catch(G){ot(t,t.return,G)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,ag(t,f,i!==null?i.memoizedProps:f)),l&1024&&(og=!0);break;case 6:if(jn(a,t),Fn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,i=t.stateNode;try{i.nodeValue=l}catch(G){ot(t,t.return,G)}}break;case 3:if(tf=null,f=fr,fr=Zh(a.containerInfo),jn(a,t),fr=f,Fn(t),l&4&&i!==null&&i.memoizedState.isDehydrated)try{Mu(a.containerInfo)}catch(G){ot(t,t.return,G)}og&&(og=!1,Ox(t));break;case 4:l=fr,fr=Zh(t.stateNode.containerInfo),jn(a,t),Fn(t),fr=l;break;case 12:jn(a,t),Fn(t);break;case 13:jn(a,t),Fn(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(pg=dt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,lg(t,l)));break;case 22:f=t.memoizedState!==null;var D=i!==null&&i.memoizedState!==null,z=va,Y=It;if(va=z||f,It=Y||D,jn(a,t),It=Y,va=z,Fn(t),l&8192)e:for(a=t.stateNode,a._visibility=f?a._visibility&-2:a._visibility|1,f&&(i===null||D||va||It||pi(t)),i=null,a=t;;){if(a.tag===5||a.tag===26){if(i===null){D=i=a;try{if(p=D.stateNode,f)w=p.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{S=D.stateNode;var ee=D.memoizedProps.style,H=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;S.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(G){ot(D,D.return,G)}}}else if(a.tag===6){if(i===null){D=a;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(G){ot(D,D.return,G)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===t)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;i===a&&(i=null),a=a.return}i===a&&(i=null),a.sibling.return=a.return,a=a.sibling}l&4&&(l=t.updateQueue,l!==null&&(i=l.retryQueue,i!==null&&(l.retryQueue=null,lg(t,i))));break;case 19:jn(a,t),Fn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,lg(t,l)));break;case 30:break;case 21:break;default:jn(a,t),Fn(t)}}function Fn(t){var a=t.flags;if(a&2){try{for(var i,l=t.return;l!==null;){if(Cx(l)){i=l;break}l=l.return}if(i==null)throw Error(s(160));switch(i.tag){case 27:var f=i.stateNode,p=sg(t);Bh(t,p,f);break;case 5:var w=i.stateNode;i.flags&32&&(Xn(w,""),i.flags&=-33);var S=sg(t);Bh(t,S,w);break;case 3:case 4:var D=i.stateNode.containerInfo,z=sg(t);ig(t,z,D);break;default:throw Error(s(161))}}catch(Y){ot(t,t.return,Y)}t.flags&=-3}a&4096&&(t.flags&=-4097)}function Ox(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var a=t;Ox(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),t=t.sibling}}function is(t,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Ax(t,a.alternate,a),a=a.sibling}function pi(t){for(t=t.child;t!==null;){var a=t;switch(a.tag){case 0:case 11:case 14:case 15:ss(4,a,a.return),pi(a);break;case 1:jr(a,a.return);var i=a.stateNode;typeof i.componentWillUnmount=="function"&&Tx(a,a.return,i),pi(a);break;case 27:ku(a.stateNode);case 26:case 5:jr(a,a.return),pi(a);break;case 22:a.memoizedState===null&&pi(a);break;case 30:pi(a);break;default:pi(a)}t=t.sibling}}function os(t,a,i){for(i=i&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var l=a.alternate,f=t,p=a,w=p.flags;switch(p.tag){case 0:case 11:case 15:os(f,p,i),mu(4,p);break;case 1:if(os(f,p,i),l=p,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(z){ot(l,l.return,z)}if(l=p,f=l.updateQueue,f!==null){var S=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)uS(D[f],S)}catch(z){ot(l,l.return,z)}}i&&w&64&&xx(p),gu(p,p.return);break;case 27:_x(p);case 26:case 5:os(f,p,i),i&&l===null&&w&4&&kx(p),gu(p,p.return);break;case 12:os(f,p,i);break;case 13:os(f,p,i),i&&w&4&&Px(f,p);break;case 22:p.memoizedState===null&&os(f,p,i),gu(p,p.return);break;case 30:break;default:os(f,p,i)}a=a.sibling}}function ug(t,a){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(t=a.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&tu(i))}function cg(t,a){t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&tu(t))}function Fr(t,a,i,l){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Lx(t,a,i,l),a=a.sibling}function Lx(t,a,i,l){var f=a.flags;switch(a.tag){case 0:case 11:case 15:Fr(t,a,i,l),f&2048&&mu(9,a);break;case 1:Fr(t,a,i,l);break;case 3:Fr(t,a,i,l),f&2048&&(t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&tu(t)));break;case 12:if(f&2048){Fr(t,a,i,l),t=a.stateNode;try{var p=a.memoizedProps,w=p.id,S=p.onPostCommit;typeof S=="function"&&S(w,a.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){ot(a,a.return,D)}}else Fr(t,a,i,l);break;case 13:Fr(t,a,i,l);break;case 23:break;case 22:p=a.stateNode,w=a.alternate,a.memoizedState!==null?p._visibility&2?Fr(t,a,i,l):yu(t,a):p._visibility&2?Fr(t,a,i,l):(p._visibility|=2,xo(t,a,i,l,(a.subtreeFlags&10256)!==0)),f&2048&&ug(w,a);break;case 24:Fr(t,a,i,l),f&2048&&cg(a.alternate,a);break;default:Fr(t,a,i,l)}}function xo(t,a,i,l,f){for(f=f&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var p=t,w=a,S=i,D=l,z=w.flags;switch(w.tag){case 0:case 11:case 15:xo(p,w,S,D,f),mu(8,w);break;case 23:break;case 22:var Y=w.stateNode;w.memoizedState!==null?Y._visibility&2?xo(p,w,S,D,f):yu(p,w):(Y._visibility|=2,xo(p,w,S,D,f)),f&&z&2048&&ug(w.alternate,w);break;case 24:xo(p,w,S,D,f),f&&z&2048&&cg(w.alternate,w);break;default:xo(p,w,S,D,f)}a=a.sibling}}function yu(t,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var i=t,l=a,f=l.flags;switch(l.tag){case 22:yu(i,l),f&2048&&ug(l.alternate,l);break;case 24:yu(i,l),f&2048&&cg(l.alternate,l);break;default:yu(i,l)}a=a.sibling}}var vu=8192;function To(t){if(t.subtreeFlags&vu)for(t=t.child;t!==null;)Vx(t),t=t.sibling}function Vx(t){switch(t.tag){case 26:To(t),t.flags&vu&&t.memoizedState!==null&&p3(fr,t.memoizedState,t.memoizedProps);break;case 5:To(t);break;case 3:case 4:var a=fr;fr=Zh(t.stateNode.containerInfo),To(t),fr=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=vu,vu=16777216,To(t),vu=a):To(t));break;default:To(t)}}function Rx(t){var a=t.alternate;if(a!==null&&(t=a.child,t!==null)){a.child=null;do a=t.sibling,t.sibling=null,t=a;while(t!==null)}}function bu(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var i=0;i<a.length;i++){var l=a[i];Kt=l,Fx(l,t)}Rx(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)jx(t),t=t.sibling}function jx(t){switch(t.tag){case 0:case 11:case 15:bu(t),t.flags&2048&&ss(9,t,t.return);break;case 3:bu(t);break;case 12:bu(t);break;case 22:var a=t.stateNode;t.memoizedState!==null&&a._visibility&2&&(t.return===null||t.return.tag!==13)?(a._visibility&=-3,Uh(t)):bu(t);break;default:bu(t)}}function Uh(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var i=0;i<a.length;i++){var l=a[i];Kt=l,Fx(l,t)}Rx(t)}for(t=t.child;t!==null;){switch(a=t,a.tag){case 0:case 11:case 15:ss(8,a,a.return),Uh(a);break;case 22:i=a.stateNode,i._visibility&2&&(i._visibility&=-3,Uh(a));break;default:Uh(a)}t=t.sibling}}function Fx(t,a){for(;Kt!==null;){var i=Kt;switch(i.tag){case 0:case 11:case 15:ss(8,i,a);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var l=i.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:tu(i.memoizedState.cache)}if(l=i.child,l!==null)l.return=i,Kt=l;else e:for(i=t;Kt!==null;){l=Kt;var f=l.sibling,p=l.return;if(Nx(l),l===i){Kt=null;break e}if(f!==null){f.return=p,Kt=f;break e}Kt=p}}}var N6={getCacheForType:function(t){var a=gn(qt),i=a.data.get(t);return i===void 0&&(i=t(),a.data.set(t,i)),i}},D6=typeof WeakMap=="function"?WeakMap:Map,Ze=0,lt=null,Re=null,qe=0,et=0,Bn=null,ls=!1,ko=!1,hg=!1,wa=0,St=0,us=0,mi=0,fg=0,ar=0,Co=0,wu=null,An=null,dg=!1,pg=0,zh=1/0,qh=null,cs=null,ln=0,hs=null,_o=null,Io=0,mg=0,gg=null,Bx=null,Eu=0,yg=null;function Un(){if((Ze&2)!==0&&qe!==0)return qe&-qe;if($.T!==null){var t=mo;return t!==0?t:Tg()}return Ga()}function Ux(){ar===0&&(ar=(qe&536870912)===0||Ke?Nl():536870912);var t=rr.current;return t!==null&&(t.flags|=32),ar}function zn(t,a,i){(t===lt&&(et===2||et===9)||t.cancelPendingCommit!==null)&&(Ao(t,0),fs(t,qe,ar,!1)),Yr(t,i),((Ze&2)===0||t!==lt)&&(t===lt&&((Ze&2)===0&&(mi|=i),St===4&&fs(t,qe,ar,!1)),Br(t))}function zx(t,a,i){if((Ze&6)!==0)throw Error(s(327));var l=!i&&(a&124)===0&&(a&t.expiredLanes)===0||Us(t,a),f=l?O6(t,a):wg(t,a,!0),p=l;do{if(f===0){ko&&!l&&fs(t,a,0,!1);break}else{if(i=t.current.alternate,p&&!P6(i)){f=wg(t,a,!1),p=!1;continue}if(f===2){if(p=a,t.errorRecoveryDisabledLanes&p)var w=0;else w=t.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){a=w;e:{var S=t;f=wu;var D=S.current.memoizedState.isDehydrated;if(D&&(Ao(S,w).flags|=256),w=wg(S,w,!1),w!==2){if(hg&&!D){S.errorRecoveryDisabledLanes|=p,mi|=p,f=4;break e}p=An,An=f,p!==null&&(An===null?An=p:An.push.apply(An,p))}f=w}if(p=!1,f!==2)continue}}if(f===1){Ao(t,0),fs(t,a,0,!0);break}e:{switch(l=t,p=f,p){case 0:case 1:throw Error(s(345));case 4:if((a&4194048)!==a)break;case 6:fs(l,a,ar,!ls);break e;case 2:An=null;break;case 3:case 5:break;default:throw Error(s(329))}if((a&62914560)===a&&(f=pg+300-dt(),10<f)){if(fs(l,a,ar,!ls),$i(l,0,!0)!==0)break e;l.timeoutHandle=yT(qx.bind(null,l,i,An,qh,dg,a,ar,mi,Co,ls,p,2,-0,0),f);break e}qx(l,i,An,qh,dg,a,ar,mi,Co,ls,p,0,-0,0)}}break}while(!0);Br(t)}function qx(t,a,i,l,f,p,w,S,D,z,Y,ee,H,G){if(t.timeoutHandle=-1,ee=a.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(Iu={stylesheets:null,count:0,unsuspend:d3},Vx(a),ee=m3(),ee!==null)){t.cancelPendingCommit=ee(Kx.bind(null,t,a,p,i,l,f,w,S,D,Y,1,H,G)),fs(t,p,w,!z);return}Kx(t,a,p,i,l,f,w,S,D)}function P6(t){for(var a=t;;){var i=a.tag;if((i===0||i===11||i===15)&&a.flags&16384&&(i=a.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var l=0;l<i.length;l++){var f=i[l],p=f.getSnapshot;f=f.value;try{if(!Vn(p(),f))return!1}catch{return!1}}if(i=a.child,a.subtreeFlags&16384&&i!==null)i.return=a,a=i;else{if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function fs(t,a,i,l){a&=~fg,a&=~mi,t.suspendedLanes|=a,t.pingedLanes&=~a,l&&(t.warmLanes|=a),l=t.expirationTimes;for(var f=a;0<f;){var p=31-Ft(f),w=1<<p;l[p]=-1,f&=~w}i!==0&&Cr(t,i,a)}function Hh(){return(Ze&6)===0?(Su(0),!1):!0}function vg(){if(Re!==null){if(et===0)var t=Re.return;else t=Re,ha=ui=null,Lm(t),Eo=null,fu=0,t=Re;for(;t!==null;)Sx(t.alternate,t),t=t.return;Re=null}}function Ao(t,a){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,K6(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),vg(),lt=t,Re=i=la(t.current,null),qe=a,et=0,Bn=null,ls=!1,ko=Us(t,a),hg=!1,Co=ar=fg=mi=us=St=0,An=wu=null,dg=!1,(a&8)!==0&&(a|=a&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=a;0<l;){var f=31-Ft(l),p=1<<f;a|=t[f],l&=~p}return wa=a,fh(),i}function Hx(t,a){Oe=null,$.H=Dh,a===ru||a===Eh?(a=oS(),et=3):a===aS?(a=oS(),et=4):et=a===lx?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Bn=a,Re===null&&(St=1,Vh(t,Zn(a,t.current)))}function $x(){var t=$.H;return $.H=Dh,t===null?Dh:t}function Gx(){var t=$.A;return $.A=N6,t}function bg(){St=4,ls||(qe&4194048)!==qe&&rr.current!==null||(ko=!0),(us&134217727)===0&&(mi&134217727)===0||lt===null||fs(lt,qe,ar,!1)}function wg(t,a,i){var l=Ze;Ze|=2;var f=$x(),p=Gx();(lt!==t||qe!==a)&&(qh=null,Ao(t,a)),a=!1;var w=St;e:do try{if(et!==0&&Re!==null){var S=Re,D=Bn;switch(et){case 8:vg(),w=6;break e;case 3:case 2:case 9:case 6:rr.current===null&&(a=!0);var z=et;if(et=0,Bn=null,No(t,S,D,z),i&&ko){w=0;break e}break;default:z=et,et=0,Bn=null,No(t,S,D,z)}}M6(),w=St;break}catch(Y){Hx(t,Y)}while(!0);return a&&t.shellSuspendCounter++,ha=ui=null,Ze=l,$.H=f,$.A=p,Re===null&&(lt=null,qe=0,fh()),w}function M6(){for(;Re!==null;)Wx(Re)}function O6(t,a){var i=Ze;Ze|=2;var l=$x(),f=Gx();lt!==t||qe!==a?(qh=null,zh=dt()+500,Ao(t,a)):ko=Us(t,a);e:do try{if(et!==0&&Re!==null){a=Re;var p=Bn;t:switch(et){case 1:et=0,Bn=null,No(t,a,p,1);break;case 2:case 9:if(sS(p)){et=0,Bn=null,Qx(a);break}a=function(){et!==2&&et!==9||lt!==t||(et=7),Br(t)},p.then(a,a);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:sS(p)?(et=0,Bn=null,Qx(a)):(et=0,Bn=null,No(t,a,p,7));break;case 5:var w=null;switch(Re.tag){case 26:w=Re.memoizedState;case 5:case 27:var S=Re;if(!w||AT(w)){et=0,Bn=null;var D=S.sibling;if(D!==null)Re=D;else{var z=S.return;z!==null?(Re=z,$h(z)):Re=null}break t}}et=0,Bn=null,No(t,a,p,5);break;case 6:et=0,Bn=null,No(t,a,p,6);break;case 8:vg(),St=6;break e;default:throw Error(s(462))}}L6();break}catch(Y){Hx(t,Y)}while(!0);return ha=ui=null,$.H=l,$.A=f,Ze=i,Re!==null?0:(lt=null,qe=0,fh(),St)}function L6(){for(;Re!==null&&!Mt();)Wx(Re)}function Wx(t){var a=wx(t.alternate,t,wa);t.memoizedProps=t.pendingProps,a===null?$h(t):Re=a}function Qx(t){var a=t,i=a.alternate;switch(a.tag){case 15:case 0:a=px(i,a,a.pendingProps,a.type,void 0,qe);break;case 11:a=px(i,a,a.pendingProps,a.type.render,a.ref,qe);break;case 5:Lm(a);default:Sx(i,a),a=Re=XE(a,wa),a=wx(i,a,wa)}t.memoizedProps=t.pendingProps,a===null?$h(t):Re=a}function No(t,a,i,l){ha=ui=null,Lm(a),Eo=null,fu=0;var f=a.return;try{if(T6(t,f,a,i,qe)){St=1,Vh(t,Zn(i,t.current)),Re=null;return}}catch(p){if(f!==null)throw Re=f,p;St=1,Vh(t,Zn(i,t.current)),Re=null;return}a.flags&32768?(Ke||l===1?t=!0:ko||(qe&536870912)!==0?t=!1:(ls=t=!0,(l===2||l===9||l===3||l===6)&&(l=rr.current,l!==null&&l.tag===13&&(l.flags|=16384))),Xx(a,t)):$h(a)}function $h(t){var a=t;do{if((a.flags&32768)!==0){Xx(a,ls);return}t=a.return;var i=C6(a.alternate,a,wa);if(i!==null){Re=i;return}if(a=a.sibling,a!==null){Re=a;return}Re=a=t}while(a!==null);St===0&&(St=5)}function Xx(t,a){do{var i=_6(t.alternate,t);if(i!==null){i.flags&=32767,Re=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!a&&(t=t.sibling,t!==null)){Re=t;return}Re=t=i}while(t!==null);St=6,Re=null}function Kx(t,a,i,l,f,p,w,S,D){t.cancelPendingCommit=null;do Gh();while(ln!==0);if((Ze&6)!==0)throw Error(s(327));if(a!==null){if(a===t.current)throw Error(s(177));if(p=a.lanes|a.childLanes,p|=cm,Pl(t,i,p,w,S,D),t===lt&&(Re=lt=null,qe=0),_o=a,hs=t,Io=i,mg=p,gg=f,Bx=l,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,F6(Wr,function(){return tT(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,f=re.p,re.p=2,w=Ze,Ze|=4;try{I6(t,a,i)}finally{Ze=w,re.p=f,$.T=l}}ln=1,Yx(),Jx(),Zx()}}function Yx(){if(ln===1){ln=0;var t=hs,a=_o,i=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||i){i=$.T,$.T=null;var l=re.p;re.p=2;var f=Ze;Ze|=4;try{Mx(a,t);var p=Pg,w=FE(t.containerInfo),S=p.focusedElem,D=p.selectionRange;if(w!==S&&S&&S.ownerDocument&&jE(S.ownerDocument.documentElement,S)){if(D!==null&&sm(S)){var z=D.start,Y=D.end;if(Y===void 0&&(Y=z),"selectionStart"in S)S.selectionStart=z,S.selectionEnd=Math.min(Y,S.value.length);else{var ee=S.ownerDocument||document,H=ee&&ee.defaultView||window;if(H.getSelection){var G=H.getSelection(),Ce=S.textContent.length,Se=Math.min(D.start,Ce),st=D.end===void 0?Se:Math.min(D.end,Ce);!G.extend&&Se>st&&(w=st,st=Se,Se=w);var R=RE(S,Se),L=RE(S,st);if(R&&L&&(G.rangeCount!==1||G.anchorNode!==R.node||G.anchorOffset!==R.offset||G.focusNode!==L.node||G.focusOffset!==L.offset)){var U=ee.createRange();U.setStart(R.node,R.offset),G.removeAllRanges(),Se>st?(G.addRange(U),G.extend(L.node,L.offset)):(U.setEnd(L.node,L.offset),G.addRange(U))}}}}for(ee=[],G=S;G=G.parentNode;)G.nodeType===1&&ee.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ee.length;S++){var J=ee[S];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}af=!!Dg,Pg=Dg=null}finally{Ze=f,re.p=l,$.T=i}}t.current=a,ln=2}}function Jx(){if(ln===2){ln=0;var t=hs,a=_o,i=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||i){i=$.T,$.T=null;var l=re.p;re.p=2;var f=Ze;Ze|=4;try{Ax(t,a.alternate,a)}finally{Ze=f,re.p=l,$.T=i}}ln=3}}function Zx(){if(ln===4||ln===3){ln=0,mn();var t=hs,a=_o,i=Io,l=Bx;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?ln=5:(ln=0,_o=hs=null,eT(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(cs=null),Gi(i),a=a.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(ht,a,void 0,(a.current.flags&128)===128)}catch{}if(l!==null){a=$.T,f=re.p,re.p=2,$.T=null;try{for(var p=t.onRecoverableError,w=0;w<l.length;w++){var S=l[w];p(S.value,{componentStack:S.stack})}}finally{$.T=a,re.p=f}}(Io&3)!==0&&Gh(),Br(t),f=t.pendingLanes,(i&4194090)!==0&&(f&42)!==0?t===yg?Eu++:(Eu=0,yg=t):Eu=0,Su(0)}}function eT(t,a){(t.pooledCacheLanes&=a)===0&&(a=t.pooledCache,a!=null&&(t.pooledCache=null,tu(a)))}function Gh(t){return Yx(),Jx(),Zx(),tT()}function tT(){if(ln!==5)return!1;var t=hs,a=mg;mg=0;var i=Gi(Io),l=$.T,f=re.p;try{re.p=32>i?32:i,$.T=null,i=gg,gg=null;var p=hs,w=Io;if(ln=0,_o=hs=null,Io=0,(Ze&6)!==0)throw Error(s(331));var S=Ze;if(Ze|=4,jx(p.current),Lx(p,p.current,w,i),Ze=S,Su(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(ht,p)}catch{}return!0}finally{re.p=f,$.T=l,eT(t,a)}}function nT(t,a,i){a=Zn(i,a),a=Xm(t.stateNode,a,2),t=ts(t,a,2),t!==null&&(Yr(t,2),Br(t))}function ot(t,a,i){if(t.tag===3)nT(t,t,i);else for(;a!==null;){if(a.tag===3){nT(a,t,i);break}else if(a.tag===1){var l=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(cs===null||!cs.has(l))){t=Zn(i,t),i=ix(2),l=ts(a,i,2),l!==null&&(ox(i,l,a,t),Yr(l,2),Br(l));break}}a=a.return}}function Eg(t,a,i){var l=t.pingCache;if(l===null){l=t.pingCache=new D6;var f=new Set;l.set(a,f)}else f=l.get(a),f===void 0&&(f=new Set,l.set(a,f));f.has(i)||(hg=!0,f.add(i),t=V6.bind(null,t,a,i),a.then(t,t))}function V6(t,a,i){var l=t.pingCache;l!==null&&l.delete(a),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,lt===t&&(qe&i)===i&&(St===4||St===3&&(qe&62914560)===qe&&300>dt()-pg?(Ze&2)===0&&Ao(t,0):fg|=i,Co===qe&&(Co=0)),Br(t)}function rT(t,a){a===0&&(a=Dl()),t=co(t,a),t!==null&&(Yr(t,a),Br(t))}function R6(t){var a=t.memoizedState,i=0;a!==null&&(i=a.retryLane),rT(t,i)}function j6(t,a){var i=0;switch(t.tag){case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(i=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(a),rT(t,i)}function F6(t,a){return vt(t,a)}var Wh=null,Do=null,Sg=!1,Qh=!1,xg=!1,gi=0;function Br(t){t!==Do&&t.next===null&&(Do===null?Wh=Do=t:Do=Do.next=t),Qh=!0,Sg||(Sg=!0,U6())}function Su(t,a){if(!xg&&Qh){xg=!0;do for(var i=!1,l=Wh;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var p=0;else{var w=l.suspendedLanes,S=l.pingedLanes;p=(1<<31-Ft(42|t)+1)-1,p&=f&~(w&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(i=!0,oT(l,p))}else p=qe,p=$i(l,l===lt?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||Us(l,p)||(i=!0,oT(l,p));l=l.next}while(i);xg=!1}}function B6(){aT()}function aT(){Qh=Sg=!1;var t=0;gi!==0&&(X6()&&(t=gi),gi=0);for(var a=dt(),i=null,l=Wh;l!==null;){var f=l.next,p=sT(l,a);p===0?(l.next=null,i===null?Wh=f:i.next=f,f===null&&(Do=i)):(i=l,(t!==0||(p&3)!==0)&&(Qh=!0)),l=f}Su(t)}function sT(t,a){for(var i=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,p=t.pendingLanes&-62914561;0<p;){var w=31-Ft(p),S=1<<w,D=f[w];D===-1?((S&i)===0||(S&l)!==0)&&(f[w]=Al(S,a)):D<=a&&(t.expiredLanes|=S),p&=~S}if(a=lt,i=qe,i=$i(t,t===a?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,i===0||t===a&&(et===2||et===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&De(l),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||Us(t,i)){if(a=i&-i,a===t.callbackPriority)return a;switch(l!==null&&De(l),Gi(i)){case 2:case 8:i=nn;break;case 32:i=Wr;break;case 268435456:i=qa;break;default:i=Wr}return l=iT.bind(null,t),i=vt(i,l),t.callbackPriority=a,t.callbackNode=i,a}return l!==null&&l!==null&&De(l),t.callbackPriority=2,t.callbackNode=null,2}function iT(t,a){if(ln!==0&&ln!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(Gh()&&t.callbackNode!==i)return null;var l=qe;return l=$i(t,t===lt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(zx(t,l,a),sT(t,dt()),t.callbackNode!=null&&t.callbackNode===i?iT.bind(null,t):null)}function oT(t,a){if(Gh())return null;zx(t,a,!0)}function U6(){Y6(function(){(Ze&6)!==0?vt(On,B6):aT()})}function Tg(){return gi===0&&(gi=Nl()),gi}function lT(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ji(""+t)}function uT(t,a){var i=a.ownerDocument.createElement("input");return i.name=a.name,i.value=a.value,t.id&&i.setAttribute("form",t.id),a.parentNode.insertBefore(i,a),t=new FormData(t),i.parentNode.removeChild(i),t}function z6(t,a,i,l,f){if(a==="submit"&&i&&i.stateNode===f){var p=lT((f[Ot]||null).action),w=l.submitter;w&&(a=(a=w[Ot]||null)?lT(a.formAction):w.getAttribute("formAction"),a!==null&&(p=a,w=null));var S=new Zi("action","action",null,l,f);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(gi!==0){var D=w?uT(f,w):new FormData(f);Hm(i,{pending:!0,data:D,method:f.method,action:p},null,D)}}else typeof p=="function"&&(S.preventDefault(),D=w?uT(f,w):new FormData(f),Hm(i,{pending:!0,data:D,method:f.method,action:p},p,D))},currentTarget:f}]})}}for(var kg=0;kg<um.length;kg++){var Cg=um[kg],q6=Cg.toLowerCase(),H6=Cg[0].toUpperCase()+Cg.slice(1);hr(q6,"on"+H6)}hr(zE,"onAnimationEnd"),hr(qE,"onAnimationIteration"),hr(HE,"onAnimationStart"),hr("dblclick","onDoubleClick"),hr("focusin","onFocus"),hr("focusout","onBlur"),hr(o6,"onTransitionRun"),hr(l6,"onTransitionStart"),hr(u6,"onTransitionCancel"),hr($E,"onTransitionEnd"),Zr("onMouseEnter",["mouseout","mouseover"]),Zr("onMouseLeave",["mouseout","mouseover"]),Zr("onPointerEnter",["pointerout","pointerover"]),Zr("onPointerLeave",["pointerout","pointerover"]),ur("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ur("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ur("onBeforeInput",["compositionend","keypress","textInput","paste"]),ur("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ur("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ur("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xu));function cT(t,a){a=(a&4)!==0;for(var i=0;i<t.length;i++){var l=t[i],f=l.event;l=l.listeners;e:{var p=void 0;if(a)for(var w=l.length-1;0<=w;w--){var S=l[w],D=S.instance,z=S.currentTarget;if(S=S.listener,D!==p&&f.isPropagationStopped())break e;p=S,f.currentTarget=z;try{p(f)}catch(Y){Lh(Y)}f.currentTarget=null,p=D}else for(w=0;w<l.length;w++){if(S=l[w],D=S.instance,z=S.currentTarget,S=S.listener,D!==p&&f.isPropagationStopped())break e;p=S,f.currentTarget=z;try{p(f)}catch(Y){Lh(Y)}f.currentTarget=null,p=D}}}}function je(t,a){var i=a[Ol];i===void 0&&(i=a[Ol]=new Set);var l=t+"__bubble";i.has(l)||(hT(a,t,2,!1),i.add(l))}function _g(t,a,i){var l=0;a&&(l|=4),hT(i,t,l,a)}var Xh="_reactListening"+Math.random().toString(36).slice(2);function Ig(t){if(!t[Xh]){t[Xh]=!0,Ll.forEach(function(i){i!=="selectionchange"&&($6.has(i)||_g(i,!1,t),_g(i,!0,t))});var a=t.nodeType===9?t:t.ownerDocument;a===null||a[Xh]||(a[Xh]=!0,_g("selectionchange",!1,a))}}function hT(t,a,i,l){switch(LT(a)){case 2:var f=v3;break;case 8:f=b3;break;default:f=zg}i=f.bind(null,a,i,t),f=void 0,!Yn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(a,i,{capture:!0,passive:f}):t.addEventListener(a,i,!0):f!==void 0?t.addEventListener(a,i,{passive:f}):t.addEventListener(a,i,!1)}function Ag(t,a,i,l,f){var p=l;if((a&1)===0&&(a&2)===0&&l!==null)e:for(;;){if(l===null)return;var w=l.tag;if(w===3||w===4){var S=l.stateNode.containerInfo;if(S===f)break;if(w===4)for(w=l.return;w!==null;){var D=w.tag;if((D===3||D===4)&&w.stateNode.containerInfo===f)return;w=w.return}for(;S!==null;){if(w=Jr(S),w===null)return;if(D=w.tag,D===5||D===6||D===26||D===27){l=p=w;continue e}S=S.parentNode}}l=l.return}Yc(function(){var z=p,Y=Kn(i),ee=[];e:{var H=GE.get(t);if(H!==void 0){var G=Zi,Ce=t;switch(t){case"keypress":if(Pr(i)===0)break e;case"keydown":case"keyup":G=so;break;case"focusin":Ce="focus",G=no;break;case"focusout":Ce="blur",G=no;break;case"beforeblur":case"afterblur":G=no;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Jn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=tm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=sh;break;case zE:case qE:case HE:G=ro;break;case $E:G=oh;break;case"scroll":case"scrollend":G=Jc;break;case"wheel":G=io;break;case"copy":case"cut":case"paste":G=ao;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Wl;break;case"toggle":case"beforetoggle":G=uh}var Se=(a&4)!==0,st=!Se&&(t==="scroll"||t==="scrollend"),R=Se?H!==null?H+"Capture":null:H;Se=[];for(var L=z,U;L!==null;){var J=L;if(U=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||U===null||R===null||(J=Xs(L,R),J!=null&&Se.push(Tu(L,J,U))),st)break;L=L.return}0<Se.length&&(H=new G(H,Ce,null,i,Y),ee.push({event:H,listeners:Se}))}}if((a&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",H&&i!==na&&(Ce=i.relatedTarget||i.fromElement)&&(Jr(Ce)||Ce[Qn]))break e;if((G||H)&&(H=Y.window===Y?Y:(H=Y.ownerDocument)?H.defaultView||H.parentWindow:window,G?(Ce=i.relatedTarget||i.toElement,G=z,Ce=Ce?Jr(Ce):null,Ce!==null&&(st=u(Ce),Se=Ce.tag,Ce!==st||Se!==5&&Se!==27&&Se!==6)&&(Ce=null)):(G=null,Ce=z),G!==Ce)){if(Se=Jn,J="onMouseLeave",R="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(Se=Wl,J="onPointerLeave",R="onPointerEnter",L="pointer"),st=G==null?H:Ir(G),U=Ce==null?H:Ir(Ce),H=new Se(J,L+"leave",G,i,Y),H.target=st,H.relatedTarget=U,J=null,Jr(Y)===z&&(Se=new Se(R,L+"enter",Ce,i,Y),Se.target=U,Se.relatedTarget=st,J=Se),st=J,G&&Ce)t:{for(Se=G,R=Ce,L=0,U=Se;U;U=Po(U))L++;for(U=0,J=R;J;J=Po(J))U++;for(;0<L-U;)Se=Po(Se),L--;for(;0<U-L;)R=Po(R),U--;for(;L--;){if(Se===R||R!==null&&Se===R.alternate)break t;Se=Po(Se),R=Po(R)}Se=null}else Se=null;G!==null&&fT(ee,H,G,Se,!1),Ce!==null&&st!==null&&fT(ee,st,Ce,Se,!0)}}e:{if(H=z?Ir(z):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var de=DE;else if(an(H))if(PE)de=a6;else{de=n6;var Le=t6}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?z&&Bl(z.elementType)&&(de=DE):de=r6;if(de&&(de=de(t,z))){oa(ee,de,i,Y);break e}Le&&Le(t,H,z),t==="focusout"&&z&&H.type==="number"&&z.memoizedProps.value!=null&&Ka(H,"number",H.value)}switch(Le=z?Ir(z):window,t){case"focusin":(an(Le)||Le.contentEditable==="true")&&(oo=Le,im=z,Kl=null);break;case"focusout":Kl=im=oo=null;break;case"mousedown":om=!0;break;case"contextmenu":case"mouseup":case"dragend":om=!1,BE(ee,i,Y);break;case"selectionchange":if(i6)break;case"keydown":case"keyup":BE(ee,i,Y)}var we;if(Lr)e:{switch(t){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Ge?W(t,i)&&(xe="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(xe="onCompositionStart");xe&&(b&&i.locale!=="ko"&&(Ge||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Ge&&(we=zl()):(Dr=Y,Ya="value"in Dr?Dr.value:Dr.textContent,Ge=!0)),Le=Kh(z,xe),0<Le.length&&(xe=new $l(xe,t,null,i,Y),ee.push({event:xe,listeners:Le}),we?xe.data=we:(we=ue(i),we!==null&&(xe.data=we)))),(we=y?zt(t,i):Xe(t,i))&&(xe=Kh(z,"onBeforeInput"),0<xe.length&&(Le=new $l("onBeforeInput","beforeinput",null,i,Y),ee.push({event:Le,listeners:xe}),Le.data=we)),z6(ee,t,z,i,Y)}cT(ee,a)})}function Tu(t,a,i){return{instance:t,listener:a,currentTarget:i}}function Kh(t,a){for(var i=a+"Capture",l=[];t!==null;){var f=t,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=Xs(t,i),f!=null&&l.unshift(Tu(t,f,p)),f=Xs(t,a),f!=null&&l.push(Tu(t,f,p))),t.tag===3)return l;t=t.return}return[]}function Po(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function fT(t,a,i,l,f){for(var p=a._reactName,w=[];i!==null&&i!==l;){var S=i,D=S.alternate,z=S.stateNode;if(S=S.tag,D!==null&&D===l)break;S!==5&&S!==26&&S!==27||z===null||(D=z,f?(z=Xs(i,p),z!=null&&w.unshift(Tu(i,z,D))):f||(z=Xs(i,p),z!=null&&w.push(Tu(i,z,D)))),i=i.return}w.length!==0&&t.push({event:a,listeners:w})}var G6=/\r\n?/g,W6=/\u0000|\uFFFD/g;function dT(t){return(typeof t=="string"?t:""+t).replace(G6,`
`).replace(W6,"")}function pT(t,a){return a=dT(a),dT(t)===a}function Yh(){}function at(t,a,i,l,f,p){switch(i){case"children":typeof l=="string"?a==="body"||a==="textarea"&&l===""||Xn(t,l):(typeof l=="number"||typeof l=="bigint")&&a!=="body"&&Xn(t,""+l);break;case"className":Ar(t,"class",l);break;case"tabIndex":Ar(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ar(t,i,l);break;case"style":Fl(t,l,p);break;case"data":if(a!=="object"){Ar(t,"data",l);break}case"src":case"href":if(l===""&&(a!=="a"||i!=="href")){t.removeAttribute(i);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(i);break}l=Ji(""+l),t.setAttribute(i,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(i==="formAction"?(a!=="input"&&at(t,a,"name",f.name,f,null),at(t,a,"formEncType",f.formEncType,f,null),at(t,a,"formMethod",f.formMethod,f,null),at(t,a,"formTarget",f.formTarget,f,null)):(at(t,a,"encType",f.encType,f,null),at(t,a,"method",f.method,f,null),at(t,a,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(i);break}l=Ji(""+l),t.setAttribute(i,l);break;case"onClick":l!=null&&(t.onclick=Yh);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(i=l.__html,i!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=i}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}i=Ji(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(i,""+l):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":l===!0?t.setAttribute(i,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(i,l):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(i,l):t.removeAttribute(i);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(i):t.setAttribute(i,l);break;case"popover":je("beforetoggle",t),je("toggle",t),Xa(t,"popover",l);break;case"xlinkActuate":rn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":rn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":rn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":rn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":rn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":rn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":rn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":rn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":rn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Xa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Zp.get(i)||i,Xa(t,i,l))}}function Ng(t,a,i,l,f,p){switch(i){case"style":Fl(t,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(i=l.__html,i!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=i}}break;case"children":typeof l=="string"?Xn(t,l):(typeof l=="number"||typeof l=="bigint")&&Xn(t,""+l);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Yh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wi.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(f=i.endsWith("Capture"),a=i.slice(2,f?i.length-7:void 0),p=t[Ot]||null,p=p!=null?p[i]:null,typeof p=="function"&&t.removeEventListener(a,p,f),typeof l=="function")){typeof p!="function"&&p!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(a,l,f);break e}i in t?t[i]=l:l===!0?t.setAttribute(i,""):Xa(t,i,l)}}}function un(t,a,i){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",t),je("load",t);var l=!1,f=!1,p;for(p in i)if(i.hasOwnProperty(p)){var w=i[p];if(w!=null)switch(p){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:at(t,a,p,w,i,null)}}f&&at(t,a,"srcSet",i.srcSet,i,null),l&&at(t,a,"src",i.src,i,null);return;case"input":je("invalid",t);var S=p=w=f=null,D=null,z=null;for(l in i)if(i.hasOwnProperty(l)){var Y=i[l];if(Y!=null)switch(l){case"name":f=Y;break;case"type":w=Y;break;case"checked":D=Y;break;case"defaultChecked":z=Y;break;case"value":p=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,a));break;default:at(t,a,l,Y,i,null)}}Gs(t,p,S,D,z,w,f,!1),Yi(t);return;case"select":je("invalid",t),l=w=p=null;for(f in i)if(i.hasOwnProperty(f)&&(S=i[f],S!=null))switch(f){case"value":p=S;break;case"defaultValue":w=S;break;case"multiple":l=S;default:at(t,a,f,S,i,null)}a=p,i=w,t.multiple=!!l,a!=null?ta(t,!!l,a,!1):i!=null&&ta(t,!!l,i,!0);return;case"textarea":je("invalid",t),p=f=l=null;for(w in i)if(i.hasOwnProperty(w)&&(S=i[w],S!=null))switch(w){case"value":l=S;break;case"defaultValue":f=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:at(t,a,w,S,i,null)}Ws(t,l,f,p),Yi(t);return;case"option":for(D in i)if(i.hasOwnProperty(D)&&(l=i[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:at(t,a,D,l,i,null)}return;case"dialog":je("beforetoggle",t),je("toggle",t),je("cancel",t),je("close",t);break;case"iframe":case"object":je("load",t);break;case"video":case"audio":for(l=0;l<xu.length;l++)je(xu[l],t);break;case"image":je("error",t),je("load",t);break;case"details":je("toggle",t);break;case"embed":case"source":case"link":je("error",t),je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in i)if(i.hasOwnProperty(z)&&(l=i[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:at(t,a,z,l,i,null)}return;default:if(Bl(a)){for(Y in i)i.hasOwnProperty(Y)&&(l=i[Y],l!==void 0&&Ng(t,a,Y,l,i,void 0));return}}for(S in i)i.hasOwnProperty(S)&&(l=i[S],l!=null&&at(t,a,S,l,i,null))}function Q6(t,a,i,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,w=null,S=null,D=null,z=null,Y=null;for(G in i){var ee=i[G];if(i.hasOwnProperty(G)&&ee!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":D=ee;default:l.hasOwnProperty(G)||at(t,a,G,null,l,ee)}}for(var H in l){var G=l[H];if(ee=i[H],l.hasOwnProperty(H)&&(G!=null||ee!=null))switch(H){case"type":p=G;break;case"name":f=G;break;case"checked":z=G;break;case"defaultChecked":Y=G;break;case"value":w=G;break;case"defaultValue":S=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,a));break;default:G!==ee&&at(t,a,H,G,l,ee)}}Ln(t,w,S,D,z,Y,p,f);return;case"select":G=w=S=H=null;for(p in i)if(D=i[p],i.hasOwnProperty(p)&&D!=null)switch(p){case"value":break;case"multiple":G=D;default:l.hasOwnProperty(p)||at(t,a,p,null,l,D)}for(f in l)if(p=l[f],D=i[f],l.hasOwnProperty(f)&&(p!=null||D!=null))switch(f){case"value":H=p;break;case"defaultValue":S=p;break;case"multiple":w=p;default:p!==D&&at(t,a,f,p,l,D)}a=S,i=w,l=G,H!=null?ta(t,!!i,H,!1):!!l!=!!i&&(a!=null?ta(t,!!i,a,!0):ta(t,!!i,i?[]:"",!1));return;case"textarea":G=H=null;for(S in i)if(f=i[S],i.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:at(t,a,S,null,l,f)}for(w in l)if(f=l[w],p=i[w],l.hasOwnProperty(w)&&(f!=null||p!=null))switch(w){case"value":H=f;break;case"defaultValue":G=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==p&&at(t,a,w,f,l,p)}nt(t,H,G);return;case"option":for(var Ce in i)if(H=i[Ce],i.hasOwnProperty(Ce)&&H!=null&&!l.hasOwnProperty(Ce))switch(Ce){case"selected":t.selected=!1;break;default:at(t,a,Ce,null,l,H)}for(D in l)if(H=l[D],G=i[D],l.hasOwnProperty(D)&&H!==G&&(H!=null||G!=null))switch(D){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:at(t,a,D,H,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in i)H=i[Se],i.hasOwnProperty(Se)&&H!=null&&!l.hasOwnProperty(Se)&&at(t,a,Se,null,l,H);for(z in l)if(H=l[z],G=i[z],l.hasOwnProperty(z)&&H!==G&&(H!=null||G!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,a));break;default:at(t,a,z,H,l,G)}return;default:if(Bl(a)){for(var st in i)H=i[st],i.hasOwnProperty(st)&&H!==void 0&&!l.hasOwnProperty(st)&&Ng(t,a,st,void 0,l,H);for(Y in l)H=l[Y],G=i[Y],!l.hasOwnProperty(Y)||H===G||H===void 0&&G===void 0||Ng(t,a,Y,H,l,G);return}}for(var R in i)H=i[R],i.hasOwnProperty(R)&&H!=null&&!l.hasOwnProperty(R)&&at(t,a,R,null,l,H);for(ee in l)H=l[ee],G=i[ee],!l.hasOwnProperty(ee)||H===G||H==null&&G==null||at(t,a,ee,H,l,G)}var Dg=null,Pg=null;function Jh(t){return t.nodeType===9?t:t.ownerDocument}function mT(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gT(t,a){if(t===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&a==="foreignObject"?0:t}function Mg(t,a){return t==="textarea"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Og=null;function X6(){var t=window.event;return t&&t.type==="popstate"?t===Og?!1:(Og=t,!0):(Og=null,!1)}var yT=typeof setTimeout=="function"?setTimeout:void 0,K6=typeof clearTimeout=="function"?clearTimeout:void 0,vT=typeof Promise=="function"?Promise:void 0,Y6=typeof queueMicrotask=="function"?queueMicrotask:typeof vT<"u"?function(t){return vT.resolve(null).then(t).catch(J6)}:yT;function J6(t){setTimeout(function(){throw t})}function ds(t){return t==="head"}function bT(t,a){var i=a,l=0,f=0;do{var p=i.nextSibling;if(t.removeChild(i),p&&p.nodeType===8)if(i=p.data,i==="/$"){if(0<l&&8>l){i=l;var w=t.ownerDocument;if(i&1&&ku(w.documentElement),i&2&&ku(w.body),i&4)for(i=w.head,ku(i),w=i.firstChild;w;){var S=w.nextSibling,D=w.nodeName;w[zs]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&w.rel.toLowerCase()==="stylesheet"||i.removeChild(w),w=S}}if(f===0){t.removeChild(p),Mu(a);return}f--}else i==="$"||i==="$?"||i==="$!"?f++:l=i.charCodeAt(0)-48;else l=0;i=p}while(i);Mu(a)}function Lg(t){var a=t.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var i=a;switch(a=a.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Lg(i),Qa(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function Z6(t,a,i,l){for(;t.nodeType===1;){var f=i;if(t.nodeName.toLowerCase()!==a.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[zs])switch(a){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(p=t.getAttribute("rel"),p==="stylesheet"&&t.hasAttribute("data-precedence")||p!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(p=t.getAttribute("src"),(p!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(a==="input"&&t.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===p)return t}else return t;if(t=dr(t.nextSibling),t===null)break}return null}function e3(t,a,i){if(a==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=dr(t.nextSibling),t===null))return null;return t}function Vg(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function t3(t,a){var i=t.ownerDocument;if(t.data!=="$?"||i.readyState==="complete")a();else{var l=function(){a(),i.removeEventListener("DOMContentLoaded",l)};i.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function dr(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break;if(a===8){if(a=t.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return t}var Rg=null;function wT(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(a===0)return t;a--}else i==="/$"&&a++}t=t.previousSibling}return null}function ET(t,a,i){switch(a=Jh(i),t){case"html":if(t=a.documentElement,!t)throw Error(s(452));return t;case"head":if(t=a.head,!t)throw Error(s(453));return t;case"body":if(t=a.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function ku(t){for(var a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Qa(t)}var sr=new Map,ST=new Set;function Zh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ea=re.d;re.d={f:n3,r:r3,D:a3,C:s3,L:i3,m:o3,X:u3,S:l3,M:c3};function n3(){var t=Ea.f(),a=Hh();return t||a}function r3(t){var a=_r(t);a!==null&&a.tag===5&&a.type==="form"?zS(a):Ea.r(t)}var Mo=typeof document>"u"?null:document;function xT(t,a,i){var l=Mo;if(l&&typeof a=="string"&&a){var f=Ut(a);f='link[rel="'+t+'"][href="'+f+'"]',typeof i=="string"&&(f+='[crossorigin="'+i+'"]'),ST.has(f)||(ST.add(f),t={rel:t,crossOrigin:i,href:a},l.querySelector(f)===null&&(a=l.createElement("link"),un(a,"link",t),Ct(a),l.head.appendChild(a)))}}function a3(t){Ea.D(t),xT("dns-prefetch",t,null)}function s3(t,a){Ea.C(t,a),xT("preconnect",t,a)}function i3(t,a,i){Ea.L(t,a,i);var l=Mo;if(l&&t&&a){var f='link[rel="preload"][as="'+Ut(a)+'"]';a==="image"&&i&&i.imageSrcSet?(f+='[imagesrcset="'+Ut(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(f+='[imagesizes="'+Ut(i.imageSizes)+'"]')):f+='[href="'+Ut(t)+'"]';var p=f;switch(a){case"style":p=Oo(t);break;case"script":p=Lo(t)}sr.has(p)||(t=v({rel:"preload",href:a==="image"&&i&&i.imageSrcSet?void 0:t,as:a},i),sr.set(p,t),l.querySelector(f)!==null||a==="style"&&l.querySelector(Cu(p))||a==="script"&&l.querySelector(_u(p))||(a=l.createElement("link"),un(a,"link",t),Ct(a),l.head.appendChild(a)))}}function o3(t,a){Ea.m(t,a);var i=Mo;if(i&&t){var l=a&&typeof a.as=="string"?a.as:"script",f='link[rel="modulepreload"][as="'+Ut(l)+'"][href="'+Ut(t)+'"]',p=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Lo(t)}if(!sr.has(p)&&(t=v({rel:"modulepreload",href:t},a),sr.set(p,t),i.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(_u(p)))return}l=i.createElement("link"),un(l,"link",t),Ct(l),i.head.appendChild(l)}}}function l3(t,a,i){Ea.S(t,a,i);var l=Mo;if(l&&t){var f=bn(l).hoistableStyles,p=Oo(t);a=a||"default";var w=f.get(p);if(!w){var S={loading:0,preload:null};if(w=l.querySelector(Cu(p)))S.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":a},i),(i=sr.get(p))&&jg(t,i);var D=w=l.createElement("link");Ct(D),un(D,"link",t),D._p=new Promise(function(z,Y){D.onload=z,D.onerror=Y}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,ef(w,a,l)}w={type:"stylesheet",instance:w,count:1,state:S},f.set(p,w)}}}function u3(t,a){Ea.X(t,a);var i=Mo;if(i&&t){var l=bn(i).hoistableScripts,f=Lo(t),p=l.get(f);p||(p=i.querySelector(_u(f)),p||(t=v({src:t,async:!0},a),(a=sr.get(f))&&Fg(t,a),p=i.createElement("script"),Ct(p),un(p,"link",t),i.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function c3(t,a){Ea.M(t,a);var i=Mo;if(i&&t){var l=bn(i).hoistableScripts,f=Lo(t),p=l.get(f);p||(p=i.querySelector(_u(f)),p||(t=v({src:t,async:!0,type:"module"},a),(a=sr.get(f))&&Fg(t,a),p=i.createElement("script"),Ct(p),un(p,"link",t),i.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function TT(t,a,i,l){var f=(f=oe.current)?Zh(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(a=Oo(i.href),i=bn(f).hoistableStyles,l=i.get(a),l||(l={type:"style",instance:null,count:0,state:null},i.set(a,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=Oo(i.href);var p=bn(f).hoistableStyles,w=p.get(t);if(w||(f=f.ownerDocument||f,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(t,w),(p=f.querySelector(Cu(t)))&&!p._p&&(w.instance=p,w.state.loading=5),sr.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},sr.set(t,i),p||h3(f,t,i,w.state))),a&&l===null)throw Error(s(528,""));return w}if(a&&l!==null)throw Error(s(529,""));return null;case"script":return a=i.async,i=i.src,typeof i=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Lo(i),i=bn(f).hoistableScripts,l=i.get(a),l||(l={type:"script",instance:null,count:0,state:null},i.set(a,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Oo(t){return'href="'+Ut(t)+'"'}function Cu(t){return'link[rel="stylesheet"]['+t+"]"}function kT(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function h3(t,a,i,l){t.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=t.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),un(a,"link",i),Ct(a),t.head.appendChild(a))}function Lo(t){return'[src="'+Ut(t)+'"]'}function _u(t){return"script[async]"+t}function CT(t,a,i){if(a.count++,a.instance===null)switch(a.type){case"style":var l=t.querySelector('style[data-href~="'+Ut(i.href)+'"]');if(l)return a.instance=l,Ct(l),l;var f=v({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ct(l),un(l,"style",f),ef(l,i.precedence,t),a.instance=l;case"stylesheet":f=Oo(i.href);var p=t.querySelector(Cu(f));if(p)return a.state.loading|=4,a.instance=p,Ct(p),p;l=kT(i),(f=sr.get(f))&&jg(l,f),p=(t.ownerDocument||t).createElement("link"),Ct(p);var w=p;return w._p=new Promise(function(S,D){w.onload=S,w.onerror=D}),un(p,"link",l),a.state.loading|=4,ef(p,i.precedence,t),a.instance=p;case"script":return p=Lo(i.src),(f=t.querySelector(_u(p)))?(a.instance=f,Ct(f),f):(l=i,(f=sr.get(p))&&(l=v({},i),Fg(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),Ct(f),un(f,"link",l),t.head.appendChild(f),a.instance=f);case"void":return null;default:throw Error(s(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(l=a.instance,a.state.loading|=4,ef(l,i.precedence,t));return a.instance}function ef(t,a,i){for(var l=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,p=f,w=0;w<l.length;w++){var S=l[w];if(S.dataset.precedence===a)p=S;else if(p!==f)break}p?p.parentNode.insertBefore(t,p.nextSibling):(a=i.nodeType===9?i.head:i,a.insertBefore(t,a.firstChild))}function jg(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.title==null&&(t.title=a.title)}function Fg(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.integrity==null&&(t.integrity=a.integrity)}var tf=null;function _T(t,a,i){if(tf===null){var l=new Map,f=tf=new Map;f.set(i,l)}else f=tf,l=f.get(i),l||(l=new Map,f.set(i,l));if(l.has(t))return l;for(l.set(t,null),i=i.getElementsByTagName(t),f=0;f<i.length;f++){var p=i[f];if(!(p[zs]||p[Bt]||t==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var w=p.getAttribute(a)||"";w=t+w;var S=l.get(w);S?S.push(p):l.set(w,[p])}}return l}function IT(t,a,i){t=t.ownerDocument||t,t.head.insertBefore(i,a==="title"?t.querySelector("head > title"):null)}function f3(t,a,i){if(i===1||a.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return t=a.disabled,typeof a.precedence=="string"&&t==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function AT(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Iu=null;function d3(){}function p3(t,a,i){if(Iu===null)throw Error(s(475));var l=Iu;if(a.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Oo(i.href),p=t.querySelector(Cu(f));if(p){t=p._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=nf.bind(l),t.then(l,l)),a.state.loading|=4,a.instance=p,Ct(p);return}p=t.ownerDocument||t,i=kT(i),(f=sr.get(f))&&jg(i,f),p=p.createElement("link"),Ct(p);var w=p;w._p=new Promise(function(S,D){w.onload=S,w.onerror=D}),un(p,"link",i),a.instance=p}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(l.count++,a=nf.bind(l),t.addEventListener("load",a),t.addEventListener("error",a))}}function m3(){if(Iu===null)throw Error(s(475));var t=Iu;return t.stylesheets&&t.count===0&&Bg(t,t.stylesheets),0<t.count?function(a){var i=setTimeout(function(){if(t.stylesheets&&Bg(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(i)}}:null}function nf(){if(this.count--,this.count===0){if(this.stylesheets)Bg(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var rf=null;function Bg(t,a){t.stylesheets=null,t.unsuspend!==null&&(t.count++,rf=new Map,a.forEach(g3,t),rf=null,nf.call(t))}function g3(t,a){if(!(a.state.loading&4)){var i=rf.get(t);if(i)var l=i.get(null);else{i=new Map,rf.set(t,i);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var w=f[p];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(i.set(w.dataset.precedence,w),l=w)}l&&i.set(null,l)}f=a.instance,w=f.getAttribute("data-precedence"),p=i.get(w)||l,p===l&&i.set(null,f),i.set(w,f),this.count++,l=nf.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),p?p.parentNode.insertBefore(f,p.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),a.state.loading|=4}}var Au={$$typeof:se,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function y3(t,a,i,l,f,p,w,S){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Kr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kr(0),this.hiddenUpdates=Kr(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function NT(t,a,i,l,f,p,w,S,D,z,Y,ee){return t=new y3(t,a,i,w,S,D,z,ee),a=1,p===!0&&(a|=24),p=Rn(3,null,null,a),t.current=p,p.stateNode=t,a=Em(),a.refCount++,t.pooledCache=a,a.refCount++,p.memoizedState={element:l,isDehydrated:i,cache:a},km(p),t}function DT(t){return t?(t=ho,t):ho}function PT(t,a,i,l,f,p){f=DT(f),l.context===null?l.context=f:l.pendingContext=f,l=es(a),l.payload={element:i},p=p===void 0?null:p,p!==null&&(l.callback=p),i=ts(t,l,a),i!==null&&(zn(i,t,a),su(i,t,a))}function MT(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<a?i:a}}function Ug(t,a){MT(t,a),(t=t.alternate)&&MT(t,a)}function OT(t){if(t.tag===13){var a=co(t,67108864);a!==null&&zn(a,t,67108864),Ug(t,67108864)}}var af=!0;function v3(t,a,i,l){var f=$.T;$.T=null;var p=re.p;try{re.p=2,zg(t,a,i,l)}finally{re.p=p,$.T=f}}function b3(t,a,i,l){var f=$.T;$.T=null;var p=re.p;try{re.p=8,zg(t,a,i,l)}finally{re.p=p,$.T=f}}function zg(t,a,i,l){if(af){var f=qg(l);if(f===null)Ag(t,a,l,sf,i),VT(t,l);else if(E3(f,t,a,i,l))l.stopPropagation();else if(VT(t,l),a&4&&-1<w3.indexOf(t)){for(;f!==null;){var p=_r(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var w=lr(p.pendingLanes);if(w!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;w;){var D=1<<31-Ft(w);S.entanglements[1]|=D,w&=~D}Br(p),(Ze&6)===0&&(zh=dt()+500,Su(0))}}break;case 13:S=co(p,2),S!==null&&zn(S,p,2),Hh(),Ug(p,2)}if(p=qg(l),p===null&&Ag(t,a,l,sf,i),p===f)break;f=p}f!==null&&l.stopPropagation()}else Ag(t,a,l,null,i)}}function qg(t){return t=Kn(t),Hg(t)}var sf=null;function Hg(t){if(sf=null,t=Jr(t),t!==null){var a=u(t);if(a===null)t=null;else{var i=a.tag;if(i===13){if(t=h(a),t!==null)return t;t=null}else if(i===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;t=null}else a!==t&&(t=null)}}return sf=t,null}function LT(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mn()){case On:return 2;case nn:return 8;case Wr:case Il:return 32;case qa:return 268435456;default:return 32}default:return 32}}var $g=!1,ps=null,ms=null,gs=null,Nu=new Map,Du=new Map,ys=[],w3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function VT(t,a){switch(t){case"focusin":case"focusout":ps=null;break;case"dragenter":case"dragleave":ms=null;break;case"mouseover":case"mouseout":gs=null;break;case"pointerover":case"pointerout":Nu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Du.delete(a.pointerId)}}function Pu(t,a,i,l,f,p){return t===null||t.nativeEvent!==p?(t={blockedOn:a,domEventName:i,eventSystemFlags:l,nativeEvent:p,targetContainers:[f]},a!==null&&(a=_r(a),a!==null&&OT(a)),t):(t.eventSystemFlags|=l,a=t.targetContainers,f!==null&&a.indexOf(f)===-1&&a.push(f),t)}function E3(t,a,i,l,f){switch(a){case"focusin":return ps=Pu(ps,t,a,i,l,f),!0;case"dragenter":return ms=Pu(ms,t,a,i,l,f),!0;case"mouseover":return gs=Pu(gs,t,a,i,l,f),!0;case"pointerover":var p=f.pointerId;return Nu.set(p,Pu(Nu.get(p)||null,t,a,i,l,f)),!0;case"gotpointercapture":return p=f.pointerId,Du.set(p,Pu(Du.get(p)||null,t,a,i,l,f)),!0}return!1}function RT(t){var a=Jr(t.target);if(a!==null){var i=u(a);if(i!==null){if(a=i.tag,a===13){if(a=h(i),a!==null){t.blockedOn=a,Hc(t.priority,function(){if(i.tag===13){var l=Un();l=$a(l);var f=co(i,l);f!==null&&zn(f,i,l),Ug(i,l)}});return}}else if(a===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function of(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var i=qg(t.nativeEvent);if(i===null){i=t.nativeEvent;var l=new i.constructor(i.type,i);na=l,i.target.dispatchEvent(l),na=null}else return a=_r(i),a!==null&&OT(a),t.blockedOn=i,!1;a.shift()}return!0}function jT(t,a,i){of(t)&&i.delete(a)}function S3(){$g=!1,ps!==null&&of(ps)&&(ps=null),ms!==null&&of(ms)&&(ms=null),gs!==null&&of(gs)&&(gs=null),Nu.forEach(jT),Du.forEach(jT)}function lf(t,a){t.blockedOn===a&&(t.blockedOn=null,$g||($g=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,S3)))}var uf=null;function FT(t){uf!==t&&(uf=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){uf===t&&(uf=null);for(var a=0;a<t.length;a+=3){var i=t[a],l=t[a+1],f=t[a+2];if(typeof l!="function"){if(Hg(l||i)===null)continue;break}var p=_r(i);p!==null&&(t.splice(a,3),a-=3,Hm(p,{pending:!0,data:f,method:i.method,action:l},l,f))}}))}function Mu(t){function a(D){return lf(D,t)}ps!==null&&lf(ps,t),ms!==null&&lf(ms,t),gs!==null&&lf(gs,t),Nu.forEach(a),Du.forEach(a);for(var i=0;i<ys.length;i++){var l=ys[i];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ys.length&&(i=ys[0],i.blockedOn===null);)RT(i),i.blockedOn===null&&ys.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(l=0;l<i.length;l+=3){var f=i[l],p=i[l+1],w=f[Ot]||null;if(typeof p=="function")w||FT(i);else if(w){var S=null;if(p&&p.hasAttribute("formAction")){if(f=p,w=p[Ot]||null)S=w.formAction;else if(Hg(f)!==null)continue}else S=w.action;typeof S=="function"?i[l+1]=S:(i.splice(l,3),l-=3),FT(i)}}}function Gg(t){this._internalRoot=t}cf.prototype.render=Gg.prototype.render=function(t){var a=this._internalRoot;if(a===null)throw Error(s(409));var i=a.current,l=Un();PT(i,l,t,a,null,null)},cf.prototype.unmount=Gg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var a=t.containerInfo;PT(t.current,2,null,t,null,null),Hh(),a[Qn]=null}};function cf(t){this._internalRoot=t}cf.prototype.unstable_scheduleHydration=function(t){if(t){var a=Ga();t={blockedOn:null,target:t,priority:a};for(var i=0;i<ys.length&&a!==0&&a<ys[i].priority;i++);ys.splice(i,0,t),i===0&&RT(t)}};var BT=e.version;if(BT!=="19.1.1")throw Error(s(527,BT,"19.1.1"));re.findDOMNode=function(t){var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=m(a),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var x3={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hf.isDisabled&&hf.supportsFiber)try{ht=hf.inject(x3),Qe=hf}catch{}}return Ro.createRoot=function(t,a){if(!o(t))throw Error(s(299));var i=!1,l="",f=nx,p=rx,w=ax,S=null;return a!=null&&(a.unstable_strictMode===!0&&(i=!0),a.identifierPrefix!==void 0&&(l=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(S=a.unstable_transitionCallbacks)),a=NT(t,1,!1,null,null,i,l,f,p,w,S,null),t[Qn]=a.current,Ig(t),new Gg(a)},Ro.hydrateRoot=function(t,a,i){if(!o(t))throw Error(s(299));var l=!1,f="",p=nx,w=rx,S=ax,D=null,z=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(w=i.onCaughtError),i.onRecoverableError!==void 0&&(S=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(D=i.unstable_transitionCallbacks),i.formState!==void 0&&(z=i.formState)),a=NT(t,1,!0,a,i??null,l,f,p,w,S,D,z),a.context=DT(null),i=a.current,l=Un(),l=$a(l),f=es(l),f.callback=null,ts(i,f,l),i=l,a.current.lanes=i,Yr(a,i),Br(a),t[Qn]=a.current,Ig(t),new cf(a)},Ro.version="19.1.1",Ro}var ay;function XT(){if(ay)return df.exports;ay=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),df.exports=QT(),df.exports}var KT=XT();const YT=ws(KT),JT=()=>{};var sy={};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const iy=function(n){const e=[];let r=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);o<128?e[r++]=o:o<2048?(e[r++]=o>>6|192,e[r++]=o&63|128):(o&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++s)&1023),e[r++]=o>>18|240,e[r++]=o>>12&63|128,e[r++]=o>>6&63|128,e[r++]=o&63|128):(e[r++]=o>>12|224,e[r++]=o>>6&63|128,e[r++]=o&63|128)}return e},ZT=function(n){const e=[];let r=0,s=0;for(;r<n.length;){const o=n[r++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[r++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[r++],h=n[r++],d=n[r++],m=((o&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const u=n[r++],h=n[r++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},oy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<n.length;o+=3){const u=n[o],h=o+1<n.length,d=h?n[o+1]:0,m=o+2<n.length,g=m?n[o+2]:0,v=u>>2,E=(u&3)<<4|d>>4;let T=(d&15)<<2|g>>6,I=g&63;m||(I=64,h||(T=64)),s.push(r[v],r[E],r[T],r[I])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(iy(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):ZT(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<n.length;){const u=r[n.charAt(o++)],h=o<n.length?r[n.charAt(o)]:0;++o;const d=o<n.length?r[n.charAt(o)]:64;++o;const m=o<n.length?r[n.charAt(o)]:64;if(++o,u==null||h==null||d==null||m==null)throw new ek;const g=u<<2|h>>4;if(s.push(g),d!==64){const v=h<<4&240|d>>2;if(s.push(v),m!==64){const E=d<<6&192|m;s.push(E)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ek extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tk=function(n){const e=iy(n);return oy.encodeByteArray(e,!0)},Ou=function(n){return tk(n).replace(/\./g,"")},nk=function(n){try{return oy.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function rk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ak=()=>rk().__FIREBASE_DEFAULTS__,sk=()=>{if(typeof process>"u"||typeof sy>"u")return;const n=sy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},ik=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&nk(n[1]);return e&&JSON.parse(e)},mf=()=>{try{return JT()||ak()||sk()||ik()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},ok=n=>{var e,r;return(r=(e=mf())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[n]},lk=n=>{const e=ok(n);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),s]:[e.substring(0,r),s]},ly=()=>{var n;return(n=mf())===null||n===void 0?void 0:n.config};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class uk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,s)=>{r?this.reject(r):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,s))}}}/**
* @license
* Copyright 2025 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function gf(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ck(n){return(await fetch(n,{credentials:"include"})).ok}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function hk(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},s=e||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ou(JSON.stringify(r)),Ou(JSON.stringify(h)),""].join(".")}const jo={};function fk(){const n={prod:[],emulator:[]};for(const e of Object.keys(jo))jo[e]?n.emulator.push(e):n.prod.push(e);return n}function dk(n){let e=document.getElementById(n),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),r=!0),{created:r,element:e}}let uy=!1;function pk(n,e){if(typeof window>"u"||typeof document>"u"||!gf(window.location.host)||jo[n]===e||jo[n]||uy)return;jo[n]=e;function r(E){return`__firebase__banner__${E}`}const s="__firebase__banner",o=fk().prod.length>0;function u(){const E=document.getElementById(s);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function d(E,T){E.setAttribute("width","24"),E.setAttribute("id",T),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function m(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{uy=!0,u()},E}function g(E,T){E.setAttribute("id",T),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function v(){const E=dk(s),T=r("text"),I=document.getElementById(T)||document.createElement("span"),j=r("learnmore"),q=document.getElementById(j)||document.createElement("a"),F=r("preprendIcon"),X=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const te=E.element;h(te),g(q,j);const se=m();d(X,F),te.append(X,I,q,se),document.body.appendChild(te)}o?(I.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function mk(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gk(){var n;const e=(n=mf())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cy(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function yk(){return!gk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yf(){try{return typeof indexedDB=="object"}catch{return!1}}function vf(){return new Promise((n,e)=>{try{let r=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),r||self.indexedDB.deleteDatabase(s),n(!0)},o.onupgradeneeded=()=>{r=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(r){e(r)}})}function hy(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const vk="FirebaseError";class Sa extends Error{constructor(e,r,s){super(r),this.code=e,this.customData=s,this.name=vk,Object.setPrototypeOf(this,Sa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lu.prototype.create)}}class Lu{constructor(e,r,s){this.service=e,this.serviceName=r,this.errors=s}create(e,...r){const s=r[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?bk(u,s):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new Sa(o,d,s)}}function bk(n,e){return n.replace(wk,(r,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const wk=/\{\$([^}]+)}/g;function Fo(n,e){if(n===e)return!0;const r=Object.keys(n),s=Object.keys(e);for(const o of r){if(!s.includes(o))return!1;const u=n[o],h=e[o];if(fy(u)&&fy(h)){if(!Fo(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!r.includes(o))return!1;return!0}function fy(n){return n!==null&&typeof n=="object"}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ek=1e3,Sk=2,xk=14400*1e3,Tk=.5;function dy(n,e=Ek,r=Sk){const s=e*Math.pow(r,n),o=Math.round(Tk*s*(Math.random()-.5)*2);return Math.min(xk,s+o)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ir(n){return n&&n._delegate?n._delegate:n}class Ur{constructor(e,r,s){this.name=e,this.instanceFactory=r,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Es="[DEFAULT]";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class kk{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const s=new uk;if(this.instancesDeferred.set(r,s),this.isInitialized(r)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:r});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_k(e))try{this.getOrInitializeService({instanceIdentifier:Es})}catch{}for(const[r,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Es){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Es){return this.instances.has(e)}getOptions(e=Es){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:r});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&h.resolve(o)}return o}onInit(e,r){var s;const o=this.normalizeInstanceIdentifier(r),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,r){const s=this.onInitCallbacks.get(r);if(s)for(const o of s)try{o(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Ck(e),options:r}),this.instances.set(e,s),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Es){return this.component?this.component.multipleInstances?e:Es:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ck(n){return n===Es?void 0:n}function _k(n){return n.instantiationMode==="EAGER"}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ik{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new kk(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Ue;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ue||(Ue={}));const Ak={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},Nk=Ue.INFO,Dk={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},Pk=(n,e,...r)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),o=Dk[e];if(o)console[o](`[${s}]  ${n.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bf{constructor(e){this.name=e,this._logLevel=Nk,this._logHandler=Pk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ak[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const Mk=(n,e)=>e.some(r=>n instanceof r);let py,my;function Ok(){return py||(py=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Lk(){return my||(my=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gy=new WeakMap,wf=new WeakMap,yy=new WeakMap,Ef=new WeakMap,Sf=new WeakMap;function Vk(n){const e=new Promise((r,s)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",h)},u=()=>{r(xa(n.result)),o()},h=()=>{s(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",h)});return e.then(r=>{r instanceof IDBCursor&&gy.set(r,n)}).catch(()=>{}),Sf.set(e,n),e}function Rk(n){if(wf.has(n))return;const e=new Promise((r,s)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",h),n.removeEventListener("abort",h)},u=()=>{r(),o()},h=()=>{s(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",h),n.addEventListener("abort",h)});wf.set(n,e)}let xf={get(n,e,r){if(n instanceof IDBTransaction){if(e==="done")return wf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||yy.get(n);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return xa(n[e])},set(n,e,r){return n[e]=r,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function jk(n){xf=n(xf)}function Fk(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const s=n.call(Tf(this),e,...r);return yy.set(s,e.sort?e.sort():[e]),xa(s)}:Lk().includes(n)?function(...e){return n.apply(Tf(this),e),xa(gy.get(this))}:function(...e){return xa(n.apply(Tf(this),e))}}function Bk(n){return typeof n=="function"?Fk(n):(n instanceof IDBTransaction&&Rk(n),Mk(n,Ok())?new Proxy(n,xf):n)}function xa(n){if(n instanceof IDBRequest)return Vk(n);if(Ef.has(n))return Ef.get(n);const e=Bk(n);return e!==n&&(Ef.set(n,e),Sf.set(e,n)),e}const Tf=n=>Sf.get(n);function vy(n,e,{blocked:r,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(n,e),d=xa(h);return s&&h.addEventListener("upgradeneeded",m=>{s(xa(h.result),m.oldVersion,m.newVersion,xa(h.transaction),m)}),r&&h.addEventListener("blocked",m=>r(m.oldVersion,m.newVersion,m)),d.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const Uk=["get","getKey","getAll","getAllKeys","count"],zk=["put","add","delete","clear"],kf=new Map;function by(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(kf.get(e))return kf.get(e);const r=e.replace(/FromIndex$/,""),s=e!==r,o=zk.includes(r);if(!(r in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Uk.includes(r)))return;const u=async function(h,...d){const m=this.transaction(h,o?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[r](...d),o&&m.done]))[0]};return kf.set(e,u),u}jk(n=>({...n,get:(e,r,s)=>by(e,r)||n.get(e,r,s),has:(e,r)=>!!by(e,r)||n.has(e,r)}));/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(Hk(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function Hk(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Cf="@firebase/app",wy="0.13.2";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const zr=new bf("@firebase/app"),$k="@firebase/app-compat",Gk="@firebase/analytics-compat",Wk="@firebase/analytics",Qk="@firebase/app-check-compat",Xk="@firebase/app-check",Kk="@firebase/auth",Yk="@firebase/auth-compat",Jk="@firebase/database",Zk="@firebase/data-connect",e2="@firebase/database-compat",t2="@firebase/functions",n2="@firebase/functions-compat",r2="@firebase/installations",a2="@firebase/installations-compat",s2="@firebase/messaging",i2="@firebase/messaging-compat",o2="@firebase/performance",l2="@firebase/performance-compat",u2="@firebase/remote-config",c2="@firebase/remote-config-compat",h2="@firebase/storage",f2="@firebase/storage-compat",d2="@firebase/firestore",p2="@firebase/ai",m2="@firebase/firestore-compat",g2="firebase",y2="11.10.0";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const _f="[DEFAULT]",v2={[Cf]:"fire-core",[$k]:"fire-core-compat",[Wk]:"fire-analytics",[Gk]:"fire-analytics-compat",[Xk]:"fire-app-check",[Qk]:"fire-app-check-compat",[Kk]:"fire-auth",[Yk]:"fire-auth-compat",[Jk]:"fire-rtdb",[Zk]:"fire-data-connect",[e2]:"fire-rtdb-compat",[t2]:"fire-fn",[n2]:"fire-fn-compat",[r2]:"fire-iid",[a2]:"fire-iid-compat",[s2]:"fire-fcm",[i2]:"fire-fcm-compat",[o2]:"fire-perf",[l2]:"fire-perf-compat",[u2]:"fire-rc",[c2]:"fire-rc-compat",[h2]:"fire-gcs",[f2]:"fire-gcs-compat",[d2]:"fire-fst",[m2]:"fire-fst-compat",[p2]:"fire-vertex","fire-js":"fire-js",[g2]:"fire-js-all"};/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Vu=new Map,b2=new Map,If=new Map;function Ey(n,e){try{n.container.addComponent(e)}catch(r){zr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,r)}}function Ta(n){const e=n.name;if(If.has(e))return zr.debug(`There were multiple attempts to register component ${e}.`),!1;If.set(e,n);for(const r of Vu.values())Ey(r,n);for(const r of b2.values())Ey(r,n);return!0}function Bo(n,e){const r=n.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),n.container.getProvider(e)}function w2(n){return n==null?!1:n.settings!==void 0}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const E2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ka=new Lu("app","Firebase",E2);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class S2{constructor(e,r,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ur("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ka.create("app-deleted",{appName:this._name})}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const x2=y2;function Sy(n,e={}){let r=n;typeof e!="object"&&(e={name:e});const s=Object.assign({name:_f,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw ka.create("bad-app-name",{appName:String(o)});if(r||(r=ly()),!r)throw ka.create("no-options");const u=Vu.get(o);if(u){if(Fo(r,u.options)&&Fo(s,u.config))return u;throw ka.create("duplicate-app",{appName:o})}const h=new Ik(o);for(const m of If.values())h.addComponent(m);const d=new S2(r,s,h);return Vu.set(o,d),d}function xy(n=_f){const e=Vu.get(n);if(!e&&n===_f&&ly())return Sy();if(!e)throw ka.create("no-app",{appName:n});return e}function mr(n,e,r){var s;let o=(s=v2[n])!==null&&s!==void 0?s:n;r&&(o+=`-${r}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${o}" with version "${e}":`];u&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zr.warn(d.join(" "));return}Ta(new Ur(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const T2="firebase-heartbeat-database",k2=1,Uo="firebase-heartbeat-store";let Af=null;function Ty(){return Af||(Af=vy(T2,k2,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Uo)}catch(r){console.warn(r)}}}}).catch(n=>{throw ka.create("idb-open",{originalErrorMessage:n.message})})),Af}async function C2(n){try{const e=(await Ty()).transaction(Uo),r=await e.objectStore(Uo).get(Cy(n));return await e.done,r}catch(e){if(e instanceof Sa)zr.warn(e.message);else{const r=ka.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zr.warn(r.message)}}}async function ky(n,e){try{const r=(await Ty()).transaction(Uo,"readwrite");await r.objectStore(Uo).put(e,Cy(n)),await r.done}catch(r){if(r instanceof Sa)zr.warn(r.message);else{const s=ka.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});zr.warn(s.message)}}}function Cy(n){return`${n.name}!${n.options.appId}`}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const _2=1024,I2=30;class A2{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new D2(r),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,r;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=_y();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>I2){const u=P2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){zr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=_y(),{heartbeatsToSend:s,unsentEntries:o}=N2(this._heartbeatsCache.heartbeats),u=Ou(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(r){return zr.warn(r),""}}}function _y(){return new Date().toISOString().substring(0,10)}function N2(n,e=_2){const r=[];let s=n.slice();for(const o of n){const u=r.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Iy(r)>e){u.dates.pop();break}}else if(r.push({agent:o.agent,dates:[o.date]}),Iy(r)>e){r.pop();break}s=s.slice(1)}return{heartbeatsToSend:r,unsentEntries:s}}class D2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yf()?vf().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await C2(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return ky(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return ky(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Iy(n){return Ou(JSON.stringify({version:2,heartbeats:n})).length}function P2(n){if(n.length===0)return-1;let e=0,r=n[0].date;for(let s=1;s<n.length;s++)n[s].date<r&&(r=n[s].date,e=s);return e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function M2(n){Ta(new Ur("platform-logger",e=>new qk(e),"PRIVATE")),Ta(new Ur("heartbeat",e=>new A2(e),"PRIVATE")),mr(Cf,wy,n),mr(Cf,wy,"esm2017"),mr("fire-js","")}M2("");const Ay="@firebase/installations",Nf="0.6.18";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ny=1e4,Dy=`w:${Nf}`,Py="FIS_v2",O2="https://firebaseinstallations.googleapis.com/v1",L2=3600*1e3,V2="installations",R2="Installations";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const j2={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ss=new Lu(V2,R2,j2);function My(n){return n instanceof Sa&&n.code.includes("request-failed")}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Oy({projectId:n}){return`${O2}/projects/${n}/installations`}function Ly(n){return{token:n.token,requestStatus:2,expiresIn:B2(n.expiresIn),creationTime:Date.now()}}async function Vy(n,e){const r=(await e.json()).error;return Ss.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Ry({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function F2(n,{refreshToken:e}){const r=Ry(n);return r.append("Authorization",U2(e)),r}async function jy(n){const e=await n();return e.status>=500&&e.status<600?n():e}function B2(n){return Number(n.replace("s","000"))}function U2(n){return`${Py} ${n}`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function z2({appConfig:n,heartbeatServiceProvider:e},{fid:r}){const s=Oy(n),o=Ry(n),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={fid:r,authVersion:Py,appId:n.appId,sdkVersion:Dy},d={method:"POST",headers:o,body:JSON.stringify(h)},m=await jy(()=>fetch(s,d));if(m.ok){const g=await m.json();return{fid:g.fid||r,registrationStatus:2,refreshToken:g.refreshToken,authToken:Ly(g.authToken)}}else throw await Vy("Create Installation",m)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Fy(n){return new Promise(e=>{setTimeout(e,n)})}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function q2(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const H2=/^[cdef][\w-]{21}$/,Df="";function $2(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const e=G2(n);return H2.test(e)?e:Df}catch{return Df}}function G2(n){return q2(n).substr(0,22)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ru(n){return`${n.appName}!${n.appId}`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const By=new Map;function Uy(n,e){const r=Ru(n);zy(r,e),W2(r,e)}function zy(n,e){const r=By.get(n);if(r)for(const s of r)s(e)}function W2(n,e){const r=Q2();r&&r.postMessage({key:n,fid:e}),X2()}let xs=null;function Q2(){return!xs&&"BroadcastChannel"in self&&(xs=new BroadcastChannel("[Firebase] FID Change"),xs.onmessage=n=>{zy(n.data.key,n.data.fid)}),xs}function X2(){By.size===0&&xs&&(xs.close(),xs=null)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const K2="firebase-installations-database",Y2=1,Ts="firebase-installations-store";let Pf=null;function Mf(){return Pf||(Pf=vy(K2,Y2,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Ts)}}})),Pf}async function ju(n,e){const r=Ru(n),s=(await Mf()).transaction(Ts,"readwrite"),o=s.objectStore(Ts),u=await o.get(r);return await o.put(e,r),await s.done,(!u||u.fid!==e.fid)&&Uy(n,e.fid),e}async function qy(n){const e=Ru(n),r=(await Mf()).transaction(Ts,"readwrite");await r.objectStore(Ts).delete(e),await r.done}async function Fu(n,e){const r=Ru(n),s=(await Mf()).transaction(Ts,"readwrite"),o=s.objectStore(Ts),u=await o.get(r),h=e(u);return h===void 0?await o.delete(r):await o.put(h,r),await s.done,h&&(!u||u.fid!==h.fid)&&Uy(n,h.fid),h}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Of(n){let e;const r=await Fu(n.appConfig,s=>{const o=J2(s),u=Z2(n,o);return e=u.registrationPromise,u.installationEntry});return r.fid===Df?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function J2(n){const e=n||{fid:$2(),registrationStatus:0};return $y(e)}function Z2(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Ss.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=eC(n,r);return{installationEntry:r,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:tC(n)}:{installationEntry:e}}async function eC(n,e){try{const r=await z2(n,e);return ju(n.appConfig,r)}catch(r){throw My(r)&&r.customData.serverCode===409?await qy(n.appConfig):await ju(n.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function tC(n){let e=await Hy(n.appConfig);for(;e.registrationStatus===1;)await Fy(100),e=await Hy(n.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:s}=await Of(n);return s||r}return e}function Hy(n){return Fu(n,e=>{if(!e)throw Ss.create("installation-not-found");return $y(e)})}function $y(n){return nC(n)?{fid:n.fid,registrationStatus:0}:n}function nC(n){return n.registrationStatus===1&&n.registrationTime+Ny<Date.now()}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function rC({appConfig:n,heartbeatServiceProvider:e},r){const s=aC(n,r),o=F2(n,r),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={installation:{sdkVersion:Dy,appId:n.appId}},d={method:"POST",headers:o,body:JSON.stringify(h)},m=await jy(()=>fetch(s,d));if(m.ok){const g=await m.json();return Ly(g)}else throw await Vy("Generate Auth Token",m)}function aC(n,{fid:e}){return`${Oy(n)}/${e}/authTokens:generate`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Lf(n,e=!1){let r;const s=await Fu(n.appConfig,o=>{if(!Wy(o))throw Ss.create("not-registered");const u=o.authToken;if(!e&&oC(u))return o;if(u.requestStatus===1)return r=sC(n,e),o;{if(!navigator.onLine)throw Ss.create("app-offline");const h=uC(o);return r=iC(n,h),h}});return r?await r:s.authToken}async function sC(n,e){let r=await Gy(n.appConfig);for(;r.authToken.requestStatus===1;)await Fy(100),r=await Gy(n.appConfig);const s=r.authToken;return s.requestStatus===0?Lf(n,e):s}function Gy(n){return Fu(n,e=>{if(!Wy(e))throw Ss.create("not-registered");const r=e.authToken;return cC(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function iC(n,e){try{const r=await rC(n,e),s=Object.assign(Object.assign({},e),{authToken:r});return await ju(n.appConfig,s),r}catch(r){if(My(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await qy(n.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await ju(n.appConfig,s)}throw r}}function Wy(n){return n!==void 0&&n.registrationStatus===2}function oC(n){return n.requestStatus===2&&!lC(n)}function lC(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+L2}function uC(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function cC(n){return n.requestStatus===1&&n.requestTime+Ny<Date.now()}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function hC(n){const e=n,{installationEntry:r,registrationPromise:s}=await Of(e);return s?s.catch(console.error):Lf(e).catch(console.error),r.fid}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function fC(n,e=!1){const r=n;return await dC(r),(await Lf(r,e)).token}async function dC(n){const{registrationPromise:e}=await Of(n);e&&await e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function pC(n){if(!n||!n.options)throw Vf("App Configuration");if(!n.name)throw Vf("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!n.options[r])throw Vf(r);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Vf(n){return Ss.create("missing-app-config-values",{valueName:n})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Qy="installations",mC="installations-internal",gC=n=>{const e=n.getProvider("app").getImmediate(),r=pC(e),s=Bo(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},yC=n=>{const e=n.getProvider("app").getImmediate(),r=Bo(e,Qy).getImmediate();return{getId:()=>hC(r),getToken:s=>fC(r,s)}};function vC(){Ta(new Ur(Qy,gC,"PUBLIC")),Ta(new Ur(mC,yC,"PRIVATE"))}vC(),mr(Ay,Nf),mr(Ay,Nf,"esm2017");/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Bu="analytics",bC="firebase_id",wC="origin",EC=60*1e3,SC="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Rf="https://www.googletagmanager.com/gtag/js";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const xn=new bf("@firebase/analytics");/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const xC={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Nn=new Lu("analytics","Analytics",xC);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function TC(n){if(!n.startsWith(Rf)){const e=Nn.create("invalid-gtag-resource",{gtagURL:n});return xn.warn(e.message),""}return n}function Xy(n){return Promise.all(n.map(e=>e.catch(r=>r)))}function kC(n,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(n,e)),r}function CC(n,e){const r=kC("firebase-js-sdk-policy",{createScriptURL:TC}),s=document.createElement("script"),o=`${Rf}?l=${n}&id=${e}`;s.src=r?r==null?void 0:r.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function _C(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function IC(n,e,r,s,o,u){const h=s[o];try{if(h)await e[h];else{const d=(await Xy(r)).find(m=>m.measurementId===o);d&&await e[d.appId]}}catch(d){xn.error(d)}n("config",o,u)}async function AC(n,e,r,s,o){try{let u=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const d=await Xy(r);for(const m of h){const g=d.find(E=>E.measurementId===m),v=g&&e[g.appId];if(v)u.push(v);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),n("event",s,o||{})}catch(u){xn.error(u)}}function NC(n,e,r,s){async function o(u,...h){try{if(u==="event"){const[d,m]=h;await AC(n,e,r,d,m)}else if(u==="config"){const[d,m]=h;await IC(n,e,r,s,d,m)}else if(u==="consent"){const[d,m]=h;n("consent",d,m)}else if(u==="get"){const[d,m,g]=h;n("get",d,m,g)}else if(u==="set"){const[d]=h;n("set",d)}else n(u,...h)}catch(d){xn.error(d)}}return o}function DC(n,e,r,s,o){let u=function(...h){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=NC(u,n,e,r),{gtagCore:u,wrappedGtag:window[o]}}function PC(n){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(Rf)&&r.src.includes(n))return r;return null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const MC=30,OC=1e3;class LC{constructor(e={},r=OC){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Ky=new LC;function VC(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function RC(n){var e;const{appId:r,apiKey:s}=n,o={method:"GET",headers:VC(s)},u=SC.replace("{app-id}",r),h=await fetch(u,o);if(h.status!==200&&h.status!==304){let d="";try{const m=await h.json();!((e=m.error)===null||e===void 0)&&e.message&&(d=m.error.message)}catch{}throw Nn.create("config-fetch-failed",{httpStatus:h.status,responseMessage:d})}return h.json()}async function jC(n,e=Ky,r){const{appId:s,apiKey:o,measurementId:u}=n.options;if(!s)throw Nn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw Nn.create("no-api-key")}const h=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new UC;return setTimeout(async()=>{d.abort()},EC),Yy({appId:s,apiKey:o,measurementId:u},h,d,e)}async function Yy(n,{throttleEndTimeMillis:e,backoffCount:r},s,o=Ky){var u;const{appId:h,measurementId:d}=n;try{await FC(s,e)}catch(m){if(d)return xn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:h,measurementId:d};throw m}try{const m=await RC(n);return o.deleteThrottleMetadata(h),m}catch(m){const g=m;if(!BC(g)){if(o.deleteThrottleMetadata(h),d)return xn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:h,measurementId:d};throw m}const v=Number((u=g==null?void 0:g.customData)===null||u===void 0?void 0:u.httpStatus)===503?dy(r,o.intervalMillis,MC):dy(r,o.intervalMillis),E={throttleEndTimeMillis:Date.now()+v,backoffCount:r+1};return o.setThrottleMetadata(h,E),xn.debug(`Calling attemptFetch again in ${v} millis`),Yy(n,E,s,o)}}function FC(n,e){return new Promise((r,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(r,o);n.addEventListener(()=>{clearTimeout(u),s(Nn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function BC(n){if(!(n instanceof Sa)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class UC{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function zC(n,e,r,s,o){if(o&&o.global){n("event",r,s);return}else{const u=await e,h=Object.assign(Object.assign({},s),{send_to:u});n("event",r,h)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function qC(){if(yf())try{await vf()}catch(n){return xn.warn(Nn.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return xn.warn(Nn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function HC(n,e,r,s,o,u,h){var d;const m=jC(n);m.then(I=>{r[I.measurementId]=I.appId,n.options.measurementId&&I.measurementId!==n.options.measurementId&&xn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${I.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(I=>xn.error(I)),e.push(m);const g=qC().then(I=>{if(I)return s.getId()}),[v,E]=await Promise.all([m,g]);PC(u)||CC(u,v.measurementId),o("js",new Date);const T=(d=h==null?void 0:h.config)!==null&&d!==void 0?d:{};return T[wC]="firebase",T.update=!0,E!=null&&(T[bC]=E),o("config",v.measurementId,T),v.measurementId}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $C{constructor(e){this.app=e}_delete(){return delete zo[this.app.options.appId],Promise.resolve()}}let zo={},Jy=[];const Zy={};let jf="dataLayer",GC="gtag",ev,tv,nv=!1;function WC(){const n=[];if(cy()&&n.push("This is a browser extension environment."),hy()||n.push("Cookies are not available."),n.length>0){const e=n.map((s,o)=>`(${o+1}) ${s}`).join(" "),r=Nn.create("invalid-analytics-context",{errorInfo:e});xn.warn(r.message)}}function QC(n,e,r){WC();const s=n.options.appId;if(!s)throw Nn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)xn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Nn.create("no-api-key");if(zo[s]!=null)throw Nn.create("already-exists",{id:s});if(!nv){_C(jf);const{wrappedGtag:o,gtagCore:u}=DC(zo,Jy,Zy,jf,GC);tv=o,ev=u,nv=!0}return zo[s]=HC(n,Jy,Zy,e,ev,jf,r),new $C(n)}function XC(n=xy()){n=ir(n);const e=Bo(n,Bu);return e.isInitialized()?e.getImmediate():KC(n)}function KC(n,e={}){const r=Bo(n,Bu);if(r.isInitialized()){const s=r.getImmediate();if(Fo(e,r.getOptions()))return s;throw Nn.create("already-initialized")}return r.initialize({options:e})}async function YC(){if(cy()||!hy()||!yf())return!1;try{return await vf()}catch{return!1}}function rv(n,e,r,s){n=ir(n),zC(tv,zo[n.app.options.appId],e,r,s).catch(o=>xn.error(o))}const av="@firebase/analytics",sv="0.10.17";function JC(){Ta(new Ur(Bu,(e,{options:r})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return QC(s,o,r)},"PUBLIC")),Ta(new Ur("analytics-internal",n,"PRIVATE")),mr(av,sv),mr(av,sv,"esm2017");function n(e){try{const r=e.getProvider(Bu).getImmediate();return{logEvent:(s,o,u)=>rv(r,s,o,u)}}catch(r){throw Nn.create("interop-component-reg-failed",{reason:r})}}}JC();var ZC="firebase",e_="11.10.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/mr(ZC,e_,"app");var iv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ca,ov;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,_){function A(){}A.prototype=_.prototype,M.D=_.prototype,M.prototype=new A,M.prototype.constructor=M,M.C=function(P,O,V){for(var N=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)N[$e-2]=arguments[$e];return _.prototype[O].apply(P,N)}}function r(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,r),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,_,A){A||(A=0);var P=Array(16);if(typeof _=="string")for(var O=0;16>O;++O)P[O]=_.charCodeAt(A++)|_.charCodeAt(A++)<<8|_.charCodeAt(A++)<<16|_.charCodeAt(A++)<<24;else for(O=0;16>O;++O)P[O]=_[A++]|_[A++]<<8|_[A++]<<16|_[A++]<<24;_=M.g[0],A=M.g[1],O=M.g[2];var V=M.g[3],N=_+(V^A&(O^V))+P[0]+3614090360&4294967295;_=A+(N<<7&4294967295|N>>>25),N=V+(O^_&(A^O))+P[1]+3905402710&4294967295,V=_+(N<<12&4294967295|N>>>20),N=O+(A^V&(_^A))+P[2]+606105819&4294967295,O=V+(N<<17&4294967295|N>>>15),N=A+(_^O&(V^_))+P[3]+3250441966&4294967295,A=O+(N<<22&4294967295|N>>>10),N=_+(V^A&(O^V))+P[4]+4118548399&4294967295,_=A+(N<<7&4294967295|N>>>25),N=V+(O^_&(A^O))+P[5]+1200080426&4294967295,V=_+(N<<12&4294967295|N>>>20),N=O+(A^V&(_^A))+P[6]+2821735955&4294967295,O=V+(N<<17&4294967295|N>>>15),N=A+(_^O&(V^_))+P[7]+4249261313&4294967295,A=O+(N<<22&4294967295|N>>>10),N=_+(V^A&(O^V))+P[8]+1770035416&4294967295,_=A+(N<<7&4294967295|N>>>25),N=V+(O^_&(A^O))+P[9]+2336552879&4294967295,V=_+(N<<12&4294967295|N>>>20),N=O+(A^V&(_^A))+P[10]+4294925233&4294967295,O=V+(N<<17&4294967295|N>>>15),N=A+(_^O&(V^_))+P[11]+2304563134&4294967295,A=O+(N<<22&4294967295|N>>>10),N=_+(V^A&(O^V))+P[12]+1804603682&4294967295,_=A+(N<<7&4294967295|N>>>25),N=V+(O^_&(A^O))+P[13]+4254626195&4294967295,V=_+(N<<12&4294967295|N>>>20),N=O+(A^V&(_^A))+P[14]+2792965006&4294967295,O=V+(N<<17&4294967295|N>>>15),N=A+(_^O&(V^_))+P[15]+1236535329&4294967295,A=O+(N<<22&4294967295|N>>>10),N=_+(O^V&(A^O))+P[1]+4129170786&4294967295,_=A+(N<<5&4294967295|N>>>27),N=V+(A^O&(_^A))+P[6]+3225465664&4294967295,V=_+(N<<9&4294967295|N>>>23),N=O+(_^A&(V^_))+P[11]+643717713&4294967295,O=V+(N<<14&4294967295|N>>>18),N=A+(V^_&(O^V))+P[0]+3921069994&4294967295,A=O+(N<<20&4294967295|N>>>12),N=_+(O^V&(A^O))+P[5]+3593408605&4294967295,_=A+(N<<5&4294967295|N>>>27),N=V+(A^O&(_^A))+P[10]+38016083&4294967295,V=_+(N<<9&4294967295|N>>>23),N=O+(_^A&(V^_))+P[15]+3634488961&4294967295,O=V+(N<<14&4294967295|N>>>18),N=A+(V^_&(O^V))+P[4]+3889429448&4294967295,A=O+(N<<20&4294967295|N>>>12),N=_+(O^V&(A^O))+P[9]+568446438&4294967295,_=A+(N<<5&4294967295|N>>>27),N=V+(A^O&(_^A))+P[14]+3275163606&4294967295,V=_+(N<<9&4294967295|N>>>23),N=O+(_^A&(V^_))+P[3]+4107603335&4294967295,O=V+(N<<14&4294967295|N>>>18),N=A+(V^_&(O^V))+P[8]+1163531501&4294967295,A=O+(N<<20&4294967295|N>>>12),N=_+(O^V&(A^O))+P[13]+2850285829&4294967295,_=A+(N<<5&4294967295|N>>>27),N=V+(A^O&(_^A))+P[2]+4243563512&4294967295,V=_+(N<<9&4294967295|N>>>23),N=O+(_^A&(V^_))+P[7]+1735328473&4294967295,O=V+(N<<14&4294967295|N>>>18),N=A+(V^_&(O^V))+P[12]+2368359562&4294967295,A=O+(N<<20&4294967295|N>>>12),N=_+(A^O^V)+P[5]+4294588738&4294967295,_=A+(N<<4&4294967295|N>>>28),N=V+(_^A^O)+P[8]+2272392833&4294967295,V=_+(N<<11&4294967295|N>>>21),N=O+(V^_^A)+P[11]+1839030562&4294967295,O=V+(N<<16&4294967295|N>>>16),N=A+(O^V^_)+P[14]+4259657740&4294967295,A=O+(N<<23&4294967295|N>>>9),N=_+(A^O^V)+P[1]+2763975236&4294967295,_=A+(N<<4&4294967295|N>>>28),N=V+(_^A^O)+P[4]+1272893353&4294967295,V=_+(N<<11&4294967295|N>>>21),N=O+(V^_^A)+P[7]+4139469664&4294967295,O=V+(N<<16&4294967295|N>>>16),N=A+(O^V^_)+P[10]+3200236656&4294967295,A=O+(N<<23&4294967295|N>>>9),N=_+(A^O^V)+P[13]+681279174&4294967295,_=A+(N<<4&4294967295|N>>>28),N=V+(_^A^O)+P[0]+3936430074&4294967295,V=_+(N<<11&4294967295|N>>>21),N=O+(V^_^A)+P[3]+3572445317&4294967295,O=V+(N<<16&4294967295|N>>>16),N=A+(O^V^_)+P[6]+76029189&4294967295,A=O+(N<<23&4294967295|N>>>9),N=_+(A^O^V)+P[9]+3654602809&4294967295,_=A+(N<<4&4294967295|N>>>28),N=V+(_^A^O)+P[12]+3873151461&4294967295,V=_+(N<<11&4294967295|N>>>21),N=O+(V^_^A)+P[15]+530742520&4294967295,O=V+(N<<16&4294967295|N>>>16),N=A+(O^V^_)+P[2]+3299628645&4294967295,A=O+(N<<23&4294967295|N>>>9),N=_+(O^(A|~V))+P[0]+4096336452&4294967295,_=A+(N<<6&4294967295|N>>>26),N=V+(A^(_|~O))+P[7]+1126891415&4294967295,V=_+(N<<10&4294967295|N>>>22),N=O+(_^(V|~A))+P[14]+2878612391&4294967295,O=V+(N<<15&4294967295|N>>>17),N=A+(V^(O|~_))+P[5]+4237533241&4294967295,A=O+(N<<21&4294967295|N>>>11),N=_+(O^(A|~V))+P[12]+1700485571&4294967295,_=A+(N<<6&4294967295|N>>>26),N=V+(A^(_|~O))+P[3]+2399980690&4294967295,V=_+(N<<10&4294967295|N>>>22),N=O+(_^(V|~A))+P[10]+4293915773&4294967295,O=V+(N<<15&4294967295|N>>>17),N=A+(V^(O|~_))+P[1]+2240044497&4294967295,A=O+(N<<21&4294967295|N>>>11),N=_+(O^(A|~V))+P[8]+1873313359&4294967295,_=A+(N<<6&4294967295|N>>>26),N=V+(A^(_|~O))+P[15]+4264355552&4294967295,V=_+(N<<10&4294967295|N>>>22),N=O+(_^(V|~A))+P[6]+2734768916&4294967295,O=V+(N<<15&4294967295|N>>>17),N=A+(V^(O|~_))+P[13]+1309151649&4294967295,A=O+(N<<21&4294967295|N>>>11),N=_+(O^(A|~V))+P[4]+4149444226&4294967295,_=A+(N<<6&4294967295|N>>>26),N=V+(A^(_|~O))+P[11]+3174756917&4294967295,V=_+(N<<10&4294967295|N>>>22),N=O+(_^(V|~A))+P[2]+718787259&4294967295,O=V+(N<<15&4294967295|N>>>17),N=A+(V^(O|~_))+P[9]+3951481745&4294967295,M.g[0]=M.g[0]+_&4294967295,M.g[1]=M.g[1]+(O+(N<<21&4294967295|N>>>11))&4294967295,M.g[2]=M.g[2]+O&4294967295,M.g[3]=M.g[3]+V&4294967295}s.prototype.u=function(M,_){_===void 0&&(_=M.length);for(var A=_-this.blockSize,P=this.B,O=this.h,V=0;V<_;){if(O==0)for(;V<=A;)o(this,M,V),V+=this.blockSize;if(typeof M=="string"){for(;V<_;)if(P[O++]=M.charCodeAt(V++),O==this.blockSize){o(this,P),O=0;break}}else for(;V<_;)if(P[O++]=M[V++],O==this.blockSize){o(this,P),O=0;break}}this.h=O,this.o+=_},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var _=1;_<M.length-8;++_)M[_]=0;var A=8*this.o;for(_=M.length-8;_<M.length;++_)M[_]=A&255,A/=256;for(this.u(M),M=Array(16),_=A=0;4>_;++_)for(var P=0;32>P;P+=8)M[A++]=this.g[_]>>>P&255;return M};function u(M,_){var A=d;return Object.prototype.hasOwnProperty.call(A,M)?A[M]:A[M]=_(M)}function h(M,_){this.h=_;for(var A=[],P=!0,O=M.length-1;0<=O;O--){var V=M[O]|0;P&&V==_||(A[O]=V,P=!1)}this.g=A}var d={};function m(M){return-128<=M&&128>M?u(M,function(_){return new h([_|0],0>_?-1:0)}):new h([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return E;if(0>M)return F(g(-M));for(var _=[],A=1,P=0;M>=A;P++)_[P]=M/A|0,A*=4294967296;return new h(_,0)}function v(M,_){if(M.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(M.charAt(0)=="-")return F(v(M.substring(1),_));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=g(Math.pow(_,8)),P=E,O=0;O<M.length;O+=8){var V=Math.min(8,M.length-O),N=parseInt(M.substring(O,O+V),_);8>V?(V=g(Math.pow(_,V)),P=P.j(V).add(g(N))):(P=P.j(A),P=P.add(g(N)))}return P}var E=m(0),T=m(1),I=m(16777216);n=h.prototype,n.m=function(){if(q(this))return-F(this).m();for(var M=0,_=1,A=0;A<this.g.length;A++){var P=this.i(A);M+=(0<=P?P:4294967296+P)*_,_*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(j(this))return"0";if(q(this))return"-"+F(this).toString(M);for(var _=g(Math.pow(M,6)),A=this,P="";;){var O=pe(A,_).g;A=X(A,O.j(_));var V=((0<A.g.length?A.g[0]:A.h)>>>0).toString(M);if(A=O,j(A))return V+P;for(;6>V.length;)V="0"+V;P=V+P}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function j(M){if(M.h!=0)return!1;for(var _=0;_<M.g.length;_++)if(M.g[_]!=0)return!1;return!0}function q(M){return M.h==-1}n.l=function(M){return M=X(this,M),q(M)?-1:j(M)?0:1};function F(M){for(var _=M.g.length,A=[],P=0;P<_;P++)A[P]=~M.g[P];return new h(A,~M.h).add(T)}n.abs=function(){return q(this)?F(this):this},n.add=function(M){for(var _=Math.max(this.g.length,M.g.length),A=[],P=0,O=0;O<=_;O++){var V=P+(this.i(O)&65535)+(M.i(O)&65535),N=(V>>>16)+(this.i(O)>>>16)+(M.i(O)>>>16);P=N>>>16,V&=65535,N&=65535,A[O]=N<<16|V}return new h(A,A[A.length-1]&-2147483648?-1:0)};function X(M,_){return M.add(F(_))}n.j=function(M){if(j(this)||j(M))return E;if(q(this))return q(M)?F(this).j(F(M)):F(F(this).j(M));if(q(M))return F(this.j(F(M)));if(0>this.l(I)&&0>M.l(I))return g(this.m()*M.m());for(var _=this.g.length+M.g.length,A=[],P=0;P<2*_;P++)A[P]=0;for(P=0;P<this.g.length;P++)for(var O=0;O<M.g.length;O++){var V=this.i(P)>>>16,N=this.i(P)&65535,$e=M.i(O)>>>16,Be=M.i(O)&65535;A[2*P+2*O]+=N*Be,te(A,2*P+2*O),A[2*P+2*O+1]+=V*Be,te(A,2*P+2*O+1),A[2*P+2*O+1]+=N*$e,te(A,2*P+2*O+1),A[2*P+2*O+2]+=V*$e,te(A,2*P+2*O+2)}for(P=0;P<_;P++)A[P]=A[2*P+1]<<16|A[2*P];for(P=_;P<2*_;P++)A[P]=0;return new h(A,0)};function te(M,_){for(;(M[_]&65535)!=M[_];)M[_+1]+=M[_]>>>16,M[_]&=65535,_++}function se(M,_){this.g=M,this.h=_}function pe(M,_){if(j(_))throw Error("division by zero");if(j(M))return new se(E,E);if(q(M))return _=pe(F(M),_),new se(F(_.g),F(_.h));if(q(_))return _=pe(M,F(_)),new se(F(_.g),_.h);if(30<M.g.length){if(q(M)||q(_))throw Error("slowDivide_ only works with positive integers.");for(var A=T,P=_;0>=P.l(M);)A=le(A),P=le(P);var O=ye(A,1),V=ye(P,1);for(P=ye(P,2),A=ye(A,2);!j(P);){var N=V.add(P);0>=N.l(M)&&(O=O.add(A),V=N),P=ye(P,1),A=ye(A,1)}return _=X(M,O.j(_)),new se(O,_)}for(O=E;0<=M.l(_);){for(A=Math.max(1,Math.floor(M.m()/_.m())),P=Math.ceil(Math.log(A)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),V=g(A),N=V.j(_);q(N)||0<N.l(M);)A-=P,V=g(A),N=V.j(_);j(V)&&(V=T),O=O.add(V),M=X(M,N)}return new se(O,M)}n.A=function(M){return pe(this,M).h},n.and=function(M){for(var _=Math.max(this.g.length,M.g.length),A=[],P=0;P<_;P++)A[P]=this.i(P)&M.i(P);return new h(A,this.h&M.h)},n.or=function(M){for(var _=Math.max(this.g.length,M.g.length),A=[],P=0;P<_;P++)A[P]=this.i(P)|M.i(P);return new h(A,this.h|M.h)},n.xor=function(M){for(var _=Math.max(this.g.length,M.g.length),A=[],P=0;P<_;P++)A[P]=this.i(P)^M.i(P);return new h(A,this.h^M.h)};function le(M){for(var _=M.g.length+1,A=[],P=0;P<_;P++)A[P]=M.i(P)<<1|M.i(P-1)>>>31;return new h(A,M.h)}function ye(M,_){var A=_>>5;_%=32;for(var P=M.g.length-A,O=[],V=0;V<P;V++)O[V]=0<_?M.i(V+A)>>>_|M.i(V+A+1)<<32-_:M.i(V+A);return new h(O,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,ov=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=v,Ca=h}).apply(typeof iv<"u"?iv:typeof self<"u"?self:typeof window<"u"?window:{});var Uu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lv,qo,uv,zu,Ff,cv,hv,fv;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,b){return c==Array.prototype||c==Object.prototype||(c[y]=b.value),c};function r(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uu=="object"&&Uu];for(var y=0;y<c.length;++y){var b=c[y];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=r(this);function o(c,y){if(y)e:{var b=s;c=c.split(".");for(var k=0;k<c.length-1;k++){var B=c[k];if(!(B in b))break e;b=b[B]}c=c[c.length-1],k=b[c],y=y(k),y!=k&&y!=null&&e(b,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var b=0,k=!1,B={next:function(){if(!k&&b<c.length){var W=b++;return{value:y(W,c[W]),done:!1}}return k=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function m(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,b){return c.call.apply(c.bind,arguments)}function E(c,y,b){if(!c)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,k),c.apply(y,B)}}return function(){return c.apply(y,arguments)}}function T(c,y,b){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:E,T.apply(null,arguments)}function I(c,y){var b=Array.prototype.slice.call(arguments,1);return function(){var k=b.slice();return k.push.apply(k,arguments),c.apply(this,k)}}function j(c,y){function b(){}b.prototype=y.prototype,c.aa=y.prototype,c.prototype=new b,c.prototype.constructor=c,c.Qb=function(k,B,W){for(var ue=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)ue[Ge-2]=arguments[Ge];return y.prototype[B].apply(k,ue)}}function q(c){const y=c.length;if(0<y){const b=Array(y);for(let k=0;k<y;k++)b[k]=c[k];return b}return[]}function F(c,y){for(let b=1;b<arguments.length;b++){const k=arguments[b];if(m(k)){const B=c.length||0,W=k.length||0;c.length=B+W;for(let ue=0;ue<W;ue++)c[B+ue]=k[ue]}else c.push(k)}}class X{constructor(y,b){this.i=y,this.j=b,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function te(c){return/^[\s\xa0]*$/.test(c)}function se(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function pe(c){return pe[" "](c),c}pe[" "]=function(){};var le=se().indexOf("Gecko")!=-1&&!(se().toLowerCase().indexOf("webkit")!=-1&&se().indexOf("Edge")==-1)&&!(se().indexOf("Trident")!=-1||se().indexOf("MSIE")!=-1)&&se().indexOf("Edge")==-1;function ye(c,y,b){for(const k in c)y.call(b,c[k],k,c)}function M(c,y){for(const b in c)y.call(void 0,c[b],b,c)}function _(c){const y={};for(const b in c)y[b]=c[b];return y}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(c,y){let b,k;for(let B=1;B<arguments.length;B++){k=arguments[B];for(b in k)c[b]=k[b];for(let W=0;W<A.length;W++)b=A[W],Object.prototype.hasOwnProperty.call(k,b)&&(c[b]=k[b])}}function O(c){var y=1;c=c.split(":");const b=[];for(;0<y&&c.length;)b.push(c.shift()),y--;return c.length&&b.push(c.join(":")),b}function V(c){d.setTimeout(()=>{throw c},0)}function N(){var c=Pe;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class $e{constructor(){this.h=this.g=null}add(y,b){const k=Be.get();k.set(y,b),this.h?this.h.next=k:this.g=k,this.h=k}}var Be=new X(()=>new $,c=>c.reset());class ${constructor(){this.next=this.g=this.h=null}set(y,b){this.h=y,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let re,fe=!1,Pe=new $e,x=()=>{const c=d.Promise.resolve(void 0);re=()=>{c.then(C)}};var C=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(b){V(b)}var y=Be;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}fe=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Q(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}Q.prototype.h=function(){this.defaultPrevented=!0};var ie=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};d.addEventListener("test",b,y),d.removeEventListener("test",b,y)}catch{}return c})();function ce(c,y){if(Q.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var b=this.type=c.type,k=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(le){e:{try{pe(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else b=="mouseover"?y=c.fromElement:b=="mouseout"&&(y=c.toElement);this.relatedTarget=y,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:oe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ce.aa.h.call(this)}}j(ce,Q);var oe={2:"touch",3:"pen",4:"mouse"};ce.prototype.h=function(){ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var me="closure_listenable_"+(1e6*Math.random()|0),ve=0;function Ne(c,y,b,k,B){this.listener=c,this.proxy=null,this.src=y,this.type=b,this.capture=!!k,this.ha=B,this.key=++ve,this.da=this.fa=!1}function it(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ve(c){this.src=c,this.g={},this.h=0}Ve.prototype.add=function(c,y,b,k,B){var W=c.toString();c=this.g[W],c||(c=this.g[W]=[],this.h++);var ue=vt(c,y,k,B);return-1<ue?(y=c[ue],b||(y.fa=!1)):(y=new Ne(y,this.src,W,!!k,B),y.fa=b,c.push(y)),y};function tt(c,y){var b=y.type;if(b in c.g){var k=c.g[b],B=Array.prototype.indexOf.call(k,y,void 0),W;(W=0<=B)&&Array.prototype.splice.call(k,B,1),W&&(it(y),c.g[b].length==0&&(delete c.g[b],c.h--))}}function vt(c,y,b,k){for(var B=0;B<c.length;++B){var W=c[B];if(!W.da&&W.listener==y&&W.capture==!!b&&W.ha==k)return B}return-1}var De="closure_lm_"+(1e6*Math.random()|0),Mt={};function mn(c,y,b,k,B){if(Array.isArray(y)){for(var W=0;W<y.length;W++)mn(c,y[W],b,k,B);return null}return b=Hi(b),c&&c[me]?c.K(y,b,g(k)?!!k.capture:!1,B):dt(c,y,b,!1,k,B)}function dt(c,y,b,k,B,W){if(!y)throw Error("Invalid event type");var ue=g(B)?!!B.capture:!!B,Ge=qa(c);if(Ge||(c[De]=Ge=new Ve(c)),b=Ge.add(y,b,k,ue,W),b.proxy)return b;if(k=Mn(),b.proxy=k,k.src=c,k.listener=b,c.addEventListener)ie||(B=ue),B===void 0&&(B=!1),c.addEventListener(y.toString(),k,B);else if(c.attachEvent)c.attachEvent(Wr(y.toString()),k);else if(c.addListener&&c.removeListener)c.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Mn(){function c(b){return y.call(c.src,c.listener,b)}const y=Il;return c}function On(c,y,b,k,B){if(Array.isArray(y))for(var W=0;W<y.length;W++)On(c,y[W],b,k,B);else k=g(k)?!!k.capture:!!k,b=Hi(b),c&&c[me]?(c=c.i,y=String(y).toString(),y in c.g&&(W=c.g[y],b=vt(W,b,k,B),-1<b&&(it(W[b]),Array.prototype.splice.call(W,b,1),W.length==0&&(delete c.g[y],c.h--)))):c&&(c=qa(c))&&(y=c.g[y.toString()],c=-1,y&&(c=vt(y,b,k,B)),(b=-1<c?y[c]:null)&&nn(b))}function nn(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[me])tt(y.i,c);else{var b=c.type,k=c.proxy;y.removeEventListener?y.removeEventListener(b,k,c.capture):y.detachEvent?y.detachEvent(Wr(b),k):y.addListener&&y.removeListener&&y.removeListener(k),(b=qa(y))?(tt(b,c),b.h==0&&(b.src=null,y[De]=null)):it(c)}}}function Wr(c){return c in Mt?Mt[c]:Mt[c]="on"+c}function Il(c,y){if(c.da)c=!0;else{y=new ce(y,this);var b=c.listener,k=c.ha||c.src;c.fa&&nn(c),c=b.call(k,y)}return c}function qa(c){return c=c[De],c instanceof Ve?c:null}var Ha="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hi(c){return typeof c=="function"?c:(c[Ha]||(c[Ha]=function(y){return c.handleEvent(y)}),c[Ha])}function ht(){K.call(this),this.i=new Ve(this),this.M=this,this.F=null}j(ht,K),ht.prototype[me]=!0,ht.prototype.removeEventListener=function(c,y,b,k){On(this,c,y,b,k)};function Qe(c,y){var b,k=c.F;if(k)for(b=[];k;k=k.F)b.push(k);if(c=c.M,k=y.type||y,typeof y=="string")y=new Q(y,c);else if(y instanceof Q)y.target=y.target||c;else{var B=y;y=new Q(k,c),P(y,B)}if(B=!0,b)for(var W=b.length-1;0<=W;W--){var ue=y.g=b[W];B=vn(ue,k,!0,y)&&B}if(ue=y.g=c,B=vn(ue,k,!0,y)&&B,B=vn(ue,k,!1,y)&&B,b)for(W=0;W<b.length;W++)ue=y.g=b[W],B=vn(ue,k,!1,y)&&B}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var b=c.g[y],k=0;k<b.length;k++)it(b[k]);delete c.g[y],c.h--}}this.F=null},ht.prototype.K=function(c,y,b,k){return this.i.add(String(c),y,!1,b,k)},ht.prototype.L=function(c,y,b,k){return this.i.add(String(c),y,!0,b,k)};function vn(c,y,b,k){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,W=0;W<y.length;++W){var ue=y[W];if(ue&&!ue.da&&ue.capture==b){var Ge=ue.listener,zt=ue.ha||ue.src;ue.fa&&tt(c.i,ue),B=Ge.call(zt,k)!==!1&&B}}return B&&!k.defaultPrevented}function Ft(c,y,b){if(typeof c=="function")b&&(c=T(c,b));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function js(c){c.g=Ft(()=>{c.g=null,c.i&&(c.i=!1,js(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Fs extends K{constructor(y,b){super(),this.m=y,this.l=b,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:js(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qr(c){K.call(this),this.h=c,this.g={}}j(Qr,K);var Xr=[];function Bs(c){ye(c.g,function(y,b){this.g.hasOwnProperty(b)&&nn(y)},c),c.g={}}Qr.prototype.N=function(){Qr.aa.N.call(this),Bs(this)},Qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var lr=d.JSON.stringify,$i=d.JSON.parse,Us=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Al(){}Al.prototype.h=null;function Nl(c){return c.h||(c.h=c.i())}function Dl(){}var Kr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yr(){Q.call(this,"d")}j(Yr,Q);function Pl(){Q.call(this,"c")}j(Pl,Q);var Cr={},Ml=null;function $a(){return Ml=Ml||new ht}Cr.La="serverreachability";function Gi(c){Q.call(this,Cr.La,c)}j(Gi,Q);function Ga(c){const y=$a();Qe(y,new Gi(y))}Cr.STAT_EVENT="statevent";function Hc(c,y){Q.call(this,Cr.STAT_EVENT,c),this.stat=y}j(Hc,Q);function pt(c){const y=$a();Qe(y,new Hc(y,c))}Cr.Ma="timingevent";function Bt(c,y){Q.call(this,Cr.Ma,c),this.size=y}j(Bt,Q);function Ot(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function Qn(){this.g=!0}Qn.prototype.xa=function(){this.g=!1};function Ol(c,y,b,k,B,W){c.info(function(){if(c.g)if(W)for(var ue="",Ge=W.split("&"),zt=0;zt<Ge.length;zt++){var Xe=Ge[zt].split("=");if(1<Xe.length){var Qt=Xe[0];Xe=Xe[1];var an=Qt.split("_");ue=2<=an.length&&an[1]=="type"?ue+(Qt+"="+Xe+"&"):ue+(Qt+"=redacted&")}}else ue=null;else ue=W;return"XMLHTTP REQ ("+k+") [attempt "+B+"]: "+y+`
`+b+`
`+ue})}function Kp(c,y,b,k,B,W,ue){c.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+B+"]: "+y+`
`+b+`
`+W+" "+ue})}function Wa(c,y,b,k){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+zs(c,b)+(k?" "+k:"")})}function $c(c,y){c.info(function(){return"TIMEOUT: "+y})}Qn.prototype.info=function(){};function zs(c,y){if(!c.g)return y;if(!y)return null;try{var b=JSON.parse(y);if(b){for(c=0;c<b.length;c++)if(Array.isArray(b[c])){var k=b[c];if(!(2>k.length)){var B=k[1];if(Array.isArray(B)&&!(1>B.length)){var W=B[0];if(W!="noop"&&W!="stop"&&W!="close")for(var ue=1;ue<B.length;ue++)B[ue]=""}}}}return lr(b)}catch{return y}}var Qa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Jr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_r;function Ir(){}j(Ir,Al),Ir.prototype.g=function(){return new XMLHttpRequest},Ir.prototype.i=function(){return{}},_r=new Ir;function bn(c,y,b,k){this.j=c,this.i=y,this.l=b,this.R=k||1,this.U=new Qr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ct}function Ct(){this.i=null,this.g="",this.h=!1}var Ll={},Wi={};function ur(c,y,b){c.L=1,c.v=Ws(Ln(y)),c.m=b,c.P=!0,Zr(c,null)}function Zr(c,y){c.F=Date.now(),qs(c),c.A=Ln(c.v);var b=c.A,k=c.R;Array.isArray(k)||(k=[String(k)]),Ul(b.i,"t",k),c.C=0,b=c.j.J,c.h=new Ct,c.g=oh(c.j,b?y:null,!c.m),0<c.O&&(c.M=new Fs(T(c.Y,c,c.g),c.O)),y=c.U,b=c.g,k=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(Xr[0]=B.toString()),B=Xr);for(var W=0;W<B.length;W++){var ue=mn(b,B[W],k||y.handleEvent,!1,y.h||y);if(!ue)break;y.g[ue.key]=ue}y=c.H?_(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Ga(),Ol(c.i,c.u,c.A,c.l,c.R,c.m)}bn.prototype.ca=function(c){c=c.target;const y=this.M;y&&Jn(c)==3?y.j():this.Y(c)},bn.prototype.Y=function(c){try{if(c==this.g)e:{const an=Jn(this.g);var y=this.g.Ba();const oa=this.g.Z();if(!(3>an)&&(an!=3||this.g&&(this.h.h||this.g.oa()||Zc(this.g)))){this.J||an!=4||y==7||(y==8||0>=oa?Ga(3):Ga(2)),Xa(this);var b=this.g.Z();this.X=b;t:if(Gc(this)){var k=Zc(this.g);c="";var B=k.length,W=Jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rn(this),Ar(this);var ue="";break t}this.h.i=new d.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,c+=this.h.i.decode(k[y],{stream:!(W&&y==B-1)});k.length=0,this.h.g+=c,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=b==200,Kp(this.i,this.u,this.A,this.l,this.R,an,b),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,zt=this.g;if((Ge=zt.g?zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(Ge)){var Xe=Ge;break t}}Xe=null}if(b=Xe)Wa(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hs(this,b);else{this.o=!1,this.s=3,pt(12),rn(this),Ar(this);break e}}if(this.P){b=!0;let sn;for(;!this.J&&this.C<ue.length;)if(sn=Wc(this,ue),sn==Wi){an==4&&(this.s=4,pt(14),b=!1),Wa(this.i,this.l,null,"[Incomplete Response]");break}else if(sn==Ll){this.s=4,pt(15),Wa(this.i,this.l,ue,"[Invalid Chunk]"),b=!1;break}else Wa(this.i,this.l,sn,null),Hs(this,sn);if(Gc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),an!=4||ue.length!=0||this.h.h||(this.s=1,pt(16),b=!1),this.o=this.o&&b,!b)Wa(this.i,this.l,ue,"[Invalid Chunked Response]"),rn(this),Ar(this);else if(0<ue.length&&!this.W){this.W=!0;var Qt=this.j;Qt.g==this&&Qt.ba&&!Qt.M&&(Qt.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),ti(Qt),Qt.M=!0,pt(11))}}else Wa(this.i,this.l,ue,null),Hs(this,ue);an==4&&rn(this),this.o&&!this.J&&(an==4?ah(this.j,this):(this.o=!1,qs(this)))}else tm(this.g),b==400&&0<ue.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),rn(this),Ar(this)}}}catch{}finally{}};function Gc(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Wc(c,y){var b=c.C,k=y.indexOf(`
`,b);return k==-1?Wi:(b=Number(y.substring(b,k)),isNaN(b)?Ll:(k+=1,k+b>y.length?Wi:(y=y.slice(k,k+b),c.C=k+b,y)))}bn.prototype.cancel=function(){this.J=!0,rn(this)};function qs(c){c.S=Date.now()+c.I,Qc(c,c.I)}function Qc(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ot(T(c.ba,c),y)}function Xa(c){c.B&&(d.clearTimeout(c.B),c.B=null)}bn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?($c(this.i,this.A),this.L!=2&&(Ga(),pt(17)),rn(this),this.s=2,Ar(this)):Qc(this,this.S-c)};function Ar(c){c.j.G==0||c.J||ah(c.j,c)}function rn(c){Xa(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Bs(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Hs(c,y){try{var b=c.j;if(b.G!=0&&(b.g==c||Vl(b.h,c))){if(!c.K&&Vl(b.h,c)&&b.G==3){try{var k=b.Da.g.parse(y)}catch{k=null}if(Array.isArray(k)&&k.length==3){var B=k;if(B[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<c.F)so(b),ro(b);else break e;Gl(b),pt(18)}}else b.za=B[1],0<b.za-b.T&&37500>B[2]&&b.F&&b.v==0&&!b.C&&(b.C=Ot(T(b.Za,b),6e3));if(1>=Xi(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else ia(b,11)}else if((c.K||b.g==c)&&so(b),!te(y))for(B=b.Da.g.parse(y),y=0;y<B.length;y++){let Xe=B[y];if(b.T=Xe[0],Xe=Xe[1],b.G==2)if(Xe[0]=="c"){b.K=Xe[1],b.ia=Xe[2];const Qt=Xe[3];Qt!=null&&(b.la=Qt,b.j.info("VER="+b.la));const an=Xe[4];an!=null&&(b.Aa=an,b.j.info("SVER="+b.Aa));const oa=Xe[5];oa!=null&&typeof oa=="number"&&0<oa&&(k=1.5*oa,b.L=k,b.j.info("backChannelRequestTimeoutMs_="+k)),k=b;const sn=c.g;if(sn){const Vr=sn.g?sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vr){var W=k.h;W.g||Vr.indexOf("spdy")==-1&&Vr.indexOf("quic")==-1&&Vr.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Ki(W,W.h),W.h=null))}if(k.D){const Ql=sn.g?sn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ql&&(k.ya=Ql,nt(k.I,k.D,Ql))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-c.F,b.j.info("Handshake RTT: "+b.R+"ms")),k=b;var ue=c;if(k.qa=ih(k,k.J?k.ia:null,k.W),ue.K){wn(k.h,ue);var Ge=ue,zt=k.L;zt&&(Ge.I=zt),Ge.B&&(Xa(Ge),qs(Ge)),k.g=ue}else nh(k);0<b.i.length&&ao(b)}else Xe[0]!="stop"&&Xe[0]!="close"||ia(b,7);else b.G==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?ia(b,7):Hl(b):Xe[0]!="noop"&&b.l&&b.l.ta(Xe),b.v=0)}}Ga(4)}catch{}}var Xc=class{constructor(c,y){this.g=c,this.map=y}};function ea(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qi(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Xi(c){return c.h?1:c.g?c.g.size:0}function Vl(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ki(c,y){c.g?c.g.add(y):c.h=y}function wn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}ea.prototype.cancel=function(){if(this.i=Rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Rl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const b of c.g.values())y=y.concat(b.D);return y}return q(c.i)}function Yp(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(m(c)){for(var y=[],b=c.length,k=0;k<b;k++)y.push(c[k]);return y}y=[],b=0;for(k in c)y[b++]=c[k];return y}function Yi(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(m(c)||typeof c=="string"){var y=[];c=c.length;for(var b=0;b<c;b++)y.push(b);return y}y=[],b=0;for(const k in c)y[b++]=k;return y}}}function jl(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(m(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var b=Yi(c),k=Yp(c),B=k.length,W=0;W<B;W++)y.call(void 0,k[W],b&&b[W],c)}var $s=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jp(c,y){if(c){c=c.split("&");for(var b=0;b<c.length;b++){var k=c[b].indexOf("="),B=null;if(0<=k){var W=c[b].substring(0,k);B=c[b].substring(k+1)}else W=c[b];y(W,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Ut(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ut){this.h=c.h,Gs(this,c.j),this.o=c.o,this.g=c.g,Ka(this,c.s),this.l=c.l;var y=c.i,b=new na;b.i=y.i,y.g&&(b.g=new Map(y.g),b.h=y.h),ta(this,b),this.m=c.m}else c&&(y=String(c).match($s))?(this.h=!1,Gs(this,y[1]||"",!0),this.o=Xn(y[2]||""),this.g=Xn(y[3]||"",!0),Ka(this,y[4]),this.l=Xn(y[5]||"",!0),ta(this,y[6]||"",!0),this.m=Xn(y[7]||"")):(this.h=!1,this.i=new na(null,this.h))}Ut.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Qs(y,Fl,!0),":");var b=this.g;return(b||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Qs(y,Fl,!0),"@"),c.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&c.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(Qs(b,b.charAt(0)=="/"?Zp:Bl,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",Qs(b,Ji)),c.join("")};function Ln(c){return new Ut(c)}function Gs(c,y,b){c.j=b?Xn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ka(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function ta(c,y,b){y instanceof na?(c.i=y,Yc(c.i,c.h)):(b||(y=Qs(y,em)),c.i=new na(y,c.h))}function nt(c,y,b){c.i.set(y,b)}function Ws(c){return nt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Xn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Qs(c,y,b){return typeof c=="string"?(c=encodeURI(c).replace(y,Kc),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Kc(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Fl=/[#\/\?@]/g,Bl=/[#\?:]/g,Zp=/[#\?]/g,em=/[#\?@]/g,Ji=/#/g;function na(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Kn(c){c.g||(c.g=new Map,c.h=0,c.i&&Jp(c.i,function(y,b){c.add(decodeURIComponent(y.replace(/\+/g," ")),b)}))}n=na.prototype,n.add=function(c,y){Kn(this),this.i=null,c=Nr(this,c);var b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(y),this.h+=1,this};function ra(c,y){Kn(c),y=Nr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function aa(c,y){return Kn(c),y=Nr(c,y),c.g.has(y)}n.forEach=function(c,y){Kn(this),this.g.forEach(function(b,k){b.forEach(function(B){c.call(y,B,k,this)},this)},this)},n.na=function(){Kn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),b=[];for(let k=0;k<y.length;k++){const B=c[k];for(let W=0;W<B.length;W++)b.push(y[k])}return b},n.V=function(c){Kn(this);let y=[];if(typeof c=="string")aa(this,c)&&(y=y.concat(this.g.get(Nr(this,c))));else{c=Array.from(this.g.values());for(let b=0;b<c.length;b++)y=y.concat(c[b])}return y},n.set=function(c,y){return Kn(this),this.i=null,c=Nr(this,c),aa(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},n.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Ul(c,y,b){ra(c,y),0<b.length&&(c.i=null,c.g.set(Nr(c,y),q(b)),c.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var b=0;b<y.length;b++){var k=y[b];const W=encodeURIComponent(String(k)),ue=this.V(k);for(k=0;k<ue.length;k++){var B=W;ue[k]!==""&&(B+="="+encodeURIComponent(String(ue[k]))),c.push(B)}}return this.i=c.join("&")};function Nr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Yc(c,y){y&&!c.j&&(Kn(c),c.i=null,c.g.forEach(function(b,k){var B=k.toLowerCase();k!=B&&(ra(this,k),Ul(this,B,b))},c)),c.j=y}function Xs(c,y){const b=new Qn;if(d.Image){const k=new Image;k.onload=I(Yn,b,"TestLoadImage: loaded",!0,y,k),k.onerror=I(Yn,b,"TestLoadImage: error",!1,y,k),k.onabort=I(Yn,b,"TestLoadImage: abort",!1,y,k),k.ontimeout=I(Yn,b,"TestLoadImage: timeout",!1,y,k),d.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=c}else y(!1)}function cr(c,y){const b=new Qn,k=new AbortController,B=setTimeout(()=>{k.abort(),Yn(b,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:k.signal}).then(W=>{clearTimeout(B),W.ok?Yn(b,"TestPingServer: ok",!0,y):Yn(b,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),Yn(b,"TestPingServer: error",!1,y)})}function Yn(c,y,b,k,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),k(b)}catch{}}function Ks(){this.g=new Us}function Dr(c,y,b){const k=b||"";try{jl(c,function(B,W){let ue=B;g(B)&&(ue=lr(B)),y.push(k+W+"="+encodeURIComponent(ue))})}catch(B){throw y.push(k+"type="+encodeURIComponent("_badmap")),B}}function Ya(c){this.l=c.Ub||null,this.j=c.eb||!1}j(Ya,Al),Ya.prototype.g=function(){return new sa(this.l,this.j)},Ya.prototype.i=(function(c){return function(){return c}})({});function sa(c,y){ht.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(sa,ht),n=sa.prototype,n.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Mr(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pr(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Mr(this)),this.g&&(this.readyState=3,Mr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function zl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Pr(this):Mr(this),this.readyState==3&&zl(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Pr(this))},n.Qa=function(c){this.g&&(this.response=c,Pr(this))},n.ga=function(){this.g&&Pr(this)};function Pr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Mr(c)}n.setRequestHeader=function(c,y){this.u.append(c,y)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var b=y.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=y.next();return c.join(`\r
`)};function Mr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(sa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ql(c){let y="";return ye(c,function(b,k){y+=k,y+=":",y+=b,y+=`\r
`}),y}function Wt(c,y,b){e:{for(k in b){var k=!1;break e}k=!0}k||(b=ql(b),typeof c=="string"?b!=null&&encodeURIComponent(String(b)):nt(c,y,b))}function Je(c){ht.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(Je,ht);var Zi=/^https?$/i,Ys=["POST","PUT"];n=Je.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,y,b,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_r.g(),this.v=this.o?Nl(this.o):Nl(_r),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(W){Jc(this,W);return}if(c=b||"",b=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var B in k)b.set(B,k[B]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const W of k.keys())b.set(W,k.get(W));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(b.keys()).find(W=>W.toLowerCase()=="content-type"),B=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ys,y,void 0))||k||B||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ue]of b)this.g.setRequestHeader(W,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Js(this),this.u=!0,this.g.send(c),this.u=!1}catch(W){Jc(this,W)}};function Jc(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,eo(c),Or(c)}function eo(c){c.A||(c.A=!0,Qe(c,"complete"),Qe(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Qe(this,"complete"),Qe(this,"abort"),Or(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Or(this,!0)),Je.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?to(this):this.bb())},n.bb=function(){to(this)};function to(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Jn(c)!=4||c.Z()!=2)){if(c.u&&Jn(c)==4)Ft(c.Ea,0,c);else if(Qe(c,"readystatechange"),Jn(c)==4){c.h=!1;try{const ue=c.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var b;if(!(b=y)){var k;if(k=ue===0){var B=String(c.D).match($s)[1]||null;!B&&d.self&&d.self.location&&(B=d.self.location.protocol.slice(0,-1)),k=!Zi.test(B?B.toLowerCase():"")}b=k}if(b)Qe(c,"complete"),Qe(c,"success");else{c.m=6;try{var W=2<Jn(c)?c.g.statusText:""}catch{W=""}c.l=W+" ["+c.Z()+"]",eo(c)}}finally{Or(c)}}}}function Or(c,y){if(c.g){Js(c);const b=c.g,k=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Qe(c,"ready");try{b.onreadystatechange=k}catch{}}}function Js(c){c.I&&(d.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Jn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Jn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),$i(y)}};function Zc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function tm(c){const y={};c=(c.g&&2<=Jn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<c.length;k++){if(te(c[k]))continue;var b=O(c[k]);const B=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const W=y[B]||[];y[B]=W,W.push(b)}M(y,function(k){return k.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zs(c,y,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||y}function no(c){this.Aa=0,this.i=[],this.j=new Qn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zs("baseRetryDelayMs",5e3,c),this.cb=Zs("retryDelaySeedMs",1e4,c),this.Wa=Zs("forwardChannelMaxRetries",2,c),this.wa=Zs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ea(c&&c.concurrentRequestLimit),this.Da=new Ks,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=no.prototype,n.la=8,n.G=1,n.connect=function(c,y,b,k){pt(0),this.W=c,this.H=y||{},b&&k!==void 0&&(this.H.OSID=b,this.H.OAID=k),this.F=this.X,this.I=ih(this,null,this.W),ao(this)};function Hl(c){if(eh(c),c.G==3){var y=c.U++,b=Ln(c.I);if(nt(b,"SID",c.K),nt(b,"RID",y),nt(b,"TYPE","terminate"),ei(c,b),y=new bn(c,c.j,y),y.L=2,y.v=Ws(Ln(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!b&&d.Image&&(new Image().src=y.v,b=!0),b||(y.g=oh(y.j,null),y.g.ea(y.v)),y.F=Date.now(),qs(y)}sh(c)}function ro(c){c.g&&(ti(c),c.g.cancel(),c.g=null)}function eh(c){ro(c),c.u&&(d.clearTimeout(c.u),c.u=null),so(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function ao(c){if(!Qi(c.h)&&!c.s){c.s=!0;var y=c.Ga;re||x(),fe||(re(),fe=!0),Pe.add(y,c),c.B=0}}function nm(c,y){return Xi(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ot(T(c.Ga,c,y),Wl(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new bn(this,this.j,c);let W=this.o;if(this.S&&(W?(W=_(W),P(W,this.S)):W=this.S),this.m!==null||this.O||(B.H=W,W=null),this.P)e:{for(var y=0,b=0;b<this.i.length;b++){t:{var k=this.i[b];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(y+=k,4096<y){y=b;break e}if(y===4096||b===this.i.length-1){y=b+1;break e}}y=1e3}else y=1e3;y=th(this,B,y),b=Ln(this.I),nt(b,"RID",c),nt(b,"CVER",22),this.D&&nt(b,"X-HTTP-Session-Id",this.D),ei(this,b),W&&(this.O?y="headers="+encodeURIComponent(String(ql(W)))+"&"+y:this.m&&Wt(b,this.m,W)),Ki(this.h,B),this.Ua&&nt(b,"TYPE","init"),this.P?(nt(b,"$req",y),nt(b,"SID","null"),B.T=!0,ur(B,b,null)):ur(B,b,y),this.G=2}}else this.G==3&&(c?$l(this,c):this.i.length==0||Qi(this.h)||$l(this))};function $l(c,y){var b;y?b=y.l:b=c.U++;const k=Ln(c.I);nt(k,"SID",c.K),nt(k,"RID",b),nt(k,"AID",c.T),ei(c,k),c.m&&c.o&&Wt(k,c.m,c.o),b=new bn(c,c.j,b,c.B+1),c.m===null&&(b.H=c.o),y&&(c.i=y.D.concat(c.i)),y=th(c,b,1e3),b.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ki(c.h,b),ur(b,k,y)}function ei(c,y){c.H&&ye(c.H,function(b,k){nt(y,k,b)}),c.l&&jl({},function(b,k){nt(y,k,b)})}function th(c,y,b){b=Math.min(c.i.length,b);var k=c.l?T(c.l.Na,c.l,c):null;e:{var B=c.i;let W=-1;for(;;){const ue=["count="+b];W==-1?0<b?(W=B[0].g,ue.push("ofs="+W)):W=0:ue.push("ofs="+W);let Ge=!0;for(let zt=0;zt<b;zt++){let Xe=B[zt].g;const Qt=B[zt].map;if(Xe-=W,0>Xe)W=Math.max(0,B[zt].g-100),Ge=!1;else try{Dr(Qt,ue,"req"+Xe+"_")}catch{k&&k(Qt)}}if(Ge){k=ue.join("&");break e}}}return c=c.i.splice(0,b),y.D=c,k}function nh(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;re||x(),fe||(re(),fe=!0),Pe.add(y,c),c.v=0}}function Gl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ot(T(c.Fa,c),Wl(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,rh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ot(T(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),ro(this),rh(this))};function ti(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function rh(c){c.g=new bn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Ln(c.qa);nt(y,"RID","rpc"),nt(y,"SID",c.K),nt(y,"AID",c.T),nt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&nt(y,"TO",c.ja),nt(y,"TYPE","xmlhttp"),ei(c,y),c.m&&c.o&&Wt(y,c.m,c.o),c.L&&(c.g.I=c.L);var b=c.g;c=c.ia,b.L=1,b.v=Ws(Ln(y)),b.m=null,b.P=!0,Zr(b,c)}n.Za=function(){this.C!=null&&(this.C=null,ro(this),Gl(this),pt(19))};function so(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function ah(c,y){var b=null;if(c.g==y){so(c),ti(c),c.g=null;var k=2}else if(Vl(c.h,y))b=y.D,wn(c.h,y),k=1;else return;if(c.G!=0){if(y.o)if(k==1){b=y.m?y.m.length:0,y=Date.now()-y.F;var B=c.B;k=$a(),Qe(k,new Bt(k,b)),ao(c)}else nh(c);else if(B=y.s,B==3||B==0&&0<y.X||!(k==1&&nm(c,y)||k==2&&Gl(c)))switch(b&&0<b.length&&(y=c.h,y.i=y.i.concat(b)),B){case 1:ia(c,5);break;case 4:ia(c,10);break;case 3:ia(c,6);break;default:ia(c,2)}}}function Wl(c,y){let b=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(b*=2),b*y}function ia(c,y){if(c.j.info("Error code "+y),y==2){var b=T(c.fb,c),k=c.Xa;const B=!k;k=new Ut(k||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Gs(k,"https"),Ws(k),B?Xs(k.toString(),b):cr(k.toString(),b)}else pt(2);c.G=0,c.l&&c.l.sa(y),sh(c),eh(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function sh(c){if(c.G=0,c.ka=[],c.l){const y=Rl(c.h);(y.length!=0||c.i.length!=0)&&(F(c.ka,y),F(c.ka,c.i),c.h.i.length=0,q(c.i),c.i.length=0),c.l.ra()}}function ih(c,y,b){var k=b instanceof Ut?Ln(b):new Ut(b);if(k.g!="")y&&(k.g=y+"."+k.g),Ka(k,k.s);else{var B=d.location;k=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var W=new Ut(null);k&&Gs(W,k),y&&(W.g=y),B&&Ka(W,B),b&&(W.l=b),k=W}return b=c.D,y=c.ya,b&&y&&nt(k,b,y),nt(k,"VER",c.la),ei(c,k),k}function oh(c,y,b){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Je(new Ya({eb:b})):new Je(c.pa),y.Ha(c.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function lh(){}n=lh.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function io(){}io.prototype.g=function(c,y){return new En(c,y)};function En(c,y){ht.call(this),this.g=new no(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!te(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!te(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Lr(this)}j(En,ht),En.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){Hl(this.g)},En.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.u&&(b={},b.__data__=lr(c),c=b);y.i.push(new Xc(y.Ya++,c)),y.G==3&&ao(y)},En.prototype.N=function(){this.g.l=null,delete this.j,Hl(this.g),delete this.g,En.aa.N.call(this)};function uh(c){Yr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const b in y){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}j(uh,Yr);function ch(){Pl.call(this),this.status=1}j(ch,Pl);function Lr(c){this.g=c}j(Lr,lh),Lr.prototype.ua=function(){Qe(this.g,"a")},Lr.prototype.ta=function(c){Qe(this.g,new uh(c))},Lr.prototype.sa=function(c){Qe(this.g,new ch)},Lr.prototype.ra=function(){Qe(this.g,"b")},io.prototype.createWebChannel=io.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,fv=function(){return new io},hv=function(){return $a()},cv=Cr,Ff={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qa.NO_ERROR=0,Qa.TIMEOUT=8,Qa.HTTP_ERROR=6,zu=Qa,Jr.COMPLETE="complete",uv=Jr,Dl.EventType=Kr,Kr.OPEN="a",Kr.CLOSE="b",Kr.ERROR="c",Kr.MESSAGE="d",ht.prototype.listen=ht.prototype.K,qo=Dl,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,lv=Je}).apply(typeof Uu<"u"?Uu:typeof self<"u"?self:typeof window<"u"?window:{});const dv="@firebase/firestore",pv="4.8.0";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let yi="11.10.0";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ks=new bf("@firebase/firestore");function vi(){return ks.logLevel}function he(n,...e){if(ks.logLevel<=Ue.DEBUG){const r=e.map(Bf);ks.debug(`Firestore (${yi}): ${n}`,...r)}}function qr(n,...e){if(ks.logLevel<=Ue.ERROR){const r=e.map(Bf);ks.error(`Firestore (${yi}): ${n}`,...r)}}function _a(n,...e){if(ks.logLevel<=Ue.WARN){const r=e.map(Bf);ks.warn(`Firestore (${yi}): ${n}`,...r)}}function Bf(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(n)}catch{return n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Te(n,e,r){let s="Unexpected state";typeof e=="string"?s=e:r=e,mv(n,s,r)}function mv(n,e,r){let s=`FIRESTORE (${yi}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(r!==void 0)try{s+=" CONTEXT: "+JSON.stringify(r)}catch{s+=" CONTEXT: "+r}throw qr(s),new Error(s)}function Ye(n,e,r,s){let o="Unexpected state";typeof r=="string"?o=r:s=r,n||mv(e,o,s)}function Ie(n,e){return n}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends Sa{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Cs{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class gv{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class t_{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(hn.UNAUTHENTICATED)))}shutdown(){}}class n_{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class r_{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Ye(this.o===void 0,42304);let s=this.i;const o=m=>this.i!==s?(s=this.i,r(m)):Promise.resolve();let u=new Cs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Cs,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const m=u;e.enqueueRetryable((async()=>{await m.promise,await o(this.currentUser)}))},d=m=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Cs)}}),0),h()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ye(typeof s.accessToken=="string",31837,{l:s}),new gv(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new hn(e)}}class a_{constructor(e,r,s){this.P=e,this.T=r,this.I=s,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class s_{constructor(e,r,s){this.P=e,this.T=r,this.I=s}getToken(){return Promise.resolve(new a_(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable((()=>r(hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class yv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class i_{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,w2(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){Ye(this.o===void 0,3512);const s=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,he("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?r(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new yv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(Ye(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new yv(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function o_(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let s=0;s<n;s++)r[s]=Math.floor(256*Math.random());return r}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function vv(){return new TextEncoder}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Uf{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=o_(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<r&&(s+=e.charAt(o[u]%62))}return s}}function Me(n,e){return n<e?-1:n>e?1:0}function zf(n,e){let r=0;for(;r<n.length&&r<e.length;){const s=n.codePointAt(r),o=e.codePointAt(r);if(s!==o){if(s<128&&o<128)return Me(s,o);{const u=vv(),h=l_(u.encode(bv(n,r)),u.encode(bv(e,r)));return h!==0?h:Me(s,o)}}r+=s>65535?2:1}return Me(n.length,e.length)}function bv(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function l_(n,e){for(let r=0;r<n.length&&r<e.length;++r)if(n[r]!==e[r])return Me(n[r],e[r]);return Me(n.length,e.length)}function bi(n,e,r){return n.length===e.length&&n.every(((s,o)=>r(s,e[o])))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const wv="__name__";class gr{constructor(e,r,s){r===void 0?r=0:r>e.length&&Te(637,{offset:r,range:e.length}),s===void 0?s=e.length-r:s>e.length-r&&Te(1746,{length:s,range:e.length-r}),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return gr.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof gr?e.forEach((s=>{r.push(s)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let o=0;o<s;o++){const u=gr.compareSegments(e.get(o),r.get(o));if(u!==0)return u}return Me(e.length,r.length)}static compareSegments(e,r){const s=gr.isNumericId(e),o=gr.isNumericId(r);return s&&!o?-1:!s&&o?1:s&&o?gr.extractNumericId(e).compare(gr.extractNumericId(r)):zf(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ca.fromString(e.substring(4,e.length-2))}}class ut extends gr{construct(e,r,s){return new ut(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new be(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter((o=>o.length>0)))}return new ut(r)}static emptyPath(){return new ut([])}}const u_=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends gr{construct(e,r,s){return new Jt(e,r,s)}static isValidIdentifier(e){return u_.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wv}static keyField(){return new Jt([wv])}static fromServerFormat(e){const r=[];let s="",o=0;const u=()=>{if(s.length===0)throw new be(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new be(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new be(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(s+=d,o++):(u(),o++)}if(u(),h)throw new be(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(r)}static emptyPath(){return new Jt([])}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(ut.fromString(e))}static fromName(e){return new Ee(ut.fromString(e).popFirst(5))}static empty(){return new Ee(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return ut.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new ut(e.slice()))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ev(n,e,r){if(!r)throw new be(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function c_(n,e,r,s){if(e===!0&&s===!0)throw new be(ne.INVALID_ARGUMENT,`${n} and ${r} cannot be used together.`)}function Sv(n){if(!Ee.isDocumentKey(n))throw new be(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function xv(n){if(Ee.isDocumentKey(n))throw new be(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Tv(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function qf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Te(12329,{type:typeof n})}function Ia(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new be(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=qf(n);throw new be(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return n}/**
* @license
* Copyright 2025 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function At(n,e){const r={typeString:n};return e&&(r.value=e),r}function Ho(n,e){if(!Tv(n))throw new be(ne.INVALID_ARGUMENT,"JSON must be an object");let r;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){r=`JSON missing required field: '${s}'`;break}const h=n[s];if(o&&typeof h!==o){r=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){r=`Expected '${s}' field to equal '${u.value}'`;break}}if(r)throw new be(ne.INVALID_ARGUMENT,r);return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const kv=-62135596800,Cv=1e6;class ct{static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor((e-1e3*r)*Cv);return new ct(r,s)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new be(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new be(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<kv)throw new be(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Cv}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ho(e,ct._jsonSchema))return new ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-kv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ct._jsonSchemaVersion="firestore/timestamp/1.0",ct._jsonSchema={type:At("string",ct._jsonSchemaVersion),seconds:At("number"),nanoseconds:At("number")};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _e{static fromTimestamp(e){return new _e(e)}static min(){return new _e(new ct(0,0))}static max(){return new _e(new ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const $o=-1;function h_(n,e){const r=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,o=_e.fromTimestamp(s===1e9?new ct(r+1,0):new ct(r,s));return new Aa(o,Ee.empty(),e)}function f_(n){return new Aa(n.readTime,n.key,$o)}class Aa{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new Aa(_e.min(),Ee.empty(),$o)}static max(){return new Aa(_e.max(),Ee.empty(),$o)}}function d_(n,e){let r=n.readTime.compareTo(e.readTime);return r!==0?r:(r=Ee.comparator(n.documentKey,e.documentKey),r!==0?r:Me(n.largestBatchId,e.largestBatchId))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const p_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class m_{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function wi(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==p_)throw n;he("LocalStore","Unexpectedly lost primary lease")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Z(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(r,u).next(s,o)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof Z?r:Z.resolve(r)}catch(r){return Z.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):Z.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):Z.reject(r)}static resolve(e){return new Z(((r,s)=>{r(e)}))}static reject(e){return new Z(((r,s)=>{s(e)}))}static waitFor(e){return new Z(((r,s)=>{let o=0,u=0,h=!1;e.forEach((d=>{++o,d.next((()=>{++u,h&&u===o&&r()}),(m=>s(m)))})),h=!0,u===o&&r()}))}static or(e){let r=Z.resolve(!1);for(const s of e)r=r.next((o=>o?Z.resolve(o):s()));return r}static forEach(e,r){const s=[];return e.forEach(((o,u)=>{s.push(r.call(this,o,u))})),this.waitFor(s)}static mapArray(e,r){return new Z(((s,o)=>{const u=e.length,h=new Array(u);let d=0;for(let m=0;m<u;m++){const g=m;r(e[g]).next((v=>{h[g]=v,++d,d===u&&s(h)}),(v=>o(v)))}}))}static doWhile(e,r){return new Z(((s,o)=>{const u=()=>{e()===!0?r().next((()=>{u()}),o):s()};u()}))}}function g_(n){const e=n.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Ei(n){return n.name==="IndexedDbTransactionError"}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qu{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=s=>this._e(s),this.ae=s=>r.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}qu.ue=-1;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Hf=-1;function Hu(n){return n==null}function $u(n){return n===0&&1/n==-1/0}function y_(n){return typeof n=="number"&&Number.isInteger(n)&&!$u(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const _v="";function v_(n){let e="";for(let r=0;r<n.length;r++)e.length>0&&(e=Iv(e)),e=b_(n.get(r),e);return Iv(e)}function b_(n,e){let r=e;const s=n.length;for(let o=0;o<s;o++){const u=n.charAt(o);switch(u){case"\0":r+="";break;case _v:r+="";break;default:r+=u}}return r}function Iv(n){return n+_v+""}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Av(n){let e=0;for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&e++;return e}function Na(n,e){for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&e(r,n[r])}function Nv(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class gt{constructor(e,r){this.comparator=e,this.root=r||Zt.EMPTY}insert(e,r){return new gt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return r+s.left.size;o<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,s)=>(e(r,s),!1)))}toString(){const e=[];return this.inorderTraversal(((r,s)=>(e.push(`${r}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gu(this.root,e,this.comparator,!0)}}class Gu{constructor(e,r,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=r?s(e.key,r):1,r&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,r,s,o,u){this.key=e,this.value=r,this.color=s??Zt.RED,this.left=o??Zt.EMPTY,this.right=u??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,o,u){return new Zt(e??this.key,r??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,r,s),null):u===0?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(e,r,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,o=this;if(r(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,r),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),r(e,o.key)===0){if(o.right.isEmpty())return Zt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,r))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1,Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(n,e,r,s,o){return this}insert(n,e,r){return new Zt(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Rt{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,s)=>(e(r),!1)))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;r(o.key)}}forEachWhile(e,r){let s;for(s=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Dv(this.data.getIterator())}getIteratorFrom(e){return new Dv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((s=>{r=r.add(s)})),r}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const o=r.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new Rt(this.comparator);return r.data=e,r}}class Dv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Dn{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new Dn([])}unionWith(e){let r=new Rt(Jt.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new Dn(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return bi(this.fields,e.fields,((r,s)=>r.isEqual(s)))}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Pv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class en{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Pv("Invalid base64 string: "+o):o}})(e);return new en(r)}static fromUint8Array(e){const r=(function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o})(e);return new en(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const r=new Uint8Array(e.length);for(let s=0;s<e.length;s++)r[s]=e.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const w_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Da(n){if(Ye(!!n,39018),typeof n=="string"){let e=0;const r=w_.exec(n);if(Ye(!!r,46558,{timestamp:n}),r[1]){let o=r[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Tt(n.seconds),nanos:Tt(n.nanos)}}function Tt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Pa(n){return typeof n=="string"?en.fromBase64String(n):en.fromUint8Array(n)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Mv="server_timestamp",Ov="__type__",Lv="__previous_value__",Vv="__local_write_time__";function $f(n){var e,r;return((r=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Ov])===null||r===void 0?void 0:r.stringValue)===Mv}function Wu(n){const e=n.mapValue.fields[Lv];return $f(e)?Wu(e):e}function Go(n){const e=Da(n.mapValue.fields[Vv].timestampValue);return new ct(e.seconds,e.nanos)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class E_{constructor(e,r,s,o,u,h,d,m,g,v){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=v}}const Qu="(default)";class Wo{constructor(e,r){this.projectId=e,this.database=r||Qu}static empty(){return new Wo("","")}get isDefaultDatabase(){return this.database===Qu}isEqual(e){return e instanceof Wo&&e.projectId===this.projectId&&e.database===this.database}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Rv="__type__",S_="__max__",Xu={mapValue:{}},jv="__vector__",Ku="value";function Ma(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?$f(n)?4:T_(n)?9007199254740991:x_(n)?10:11:Te(28295,{value:n})}function yr(n,e){if(n===e)return!0;const r=Ma(n);if(r!==Ma(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Go(n).isEqual(Go(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=Da(s.timestampValue),h=Da(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,o){return Pa(s.bytesValue).isEqual(Pa(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,o){return Tt(s.geoPointValue.latitude)===Tt(o.geoPointValue.latitude)&&Tt(s.geoPointValue.longitude)===Tt(o.geoPointValue.longitude)})(n,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return Tt(s.integerValue)===Tt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=Tt(s.doubleValue),h=Tt(o.doubleValue);return u===h?$u(u)===$u(h):isNaN(u)&&isNaN(h)}return!1})(n,e);case 9:return bi(n.arrayValue.values||[],e.arrayValue.values||[],yr);case 10:case 11:return(function(s,o){const u=s.mapValue.fields||{},h=o.mapValue.fields||{};if(Av(u)!==Av(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!yr(u[d],h[d])))return!1;return!0})(n,e);default:return Te(52216,{left:n})}}function Qo(n,e){return(n.values||[]).find((r=>yr(r,e)))!==void 0}function Si(n,e){if(n===e)return 0;const r=Ma(n),s=Ma(e);if(r!==s)return Me(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return Me(n.booleanValue,e.booleanValue);case 2:return(function(o,u){const h=Tt(o.integerValue||o.doubleValue),d=Tt(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(n,e);case 3:return Fv(n.timestampValue,e.timestampValue);case 4:return Fv(Go(n),Go(e));case 5:return zf(n.stringValue,e.stringValue);case 6:return(function(o,u){const h=Pa(o),d=Pa(u);return h.compareTo(d)})(n.bytesValue,e.bytesValue);case 7:return(function(o,u){const h=o.split("/"),d=u.split("/");for(let m=0;m<h.length&&m<d.length;m++){const g=Me(h[m],d[m]);if(g!==0)return g}return Me(h.length,d.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,u){const h=Me(Tt(o.latitude),Tt(u.latitude));return h!==0?h:Me(Tt(o.longitude),Tt(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Bv(n.arrayValue,e.arrayValue);case 10:return(function(o,u){var h,d,m,g;const v=o.fields||{},E=u.fields||{},T=(h=v[Ku])===null||h===void 0?void 0:h.arrayValue,I=(d=E[Ku])===null||d===void 0?void 0:d.arrayValue,j=Me(((m=T==null?void 0:T.values)===null||m===void 0?void 0:m.length)||0,((g=I==null?void 0:I.values)===null||g===void 0?void 0:g.length)||0);return j!==0?j:Bv(T,I)})(n.mapValue,e.mapValue);case 11:return(function(o,u){if(o===Xu.mapValue&&u===Xu.mapValue)return 0;if(o===Xu.mapValue)return 1;if(u===Xu.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),m=u.fields||{},g=Object.keys(m);d.sort(),g.sort();for(let v=0;v<d.length&&v<g.length;++v){const E=zf(d[v],g[v]);if(E!==0)return E;const T=Si(h[d[v]],m[g[v]]);if(T!==0)return T}return Me(d.length,g.length)})(n.mapValue,e.mapValue);default:throw Te(23264,{le:r})}}function Fv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Me(n,e);const r=Da(n),s=Da(e),o=Me(r.seconds,s.seconds);return o!==0?o:Me(r.nanos,s.nanos)}function Bv(n,e){const r=n.values||[],s=e.values||[];for(let o=0;o<r.length&&o<s.length;++o){const u=Si(r[o],s[o]);if(u)return u}return Me(r.length,s.length)}function xi(n){return Gf(n)}function Gf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const r=Da(e);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return Pa(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return Ee.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let r="[",s=!0;for(const o of e.values||[])s?s=!1:r+=",",r+=Gf(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(e){const r=Object.keys(e.fields||{}).sort();let s="{",o=!0;for(const u of r)o?o=!1:s+=",",s+=`${u}:${Gf(e.fields[u])}`;return s+"}"})(n.mapValue):Te(61005,{value:n})}function Yu(n){switch(Ma(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wu(n);return e?16+Yu(e):16;case 5:return 2*n.stringValue.length;case 6:return Pa(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,o)=>s+Yu(o)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return Na(r.fields,((o,u)=>{s+=o.length+Yu(u)})),s})(n.mapValue);default:throw Te(13486,{value:n})}}function Wf(n){return!!n&&"integerValue"in n}function Qf(n){return!!n&&"arrayValue"in n}function Uv(n){return!!n&&"nullValue"in n}function zv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ju(n){return!!n&&"mapValue"in n}function x_(n){var e,r;return((r=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Rv])===null||r===void 0?void 0:r.stringValue)===jv}function Xo(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Na(n.mapValue.fields,((r,s)=>e.mapValue.fields[r]=Xo(s))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(n.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Xo(n.arrayValue.values[r]);return e}return Object.assign({},n)}function T_(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===S_}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!Ju(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xo(r)}setAll(e){let r=Jt.emptyPath(),s={},o=[];e.forEach(((h,d)=>{if(!r.isImmediateParentOf(d)){const m=this.getFieldsMap(r);this.applyChanges(m,s,o),s={},o=[],r=d.popLast()}h?s[d.lastSegment()]=Xo(h):o.push(d.lastSegment())}));const u=this.getFieldsMap(r);this.applyChanges(u,s,o)}delete(e){const r=this.field(e.popLast());Ju(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return yr(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=r.mapValue.fields[e.get(s)];Ju(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=o),r=o}return r.mapValue.fields}applyChanges(e,r,s){Na(r,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Tn(Xo(this.value))}}function qv(n){const e=[];return Na(n.fields,((r,s)=>{const o=new Jt([r]);if(Ju(s)){const u=qv(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new Dn(e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fn{constructor(e,r,s,o,u,h,d){this.key=e,this.documentType=r,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(e){return new fn(e,0,_e.min(),_e.min(),_e.min(),Tn.empty(),0)}static newFoundDocument(e,r,s,o){return new fn(e,1,r,_e.min(),s,o,0)}static newNoDocument(e,r){return new fn(e,2,r,_e.min(),_e.min(),Tn.empty(),0)}static newUnknownDocument(e,r){return new fn(e,3,r,_e.min(),_e.min(),Tn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Zu{constructor(e,r){this.position=e,this.inclusive=r}}function Hv(n,e,r){let s=0;for(let o=0;o<n.position.length;o++){const u=e[o],h=n.position[o];if(u.field.isKeyField()?s=Ee.comparator(Ee.fromName(h.referenceValue),r.key):s=Si(h,r.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function $v(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let r=0;r<n.position.length;r++)if(!yr(n.position[r],e.position[r]))return!1;return!0}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ec{constructor(e,r="asc"){this.field=e,this.dir=r}}function k_(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Gv{}class jt extends Gv{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,s):new __(e,r,s):r==="array-contains"?new N_(e,s):r==="in"?new D_(e,s):r==="not-in"?new P_(e,s):r==="array-contains-any"?new M_(e,s):new jt(e,r,s)}static createKeyFieldInFilter(e,r,s){return r==="in"?new I_(e,s):new A_(e,s)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Si(r,this.value)):r!==null&&Ma(this.value)===Ma(r)&&this.matchesComparison(Si(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vr extends Gv{constructor(e,r){super(),this.filters=e,this.op=r,this.he=null}static create(e,r){return new vr(e,r)}matches(e){return Wv(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Wv(n){return n.op==="and"}function Qv(n){return C_(n)&&Wv(n)}function C_(n){for(const e of n.filters)if(e instanceof vr)return!1;return!0}function Xf(n){if(n instanceof jt)return n.field.canonicalString()+n.op.toString()+xi(n.value);if(Qv(n))return n.filters.map((e=>Xf(e))).join(",");{const e=n.filters.map((r=>Xf(r))).join(",");return`${n.op}(${e})`}}function Xv(n,e){return n instanceof jt?(function(r,s){return s instanceof jt&&r.op===s.op&&r.field.isEqual(s.field)&&yr(r.value,s.value)})(n,e):n instanceof vr?(function(r,s){return s instanceof vr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((o,u,h)=>o&&Xv(u,s.filters[h])),!0):!1})(n,e):void Te(19439)}function Kv(n){return n instanceof jt?(function(e){return`${e.field.canonicalString()} ${e.op} ${xi(e.value)}`})(n):n instanceof vr?(function(e){return e.op.toString()+" {"+e.getFilters().map(Kv).join(" ,")+"}"})(n):"Filter"}class __ extends jt{constructor(e,r,s){super(e,r,s),this.key=Ee.fromName(s.referenceValue)}matches(e){const r=Ee.comparator(e.key,this.key);return this.matchesComparison(r)}}class I_ extends jt{constructor(e,r){super(e,"in",r),this.keys=Yv("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class A_ extends jt{constructor(e,r){super(e,"not-in",r),this.keys=Yv("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function Yv(n,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map((s=>Ee.fromName(s.referenceValue)))}class N_ extends jt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Qf(r)&&Qo(r.arrayValue,this.value)}}class D_ extends jt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Qo(this.value.arrayValue,r)}}class P_ extends jt{constructor(e,r){super(e,"not-in",r)}matches(e){if(Qo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Qo(this.value.arrayValue,r)}}class M_ extends jt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Qf(r)||!r.arrayValue.values)&&r.arrayValue.values.some((s=>Qo(this.value.arrayValue,s)))}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class O_{constructor(e,r=null,s=[],o=[],u=null,h=null,d=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=d,this.Pe=null}}function Jv(n,e=null,r=[],s=[],o=null,u=null,h=null){return new O_(n,e,r,s,o,u,h)}function Kf(n){const e=Ie(n);if(e.Pe===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((s=>Xf(s))).join(","),r+="|ob:",r+=e.orderBy.map((s=>(function(o){return o.field.canonicalString()+o.dir})(s))).join(","),Hu(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((s=>xi(s))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((s=>xi(s))).join(",")),e.Pe=r}return e.Pe}function Yf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!k_(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if(!Xv(n.filters[r],e.filters[r]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!$v(n.startAt,e.startAt)&&$v(n.endAt,e.endAt)}function Jf(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tc{constructor(e,r=null,s=[],o=[],u=null,h="F",d=null,m=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=m,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function L_(n,e,r,s,o,u,h,d){return new tc(n,e,r,s,o,u,h,d)}function Zf(n){return new tc(n)}function Zv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function V_(n){return n.collectionGroup!==null}function Ko(n){const e=Ie(n);if(e.Te===null){e.Te=[];const r=new Set;for(const o of e.explicitOrderBy)e.Te.push(o),r.add(o.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let u=new Rt(Jt.comparator);return o.filters.forEach((h=>{h.getFlattenedFilters().forEach((d=>{d.isInequality()&&(u=u.add(d.field))}))})),u})(e).forEach((o=>{r.has(o.canonicalString())||o.isKeyField()||e.Te.push(new ec(o,s))})),r.has(Jt.keyField().canonicalString())||e.Te.push(new ec(Jt.keyField(),s))}return e.Te}function br(n){const e=Ie(n);return e.Ie||(e.Ie=R_(e,Ko(n))),e.Ie}function R_(n,e){if(n.limitType==="F")return Jv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new ec(o.field,u)}));const r=n.endAt?new Zu(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Zu(n.startAt.position,n.startAt.inclusive):null;return Jv(n.path,n.collectionGroup,e,n.filters,n.limit,r,s)}}function ed(n,e,r){return new tc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,r,n.startAt,n.endAt)}function nc(n,e){return Yf(br(n),br(e))&&n.limitType===e.limitType}function e0(n){return`${Kf(br(n))}|lt:${n.limitType}`}function Ti(n){return`Query(target=${(function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map((s=>Kv(s))).join(", ")}]`),Hu(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map((s=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(s))).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((s=>xi(s))).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((s=>xi(s))).join(",")),`Target(${r})`})(br(n))}; limitType=${n.limitType})`}function rc(n,e){return e.isFoundDocument()&&(function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ee.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,s){for(const o of Ko(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(o,u,h){const d=Hv(o,u,h);return o.inclusive?d<=0:d<0})(r.startAt,Ko(r),s)||r.endAt&&!(function(o,u,h){const d=Hv(o,u,h);return o.inclusive?d>=0:d>0})(r.endAt,Ko(r),s))})(n,e)}function j_(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function t0(n){return(e,r)=>{let s=!1;for(const o of Ko(n)){const u=F_(o,e,r);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function F_(n,e,r){const s=n.field.isKeyField()?Ee.comparator(e.key,r.key):(function(o,u,h){const d=u.data.field(o),m=h.data.field(o);return d!==null&&m!==null?Si(d,m):Te(42886)})(n.field,e,r);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:n.dir})}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _s{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,r){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,r]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,r]);o.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[r]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Na(this.inner,((r,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return Nv(this.inner)}size(){return this.innerSize}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const B_=new gt(Ee.comparator);function Hr(){return B_}const n0=new gt(Ee.comparator);function Yo(...n){let e=n0;for(const r of n)e=e.insert(r.key,r);return e}function r0(n){let e=n0;return n.forEach(((r,s)=>e=e.insert(r,s.overlayedDocument))),e}function Is(){return Jo()}function a0(){return Jo()}function Jo(){return new _s((n=>n.toString()),((n,e)=>n.isEqual(e)))}const U_=new gt(Ee.comparator),z_=new Rt(Ee.comparator);function Fe(...n){let e=z_;for(const r of n)e=e.add(r);return e}const q_=new Rt(Me);function H_(){return q_}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function td(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$u(e)?"-0":e}}function s0(n){return{integerValue:""+n}}function i0(n,e){return y_(e)?s0(e):td(n,e)}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ac{constructor(){this._=void 0}}function $_(n,e,r){return n instanceof sc?(function(s,o){const u={fields:{[Ov]:{stringValue:Mv},[Vv]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&$f(o)&&(o=Wu(o)),o&&(u.fields[Lv]=o),{mapValue:u}})(r,e):n instanceof Zo?l0(n,e):n instanceof el?u0(n,e):(function(s,o){const u=o0(s,o),h=c0(u)+c0(s.Ee);return Wf(u)&&Wf(s.Ee)?s0(h):td(s.serializer,h)})(n,e)}function G_(n,e,r){return n instanceof Zo?l0(n,e):n instanceof el?u0(n,e):r}function o0(n,e){return n instanceof tl?(function(r){return Wf(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class sc extends ac{}class Zo extends ac{constructor(e){super(),this.elements=e}}function l0(n,e){const r=h0(e);for(const s of n.elements)r.some((o=>yr(o,s)))||r.push(s);return{arrayValue:{values:r}}}class el extends ac{constructor(e){super(),this.elements=e}}function u0(n,e){let r=h0(e);for(const s of n.elements)r=r.filter((o=>!yr(o,s)));return{arrayValue:{values:r}}}class tl extends ac{constructor(e,r){super(),this.serializer=e,this.Ee=r}}function c0(n){return Tt(n.integerValue||n.doubleValue)}function h0(n){return Qf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class W_{constructor(e,r){this.field=e,this.transform=r}}function Q_(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof Zo&&s instanceof Zo||r instanceof el&&s instanceof el?bi(r.elements,s.elements,yr):r instanceof tl&&s instanceof tl?yr(r.Ee,s.Ee):r instanceof sc&&s instanceof sc})(n.transform,e.transform)}class X_{constructor(e,r){this.version=e,this.transformResults=r}}class wr{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new wr}static exists(e){return new wr(void 0,e)}static updateTime(e){return new wr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ic(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class oc{}function f0(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new y0(n.key,wr.none()):new rl(n.key,n.data,wr.none());{const r=n.data,s=Tn.empty();let o=new Rt(Jt.comparator);for(let u of e.fields)if(!o.has(u)){let h=r.field(u);h===null&&u.length>1&&(u=u.popLast(),h=r.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Oa(n.key,s,new Dn(o.toArray()),wr.none())}}function K_(n,e,r){n instanceof rl?(function(s,o,u){const h=s.value.clone(),d=m0(s.fieldTransforms,o,u.transformResults);h.setAll(d),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,e,r):n instanceof Oa?(function(s,o,u){if(!ic(s.precondition,o))return void o.convertToUnknownDocument(u.version);const h=m0(s.fieldTransforms,o,u.transformResults),d=o.data;d.setAll(p0(s)),d.setAll(h),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(n,e,r):(function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,r)}function nl(n,e,r,s){return n instanceof rl?(function(o,u,h,d){if(!ic(o.precondition,u))return h;const m=o.value.clone(),g=g0(o.fieldTransforms,d,u);return m.setAll(g),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(n,e,r,s):n instanceof Oa?(function(o,u,h,d){if(!ic(o.precondition,u))return h;const m=g0(o.fieldTransforms,d,u),g=u.data;return g.setAll(p0(o)),g.setAll(m),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((v=>v.field)))})(n,e,r,s):(function(o,u,h){return ic(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(n,e,r)}function Y_(n,e){let r=null;for(const s of n.fieldTransforms){const o=e.data.field(s.field),u=o0(s.transform,o||null);u!=null&&(r===null&&(r=Tn.empty()),r.set(s.field,u))}return r||null}function d0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&bi(r,s,((o,u)=>Q_(o,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class rl extends oc{constructor(e,r,s,o=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Oa extends oc{constructor(e,r,s,o,u=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function p0(n){const e=new Map;return n.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const s=n.data.field(r);e.set(r,s)}})),e}function m0(n,e,r){const s=new Map;Ye(n.length===r.length,32656,{Ae:r.length,Re:n.length});for(let o=0;o<r.length;o++){const u=n[o],h=u.transform,d=e.data.field(u.field);s.set(u.field,G_(h,d,r[o]))}return s}function g0(n,e,r){const s=new Map;for(const o of n){const u=o.transform,h=r.data.field(o.field);s.set(o.field,$_(u,h,e))}return s}class y0 extends oc{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class J_ extends oc{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Z_{constructor(e,r,s,o){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&K_(u,e,s[o])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=nl(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=nl(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=a0();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=r.has(o.key)?null:d;const m=f0(h,d);m!==null&&s.set(o.key,m),h.isValidDocument()||h.convertToNoDocument(_e.min())})),s}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&bi(this.mutations,e.mutations,((r,s)=>d0(r,s)))&&bi(this.baseMutations,e.baseMutations,((r,s)=>d0(r,s)))}}class nd{constructor(e,r,s,o){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=o}static from(e,r,s){Ye(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=(function(){return U_})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new nd(e,r,s,o)}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class eI{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tI{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Nt,ze;function nI(n){switch(n){case ne.OK:return Te(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Te(15467,{code:n})}}function v0(n){if(n===void 0)return qr("GRPC error has no .code"),ne.UNKNOWN;switch(n){case Nt.OK:return ne.OK;case Nt.CANCELLED:return ne.CANCELLED;case Nt.UNKNOWN:return ne.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return ne.INTERNAL;case Nt.UNAVAILABLE:return ne.UNAVAILABLE;case Nt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Nt.NOT_FOUND:return ne.NOT_FOUND;case Nt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Nt.ABORTED:return ne.ABORTED;case Nt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Nt.DATA_LOSS:return ne.DATA_LOSS;default:return Te(39323,{code:n})}}(ze=Nt||(Nt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const rI=new Ca([4294967295,4294967295],0);function b0(n){const e=vv().encode(n),r=new ov;return r.update(e),new Uint8Array(r.digest())}function w0(n){const e=new DataView(n.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ca([r,s],0),new Ca([o,u],0)]}class rd{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new al(`Invalid padding: ${r}`);if(s<0)throw new al(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new al(`Invalid hash count: ${s}`);if(e.length===0&&r!==0)throw new al(`Invalid padding when bitmap length is 0: ${r}`);this.fe=8*e.length-r,this.ge=Ca.fromNumber(this.fe)}pe(e,r,s){let o=e.add(r.multiply(Ca.fromNumber(s)));return o.compare(rI)===1&&(o=new Ca([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const r=b0(e),[s,o]=w0(r);for(let u=0;u<this.hashCount;u++){const h=this.pe(s,o,u);if(!this.ye(h))return!1}return!0}static create(e,r,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new rd(u,o,r);return s.forEach((d=>h.insert(d))),h}insert(e){if(this.fe===0)return;const r=b0(e),[s,o]=w0(r);for(let u=0;u<this.hashCount;u++){const h=this.pe(s,o,u);this.we(h)}}we(e){const r=Math.floor(e/8),s=e%8;this.bitmap[r]|=1<<s}}class al extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class lc{constructor(e,r,s,o,u){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const o=new Map;return o.set(e,sl.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new lc(_e.min(),o,new gt(Me),Hr(),Fe())}}class sl{constructor(e,r,s,o,u){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new sl(s,r,Fe(),Fe(),Fe())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class uc{constructor(e,r,s,o){this.Se=e,this.removedTargetIds=r,this.key=s,this.be=o}}class E0{constructor(e,r){this.targetId=e,this.De=r}}class S0{constructor(e,r,s=en.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=o}}class x0{constructor(){this.ve=0,this.Ce=T0(),this.Fe=en.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Fe(),r=Fe(),s=Fe();return this.Ce.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:r=r.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:u})}})),new sl(this.Fe,this.Me,e,r,s)}ke(){this.xe=!1,this.Ce=T0()}qe(e,r){this.xe=!0,this.Ce=this.Ce.insert(e,r)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class aI{constructor(e){this.We=e,this.Ge=new Map,this.ze=Hr(),this.je=cc(),this.Je=cc(),this.He=new gt(Me)}Ye(e){for(const r of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(r,e.be):this.Xe(r,e.key,e.be);for(const r of e.removedTargetIds)this.Xe(r,e.key,e.be)}et(e){this.forEachTarget(e,(r=>{const s=this.tt(r);switch(e.state){case 0:this.nt(r)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(r);break;case 3:this.nt(r)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(r)&&(this.rt(r),s.Be(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Ge.forEach(((s,o)=>{this.nt(o)&&r(o)}))}it(e){const r=e.targetId,s=e.De.count,o=this.st(r);if(o){const u=o.target;if(Jf(u))if(s===0){const h=new Ee(u.path);this.Xe(r,h,fn.newNoDocument(h,_e.min()))}else Ye(s===1,20013,{expectedCount:s});else{const h=this.ot(r);if(h!==s){const d=this._t(e),m=d?this.ut(d,e,h):1;if(m!==0){this.rt(r);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(r,g)}}}}}_t(e){const r=e.De.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=r;let h,d;try{h=Pa(s).toUint8Array()}catch(m){if(m instanceof Pv)return _a("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new rd(h,o,u)}catch(m){return _a(m instanceof al?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.fe===0?null:d}ut(e,r,s){return r.De.count===s-this.ht(e,r.targetId)?0:2}ht(e,r){const s=this.We.getRemoteKeysForTarget(r);let o=0;return s.forEach((u=>{const h=this.We.lt(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(d)||(this.Xe(r,u,null),o++)})),o}Pt(e){const r=new Map;this.Ge.forEach(((u,h)=>{const d=this.st(h);if(d){if(u.current&&Jf(d.target)){const m=new Ee(d.target.path);this.Tt(m).has(h)||this.It(h,m)||this.Xe(h,m,fn.newNoDocument(m,e))}u.Ne&&(r.set(h,u.Le()),u.ke())}}));let s=Fe();this.Je.forEach(((u,h)=>{let d=!0;h.forEachWhile((m=>{const g=this.st(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(u))})),this.ze.forEach(((u,h)=>h.setReadTime(e)));const o=new lc(e,r,this.He,this.ze,s);return this.ze=Hr(),this.je=cc(),this.Je=cc(),this.He=new gt(Me),o}Ze(e,r){if(!this.nt(e))return;const s=this.It(e,r.key)?2:0;this.tt(e).qe(r.key,s),this.ze=this.ze.insert(r.key,r),this.je=this.je.insert(r.key,this.Tt(r.key).add(e)),this.Je=this.Je.insert(r.key,this.dt(r.key).add(e))}Xe(e,r,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,r)?o.qe(r,1):o.Qe(r),this.Je=this.Je.insert(r,this.dt(r).delete(e)),this.Je=this.Je.insert(r,this.dt(r).add(e)),s&&(this.ze=this.ze.insert(r,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const r=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let r=this.Ge.get(e);return r||(r=new x0,this.Ge.set(e,r)),r}dt(e){let r=this.Je.get(e);return r||(r=new Rt(Me),this.Je=this.Je.insert(e,r)),r}Tt(e){let r=this.je.get(e);return r||(r=new Rt(Me),this.je=this.je.insert(e,r)),r}nt(e){const r=this.st(e)!==null;return r||he("WatchChangeAggregator","Detected inactive target",e),r}st(e){const r=this.Ge.get(e);return r&&r.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new x0),this.We.getRemoteKeysForTarget(e).forEach((r=>{this.Xe(e,r,null)}))}It(e,r){return this.We.getRemoteKeysForTarget(e).has(r)}}function cc(){return new gt(Ee.comparator)}function T0(){return new gt(Ee.comparator)}const sI={asc:"ASCENDING",desc:"DESCENDING"},iI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oI={and:"AND",or:"OR"};class lI{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function ad(n,e){return n.useProto3Json||Hu(e)?e:{value:e}}function hc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function k0(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function uI(n,e){return hc(n,e.toTimestamp())}function Er(n){return Ye(!!n,49232),_e.fromTimestamp((function(e){const r=Da(e);return new ct(r.seconds,r.nanos)})(n))}function sd(n,e){return id(n,e).canonicalString()}function id(n,e){const r=(function(s){return new ut(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?r:r.child(e)}function C0(n){const e=ut.fromString(n);return Ye(P0(e),10190,{key:e.toString()}),e}function od(n,e){return sd(n.databaseId,e.path)}function ld(n,e){const r=C0(e);if(r.get(1)!==n.databaseId.projectId)throw new be(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+n.databaseId.projectId);if(r.get(3)!==n.databaseId.database)throw new be(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+n.databaseId.database);return new Ee(I0(r))}function _0(n,e){return sd(n.databaseId,e)}function cI(n){const e=C0(n);return e.length===4?ut.emptyPath():I0(e)}function ud(n){return new ut(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function I0(n){return Ye(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function A0(n,e,r){return{name:od(n,e),fields:r.value.mapValue.fields}}function hI(n,e){let r;if("targetChange"in e){e.targetChange;const s=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Te(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(m,g){return m.useProto3Json?(Ye(g===void 0||typeof g=="string",58123),en.fromBase64String(g||"")):(Ye(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),en.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&(function(m){const g=m.code===void 0?ne.UNKNOWN:v0(m.code);return new be(g,m.message||"")})(h);r=new S0(s,o,u,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=ld(n,s.document.name),u=Er(s.document.updateTime),h=s.document.createTime?Er(s.document.createTime):_e.min(),d=new Tn({mapValue:{fields:s.document.fields}}),m=fn.newFoundDocument(o,u,h,d),g=s.targetIds||[],v=s.removedTargetIds||[];r=new uc(g,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=ld(n,s.document),u=s.readTime?Er(s.readTime):_e.min(),h=fn.newNoDocument(o,u),d=s.removedTargetIds||[];r=new uc([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=ld(n,s.document),u=s.removedTargetIds||[];r=new uc([],u,o,null)}else{if(!("filter"in e))return Te(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new tI(o,u),d=s.targetId;r=new E0(d,h)}}return r}function fI(n,e){let r;if(e instanceof rl)r={update:A0(n,e.key,e.value)};else if(e instanceof y0)r={delete:od(n,e.key)};else if(e instanceof Oa)r={update:A0(n,e.key,e.data),updateMask:EI(e.fieldMask)};else{if(!(e instanceof J_))return Te(16599,{Rt:e.type});r={verify:od(n,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((s=>(function(o,u){const h=u.transform;if(h instanceof sc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Zo)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof el)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof tl)return{fieldPath:u.field.canonicalString(),increment:h.Ee};throw Te(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(r.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:uI(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Te(27497)})(n,e.precondition)),r}function dI(n,e){return n&&n.length>0?(Ye(e!==void 0,14353),n.map((r=>(function(s,o){let u=s.updateTime?Er(s.updateTime):Er(o);return u.isEqual(_e.min())&&(u=Er(o)),new X_(u,s.transformResults||[])})(r,e)))):[]}function pI(n,e){return{documents:[_0(n,e.path)]}}function mI(n,e){const r={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=_0(n,o);const u=(function(m){if(m.length!==0)return D0(vr.create(m,"and"))})(e.filters);u&&(r.structuredQuery.where=u);const h=(function(m){if(m.length!==0)return m.map((g=>(function(v){return{field:ki(v.field),direction:vI(v.dir)}})(g)))})(e.orderBy);h&&(r.structuredQuery.orderBy=h);const d=ad(n,e.limit);return d!==null&&(r.structuredQuery.limit=d),e.startAt&&(r.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{Vt:r,parent:o}}function gI(n){let e=cI(n.parent);const r=n.structuredQuery,s=r.from?r.from.length:0;let o=null;if(s>0){Ye(s===1,65062);const v=r.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];r.where&&(u=(function(v){const E=N0(v);return E instanceof vr&&Qv(E)?E.getFilters():[E]})(r.where));let h=[];r.orderBy&&(h=(function(v){return v.map((E=>(function(T){return new ec(Ci(T.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(E)))})(r.orderBy));let d=null;r.limit&&(d=(function(v){let E;return E=typeof v=="object"?v.value:v,Hu(E)?null:E})(r.limit));let m=null;r.startAt&&(m=(function(v){const E=!!v.before,T=v.values||[];return new Zu(T,E)})(r.startAt));let g=null;return r.endAt&&(g=(function(v){const E=!v.before,T=v.values||[];return new Zu(T,E)})(r.endAt)),L_(e,o,h,u,d,"F",m,g)}function yI(n,e){const r=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:s})}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function N0(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=Ci(e.unaryFilter.field);return jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ci(e.unaryFilter.field);return jt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ci(e.unaryFilter.field);return jt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ci(e.unaryFilter.field);return jt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(n):n.fieldFilter!==void 0?(function(e){return jt.create(Ci(e.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return vr.create(e.compositeFilter.filters.map((r=>N0(r))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(e.compositeFilter.op))})(n):Te(30097,{filter:n})}function vI(n){return sI[n]}function bI(n){return iI[n]}function wI(n){return oI[n]}function ki(n){return{fieldPath:n.canonicalString()}}function Ci(n){return Jt.fromServerFormat(n.fieldPath)}function D0(n){return n instanceof jt?(function(e){if(e.op==="=="){if(zv(e.value))return{unaryFilter:{field:ki(e.field),op:"IS_NAN"}};if(Uv(e.value))return{unaryFilter:{field:ki(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(zv(e.value))return{unaryFilter:{field:ki(e.field),op:"IS_NOT_NAN"}};if(Uv(e.value))return{unaryFilter:{field:ki(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ki(e.field),op:bI(e.op),value:e.value}}})(n):n instanceof vr?(function(e){const r=e.getFilters().map((s=>D0(s)));return r.length===1?r[0]:{compositeFilter:{op:wI(e.op),filters:r}}})(n):Te(54877,{filter:n})}function EI(n){const e=[];return n.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function P0(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class La{constructor(e,r,s,o,u=_e.min(),h=_e.min(),d=en.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new La(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new La(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new La(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new La(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class SI{constructor(e){this.gt=e}}function xI(n){const e=gI({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ed(e,e.limit,"L"):e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class TI{constructor(){this.Dn=new kI}addToCollectionParentIndex(e,r){return this.Dn.add(r),Z.resolve()}getCollectionParents(e,r){return Z.resolve(this.Dn.getEntries(r))}addFieldIndex(e,r){return Z.resolve()}deleteFieldIndex(e,r){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,r){return Z.resolve()}getDocumentsMatchingTarget(e,r){return Z.resolve(null)}getIndexType(e,r){return Z.resolve(0)}getFieldIndexes(e,r){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,r){return Z.resolve(Aa.min())}getMinOffsetFromCollectionGroup(e,r){return Z.resolve(Aa.min())}updateCollectionGroup(e,r,s){return Z.resolve()}updateIndexEntries(e,r){return Z.resolve()}}class kI{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),o=this.index[r]||new Rt(ut.comparator),u=!o.has(s);return this.index[r]=o.add(s),u}has(e){const r=e.lastSegment(),s=e.popLast(),o=this.index[r];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Rt(ut.comparator)).toArray()}}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const M0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},O0=41943040;class kn{static withCacheSize(e){return new kn(e,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(O0,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _i{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new _i(0)}static ur(){return new _i(-1)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const L0="LruGarbageCollector",CI=1048576;function V0([n,e],[r,s]){const o=Me(n,r);return o===0?Me(e,s):o}class _I{constructor(e){this.Tr=e,this.buffer=new Rt(V0),this.Ir=0}dr(){return++this.Ir}Er(e){const r=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();V0(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class II{constructor(e,r,s){this.garbageCollector=e,this.asyncQueue=r,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){he(L0,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Ei(r)?he(L0,"Ignoring IndexedDB error during garbage collection: ",r):await wi(r)}await this.Rr(3e5)}))}}class AI{constructor(e,r){this.Vr=e,this.params=r}calculateTargetCount(e,r){return this.Vr.mr(e).next((s=>Math.floor(r/100*s)))}nthSequenceNumber(e,r){if(r===0)return Z.resolve(qu.ue);const s=new _I(r);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.gr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,r,s){return this.Vr.removeTargets(e,r,s)}removeOrphanedDocuments(e,r){return this.Vr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(M0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),M0):this.pr(e,r)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,r){let s,o,u,h,d,m,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,h=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(s=E,d=Date.now(),this.removeTargets(e,s,r)))).next((E=>(u=E,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((E=>(g=Date.now(),vi()<=Ue.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${u} targets in `+(m-d)+`ms
	Removed ${E} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:E}))))}}function NI(n,e){return new AI(n,e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class DI{constructor(){this.changes=new _s((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return s!==void 0?Z.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class PI{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class MI{constructor(e,r,s,o){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,r)))).next((o=>(s!==null&&nl(s.mutation,o,Dn.empty(),ct.now()),o)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((s=>this.getLocalViewOfDocuments(e,s,Fe()).next((()=>s))))}getLocalViewOfDocuments(e,r,s=Fe()){const o=Is();return this.populateOverlays(e,o,r).next((()=>this.computeViews(e,r,o,s).next((u=>{let h=Yo();return u.forEach(((d,m)=>{h=h.insert(d,m.overlayedDocument)})),h}))))}getOverlayedDocuments(e,r){const s=Is();return this.populateOverlays(e,s,r).next((()=>this.computeViews(e,r,s,Fe())))}populateOverlays(e,r,s){const o=[];return s.forEach((u=>{r.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,d)=>{r.set(h,d)}))}))}computeViews(e,r,s,o){let u=Hr();const h=Jo(),d=(function(){return Jo()})();return r.forEach(((m,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Oa)?u=u.insert(g.key,g):v!==void 0?(h.set(g.key,v.mutation.getFieldMask()),nl(v.mutation,g,v.mutation.getFieldMask(),ct.now())):h.set(g.key,Dn.empty())})),this.recalculateAndSaveOverlays(e,u).next((m=>(m.forEach(((g,v)=>h.set(g,v))),r.forEach(((g,v)=>{var E;return d.set(g,new PI(v,(E=h.get(g))!==null&&E!==void 0?E:null))})),d)))}recalculateAndSaveOverlays(e,r){const s=Jo();let o=new gt(((h,d)=>h-d)),u=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((h=>{for(const d of h)d.keys().forEach((m=>{const g=r.get(m);if(g===null)return;let v=s.get(m)||Dn.empty();v=d.applyToLocalView(g,v),s.set(m,v);const E=(o.get(d.batchId)||Fe()).add(m);o=o.insert(d.batchId,E)}))})).next((()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,v=m.value,E=a0();v.forEach((T=>{if(!u.has(T)){const I=f0(r.get(T),s.get(T));I!==null&&E.set(T,I),u=u.add(T)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,E))}return Z.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,r,s,o){return(function(u){return Ee.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):V_(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,o):this.getDocumentsMatchingCollectionQuery(e,r,s,o)}getNextDocuments(e,r,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,o-u.size):Z.resolve(Is());let d=$o,m=u;return h.next((g=>Z.forEach(g,((v,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),u.get(v)?Z.resolve():this.remoteDocumentCache.getEntry(e,v).next((T=>{m=m.insert(v,T)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,m,g,Fe()))).next((v=>({batchId:d,changes:r0(v)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ee(r)).next((s=>{let o=Yo();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,r,s,o){const u=r.collectionGroup;let h=Yo();return this.indexManager.getCollectionParents(e,u).next((d=>Z.forEach(d,(m=>{const g=(function(v,E){return new tc(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(r,m.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((v=>{v.forEach(((E,T)=>{h=h.insert(E,T)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,r,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,u,o)))).next((h=>{u.forEach(((m,g)=>{const v=g.getKey();h.get(v)===null&&(h=h.insert(v,fn.newInvalidDocument(v)))}));let d=Yo();return h.forEach(((m,g)=>{const v=u.get(m);v!==void 0&&nl(v.mutation,g,Dn.empty(),ct.now()),rc(r,g)&&(d=d.insert(m,g))})),d}))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class OI{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,r){return Z.resolve(this.Br.get(r))}saveBundleMetadata(e,r){return this.Br.set(r.id,(function(s){return{id:s.id,version:s.version,createTime:Er(s.createTime)}})(r)),Z.resolve()}getNamedQuery(e,r){return Z.resolve(this.Lr.get(r))}saveNamedQuery(e,r){return this.Lr.set(r.name,(function(s){return{name:s.name,query:xI(s.bundledQuery),readTime:Er(s.readTime)}})(r)),Z.resolve()}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class LI{constructor(){this.overlays=new gt(Ee.comparator),this.kr=new Map}getOverlay(e,r){return Z.resolve(this.overlays.get(r))}getOverlays(e,r){const s=Is();return Z.forEach(r,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,r,s){return s.forEach(((o,u)=>{this.wt(e,r,u)})),Z.resolve()}removeOverlaysForBatchId(e,r,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.kr.delete(s)),Z.resolve()}getOverlaysForCollection(e,r,s){const o=Is(),u=r.length+1,h=new Ee(r.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!r.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>s&&o.set(m.getKey(),m)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,r,s,o){let u=new gt(((g,v)=>g-v));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===r&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=Is(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=Is(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,v)=>d.set(g,v))),!(d.size()>=o)););return Z.resolve(d)}wt(e,r,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new eI(r,s));let u=this.kr.get(r);u===void 0&&(u=Fe(),this.kr.set(r,u)),this.kr.set(r,u.add(s.key))}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class VI{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,Z.resolve()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class cd{constructor(){this.qr=new Rt(Gt.Qr),this.$r=new Rt(Gt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,r){const s=new Gt(e,r);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,r){e.forEach((s=>this.addReference(s,r)))}removeReference(e,r){this.Wr(new Gt(e,r))}Gr(e,r){e.forEach((s=>this.removeReference(s,r)))}zr(e){const r=new Ee(new ut([])),s=new Gt(r,e),o=new Gt(r,e+1),u=[];return this.$r.forEachInRange([s,o],(h=>{this.Wr(h),u.push(h.key)})),u}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const r=new Ee(new ut([])),s=new Gt(r,e),o=new Gt(r,e+1);let u=Fe();return this.$r.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const r=new Gt(e,0),s=this.qr.firstAfterOrEqual(r);return s!==null&&e.isEqual(s.key)}}class Gt{constructor(e,r){this.key=e,this.Hr=r}static Qr(e,r){return Ee.comparator(e.key,r.key)||Me(e.Hr,r.Hr)}static Ur(e,r){return Me(e.Hr,r.Hr)||Ee.comparator(e.key,r.key)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class RI{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.er=1,this.Yr=new Rt(Gt.Qr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new Z_(u,r,s,o);this.mutationQueue.push(h);for(const d of o)this.Yr=this.Yr.add(new Gt(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Z.resolve(h)}lookupMutationBatch(e,r){return Z.resolve(this.Zr(r))}getNextMutationBatchAfterBatchId(e,r){const s=r+1,o=this.Xr(s),u=o<0?0:o;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Hf:this.er-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new Gt(r,0),o=new Gt(r,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],(h=>{const d=this.Zr(h.Hr);u.push(d)})),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Rt(Me);return r.forEach((o=>{const u=new Gt(o,0),h=new Gt(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,h],(d=>{s=s.add(d.Hr)}))})),Z.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,o=s.length+1;let u=s;Ee.isDocumentKey(u)||(u=u.child(""));const h=new Gt(new Ee(u),0);let d=new Rt(Me);return this.Yr.forEachWhile((m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(m.Hr)),!0)}),h),Z.resolve(this.ei(d))}ei(e){const r=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&r.push(o)})),r}removeMutationBatch(e,r){Ye(this.ti(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return Z.forEach(r.mutations,(o=>{const u=new Gt(o.key,r.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Yr=s}))}rr(e){}containsKey(e,r){const s=new Gt(r,0),o=this.Yr.firstAfterOrEqual(s);return Z.resolve(r.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ti(e,r){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const r=this.Xr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class jI{constructor(e){this.ni=e,this.docs=(function(){return new gt(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,o=this.docs.get(s),u=o?o.size:0,h=this.ni(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return Z.resolve(s?s.document.mutableCopy():fn.newInvalidDocument(r))}getEntries(e,r){let s=Hr();return r.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():fn.newInvalidDocument(o))})),Z.resolve(s)}getDocumentsMatchingQuery(e,r,s,o){let u=Hr();const h=r.path,d=new Ee(h.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||d_(f_(v),s)<=0||(o.has(v.key)||rc(r,v))&&(u=u.insert(v.key,v.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(e,r,s,o){Te(9500)}ri(e,r){return Z.forEach(this.docs,(s=>r(s)))}newChangeBuffer(e){return new FI(this)}getSize(e){return Z.resolve(this.size)}}class FI extends DI{constructor(e){super(),this.Or=e}applyChanges(e){const r=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?r.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)})),Z.waitFor(r)}getFromCache(e,r){return this.Or.getEntry(e,r)}getAllFromCache(e,r){return this.Or.getEntries(e,r)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class BI{constructor(e){this.persistence=e,this.ii=new _s((r=>Kf(r)),Yf),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.si=0,this.oi=new cd,this.targetCount=0,this._i=_i.ar()}forEachTarget(e,r){return this.ii.forEach(((s,o)=>r(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.si&&(this.si=r),Z.resolve()}hr(e){this.ii.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this._i=new _i(r),this.highestTargetId=r),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,r){return this.hr(r),this.targetCount+=1,Z.resolve()}updateTargetData(e,r){return this.hr(r),Z.resolve()}removeTargetData(e,r){return this.ii.delete(r.target),this.oi.zr(r.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,r,s){let o=0;const u=[];return this.ii.forEach(((h,d)=>{d.sequenceNumber<=r&&s.get(d.targetId)===null&&(this.ii.delete(h),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)})),Z.waitFor(u).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,r){const s=this.ii.get(r)||null;return Z.resolve(s)}addMatchingKeys(e,r,s){return this.oi.Kr(r,s),Z.resolve()}removeMatchingKeys(e,r,s){this.oi.Gr(r,s);const o=this.persistence.referenceDelegate,u=[];return o&&r.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),Z.waitFor(u)}removeMatchingKeysForTargetId(e,r){return this.oi.zr(r),Z.resolve()}getMatchingKeysForTargetId(e,r){const s=this.oi.Jr(r);return Z.resolve(s)}containsKey(e,r){return Z.resolve(this.oi.containsKey(r))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class R0{constructor(e,r){this.ai={},this.overlays={},this.ui=new qu(0),this.ci=!1,this.ci=!0,this.li=new VI,this.referenceDelegate=e(this),this.hi=new BI(this),this.indexManager=new TI,this.remoteDocumentCache=(function(s){return new jI(s)})((s=>this.referenceDelegate.Pi(s))),this.serializer=new SI(r),this.Ti=new OI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new LI,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.ai[e.toKey()];return s||(s=new RI(r,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,r,s){he("MemoryPersistence","Starting transaction:",e);const o=new UI(this.ui.next());return this.referenceDelegate.Ii(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,r){return Z.or(Object.values(this.ai).map((s=>()=>s.containsKey(e,r))))}}class UI extends m_{constructor(e){super(),this.currentSequenceNumber=e}}class hd{constructor(e){this.persistence=e,this.Ai=new cd,this.Ri=null}static Vi(e){return new hd(e)}get mi(){if(this.Ri)return this.Ri;throw Te(60996)}addReference(e,r,s){return this.Ai.addReference(s,r),this.mi.delete(s.toString()),Z.resolve()}removeReference(e,r,s){return this.Ai.removeReference(s,r),this.mi.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,r){return this.mi.add(r.toString()),Z.resolve()}removeTarget(e,r){this.Ai.zr(r.targetId).forEach((o=>this.mi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next((o=>{o.forEach((u=>this.mi.add(u.toString())))})).next((()=>s.removeTargetData(e,r)))}Ii(){this.Ri=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.mi,(s=>{const o=Ee.fromPath(s);return this.fi(e,o).next((u=>{u||r.removeEntry(o,_e.min())}))})).next((()=>(this.Ri=null,r.apply(e))))}updateLimboDocument(e,r){return this.fi(e,r).next((s=>{s?this.mi.delete(r.toString()):this.mi.add(r.toString())}))}Pi(e){return 0}fi(e,r){return Z.or([()=>Z.resolve(this.Ai.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ei(e,r)])}}class fc{constructor(e,r){this.persistence=e,this.gi=new _s((s=>v_(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=NI(this,r)}static Vi(e,r){return new fc(e,r)}Ii(){}di(e){return Z.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}mr(e){const r=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>r.next((o=>s+o))))}yr(e){let r=0;return this.gr(e,(s=>{r++})).next((()=>r))}gr(e,r){return Z.forEach(this.gi,((s,o)=>this.Sr(e,s,o).next((u=>u?Z.resolve():r(o)))))}removeTargets(e,r,s){return this.persistence.getTargetCache().removeTargets(e,r,s)}removeOrphanedDocuments(e,r){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(e,(h=>this.Sr(e,h,r).next((d=>{d||(s++,u.removeEntry(h,_e.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,r){return this.gi.set(r,e.currentSequenceNumber),Z.resolve()}removeTarget(e,r){const s=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,r,s){return this.gi.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,r,s){return this.gi.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,r){return this.gi.set(r,e.currentSequenceNumber),Z.resolve()}Pi(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Yu(e.data.value)),r}Sr(e,r,s){return Z.or([()=>this.persistence.Ei(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const o=this.gi.get(r);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fd{constructor(e,r,s,o){this.targetId=e,this.fromCache=r,this.Is=s,this.ds=o}static Es(e,r){let s=Fe(),o=Fe();for(const u of r.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new fd(e,r.fromCache,s,o)}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qI{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return yk()?8:g_(mk())>0?6:4})()}initialize(e,r){this.gs=e,this.indexManager=r,this.As=!0}getDocumentsMatchingQuery(e,r,s,o){const u={result:null};return this.ps(e,r).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ys(e,r,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new zI;return this.ws(e,r,h).next((d=>{if(u.result=d,this.Rs)return this.Ss(e,r,h,d.size)}))})).next((()=>u.result))}Ss(e,r,s,o){return s.documentReadCount<this.Vs?(vi()<=Ue.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Ti(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Z.resolve()):(vi()<=Ue.DEBUG&&he("QueryEngine","Query:",Ti(r),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(vi()<=Ue.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Ti(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,br(r))):Z.resolve())}ps(e,r){if(Zv(r))return Z.resolve(null);let s=br(r);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(r.limit!==null&&o===1&&(r=ed(r,null,"F"),s=br(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=Fe(...u);return this.gs.getDocuments(e,h).next((d=>this.indexManager.getMinOffset(e,s).next((m=>{const g=this.bs(r,d);return this.Ds(r,g,h,m.readTime)?this.ps(e,ed(r,null,"F")):this.vs(e,g,r,m)}))))})))))}ys(e,r,s,o){return Zv(r)||o.isEqual(_e.min())?Z.resolve(null):this.gs.getDocuments(e,s).next((u=>{const h=this.bs(r,u);return this.Ds(r,h,s,o)?Z.resolve(null):(vi()<=Ue.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ti(r)),this.vs(e,h,r,h_(o,$o)).next((d=>d)))}))}bs(e,r){let s=new Rt(t0(e));return r.forEach(((o,u)=>{rc(e,u)&&(s=s.add(u))})),s}Ds(e,r,s,o){if(e.limit===null)return!1;if(s.size!==r.size)return!0;const u=e.limitType==="F"?r.last():r.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(e,r,s){return vi()<=Ue.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Ti(r)),this.gs.getDocumentsMatchingQuery(e,r,Aa.min(),s)}vs(e,r,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next((u=>(r.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const dd="LocalStore",HI=3e8;class $I{constructor(e,r,s,o){this.persistence=e,this.Cs=r,this.serializer=o,this.Fs=new gt(Me),this.Ms=new _s((u=>Kf(u)),Yf),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new MI(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.Fs)))}}function GI(n,e,r,s){return new $I(n,e,r,s)}async function j0(n,e){const r=Ie(n);return await r.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return r.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,r.Ns(e),r.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],d=[];let m=Fe();for(const g of o){h.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of u){d.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return r.localDocuments.getDocuments(s,m).next((g=>({Bs:g,removedBatchIds:h,addedBatchIds:d})))}))}))}function WI(n,e){const r=Ie(n);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=r.Os.newChangeBuffer({trackRemovals:!0});return(function(h,d,m,g){const v=m.batch,E=v.keys();let T=Z.resolve();return E.forEach((I=>{T=T.next((()=>g.getEntry(d,I))).next((j=>{const q=m.docVersions.get(I);Ye(q!==null,48541),j.version.compareTo(q)<0&&(v.applyToRemoteDocument(j,m),j.isValidDocument()&&(j.setReadTime(m.commitVersion),g.addEntry(j)))}))})),T.next((()=>h.mutationQueue.removeMutationBatch(d,v)))})(r,s,e,u).next((()=>u.apply(s))).next((()=>r.mutationQueue.performConsistencyCheck(s))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(h){let d=Fe();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(d=d.add(h.batch.mutations[m].key));return d})(e)))).next((()=>r.localDocuments.getDocuments(s,o)))}))}function F0(n){const e=Ie(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.hi.getLastRemoteSnapshotVersion(r)))}function QI(n,e){const r=Ie(n),s=e.snapshotVersion;let o=r.Fs;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=r.Os.newChangeBuffer({trackRemovals:!0});o=r.Fs;const d=[];e.targetChanges.forEach(((v,E)=>{const T=o.get(E);if(!T)return;d.push(r.hi.removeMatchingKeys(u,v.removedDocuments,E).next((()=>r.hi.addMatchingKeys(u,v.addedDocuments,E))));let I=T.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(E)!==null?I=I.withResumeToken(en.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):v.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(v.resumeToken,s)),o=o.insert(E,I),(function(j,q,F){return j.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=HI?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(T,I,v)&&d.push(r.hi.updateTargetData(u,I))}));let m=Hr(),g=Fe();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(r.persistence.referenceDelegate.updateLimboDocument(u,v))})),d.push(XI(u,h,e.documentUpdates).next((v=>{m=v.Ls,g=v.ks}))),!s.isEqual(_e.min())){const v=r.hi.getLastRemoteSnapshotVersion(u).next((E=>r.hi.setTargetsMetadata(u,u.currentSequenceNumber,s)));d.push(v)}return Z.waitFor(d).next((()=>h.apply(u))).next((()=>r.localDocuments.getLocalViewOfDocuments(u,m,g))).next((()=>m))})).then((u=>(r.Fs=o,u)))}function XI(n,e,r){let s=Fe(),o=Fe();return r.forEach((u=>s=s.add(u))),e.getEntries(n,s).next((u=>{let h=Hr();return r.forEach(((d,m)=>{const g=u.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),m.isNoDocument()&&m.version.isEqual(_e.min())?(e.removeEntry(d,m.readTime),h=h.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),h=h.insert(d,m)):he(dd,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)})),{Ls:h,ks:o}}))}function KI(n,e){const r=Ie(n);return r.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Hf),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function YI(n,e){const r=Ie(n);return r.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return r.hi.getTargetData(s,e).next((u=>u?(o=u,Z.resolve(o)):r.hi.allocateTargetId(s).next((h=>(o=new La(e,h,"TargetPurposeListen",s.currentSequenceNumber),r.hi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=r.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(r.Fs=r.Fs.insert(s.targetId,s),r.Ms.set(e,s.targetId)),s}))}async function pd(n,e,r){const s=Ie(n),o=s.Fs.get(e),u=r?"readwrite":"readwrite-primary";try{r||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Ei(h))throw h;he(dd,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function B0(n,e,r){const s=Ie(n);let o=_e.min(),u=Fe();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(d,m,g){const v=Ie(d),E=v.Ms.get(g);return E!==void 0?Z.resolve(v.Fs.get(E)):v.hi.getTargetData(m,g)})(s,h,br(e)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(h,d.targetId).next((m=>{u=m}))})).next((()=>s.Cs.getDocumentsMatchingQuery(h,e,r?o:_e.min(),r?u:Fe()))).next((d=>(JI(s,j_(e),d),{documents:d,qs:u})))))}function JI(n,e,r){let s=n.xs.get(e)||_e.min();r.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),n.xs.set(e,s)}class U0{constructor(){this.activeTargetIds=H_()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZI{constructor(){this.Fo=new U0,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e,r=!0){return r&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,r,s){this.Mo[e]=r}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new U0,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class eA{xo(e){}shutdown(){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const z0="ConnectivityMonitor";class q0{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){he(z0,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){he(z0,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let dc=null;function md(){return dc===null?dc=(function(){return 268435456+Math.round(2147483648*Math.random())})():dc++,"0x"+dc.toString(16)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const gd="RestConnection",tA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nA{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=r+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===Qu?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,r,s,o,u){const h=md(),d=this.Go(e,r.toUriEncodedString());he(gd,`Sending RPC '${e}' ${h}:`,d,s);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(m,o,u);const{host:g}=new URL(d),v=gf(g);return this.jo(e,d,m,s,v).then((E=>(he(gd,`Received RPC '${e}' ${h}: `,E),E)),(E=>{throw _a(gd,`RPC '${e}' ${h} failed with error: `,E,"url: ",d,"request:",s),E}))}Jo(e,r,s,o,u,h){return this.Wo(e,r,s,o,u)}zo(e,r,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+yi})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Go(e,r){const s=tA[e];return`${this.$o}/v1/${r}:${s}`}terminate(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rA{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const dn="WebChannelConnection";class aA extends nA{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,r,s,o,u){const h=md();return new Promise(((d,m)=>{const g=new lv;g.setWithCredentials(!0),g.listenOnce(uv.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case zu.NO_ERROR:const E=g.getResponseJson();he(dn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(E)),d(E);break;case zu.TIMEOUT:he(dn,`RPC '${e}' ${h} timed out`),m(new be(ne.DEADLINE_EXCEEDED,"Request time out"));break;case zu.HTTP_ERROR:const T=g.getStatus();if(he(dn,`RPC '${e}' ${h} failed with status:`,T,"response text:",g.getResponseText()),T>0){let I=g.getResponseJson();Array.isArray(I)&&(I=I[0]);const j=I==null?void 0:I.error;if(j&&j.status&&j.message){const q=(function(F){const X=F.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(X)>=0?X:ne.UNKNOWN})(j.status);m(new be(q,j.message))}else m(new be(ne.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new be(ne.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{c_:e,streamId:h,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{he(dn,`RPC '${e}' ${h} completed.`)}}));const v=JSON.stringify(o);he(dn,`RPC '${e}' ${h} sending request:`,o),g.send(r,"POST",v,s,15)}))}P_(e,r,s){const o=md(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=fv(),d=hv(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.zo(m.initMessageHeaders,r,s),m.encodeInitMessageHeaders=!0;const v=u.join("");he(dn,`Creating RPC '${e}' stream ${o}: ${v}`,m);const E=h.createWebChannel(v,m);this.T_(E);let T=!1,I=!1;const j=new rA({Ho:F=>{I?he(dn,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(T||(he(dn,`Opening RPC '${e}' stream ${o} transport.`),E.open(),T=!0),he(dn,`RPC '${e}' stream ${o} sending:`,F),E.send(F))},Yo:()=>E.close()}),q=(F,X,te)=>{F.listen(X,(se=>{try{te(se)}catch(pe){setTimeout((()=>{throw pe}),0)}}))};return q(E,qo.EventType.OPEN,(()=>{I||(he(dn,`RPC '${e}' stream ${o} transport opened.`),j.s_())})),q(E,qo.EventType.CLOSE,(()=>{I||(I=!0,he(dn,`RPC '${e}' stream ${o} transport closed`),j.__(),this.I_(E))})),q(E,qo.EventType.ERROR,(F=>{I||(I=!0,_a(dn,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),j.__(new be(ne.UNAVAILABLE,"The operation could not be completed")))})),q(E,qo.EventType.MESSAGE,(F=>{var X;if(!I){const te=F.data[0];Ye(!!te,16349);const se=te,pe=(se==null?void 0:se.error)||((X=se[0])===null||X===void 0?void 0:X.error);if(pe){he(dn,`RPC '${e}' stream ${o} received error:`,pe);const le=pe.status;let ye=(function(_){const A=Nt[_];if(A!==void 0)return v0(A)})(le),M=pe.message;ye===void 0&&(ye=ne.INTERNAL,M="Unknown error status: "+le+" with message "+pe.message),I=!0,j.__(new be(ye,M)),E.close()}else he(dn,`RPC '${e}' stream ${o} received:`,te),j.a_(te)}})),q(d,cv.STAT_EVENT,(F=>{F.stat===Ff.PROXY?he(dn,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===Ff.NOPROXY&&he(dn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{j.o_()}),0),j}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((r=>r===e))}}function yd(){return typeof document<"u"?document:null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function pc(n){return new lI(n,!0)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class H0{constructor(e,r,s=1e3,o=1.5,u=6e4){this.Fi=e,this.timerId=r,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const r=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,r-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const $0="PersistentStream";class G0{constructor(e,r,s,o,u,h,d,m){this.Fi=e,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new H0(e,r)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():r&&r.code===ne.RESOURCE_EXHAUSTED?(qr(r.toString()),qr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):r&&r.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(r)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),r=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.b_===r&&this.W_(s,o)}),(s=>{e((()=>{const o=new be(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)}))}))}W_(e,r){const s=this.K_(this.b_);this.stream=this.z_(e,r),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.e_((()=>{s((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((o=>{s((()=>this.G_(o)))})),this.stream.onMessage((o=>{s((()=>++this.C_==1?this.j_(o):this.onNext(o)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return he($0,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return r=>{this.Fi.enqueueAndForget((()=>this.b_===e?r():(he($0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class sA extends G0{constructor(e,r,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,o,h),this.serializer=u}z_(e,r){return this.connection.P_("Listen",e,r)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const r=hI(this.serializer,e),s=(function(o){if(!("targetChange"in o))return _e.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?_e.min():u.readTime?Er(u.readTime):_e.min()})(e);return this.listener.J_(r,s)}H_(e){const r={};r.database=ud(this.serializer),r.addTarget=(function(o,u){let h;const d=u.target;if(h=Jf(d)?{documents:pI(o,d)}:{query:mI(o,d).Vt},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=k0(o,u.resumeToken);const m=ad(o,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(_e.min())>0){h.readTime=hc(o,u.snapshotVersion.toTimestamp());const m=ad(o,u.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,e);const s=yI(this.serializer,e);s&&(r.labels=s),this.k_(r)}Y_(e){const r={};r.database=ud(this.serializer),r.removeTarget=e,this.k_(r)}}class iA extends G0{constructor(e,r,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,o,h),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,r){return this.connection.P_("Write",e,r)}j_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const r=dI(e.writeResults,e.commitTime),s=Er(e.commitTime);return this.listener.ta(s,r)}na(){const e={};e.database=ud(this.serializer),this.k_(e)}X_(e){const r={streamToken:this.lastStreamToken,writes:e.map((s=>fI(this.serializer,s)))};this.k_(r)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class oA{}class lA extends oA{constructor(e,r,s,o){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new be(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,r,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Wo(e,id(r,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new be(ne.UNKNOWN,u.toString())}))}Jo(e,r,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Jo(e,id(r,s),o,h,d,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new be(ne.UNKNOWN,h.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class uA{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(qr(r),this._a=!1):he("OnlineStateTracker",r)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const As="RemoteStore";class cA{constructor(e,r,s,o,u){this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo((h=>{s.enqueueAndForget((async()=>{Ns(this)&&(he(As,"Restarting streams for network reachability change."),await(async function(d){const m=Ie(d);m.Ia.add(4),await il(m),m.Aa.set("Unknown"),m.Ia.delete(4),await mc(m)})(this))}))})),this.Aa=new uA(s,o)}}async function mc(n){if(Ns(n))for(const e of n.da)await e(!0)}async function il(n){for(const e of n.da)await e(!1)}function W0(n,e){const r=Ie(n);r.Ta.has(e.targetId)||(r.Ta.set(e.targetId,e),Ed(r)?wd(r):Ii(r).x_()&&bd(r,e))}function vd(n,e){const r=Ie(n),s=Ii(r);r.Ta.delete(e),s.x_()&&Q0(r,e),r.Ta.size===0&&(s.x_()?s.B_():Ns(r)&&r.Aa.set("Unknown"))}function bd(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const r=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Ii(n).H_(e)}function Q0(n,e){n.Ra.$e(e),Ii(n).Y_(e)}function wd(n){n.Ra=new aI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Ii(n).start(),n.Aa.aa()}function Ed(n){return Ns(n)&&!Ii(n).M_()&&n.Ta.size>0}function Ns(n){return Ie(n).Ia.size===0}function X0(n){n.Ra=void 0}async function hA(n){n.Aa.set("Online")}async function fA(n){n.Ta.forEach(((e,r)=>{bd(n,e)}))}async function dA(n,e){X0(n),Ed(n)?(n.Aa.la(e),wd(n)):n.Aa.set("Unknown")}async function pA(n,e,r){if(n.Aa.set("Online"),e instanceof S0&&e.state===2&&e.cause)try{await(async function(s,o){const u=o.cause;for(const h of o.targetIds)s.Ta.has(h)&&(await s.remoteSyncer.rejectListen(h,u),s.Ta.delete(h),s.Ra.removeTarget(h))})(n,e)}catch(s){he(As,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await gc(n,s)}else if(e instanceof uc?n.Ra.Ye(e):e instanceof E0?n.Ra.it(e):n.Ra.et(e),!r.isEqual(_e.min()))try{const s=await F0(n.localStore);r.compareTo(s)>=0&&await(function(o,u){const h=o.Ra.Pt(u);return h.targetChanges.forEach(((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const g=o.Ta.get(m);g&&o.Ta.set(m,g.withResumeToken(d.resumeToken,u))}})),h.targetMismatches.forEach(((d,m)=>{const g=o.Ta.get(d);if(!g)return;o.Ta.set(d,g.withResumeToken(en.EMPTY_BYTE_STRING,g.snapshotVersion)),Q0(o,d);const v=new La(g.target,d,m,g.sequenceNumber);bd(o,v)})),o.remoteSyncer.applyRemoteEvent(h)})(n,r)}catch(s){he(As,"Failed to raise snapshot:",s),await gc(n,s)}}async function gc(n,e,r){if(!Ei(e))throw e;n.Ia.add(1),await il(n),n.Aa.set("Offline"),r||(r=()=>F0(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{he(As,"Retrying IndexedDB access"),await r(),n.Ia.delete(1),await mc(n)}))}function K0(n,e){return e().catch((r=>gc(n,r,e)))}async function yc(n){const e=Ie(n),r=Va(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Hf;for(;mA(e);)try{const o=await KI(e.localStore,s);if(o===null){e.Pa.length===0&&r.B_();break}s=o.batchId,gA(e,o)}catch(o){await gc(e,o)}Y0(e)&&J0(e)}function mA(n){return Ns(n)&&n.Pa.length<10}function gA(n,e){n.Pa.push(e);const r=Va(n);r.x_()&&r.Z_&&r.X_(e.mutations)}function Y0(n){return Ns(n)&&!Va(n).M_()&&n.Pa.length>0}function J0(n){Va(n).start()}async function yA(n){Va(n).na()}async function vA(n){const e=Va(n);for(const r of n.Pa)e.X_(r.mutations)}async function bA(n,e,r){const s=n.Pa.shift(),o=nd.from(s,e,r);await K0(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await yc(n)}async function wA(n,e){e&&Va(n).Z_&&await(async function(r,s){if((function(o){return nI(o)&&o!==ne.ABORTED})(s.code)){const o=r.Pa.shift();Va(r).N_(),await K0(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s))),await yc(r)}})(n,e),Y0(n)&&J0(n)}async function Z0(n,e){const r=Ie(n);r.asyncQueue.verifyOperationInProgress(),he(As,"RemoteStore received new credentials");const s=Ns(r);r.Ia.add(3),await il(r),s&&r.Aa.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ia.delete(3),await mc(r)}async function EA(n,e){const r=Ie(n);e?(r.Ia.delete(2),await mc(r)):e||(r.Ia.add(2),await il(r),r.Aa.set("Unknown"))}function Ii(n){return n.Va||(n.Va=(function(e,r,s){const o=Ie(e);return o.ia(),new sA(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Zo:hA.bind(null,n),e_:fA.bind(null,n),n_:dA.bind(null,n),J_:pA.bind(null,n)}),n.da.push((async e=>{e?(n.Va.N_(),Ed(n)?wd(n):n.Aa.set("Unknown")):(await n.Va.stop(),X0(n))}))),n.Va}function Va(n){return n.ma||(n.ma=(function(e,r,s){const o=Ie(e);return o.ia(),new iA(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:yA.bind(null,n),n_:wA.bind(null,n),ea:vA.bind(null,n),ta:bA.bind(null,n)}),n.da.push((async e=>{e?(n.ma.N_(),await yc(n)):(await n.ma.stop(),n.Pa.length>0&&(he(As,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Sd{constructor(e,r,s,o,u){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,o,u){const h=Date.now()+s,d=new Sd(e,r,h,o,u);return d.start(s),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xd(n,e){if(qr("AsyncQueue",`${e}: ${n}`),Ei(n))return new be(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ai{static emptySet(e){return new Ai(e.comparator)}constructor(e){this.comparator=e?(r,s)=>e(r,s)||Ee.comparator(r.key,s.key):(r,s)=>Ee.comparator(r.key,s.key),this.keyedMap=Yo(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,s)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Ai)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const o=r.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const s=new Ai;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class eb{constructor(){this.fa=new gt(Ee.comparator)}track(e){const r=e.doc.key,s=this.fa.get(r);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(r,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(r,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(r,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(r,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(r):e.type===1&&s.type===2?this.fa=this.fa.insert(r,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(r,{type:2,doc:e.doc}):Te(63341,{At:e,ga:s}):this.fa=this.fa.insert(r,e)}pa(){const e=[];return this.fa.inorderTraversal(((r,s)=>{e.push(s)})),e}}class Ni{constructor(e,r,s,o,u,h,d,m,g){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,r,s,o,u){const h=[];return r.forEach((d=>{h.push({type:0,doc:d})})),new Ni(e,r,Ai.emptySet(r),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let o=0;o<r.length;o++)if(r[o].type!==s[o].type||!r[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class SA{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class xA{constructor(){this.queries=tb(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(e,r){const s=Ie(e),o=s.queries;s.queries=tb(),o.forEach(((u,h)=>{for(const d of h.wa)d.onError(r)}))})(this,new be(ne.ABORTED,"Firestore shutting down"))}}function tb(){return new _s((n=>e0(n)),nc)}async function TA(n,e){const r=Ie(n);let s=3;const o=e.query;let u=r.queries.get(o);u?!u.Sa()&&e.ba()&&(s=2):(u=new SA,s=e.ba()?0:1);try{switch(s){case 0:u.ya=await r.onListen(o,!0);break;case 1:u.ya=await r.onListen(o,!1);break;case 2:await r.onFirstRemoteStoreListen(o)}}catch(h){const d=xd(h,`Initialization of query '${Ti(e.query)}' failed`);return void e.onError(d)}r.queries.set(o,u),u.wa.push(e),e.va(r.onlineState),u.ya&&e.Ca(u.ya)&&Td(r)}async function kA(n,e){const r=Ie(n),s=e.query;let o=3;const u=r.queries.get(s);if(u){const h=u.wa.indexOf(e);h>=0&&(u.wa.splice(h,1),u.wa.length===0?o=e.ba()?0:1:!u.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}}function CA(n,e){const r=Ie(n);let s=!1;for(const o of e){const u=o.query,h=r.queries.get(u);if(h){for(const d of h.wa)d.Ca(o)&&(s=!0);h.ya=o}}s&&Td(r)}function _A(n,e,r){const s=Ie(n),o=s.queries.get(e);if(o)for(const u of o.wa)u.onError(r);s.queries.delete(e)}function Td(n){n.Da.forEach((e=>{e.next()}))}var kd,nb;(nb=kd||(kd={})).Fa="default",nb.Cache="cache";class IA{constructor(e,r,s){this.query=e,this.Ma=r,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ni(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),r=!0):this.Ba(e,this.onlineState)&&(this.La(e),r=!0),this.Oa=e,r}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let r=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),r=!0),r}Ba(e,r){if(!e.fromCache||!this.ba())return!0;const s=r!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const r=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}La(e){e=Ni.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==kd.Cache}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rb{constructor(e){this.key=e}}class ab{constructor(e){this.key=e}}class AA{constructor(e,r){this.query=e,this.Ha=r,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Fe(),this.mutatedKeys=Fe(),this.Xa=t0(e),this.eu=new Ai(this.Xa)}get tu(){return this.Ha}nu(e,r){const s=r?r.ru:new eb,o=r?r.eu:this.eu;let u=r?r.mutatedKeys:this.mutatedKeys,h=o,d=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,E)=>{const T=o.get(v),I=rc(this.query,E)?E:null,j=!!T&&this.mutatedKeys.has(T.key),q=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let F=!1;T&&I?T.data.isEqual(I.data)?j!==q&&(s.track({type:3,doc:I}),F=!0):this.iu(T,I)||(s.track({type:2,doc:I}),F=!0,(m&&this.Xa(I,m)>0||g&&this.Xa(I,g)<0)&&(d=!0)):!T&&I?(s.track({type:0,doc:I}),F=!0):T&&!I&&(s.track({type:1,doc:T}),F=!0,(m||g)&&(d=!0)),F&&(I?(h=h.add(I),u=q?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{eu:h,ru:s,Ds:d,mutatedKeys:u}}iu(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s,o){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const h=e.ru.pa();h.sort(((v,E)=>(function(T,I){const j=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{At:q})}};return j(T)-j(I)})(v.type,E.type)||this.Xa(v.doc,E.doc))),this.su(s),o=o!=null&&o;const d=r&&!o?this.ou():[],m=this.Za.size===0&&this.current&&!o?1:0,g=m!==this.Ya;return this.Ya=m,h.length!==0||g?{snapshot:new Ni(this.query,e.eu,u,h,e.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:d}:{_u:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new eb,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((r=>this.Ha=this.Ha.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ha=this.Ha.delete(r))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Fe(),this.eu.forEach((s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))}));const r=[];return e.forEach((s=>{this.Za.has(s)||r.push(new ab(s))})),this.Za.forEach((s=>{e.has(s)||r.push(new rb(s))})),r}uu(e){this.Ha=e.qs,this.Za=Fe();const r=this.nu(e.documents);return this.applyChanges(r,!0)}cu(){return Ni.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Cd="SyncEngine";class NA{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class DA{constructor(e){this.key=e,this.lu=!1}}class PA{constructor(e,r,s,o,u,h){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.hu={},this.Pu=new _s((d=>e0(d)),nc),this.Tu=new Map,this.Iu=new Set,this.du=new gt(Ee.comparator),this.Eu=new Map,this.Au=new cd,this.Ru={},this.Vu=new Map,this.mu=_i.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function MA(n,e,r=!0){const s=fb(n);let o;const u=s.Pu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await sb(s,e,r,!0),o}async function OA(n,e){const r=fb(n);await sb(r,e,!0,!1)}async function sb(n,e,r,s){const o=await YI(n.localStore,br(e)),u=o.targetId,h=n.sharedClientState.addLocalQueryTarget(u,r);let d;return s&&(d=await LA(n,e,u,h==="current",o.resumeToken)),n.isPrimaryClient&&r&&W0(n.remoteStore,o),d}async function LA(n,e,r,s,o){n.gu=(E,T,I)=>(async function(j,q,F,X){let te=q.view.nu(F);te.Ds&&(te=await B0(j.localStore,q.query,!1).then((({documents:ye})=>q.view.nu(ye,te))));const se=X&&X.targetChanges.get(q.targetId),pe=X&&X.targetMismatches.get(q.targetId)!=null,le=q.view.applyChanges(te,j.isPrimaryClient,se,pe);return hb(j,q.targetId,le._u),le.snapshot})(n,E,T,I);const u=await B0(n.localStore,e,!0),h=new AA(e,u.qs),d=h.nu(u.documents),m=sl.createSynthesizedTargetChangeForCurrentChange(r,s&&n.onlineState!=="Offline",o),g=h.applyChanges(d,n.isPrimaryClient,m);hb(n,r,g._u);const v=new NA(e,r,h);return n.Pu.set(e,v),n.Tu.has(r)?n.Tu.get(r).push(e):n.Tu.set(r,[e]),g.snapshot}async function VA(n,e,r){const s=Ie(n),o=s.Pu.get(e),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter((h=>!nc(h,e)))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await pd(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),r&&vd(s.remoteStore,o.targetId),_d(s,o.targetId)})).catch(wi)):(_d(s,o.targetId),await pd(s.localStore,o.targetId,!0))}async function RA(n,e){const r=Ie(n),s=r.Pu.get(e),o=r.Tu.get(s.targetId);r.isPrimaryClient&&o.length===1&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),vd(r.remoteStore,s.targetId))}async function jA(n,e,r){const s=$A(n);try{const o=await(function(u,h){const d=Ie(u),m=ct.now(),g=h.reduce(((T,I)=>T.add(I.key)),Fe());let v,E;return d.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let I=Hr(),j=Fe();return d.Os.getEntries(T,g).next((q=>{I=q,I.forEach(((F,X)=>{X.isValidDocument()||(j=j.add(F))}))})).next((()=>d.localDocuments.getOverlayedDocuments(T,I))).next((q=>{v=q;const F=[];for(const X of h){const te=Y_(X,v.get(X.key).overlayedDocument);te!=null&&F.push(new Oa(X.key,te,qv(te.value.mapValue),wr.exists(!0)))}return d.mutationQueue.addMutationBatch(T,m,F,h)})).next((q=>{E=q;const F=q.applyToLocalDocumentSet(v,j);return d.documentOverlayCache.saveOverlays(T,q.batchId,F)}))})).then((()=>({batchId:E.batchId,changes:r0(v)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(u,h,d){let m=u.Ru[u.currentUser.toKey()];m||(m=new gt(Me)),m=m.insert(h,d),u.Ru[u.currentUser.toKey()]=m})(s,o.batchId,r),await ol(s,o.changes),await yc(s.remoteStore)}catch(o){const u=xd(o,"Failed to persist write");r.reject(u)}}async function ib(n,e){const r=Ie(n);try{const s=await QI(r.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=r.Eu.get(u);h&&(Ye(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.lu=!0:o.modifiedDocuments.size>0?Ye(h.lu,14607):o.removedDocuments.size>0&&(Ye(h.lu,42227),h.lu=!1))})),await ol(r,s,e)}catch(s){await wi(s)}}function ob(n,e,r){const s=Ie(n);if(s.isPrimaryClient&&r===0||!s.isPrimaryClient&&r===1){const o=[];s.Pu.forEach(((u,h)=>{const d=h.view.va(e);d.snapshot&&o.push(d.snapshot)})),(function(u,h){const d=Ie(u);d.onlineState=h;let m=!1;d.queries.forEach(((g,v)=>{for(const E of v.wa)E.va(h)&&(m=!0)})),m&&Td(d)})(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function FA(n,e,r){const s=Ie(n);s.sharedClientState.updateQueryState(e,"rejected",r);const o=s.Eu.get(e),u=o&&o.key;if(u){let h=new gt(Ee.comparator);h=h.insert(u,fn.newNoDocument(u,_e.min()));const d=Fe().add(u),m=new lc(_e.min(),new Map,new gt(Me),h,d);await ib(s,m),s.du=s.du.remove(u),s.Eu.delete(e),Id(s)}else await pd(s.localStore,e,!1).then((()=>_d(s,e,r))).catch(wi)}async function BA(n,e){const r=Ie(n),s=e.batch.batchId;try{const o=await WI(r.localStore,e);ub(r,s,null),lb(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),await ol(r,o)}catch(o){await wi(o)}}async function UA(n,e,r){const s=Ie(n);try{const o=await(function(u,h){const d=Ie(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let g;return d.mutationQueue.lookupMutationBatch(m,h).next((v=>(Ye(v!==null,37113),g=v.keys(),d.mutationQueue.removeMutationBatch(m,v)))).next((()=>d.mutationQueue.performConsistencyCheck(m))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(m,g,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g))).next((()=>d.localDocuments.getDocuments(m,g)))}))})(s.localStore,e);ub(s,e,r),lb(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),await ol(s,o)}catch(o){await wi(o)}}function lb(n,e){(n.Vu.get(e)||[]).forEach((r=>{r.resolve()})),n.Vu.delete(e)}function ub(n,e,r){const s=Ie(n);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(r?u.reject(r):u.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function _d(n,e,r=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Tu.get(e))n.Pu.delete(s),r&&n.hu.pu(s,r);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach((s=>{n.Au.containsKey(s)||cb(n,s)}))}function cb(n,e){n.Iu.delete(e.path.canonicalString());const r=n.du.get(e);r!==null&&(vd(n.remoteStore,r),n.du=n.du.remove(e),n.Eu.delete(r),Id(n))}function hb(n,e,r){for(const s of r)s instanceof rb?(n.Au.addReference(s.key,e),zA(n,s)):s instanceof ab?(he(Cd,"Document no longer in limbo: "+s.key),n.Au.removeReference(s.key,e),n.Au.containsKey(s.key)||cb(n,s.key)):Te(19791,{yu:s})}function zA(n,e){const r=e.key,s=r.path.canonicalString();n.du.get(r)||n.Iu.has(s)||(he(Cd,"New document in limbo: "+r),n.Iu.add(s),Id(n))}function Id(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const r=new Ee(ut.fromString(e)),s=n.mu.next();n.Eu.set(s,new DA(r)),n.du=n.du.insert(r,s),W0(n.remoteStore,new La(br(Zf(r.path)),s,"TargetPurposeLimboResolution",qu.ue))}}async function ol(n,e,r){const s=Ie(n),o=[],u=[],h=[];s.Pu.isEmpty()||(s.Pu.forEach(((d,m)=>{h.push(s.gu(m,e,r).then((g=>{var v;if((g||r)&&s.isPrimaryClient){const E=g?!g.fromCache:(v=r==null?void 0:r.targetChanges.get(m.targetId))===null||v===void 0?void 0:v.current;s.sharedClientState.updateQueryState(m.targetId,E?"current":"not-current")}if(g){o.push(g);const E=fd.Es(m.targetId,g);u.push(E)}})))})),await Promise.all(h),s.hu.J_(o),await(async function(d,m){const g=Ie(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>Z.forEach(m,(E=>Z.forEach(E.Is,(T=>g.persistence.referenceDelegate.addReference(v,E.targetId,T))).next((()=>Z.forEach(E.ds,(T=>g.persistence.referenceDelegate.removeReference(v,E.targetId,T)))))))))}catch(v){if(!Ei(v))throw v;he(dd,"Failed to update sequence numbers: "+v)}for(const v of m){const E=v.targetId;if(!v.fromCache){const T=g.Fs.get(E),I=T.snapshotVersion,j=T.withLastLimboFreeSnapshotVersion(I);g.Fs=g.Fs.insert(E,j)}}})(s.localStore,u))}async function qA(n,e){const r=Ie(n);if(!r.currentUser.isEqual(e)){he(Cd,"User change. New user:",e.toKey());const s=await j0(r.localStore,e);r.currentUser=e,(function(o,u){o.Vu.forEach((h=>{h.forEach((d=>{d.reject(new be(ne.CANCELLED,u))}))})),o.Vu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ol(r,s.Bs)}}function HA(n,e){const r=Ie(n),s=r.Eu.get(e);if(s&&s.lu)return Fe().add(s.key);{let o=Fe();const u=r.Tu.get(e);if(!u)return o;for(const h of u){const d=r.Pu.get(h);o=o.unionWith(d.view.tu)}return o}}function fb(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ib.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=FA.bind(null,e),e.hu.J_=CA.bind(null,e.eventManager),e.hu.pu=_A.bind(null,e.eventManager),e}function $A(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=UA.bind(null,e),e}class vc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pc(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,r){return null}Fu(e,r){return null}vu(e){return GI(this.persistence,new qI,e.initialUser,this.serializer)}Du(e){return new R0(hd.Vi,this.serializer)}bu(e){return new ZI}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vc.provider={build:()=>new vc};class GA extends vc{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,r){Ye(this.persistence.referenceDelegate instanceof fc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new II(s,e.asyncQueue,r)}Du(e){const r=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new R0((s=>fc.Vi(s,r)),this.serializer)}}class Ad{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>ob(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=qA.bind(null,this.syncEngine),await EA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new xA})()}createDatastore(e){const r=pc(e.databaseInfo.databaseId),s=(function(o){return new aA(o)})(e.databaseInfo);return(function(o,u,h,d){return new lA(o,u,h,d)})(e.authCredentials,e.appCheckCredentials,s,r)}createRemoteStore(e){return(function(r,s,o,u,h){return new cA(r,s,o,u,h)})(this.localStore,this.datastore,e.asyncQueue,(r=>ob(this.syncEngine,r,0)),(function(){return q0.C()?new q0:new eA})())}createSyncEngine(e,r){return(function(s,o,u,h,d,m,g){const v=new PA(s,o,u,h,d,m);return g&&(v.fu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await(async function(s){const o=Ie(s);he(As,"RemoteStore shutting down."),o.Ia.add(5),await il(o),o.Ea.shutdown(),o.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Ad.provider={build:()=>new Ad};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class WA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):qr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ra="FirestoreClient";class QA{constructor(e,r,s,o,u){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=o,this.user=hn.UNAUTHENTICATED,this.clientId=Uf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{he(Ra,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(he(Ra,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const s=xd(r,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Nd(n,e){n.asyncQueue.verifyOperationInProgress(),he(Ra,"Initializing OfflineComponentProvider");const r=n.configuration;await e.initialize(r);let s=r.initialUser;n.setCredentialChangeListener((async o=>{s.isEqual(o)||(await j0(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>{_a("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then((()=>{he("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((o=>{_a("Terminating Firestore due to IndexedDb database deletion failed",o)}))})),n._offlineComponents=e}async function db(n,e){n.asyncQueue.verifyOperationInProgress();const r=await XA(n);he(Ra,"Initializing OnlineComponentProvider"),await e.initialize(r,n.configuration),n.setCredentialChangeListener((s=>Z0(e.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,o)=>Z0(e.remoteStore,o))),n._onlineComponents=e}async function XA(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){he(Ra,"Using user provided OfflineComponentProvider");try{await Nd(n,n._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(s){return s.name==="FirebaseError"?s.code===ne.FAILED_PRECONDITION||s.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(r))throw r;_a("Error using user provided cache. Falling back to memory cache: "+r),await Nd(n,new vc)}}else he(Ra,"Using default OfflineComponentProvider"),await Nd(n,new GA(void 0));return n._offlineComponents}async function pb(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(he(Ra,"Using user provided OnlineComponentProvider"),await db(n,n._uninitializedComponentsProvider._online)):(he(Ra,"Using default OnlineComponentProvider"),await db(n,new Ad))),n._onlineComponents}function KA(n){return pb(n).then((e=>e.syncEngine))}async function mb(n){const e=await pb(n),r=e.eventManager;return r.onListen=MA.bind(null,e.syncEngine),r.onUnlisten=VA.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=OA.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=RA.bind(null,e.syncEngine),r}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function gb(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const yb=new Map;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const vb="firestore.googleapis.com",bb=!0;class wb{constructor(e){var r,s;if(e.host===void 0){if(e.ssl!==void 0)throw new be(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vb,this.ssl=bb}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:bb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=O0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<CI)throw new be(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}c_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gb((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new be(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new be(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new be(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bc{constructor(e,r,s,o){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new t_;switch(r.type){case"firstParty":return new s_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new be(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const r=yb.get(e);r&&(he("ComponentProvider","Removing Datastore"),yb.delete(e),r.terminate())})(this),Promise.resolve()}}function YA(n,e,r,s={}){var o;n=Ia(n,bc);const u=gf(e),h=n._getSettings(),d=Object.assign(Object.assign({},h),{emulatorOptions:n._getEmulatorOptions()}),m=`${e}:${r}`;u&&(ck(`https://${m}`),pk("Firestore",!0)),h.host!==vb&&h.host!==m&&_a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},h),{host:m,ssl:u,emulatorOptions:s});if(!Fo(g,d)&&(n._setSettings(g),s.mockUserToken)){let v,E;if(typeof s.mockUserToken=="string")v=s.mockUserToken,E=hn.MOCK_USER;else{v=hk(s.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new be(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new hn(T)}n._authCredentials=new n_(new gv(v,E))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class wc{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new wc(this.firestore,e,this._query)}}class Dt{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ja(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dt(this.firestore,e,this._key)}toJSON(){return{type:Dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,s){if(Ho(r,Dt._jsonSchema))return new Dt(e,s||null,new Ee(ut.fromString(r.referencePath)))}}Dt._jsonSchemaVersion="firestore/documentReference/1.0",Dt._jsonSchema={type:At("string",Dt._jsonSchemaVersion),referencePath:At("string")};class ja extends wc{constructor(e,r,s){super(e,r,Zf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dt(this.firestore,null,new Ee(e))}withConverter(e){return new ja(this.firestore,e,this._path)}}function JA(n,e,...r){if(n=ir(n),Ev("collection","path",e),n instanceof bc){const s=ut.fromString(e,...r);return xv(s),new ja(n,null,s)}{if(!(n instanceof Dt||n instanceof ja))throw new be(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(ut.fromString(e,...r));return xv(s),new ja(n.firestore,null,s)}}function Ec(n,e,...r){if(n=ir(n),arguments.length===1&&(e=Uf.newId()),Ev("doc","path",e),n instanceof bc){const s=ut.fromString(e,...r);return Sv(s),new Dt(n,null,new Ee(s))}{if(!(n instanceof Dt||n instanceof ja))throw new be(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(ut.fromString(e,...r));return Sv(s),new Dt(n.firestore,n instanceof ja?n.converter:null,new Ee(s))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Eb="AsyncQueue";class Sb{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new H0(this,"async_queue_retry"),this.oc=()=>{const s=yd();s&&he(Eb,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const r=yd();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const r=yd();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const r=new Cs;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Ei(e))throw e;he(Eb,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const r=this._c.then((()=>(this.nc=!0,e().catch((s=>{throw this.tc=s,this.nc=!1,qr("INTERNAL UNHANDLED ERROR: ",xb(s)),s})).then((s=>(this.nc=!1,s))))));return this._c=r,r}enqueueAfterDelay(e,r,s){this.ac(),this.sc.indexOf(e)>-1&&(r=0);const o=Sd.createAndSchedule(this,e,r,s,(u=>this.lc(u)));return this.ec.push(o),o}ac(){this.tc&&Te(47125,{hc:xb(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const r of this.ec)if(r.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((r,s)=>r.targetTimeMs-s.targetTimeMs));for(const r of this.ec)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const r=this.ec.indexOf(e);this.ec.splice(r,1)}}function xb(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Tb(n){return(function(e,r){if(typeof e!="object"||e===null)return!1;const s=e;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1})(n,["next","error","complete"])}class ll extends bc{constructor(e,r,s,o){super(e,r,s,o),this.type="firestore",this._queue=new Sb,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Sb(e),this._firestoreClient=void 0,await e}}}function ZA(n,e){const r=typeof n=="object"?n:xy(),s=typeof n=="string"?n:Qu,o=Bo(r,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=lk("firestore");u&&YA(o,...u)}return o}function kb(n){if(n._terminated)throw new be(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||e4(n),n._firestoreClient}function e4(n){var e,r,s;const o=n._freezeSettings(),u=(function(h,d,m,g){return new E_(h,d,m,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,gb(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((r=o.localCache)===null||r===void 0)&&r._offlineComponentProvider&&!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new QA(n._authCredentials,n._appCheckCredentials,n._queue,u,n._componentsProvider&&(function(h){const d=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(d),_online:d}})(n._componentsProvider))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qn(en.fromBase64String(e))}catch(r){throw new be(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new qn(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ho(e,qn._jsonSchema))return qn.fromBase64String(e.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:At("string",qn._jsonSchemaVersion),bytes:At("string")};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Sc{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new be(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xc{constructor(e){this._methodName=e}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Sr{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new be(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new be(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Sr._jsonSchemaVersion}}static fromJSON(e){if(Ho(e,Sr._jsonSchema))return new Sr(e.latitude,e.longitude)}}Sr._jsonSchemaVersion="firestore/geoPoint/1.0",Sr._jsonSchema={type:At("string",Sr._jsonSchemaVersion),latitude:At("number"),longitude:At("number")};/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xr{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:xr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ho(e,xr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((r=>typeof r=="number")))return new xr(e.vectorValues);throw new be(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xr._jsonSchemaVersion="firestore/vectorValue/1.0",xr._jsonSchema={type:At("string",xr._jsonSchemaVersion),vectorValues:At("object")};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const t4=/^__.*__$/;class n4{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return this.fieldMask!==null?new Oa(e,this.data,this.fieldMask,r,this.fieldTransforms):new rl(e,this.data,r,this.fieldTransforms)}}class Cb{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return new Oa(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function _b(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ec:n})}}class Dd{constructor(e,r,s,o,u,h){this.settings=e,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Dd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var r;const s=(r=this.path)===null||r===void 0?void 0:r.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var r;const s=(r=this.path)===null||r===void 0?void 0:r.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Cc(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(_b(this.Ec)&&t4.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class r4{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=s||pc(e)}Dc(e,r,s,o=!1){return new Dd({Ec:e,methodName:r,bc:s,path:Jt.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ib(n){const e=n._freezeSettings(),r=pc(n._databaseId);return new r4(n._databaseId,!!e.ignoreUndefinedProperties,r)}function a4(n,e,r,s,o,u={}){const h=n.Dc(u.merge||u.mergeFields?2:0,e,r,o);Md("Data must be an object, but it was:",h,s);const d=Ab(s,h);let m,g;if(u.merge)m=new Dn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const v=[];for(const E of u.mergeFields){const T=Od(e,E,r);if(!h.contains(T))throw new be(ne.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);Db(v,T)||v.push(T)}m=new Dn(v),g=h.fieldTransforms.filter((E=>m.covers(E.field)))}else m=null,g=h.fieldTransforms;return new n4(new Tn(d),m,g)}class Tc extends xc{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Tc}}class Pd extends xc{constructor(e,r){super(e),this.Cc=r}_toFieldTransform(e){const r=new tl(e.serializer,i0(e.serializer,this.Cc));return new W_(e.path,r)}isEqual(e){return e instanceof Pd&&this.Cc===e.Cc}}function s4(n,e,r,s){const o=n.Dc(1,e,r);Md("Data must be an object, but it was:",o,s);const u=[],h=Tn.empty();Na(s,((m,g)=>{const v=Ld(e,m,r);g=ir(g);const E=o.gc(v);if(g instanceof Tc)u.push(v);else{const T=kc(g,E);T!=null&&(u.push(v),h.set(v,T))}}));const d=new Dn(u);return new Cb(h,d,o.fieldTransforms)}function i4(n,e,r,s,o,u){const h=n.Dc(1,e,r),d=[Od(e,s,r)],m=[o];if(u.length%2!=0)throw new be(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<u.length;T+=2)d.push(Od(e,u[T])),m.push(u[T+1]);const g=[],v=Tn.empty();for(let T=d.length-1;T>=0;--T)if(!Db(g,d[T])){const I=d[T];let j=m[T];j=ir(j);const q=h.gc(I);if(j instanceof Tc)g.push(I);else{const F=kc(j,q);F!=null&&(g.push(I),v.set(I,F))}}const E=new Dn(g);return new Cb(v,E,h.fieldTransforms)}function kc(n,e){if(Nb(n=ir(n)))return Md("Unsupported field value:",e,n),Ab(n,e);if(n instanceof xc)return(function(r,s){if(!_b(s.Ec))throw s.wc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,s){const o=[];let u=0;for(const h of r){let d=kc(h,s.yc(u));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),u++}return{arrayValue:{values:o}}})(n,e)}return(function(r,s){if((r=ir(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return i0(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=ct.fromDate(r);return{timestampValue:hc(s.serializer,o)}}if(r instanceof ct){const o=new ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hc(s.serializer,o)}}if(r instanceof Sr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qn)return{bytesValue:k0(s.serializer,r._byteString)};if(r instanceof Dt){const o=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw s.wc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:sd(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof xr)return(function(o,u){return{mapValue:{fields:{[Rv]:{stringValue:jv},[Ku]:{arrayValue:{values:o.toArray().map((h=>{if(typeof h!="number")throw u.wc("VectorValues must only contain numeric values.");return td(u.serializer,h)}))}}}}}})(r,s);throw s.wc(`Unsupported field value: ${qf(r)}`)})(n,e)}function Ab(n,e){const r={};return Nv(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Na(n,((s,o)=>{const u=kc(o,e.Vc(s));u!=null&&(r[s]=u)})),{mapValue:{fields:r}}}function Nb(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ct||n instanceof Sr||n instanceof qn||n instanceof Dt||n instanceof xc||n instanceof xr)}function Md(n,e,r){if(!Nb(r)||!Tv(r)){const s=qf(r);throw s==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+s)}}function Od(n,e,r){if((e=ir(e))instanceof Sc)return e._internalPath;if(typeof e=="string")return Ld(n,e);throw Cc("Field path arguments must be of type string or ",n,!1,void 0,r)}const o4=new RegExp("[~\\*/\\[\\]]");function Ld(n,e,r){if(e.search(o4)>=0)throw Cc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,r);try{return new Sc(...e.split("."))._internalPath}catch{throw Cc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,r)}}function Cc(n,e,r,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;r&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(u||h)&&(m+=" (found",u&&(m+=` in field ${s}`),h&&(m+=` in document ${o}`),m+=")"),new be(ne.INVALID_ARGUMENT,d+n+m)}function Db(n,e){return n.some((r=>r.isEqual(e)))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Pb{constructor(e,r,s,o,u){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new l4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Mb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class l4 extends Pb{data(){return super.data()}}function Mb(n,e){return typeof e=="string"?Ld(n,e):e instanceof Sc?e._internalPath:e._delegate._internalPath}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function u4(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new be(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class c4{convertValue(e,r="none"){switch(Ma(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Pa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return Na(e,((o,u)=>{s[o]=this.convertValue(u,r)})),s}convertVectorValue(e){var r,s,o;const u=(o=(s=(r=e.fields)===null||r===void 0?void 0:r[Ku].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map((h=>Tt(h.doubleValue)));return new xr(u)}convertGeoPoint(e){return new Sr(Tt(e.latitude),Tt(e.longitude))}convertArray(e,r){return(e.values||[]).map((s=>this.convertValue(s,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const s=Wu(e);return s==null?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(Go(e));default:return null}}convertTimestamp(e){const r=Da(e);return new ct(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=ut.fromString(e);Ye(P0(s),9688,{name:e});const o=new Wo(s.get(1),s.get(3)),u=new Ee(s.popFirst(5));return o.isEqual(r)||qr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),u}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function h4(n,e,r){let s;return s=n?n.toFirestore(e):e,s}class ul{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ds extends Pb{constructor(e,r,s,o,u,h){super(e,r,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new _c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(Mb("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new be(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=Ds._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()||(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED")),r}}Ds._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ds._jsonSchema={type:At("string",Ds._jsonSchemaVersion),bundleSource:At("string","DocumentSnapshot"),bundleName:At("string"),bundle:At("string")};class _c extends Ds{data(e={}){return super.data(e)}}class Di{constructor(e,r,s,o){this._firestore=e,this._userDataWriter=r,this._snapshot=o,this.metadata=new ul(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((s=>{e.call(r,new _c(this._firestore,this._userDataWriter,s.key,s,new ul(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new be(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map((h=>{const d=new _c(s._firestore,s._userDataWriter,h.doc.key,h.doc,new ul(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const d=new _c(s._firestore,s._userDataWriter,h.doc.key,h.doc,new ul(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let m=-1,g=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),g=u.indexOf(h.doc.key)),{type:f4(h.type),doc:d,oldIndex:m,newIndex:g}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new be(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Di._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Uf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(r.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function f4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:n})}}Di._jsonSchemaVersion="firestore/querySnapshot/1.0",Di._jsonSchema={type:At("string",Di._jsonSchemaVersion),bundleSource:At("string","QuerySnapshot"),bundleName:At("string"),bundle:At("string")};class Ob extends c4{constructor(e){super(),this.firestore=e}convertBytes(e){return new qn(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Dt(this.firestore,null,r)}}function Lb(n,e,r){n=Ia(n,Dt);const s=Ia(n.firestore,ll),o=h4(n.converter,e);return Rb(s,[a4(Ib(s),"setDoc",n._key,o,n.converter!==null,r).toMutation(n._key,wr.none())])}function Vb(n,e,r,...s){n=Ia(n,Dt);const o=Ia(n.firestore,ll),u=Ib(o);let h;return h=typeof(e=ir(e))=="string"||e instanceof Sc?i4(u,"updateDoc",n._key,e,r,s):s4(u,"updateDoc",n._key,e),Rb(o,[h.toMutation(n._key,wr.exists(!0))])}function d4(n,...e){var r,s,o;n=ir(n);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||Tb(e[h])||(u=e[h++]);const d={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(Tb(e[h])){const E=e[h];e[h]=(r=E.next)===null||r===void 0?void 0:r.bind(E),e[h+1]=(s=E.error)===null||s===void 0?void 0:s.bind(E),e[h+2]=(o=E.complete)===null||o===void 0?void 0:o.bind(E)}let m,g,v;if(n instanceof Dt)g=Ia(n.firestore,ll),v=Zf(n._key.path),m={next:E=>{e[h]&&e[h](p4(g,n,E))},error:e[h+1],complete:e[h+2]};else{const E=Ia(n,wc);g=Ia(E.firestore,ll),v=E._query;const T=new Ob(g);m={next:I=>{e[h]&&e[h](new Di(g,T,E,I))},error:e[h+1],complete:e[h+2]},u4(n._query)}return(function(E,T,I,j){const q=new WA(j),F=new IA(T,q,I);return E.asyncQueue.enqueueAndForget((async()=>TA(await mb(E),F))),()=>{q.Ou(),E.asyncQueue.enqueueAndForget((async()=>kA(await mb(E),F)))}})(kb(g),v,d,m)}function Rb(n,e){return(function(r,s){const o=new Cs;return r.asyncQueue.enqueueAndForget((async()=>jA(await KA(r),s,o))),o.promise})(kb(n),e)}function p4(n,e,r){const s=r.docs.get(e._key),o=new Ob(n);return new Ds(n,o,e._key,s,new ul(r.hasPendingWrites,r.fromCache),e.converter)}function Pi(n){return new Pd("increment",n)}(function(n,e=!0){(function(r){yi=r})(x2),Ta(new Ur("firestore",((r,{instanceIdentifier:s,options:o})=>{const u=r.getProvider("app").getImmediate(),h=new ll(new r_(r.getProvider("auth-internal")),new i_(u,r.getProvider("app-check-internal")),(function(d,m){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new be(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wo(d.options.projectId,m)})(u,s),u);return o=Object.assign({useFetchStreams:e},o),h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),mr(dv,pv,n),mr(dv,pv,"esm2017")})();const jb={apiKey:"AIzaSyBDD29_0DyHGF2J6804sOothQileESrLuA",authDomain:"fragen-katalog.firebaseapp.com",projectId:"fragen-katalog",storageBucket:"fragen-katalog.firebasestorage.app",messagingSenderId:"208859056966",appId:"1:208859056966:web:039f86d0b8722e4395f347",measurementId:"G-STMLG4PCQ1"},Fb=Sy(jb),cl=ZA(Fb),m4=()=>YC().then(n=>{if(n){let e=function(){window.dataLayer.push(arguments)};const r=XC(Fb);return window.dataLayer=window.dataLayer||[],e("js",new Date),e("config",jb.measurementId,{debug_mode:!0}),console.log("📈 Firebase Analytics initialized with debug_mode"),r}else return console.warn("⚠️ Firebase Analytics not supported on this device."),null});function g4({question:n,answers:e,correctIndex:r,selectedAnswer:s,onSelectAnswer:o,id:u,imageId:h}){const[d,m]=ge.useState(!1);if(ge.useEffect(()=>{const v=E=>{E.key==="Escape"&&m(!1)};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[]),!n||!e||e.length===0)return ae.jsx("p",{className:"text-base",children:"Loading question..."});const g=h?`/images/${h}.png`:null;return ae.jsxs(ae.Fragment,{children:[ae.jsxs("div",{className:"flashcard",children:[ae.jsxs("div",{className:"question-section",children:[g&&ae.jsx("img",{src:g,alt:`Bild zur Frage ${u}`,className:"question-image",onClick:()=>m(!0)}),ae.jsx("p",{className:"question-text text-base font-medium mb-4 mt-2",children:n}),ae.jsx("div",{className:"answer-list",children:e.map((v,E)=>{const T=s!==null,I=E===r,j=E===s;let q="answer-button text-base";return T&&(I?q+=" correct":j&&(q+=" wrong")),ae.jsx("button",{className:q,onClick:F=>{F.preventDefault(),o(E)},disabled:T,children:v},E)})})]}),ae.jsxs("div",{className:"question-meta text-sm text-muted-light",children:["Frage #",u]})]}),d&&g&&ae.jsx("div",{className:"lightbox-overlay",onClick:()=>m(!1),children:ae.jsx("img",{src:g,alt:`Frage ${u} groß`,className:"lightbox-image",onClick:v=>v.stopPropagation()})})]})}function Pn(n,e={}){m4().then(r=>{r?(rv(r,n,e),console.log(`📊 Logged: ${n}`,e)):console.warn(`⚠️ Analytics not initialized – could not log ${n}`)})}function Bb({variant:n="soft",style:e={},className:r="",fullWidth:s=!1}){const o=()=>{Pn("support_this_project_clicked"),window.open("https://www.buymeacoffee.com/roiesh","_blank")},u={padding:"12px 20px",borderRadius:"12px",fontWeight:"500",fontSize:"15px",border:"none",cursor:"pointer",display:"inline-block",padding:"12px 20px",maxWidth:"90vw",whiteSpace:"nowrap",textAlign:"center",transition:"all 0.2s ease",zindex:1e3,...e},h=n==="modal"?{backgroundColor:"var(--color-primary)",color:"white"}:{backgroundColor:"#f2f7fc",color:"var(--color-primary)",boxShadow:"0 2px 6px rgba(0,0,0,0.08)"};return ae.jsx("button",{onClick:o,className:`support-button ${r}`,style:{...u,...h},children:ae.jsxs("span",{style:{display:"inline-block",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:"15px"},children:[ae.jsx("span",{role:"img","aria-label":"heart",children:"❤️"})," Support this project"]})})}function y4({onClose:n}){const[e,r]=ge.useState("de"),s=h=>{h.target.classList.contains("about-modal-overlay")&&(Pn("modal_closed_without_click",{modal:"about"}),u())},o=h=>{r(h)},u=()=>{Pn("about_language_read",{language:e}),n()};return ae.jsx("div",{className:"about-modal-overlay",onClick:s,children:ae.jsxs("div",{className:"about-modal overflow-y-auto max-h-[90vh] flex flex-col relative pb-[180px]",children:[ae.jsxs("div",{className:"w-full flex justify-between items-center px-4 mb-4",children:[ae.jsxs("h2",{className:"text-xl font-bold flex items-center gap-4",children:["Über",ae.jsxs("span",{className:"flex gap-2",children:[ae.jsx("button",{onClick:()=>o("de"),style:{fontSize:"18px",background:"none",border:"none",cursor:"pointer",opacity:e==="de"?1:.4},"aria-label":"Deutsch",children:"🇩🇪"}),ae.jsx("button",{onClick:()=>o("en"),style:{fontSize:"18px",background:"none",border:"none",cursor:"pointer",opacity:e==="en"?1:.4},"aria-label":"English",children:"🇬🇧"})]})]}),ae.jsx("button",{className:"close-button",onClick:u,children:"×"})]}),ae.jsx("div",{className:"max-w-prose w-full px-4 text-center",children:e==="de"?ae.jsxs("p",{className:"text-base",children:[ae.jsx("span",{className:"text-base font-semibold",children:"Diese Seite enthält alle offiziellen Fragen und Antworten für den Einbürgerungstest in Berlin."}),ae.jsx("br",{}),"Ich habe diese Website als Lernhilfe für den Einbürgerungstest „Leben in Deutschland“ erstellt. Die Fragen basieren auf dem offiziellen Fragenkatalog der Bundeszentrale für politische Bildung – inklusive des landesspezifischen Teils für Berlin. Ich übernehme keine Gewähr für Richtigkeit oder Aktualität. Dies ist ein rein privates Nebenprojekt – keine Anmeldung, keine Werbung, keine Verbindung zu staatlichen Stellen.",ae.jsx("br",{}),"Diese Website verwendet Google Analytics, um anonyme Nutzungsstatistiken zu erfassen. Es werden keine persönlichen Daten gespeichert oder weitergegeben."]}):ae.jsxs("p",{className:"text-base",children:[ae.jsx("span",{className:"text-base font-semibold",children:"This site includes all official questions and answers for the Berlin naturalization test."}),ae.jsx("br",{}),ae.jsx("br",{}),"I built this website as a personal study tool for the “Leben in Deutschland” naturalization test. The questions are based on the official public catalog — including the state-specific questions for Berlin. Some states have different regional questions. I can’t guarantee accuracy or updates. This is a private side project — no login, no ads, no government affiliation.",ae.jsx("br",{}),ae.jsx("br",{}),"This site uses Google Analytics to collect anonymous usage data. No personal data is stored or shared."]})}),ae.jsxs("div",{style:{position:"absolute",bottom:"40px",left:"50%",transform:"translateX(-50%)",display:"flex",flexDirection:"column",alignItems:"center",width:"90%",gap:"30px"},children:[ae.jsx("a",{href:"mailto:fragen@fragen-katalog.com",className:"text-base text-center",style:{textDecoration:"underline",color:"var(--color-primary)",fontWeight:500},children:"fragen@fragen-katalog.com"}),ae.jsx(Bb,{fullWidth:!0,variant:"modal",style:{whiteSpace:"nowrap"}})]})]})})}const Ub=ge.createContext({});function v4(n){const e=ge.useRef(null);return e.current===null&&(e.current=n()),e.current}const Vd=typeof window<"u",b4=Vd?ge.useLayoutEffect:ge.useEffect,Rd=ge.createContext(null);function jd(n,e){n.indexOf(e)===-1&&n.push(e)}function Fd(n,e){const r=n.indexOf(e);r>-1&&n.splice(r,1)}const $r=(n,e,r)=>r>e?e:r<n?n:r;let Bd=()=>{};const Gr={},zb=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function qb(n){return typeof n=="object"&&n!==null}const Hb=n=>/^0[^.\s]+$/u.test(n);function Ud(n){let e;return()=>(e===void 0&&(e=n()),e)}const Hn=n=>n,w4=(n,e)=>r=>e(n(r)),hl=(...n)=>n.reduce(w4),fl=(n,e,r)=>{const s=e-n;return s===0?1:(r-n)/s};class zd{constructor(){this.subscriptions=[]}add(e){return jd(this.subscriptions,e),()=>Fd(this.subscriptions,e)}notify(e,r,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,r,s);else for(let u=0;u<o;u++){const h=this.subscriptions[u];h&&h(e,r,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Tr=n=>n*1e3,$n=n=>n/1e3;function $b(n,e){return e?n*(1e3/e):0}const Gb=(n,e,r)=>(((1-3*r+3*e)*n+(3*r-6*e))*n+3*e)*n,E4=1e-7,S4=12;function x4(n,e,r,s,o){let u,h,d=0;do h=e+(r-e)/2,u=Gb(h,s,o)-n,u>0?r=h:e=h;while(Math.abs(u)>E4&&++d<S4);return h}function dl(n,e,r,s){if(n===e&&r===s)return Hn;const o=u=>x4(u,0,1,n,r);return u=>u===0||u===1?u:Gb(o(u),e,s)}const Wb=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,Qb=n=>e=>1-n(1-e),Xb=dl(.33,1.53,.69,.99),qd=Qb(Xb),Kb=Wb(qd),Yb=n=>(n*=2)<1?.5*qd(n):.5*(2-Math.pow(2,-10*(n-1))),Hd=n=>1-Math.sin(Math.acos(n)),Jb=Qb(Hd),Zb=Wb(Hd),T4=dl(.42,0,1,1),k4=dl(0,0,.58,1),ew=dl(.42,0,.58,1),C4=n=>Array.isArray(n)&&typeof n[0]!="number",tw=n=>Array.isArray(n)&&typeof n[0]=="number",_4={linear:Hn,easeIn:T4,easeInOut:ew,easeOut:k4,circIn:Hd,circInOut:Zb,circOut:Jb,backIn:qd,backInOut:Kb,backOut:Xb,anticipate:Yb},I4=n=>typeof n=="string",nw=n=>{if(tw(n)){Bd(n.length===4);const[e,r,s,o]=n;return dl(e,r,s,o)}else if(I4(n))return _4[n];return n},Ic=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function A4(n,e){let r=new Set,s=new Set,o=!1,u=!1;const h=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(v){h.has(v)&&(g.schedule(v),n()),v(d)}const g={schedule:(v,E=!1,T=!1)=>{const I=T&&o?r:s;return E&&h.add(v),I.has(v)||I.add(v),v},cancel:v=>{s.delete(v),h.delete(v)},process:v=>{if(d=v,o){u=!0;return}o=!0,[r,s]=[s,r],r.forEach(m),r.clear(),o=!1,u&&(u=!1,g.process(v))}};return g}const N4=40;function rw(n,e){let r=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>r=!0,h=Ic.reduce((X,te)=>(X[te]=A4(u),X),{}),{setup:d,read:m,resolveKeyframes:g,preUpdate:v,update:E,preRender:T,render:I,postRender:j}=h,q=()=>{const X=Gr.useManualTiming?o.timestamp:performance.now();r=!1,Gr.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min(X-o.timestamp,N4),1)),o.timestamp=X,o.isProcessing=!0,d.process(o),m.process(o),g.process(o),v.process(o),E.process(o),T.process(o),I.process(o),j.process(o),o.isProcessing=!1,r&&e&&(s=!1,n(q))},F=()=>{r=!0,s=!0,o.isProcessing||n(q)};return{schedule:Ic.reduce((X,te)=>{const se=h[te];return X[te]=(pe,le=!1,ye=!1)=>(r||F(),se.schedule(pe,le,ye)),X},{}),cancel:X=>{for(let te=0;te<Ic.length;te++)h[Ic[te]].cancel(X)},state:o,steps:h}}const{schedule:ft,cancel:Fa,state:tn,steps:$d}=rw(typeof requestAnimationFrame<"u"?requestAnimationFrame:Hn,!0);let Ac;function D4(){Ac=void 0}const Cn={now:()=>(Ac===void 0&&Cn.set(tn.isProcessing||Gr.useManualTiming?tn.timestamp:performance.now()),Ac),set:n=>{Ac=n,queueMicrotask(D4)}},aw=n=>e=>typeof e=="string"&&e.startsWith(n),Gd=aw("--"),P4=aw("var(--"),Wd=n=>P4(n)?M4.test(n.split("/*")[0].trim()):!1,M4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Mi={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},pl={...Mi,transform:n=>$r(0,1,n)},Nc={...Mi,default:1},ml=n=>Math.round(n*1e5)/1e5,Qd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function O4(n){return n==null}const L4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Xd=(n,e)=>r=>!!(typeof r=="string"&&L4.test(r)&&r.startsWith(n)||e&&!O4(r)&&Object.prototype.hasOwnProperty.call(r,e)),sw=(n,e,r)=>s=>{if(typeof s!="string")return s;const[o,u,h,d]=s.match(Qd);return{[n]:parseFloat(o),[e]:parseFloat(u),[r]:parseFloat(h),alpha:d!==void 0?parseFloat(d):1}},V4=n=>$r(0,255,n),Kd={...Mi,transform:n=>Math.round(V4(n))},Ps={test:Xd("rgb","red"),parse:sw("red","green","blue"),transform:({red:n,green:e,blue:r,alpha:s=1})=>"rgba("+Kd.transform(n)+", "+Kd.transform(e)+", "+Kd.transform(r)+", "+ml(pl.transform(s))+")"};function R4(n){let e="",r="",s="",o="";return n.length>5?(e=n.substring(1,3),r=n.substring(3,5),s=n.substring(5,7),o=n.substring(7,9)):(e=n.substring(1,2),r=n.substring(2,3),s=n.substring(3,4),o=n.substring(4,5),e+=e,r+=r,s+=s,o+=o),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const Yd={test:Xd("#"),parse:R4,transform:Ps.transform},gl=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Ba=gl("deg"),kr=gl("%"),ke=gl("px"),j4=gl("vh"),F4=gl("vw"),iw={...kr,parse:n=>kr.parse(n)/100,transform:n=>kr.transform(n*100)},Oi={test:Xd("hsl","hue"),parse:sw("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:r,alpha:s=1})=>"hsla("+Math.round(n)+", "+kr.transform(ml(e))+", "+kr.transform(ml(r))+", "+ml(pl.transform(s))+")"},Pt={test:n=>Ps.test(n)||Yd.test(n)||Oi.test(n),parse:n=>Ps.test(n)?Ps.parse(n):Oi.test(n)?Oi.parse(n):Yd.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Ps.transform(n):Oi.transform(n),getAnimatableNone:n=>{const e=Pt.parse(n);return e.alpha=0,Pt.transform(e)}},B4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function U4(n){var e,r;return isNaN(n)&&typeof n=="string"&&(((e=n.match(Qd))==null?void 0:e.length)||0)+(((r=n.match(B4))==null?void 0:r.length)||0)>0}const ow="number",lw="color",z4="var",q4="var(",uw="${}",H4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function yl(n){const e=n.toString(),r=[],s={color:[],number:[],var:[]},o=[];let u=0;const h=e.replace(H4,d=>(Pt.test(d)?(s.color.push(u),o.push(lw),r.push(Pt.parse(d))):d.startsWith(q4)?(s.var.push(u),o.push(z4),r.push(d)):(s.number.push(u),o.push(ow),r.push(parseFloat(d))),++u,uw)).split(uw);return{values:r,split:h,indexes:s,types:o}}function cw(n){return yl(n).values}function hw(n){const{split:e,types:r}=yl(n),s=e.length;return o=>{let u="";for(let h=0;h<s;h++)if(u+=e[h],o[h]!==void 0){const d=r[h];d===ow?u+=ml(o[h]):d===lw?u+=Pt.transform(o[h]):u+=o[h]}return u}}const $4=n=>typeof n=="number"?0:Pt.test(n)?Pt.getAnimatableNone(n):n;function G4(n){const e=cw(n);return hw(n)(e.map($4))}const Ua={test:U4,parse:cw,createTransformer:hw,getAnimatableNone:G4};function Jd(n,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?n+(e-n)*6*r:r<1/2?e:r<2/3?n+(e-n)*(2/3-r)*6:n}function W4({hue:n,saturation:e,lightness:r,alpha:s}){n/=360,e/=100,r/=100;let o=0,u=0,h=0;if(!e)o=u=h=r;else{const d=r<.5?r*(1+e):r+e-r*e,m=2*r-d;o=Jd(m,d,n+1/3),u=Jd(m,d,n),h=Jd(m,d,n-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(h*255),alpha:s}}function Dc(n,e){return r=>r>0?e:n}const yt=(n,e,r)=>n+(e-n)*r,Zd=(n,e,r)=>{const s=n*n,o=r*(e*e-s)+s;return o<0?0:Math.sqrt(o)},Q4=[Yd,Ps,Oi],X4=n=>Q4.find(e=>e.test(n));function fw(n){const e=X4(n);if(!e)return!1;let r=e.parse(n);return e===Oi&&(r=W4(r)),r}const dw=(n,e)=>{const r=fw(n),s=fw(e);if(!r||!s)return Dc(n,e);const o={...r};return u=>(o.red=Zd(r.red,s.red,u),o.green=Zd(r.green,s.green,u),o.blue=Zd(r.blue,s.blue,u),o.alpha=yt(r.alpha,s.alpha,u),Ps.transform(o))},ep=new Set(["none","hidden"]);function K4(n,e){return ep.has(n)?r=>r<=0?n:e:r=>r>=1?e:n}function Y4(n,e){return r=>yt(n,e,r)}function tp(n){return typeof n=="number"?Y4:typeof n=="string"?Wd(n)?Dc:Pt.test(n)?dw:eN:Array.isArray(n)?pw:typeof n=="object"?Pt.test(n)?dw:J4:Dc}function pw(n,e){const r=[...n],s=r.length,o=n.map((u,h)=>tp(u)(u,e[h]));return u=>{for(let h=0;h<s;h++)r[h]=o[h](u);return r}}function J4(n,e){const r={...n,...e},s={};for(const o in r)n[o]!==void 0&&e[o]!==void 0&&(s[o]=tp(n[o])(n[o],e[o]));return o=>{for(const u in s)r[u]=s[u](o);return r}}function Z4(n,e){const r=[],s={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const u=e.types[o],h=n.indexes[u][s[u]],d=n.values[h]??0;r[o]=d,s[u]++}return r}const eN=(n,e)=>{const r=Ua.createTransformer(e),s=yl(n),o=yl(e);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?ep.has(n)&&!o.values.length||ep.has(e)&&!s.values.length?K4(n,e):hl(pw(Z4(s,o),o.values),r):Dc(n,e)};function mw(n,e,r){return typeof n=="number"&&typeof e=="number"&&typeof r=="number"?yt(n,e,r):tp(n)(n,e)}const tN=n=>{const e=({timestamp:r})=>n(r);return{start:(r=!0)=>ft.update(e,r),stop:()=>Fa(e),now:()=>tn.isProcessing?tn.timestamp:Cn.now()}},gw=(n,e,r=10)=>{let s="";const o=Math.max(Math.round(e/r),2);for(let u=0;u<o;u++)s+=Math.round(n(u/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Pc=2e4;function np(n){let e=0;const r=50;let s=n.next(e);for(;!s.done&&e<Pc;)e+=r,s=n.next(e);return e>=Pc?1/0:e}function nN(n,e=100,r){const s=r({...n,keyframes:[0,e]}),o=Math.min(np(s),Pc);return{type:"keyframes",ease:u=>s.next(o*u).value/e,duration:$n(o)}}const rN=5;function yw(n,e,r){const s=Math.max(e-rN,0);return $b(r-n(s),e-s)}const wt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},rp=.001;function aN({duration:n=wt.duration,bounce:e=wt.bounce,velocity:r=wt.velocity,mass:s=wt.mass}){let o,u,h=1-e;h=$r(wt.minDamping,wt.maxDamping,h),n=$r(wt.minDuration,wt.maxDuration,$n(n)),h<1?(o=g=>{const v=g*h,E=v*n,T=v-r,I=ap(g,h),j=Math.exp(-E);return rp-T/I*j},u=g=>{const v=g*h*n,E=v*r+r,T=Math.pow(h,2)*Math.pow(g,2)*n,I=Math.exp(-v),j=ap(Math.pow(g,2),h);return(-o(g)+rp>0?-1:1)*((E-T)*I)/j}):(o=g=>{const v=Math.exp(-g*n),E=(g-r)*n+1;return-rp+v*E},u=g=>{const v=Math.exp(-g*n),E=(r-g)*(n*n);return v*E});const d=5/n,m=iN(o,u,d);if(n=Tr(n),isNaN(m))return{stiffness:wt.stiffness,damping:wt.damping,duration:n};{const g=Math.pow(m,2)*s;return{stiffness:g,damping:h*2*Math.sqrt(s*g),duration:n}}}const sN=12;function iN(n,e,r){let s=r;for(let o=1;o<sN;o++)s=s-n(s)/e(s);return s}function ap(n,e){return n*Math.sqrt(1-e*e)}const oN=["duration","bounce"],lN=["stiffness","damping","mass"];function vw(n,e){return e.some(r=>n[r]!==void 0)}function uN(n){let e={velocity:wt.velocity,stiffness:wt.stiffness,damping:wt.damping,mass:wt.mass,isResolvedFromDuration:!1,...n};if(!vw(n,lN)&&vw(n,oN))if(n.visualDuration){const r=n.visualDuration,s=2*Math.PI/(r*1.2),o=s*s,u=2*$r(.05,1,1-(n.bounce||0))*Math.sqrt(o);e={...e,mass:wt.mass,stiffness:o,damping:u}}else{const r=aN(n);e={...e,...r,mass:wt.mass},e.isResolvedFromDuration=!0}return e}function Mc(n=wt.visualDuration,e=wt.bounce){const r=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:s,restDelta:o}=r;const u=r.keyframes[0],h=r.keyframes[r.keyframes.length-1],d={done:!1,value:u},{stiffness:m,damping:g,mass:v,duration:E,velocity:T,isResolvedFromDuration:I}=uN({...r,velocity:-$n(r.velocity||0)}),j=T||0,q=g/(2*Math.sqrt(m*v)),F=h-u,X=$n(Math.sqrt(m/v)),te=Math.abs(F)<5;s||(s=te?wt.restSpeed.granular:wt.restSpeed.default),o||(o=te?wt.restDelta.granular:wt.restDelta.default);let se;if(q<1){const le=ap(X,q);se=ye=>{const M=Math.exp(-q*X*ye);return h-M*((j+q*X*F)/le*Math.sin(le*ye)+F*Math.cos(le*ye))}}else if(q===1)se=le=>h-Math.exp(-X*le)*(F+(j+X*F)*le);else{const le=X*Math.sqrt(q*q-1);se=ye=>{const M=Math.exp(-q*X*ye),_=Math.min(le*ye,300);return h-M*((j+q*X*F)*Math.sinh(_)+le*F*Math.cosh(_))/le}}const pe={calculatedDuration:I&&E||null,next:le=>{const ye=se(le);if(I)d.done=le>=E;else{let M=le===0?j:0;q<1&&(M=le===0?Tr(j):yw(se,le,ye));const _=Math.abs(M)<=s,A=Math.abs(h-ye)<=o;d.done=_&&A}return d.value=d.done?h:ye,d},toString:()=>{const le=Math.min(np(pe),Pc),ye=gw(M=>pe.next(le*M).value,le,30);return le+"ms "+ye},toTransition:()=>{}};return pe}Mc.applyToOptions=n=>{const e=nN(n,100,Mc);return n.ease=e.ease,n.duration=Tr(e.duration),n.type="keyframes",n};function sp({keyframes:n,velocity:e=0,power:r=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:h,min:d,max:m,restDelta:g=.5,restSpeed:v}){const E=n[0],T={done:!1,value:E},I=_=>d!==void 0&&_<d||m!==void 0&&_>m,j=_=>d===void 0?m:m===void 0||Math.abs(d-_)<Math.abs(m-_)?d:m;let q=r*e;const F=E+q,X=h===void 0?F:h(F);X!==F&&(q=X-E);const te=_=>-q*Math.exp(-_/s),se=_=>X+te(_),pe=_=>{const A=te(_),P=se(_);T.done=Math.abs(A)<=g,T.value=T.done?X:P};let le,ye;const M=_=>{I(T.value)&&(le=_,ye=Mc({keyframes:[T.value,j(T.value)],velocity:yw(se,_,T.value),damping:o,stiffness:u,restDelta:g,restSpeed:v}))};return M(0),{calculatedDuration:null,next:_=>{let A=!1;return!ye&&le===void 0&&(A=!0,pe(_),M(_)),le!==void 0&&_>=le?ye.next(_-le):(!A&&pe(_),T)}}}function cN(n,e,r){const s=[],o=r||Gr.mix||mw,u=n.length-1;for(let h=0;h<u;h++){let d=o(n[h],n[h+1]);if(e){const m=Array.isArray(e)?e[h]||Hn:e;d=hl(m,d)}s.push(d)}return s}function hN(n,e,{clamp:r=!0,ease:s,mixer:o}={}){const u=n.length;if(Bd(u===e.length),u===1)return()=>e[0];if(u===2&&e[0]===e[1])return()=>e[1];const h=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),e=[...e].reverse());const d=cN(e,s,o),m=d.length,g=v=>{if(h&&v<n[0])return e[0];let E=0;if(m>1)for(;E<n.length-2&&!(v<n[E+1]);E++);const T=fl(n[E],n[E+1],v);return d[E](T)};return r?v=>g($r(n[0],n[u-1],v)):g}function fN(n,e){const r=n[n.length-1];for(let s=1;s<=e;s++){const o=fl(0,e,s);n.push(yt(r,1,o))}}function dN(n){const e=[0];return fN(e,n.length-1),e}function pN(n,e){return n.map(r=>r*e)}function mN(n,e){return n.map(()=>e||ew).splice(0,n.length-1)}function vl({duration:n=300,keyframes:e,times:r,ease:s="easeInOut"}){const o=C4(s)?s.map(nw):nw(s),u={done:!1,value:e[0]},h=pN(r&&r.length===e.length?r:dN(e),n),d=hN(h,e,{ease:Array.isArray(o)?o:mN(e,o)});return{calculatedDuration:n,next:m=>(u.value=d(m),u.done=m>=n,u)}}const gN=n=>n!==null;function ip(n,{repeat:e,repeatType:r="loop"},s,o=1){const u=n.filter(gN),h=o<0||e&&r!=="loop"&&e%2===1?0:u.length-1;return!h||s===void 0?u[h]:s}const yN={decay:sp,inertia:sp,tween:vl,keyframes:vl,spring:Mc};function bw(n){typeof n.type=="string"&&(n.type=yN[n.type])}class op{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const vN=n=>n/100;class lp extends op{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:o}=this.options;o&&o.updatedAt!==Cn.now()&&this.tick(Cn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;bw(e);const{type:r=vl,repeat:s=0,repeatDelay:o=0,repeatType:u,velocity:h=0}=e;let{keyframes:d}=e;const m=r||vl;m!==vl&&typeof d[0]!="number"&&(this.mixKeyframes=hl(vN,mw(d[0],d[1])),d=[0,100]);const g=m({...e,keyframes:d});u==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...d].reverse(),velocity:-h})),g.calculatedDuration===null&&(g.calculatedDuration=np(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=g}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:s,totalDuration:o,mixKeyframes:u,mirroredGenerator:h,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:g=0,keyframes:v,repeat:E,repeatType:T,repeatDelay:I,type:j,onUpdate:q,finalKeyframe:F}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const X=this.currentTime-g*(this.playbackSpeed>=0?1:-1),te=this.playbackSpeed>=0?X<0:X>o;this.currentTime=Math.max(X,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let se=this.currentTime,pe=s;if(E){const _=Math.min(this.currentTime,o)/d;let A=Math.floor(_),P=_%1;!P&&_>=1&&(P=1),P===1&&A--,A=Math.min(A,E+1),A%2&&(T==="reverse"?(P=1-P,I&&(P-=I/d)):T==="mirror"&&(pe=h)),se=$r(0,1,P)*d}const le=te?{done:!1,value:v[0]}:pe.next(se);u&&(le.value=u(le.value));let{done:ye}=le;!te&&m!==null&&(ye=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ye);return M&&j!==sp&&(le.value=ip(v,this.options,F,this.speed)),q&&q(le.value),M&&this.finish(),le}then(e,r){return this.finished.then(e,r)}get duration(){return $n(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+$n(e)}get time(){return $n(this.currentTime)}set time(e){var r;e=Tr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Cn.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=$n(this.currentTime))}play(){var e,r;if(this.isStopped)return;const{driver:s=tN,startTime:o}=this.options;this.driver||(this.driver=s(h=>this.tick(h))),(r=(e=this.options).onPlay)==null||r.call(e);const u=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=u):this.holdTime!==null?this.startTime=u-this.holdTime:this.startTime||(this.startTime=o??u),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Cn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(e=this.options).onComplete)==null||r.call(e)}cancel(){var e,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(e=this.options).onCancel)==null||r.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),e.observe(this)}}function bN(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Ms=n=>n*180/Math.PI,up=n=>{const e=Ms(Math.atan2(n[1],n[0]));return cp(e)},wN={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:up,rotateZ:up,skewX:n=>Ms(Math.atan(n[1])),skewY:n=>Ms(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},cp=n=>(n=n%360,n<0&&(n+=360),n),ww=up,Ew=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),Sw=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),EN={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ew,scaleY:Sw,scale:n=>(Ew(n)+Sw(n))/2,rotateX:n=>cp(Ms(Math.atan2(n[6],n[5]))),rotateY:n=>cp(Ms(Math.atan2(-n[2],n[0]))),rotateZ:ww,rotate:ww,skewX:n=>Ms(Math.atan(n[4])),skewY:n=>Ms(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function hp(n){return n.includes("scale")?1:0}function fp(n,e){if(!n||n==="none")return hp(e);const r=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(r)s=EN,o=r;else{const d=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=wN,o=d}if(!o)return hp(e);const u=s[e],h=o[1].split(",").map(xN);return typeof u=="function"?u(h):h[u]}const SN=(n,e)=>{const{transform:r="none"}=getComputedStyle(n);return fp(r,e)};function xN(n){return parseFloat(n.trim())}const Li=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Vi=new Set(Li),xw=n=>n===Mi||n===ke,TN=new Set(["x","y","z"]),kN=Li.filter(n=>!TN.has(n));function CN(n){const e=[];return kN.forEach(r=>{const s=n.getValue(r);s!==void 0&&(e.push([r,s.get()]),s.set(r.startsWith("scale")?1:0))}),e}const Os={width:({x:n},{paddingLeft:e="0",paddingRight:r="0"})=>n.max-n.min-parseFloat(e)-parseFloat(r),height:({y:n},{paddingTop:e="0",paddingBottom:r="0"})=>n.max-n.min-parseFloat(e)-parseFloat(r),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>fp(e,"x"),y:(n,{transform:e})=>fp(e,"y")};Os.translateX=Os.x,Os.translateY=Os.y;const Ls=new Set;let dp=!1,pp=!1,mp=!1;function Tw(){if(pp){const n=Array.from(Ls).filter(s=>s.needsMeasurement),e=new Set(n.map(s=>s.element)),r=new Map;e.forEach(s=>{const o=CN(s);o.length&&(r.set(s,o),s.render())}),n.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const o=r.get(s);o&&o.forEach(([u,h])=>{var d;(d=s.getValue(u))==null||d.set(h)})}),n.forEach(s=>s.measureEndState()),n.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}pp=!1,dp=!1,Ls.forEach(n=>n.complete(mp)),Ls.clear()}function kw(){Ls.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(pp=!0)})}function _N(){mp=!0,kw(),Tw(),mp=!1}class gp{constructor(e,r,s,o,u,h=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=s,this.motionValue=o,this.element=u,this.isAsync=h}scheduleResolve(){this.state="scheduled",this.isAsync?(Ls.add(this),dp||(dp=!0,ft.read(kw),ft.resolveKeyframes(Tw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:s,motionValue:o}=this;if(e[0]===null){const u=o==null?void 0:o.get(),h=e[e.length-1];if(u!==void 0)e[0]=u;else if(s&&r){const d=s.readValue(r,h);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=h),o&&u===void 0&&o.set(e[0])}bN(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ls.delete(this)}cancel(){this.state==="scheduled"&&(Ls.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const IN=n=>n.startsWith("--");function AN(n,e,r){IN(e)?n.style.setProperty(e,r):n.style[e]=r}const NN=Ud(()=>window.ScrollTimeline!==void 0),DN={};function PN(n,e){const r=Ud(n);return()=>DN[e]??r()}const Cw=PN(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),bl=([n,e,r,s])=>`cubic-bezier(${n}, ${e}, ${r}, ${s})`,_w={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:bl([0,.65,.55,1]),circOut:bl([.55,0,1,.45]),backIn:bl([.31,.01,.66,-.59]),backOut:bl([.33,1.53,.69,.99])};function Iw(n,e){if(n)return typeof n=="function"?Cw()?gw(n,e):"ease-out":tw(n)?bl(n):Array.isArray(n)?n.map(r=>Iw(r,e)||_w.easeOut):_w[n]}function MN(n,e,r,{delay:s=0,duration:o=300,repeat:u=0,repeatType:h="loop",ease:d="easeOut",times:m}={},g=void 0){const v={[e]:r};m&&(v.offset=m);const E=Iw(d,o);Array.isArray(E)&&(v.easing=E);const T={delay:s,duration:o,easing:Array.isArray(E)?"linear":E,fill:"both",iterations:u+1,direction:h==="reverse"?"alternate":"normal"};return g&&(T.pseudoElement=g),n.animate(v,T)}function Aw(n){return typeof n=="function"&&"applyToOptions"in n}function ON({type:n,...e}){return Aw(n)&&Cw()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class LN extends op{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:s,keyframes:o,pseudoElement:u,allowFlatten:h=!1,finalKeyframe:d,onComplete:m}=e;this.isPseudoElement=!!u,this.allowFlatten=h,this.options=e,Bd(typeof e.type!="string");const g=ON(e);this.animation=MN(r,s,o,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const v=ip(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(v):AN(r,s,v),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var e,r;const s=((r=(e=this.animation.effect)==null?void 0:e.getComputedTiming)==null?void 0:r.call(e).duration)||0;return $n(Number(s))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+$n(e)}get time(){return $n(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Tr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&NN()?(this.animation.timeline=e,Hn):r(this)}}const Nw={anticipate:Yb,backInOut:Kb,circInOut:Zb};function VN(n){return n in Nw}function RN(n){typeof n.ease=="string"&&VN(n.ease)&&(n.ease=Nw[n.ease])}const Dw=10;class jN extends LN{constructor(e){RN(e),bw(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:s,onComplete:o,element:u,...h}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const d=new lp({...h,autoplay:!1}),m=Tr(this.finishedTime??this.time);r.setWithVelocity(d.sample(m-Dw).value,d.sample(m).value,Dw),d.stop()}}const Pw=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Ua.test(n)||n==="0")&&!n.startsWith("url("));function FN(n){const e=n[0];if(n.length===1)return!0;for(let r=0;r<n.length;r++)if(n[r]!==e)return!0}function BN(n,e,r,s){const o=n[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const u=n[n.length-1],h=Pw(o,e),d=Pw(u,e);return!h||!d?!1:FN(n)||(r==="spring"||Aw(r))&&s}function yp(n){n.duration=0,n.type="keyframes"}const UN=new Set(["opacity","clipPath","filter","transform"]),zN=Ud(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function qN(n){var e;const{motionValue:r,name:s,repeatDelay:o,repeatType:u,damping:h,type:d}=n;if(!(((e=r==null?void 0:r.owner)==null?void 0:e.current)instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=r.owner.getProps();return zN()&&s&&UN.has(s)&&(s!=="transform"||!g)&&!m&&!o&&u!=="mirror"&&h!==0&&d!=="inertia"}const HN=40;class $N extends op{constructor({autoplay:e=!0,delay:r=0,type:s="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:h="loop",keyframes:d,name:m,motionValue:g,element:v,...E}){var T;super(),this.stop=()=>{var q,F;this._animation&&(this._animation.stop(),(q=this.stopTimeline)==null||q.call(this)),(F=this.keyframeResolver)==null||F.cancel()},this.createdAt=Cn.now();const I={autoplay:e,delay:r,type:s,repeat:o,repeatDelay:u,repeatType:h,name:m,motionValue:g,element:v,...E},j=(v==null?void 0:v.KeyframeResolver)||gp;this.keyframeResolver=new j(d,(q,F,X)=>this.onKeyframesResolved(q,F,I,!X),m,g,v),(T=this.keyframeResolver)==null||T.scheduleResolve()}onKeyframesResolved(e,r,s,o){this.keyframeResolver=void 0;const{name:u,type:h,velocity:d,delay:m,isHandoff:g,onUpdate:v}=s;this.resolvedAt=Cn.now(),BN(e,u,h,d)||((Gr.instantAnimations||!m)&&(v==null||v(ip(e,s,r))),e[0]=e[e.length-1],yp(s),s.repeat=0);const E={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>HN?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...s,keyframes:e},T=!g&&qN(E)?new jN({...E,element:E.motionValue.owner.current}):new lp(E);T.finished.then(()=>this.notifyFinished()).catch(Hn),this.pendingTimeline&&(this.stopTimeline=T.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=T}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),_N()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const GN=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function WN(n){const e=GN.exec(n);if(!e)return[,];const[,r,s,o]=e;return[`--${r??s}`,o]}function Mw(n,e,r=1){const[s,o]=WN(n);if(!s)return;const u=window.getComputedStyle(e).getPropertyValue(s);if(u){const h=u.trim();return zb(h)?parseFloat(h):h}return Wd(o)?Mw(o,e,r+1):o}function vp(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const Ow=new Set(["width","height","top","left","right","bottom",...Li]),QN={test:n=>n==="auto",parse:n=>n},Lw=n=>e=>e.test(n),Vw=[Mi,ke,kr,Ba,F4,j4,QN],Rw=n=>Vw.find(Lw(n));function XN(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||Hb(n):!0}const KN=new Set(["brightness","contrast","saturate","opacity"]);function YN(n){const[e,r]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[s]=r.match(Qd)||[];if(!s)return n;const o=r.replace(s,"");let u=KN.has(e)?1:0;return s!==r&&(u*=100),e+"("+u+o+")"}const JN=/\b([a-z-]*)\(.*?\)/gu,bp={...Ua,getAnimatableNone:n=>{const e=n.match(JN);return e?e.map(YN).join(" "):n}},jw={...Mi,transform:Math.round},ZN={rotate:Ba,rotateX:Ba,rotateY:Ba,rotateZ:Ba,scale:Nc,scaleX:Nc,scaleY:Nc,scaleZ:Nc,skew:Ba,skewX:Ba,skewY:Ba,distance:ke,translateX:ke,translateY:ke,translateZ:ke,x:ke,y:ke,z:ke,perspective:ke,transformPerspective:ke,opacity:pl,originX:iw,originY:iw,originZ:ke},wp={borderWidth:ke,borderTopWidth:ke,borderRightWidth:ke,borderBottomWidth:ke,borderLeftWidth:ke,borderRadius:ke,radius:ke,borderTopLeftRadius:ke,borderTopRightRadius:ke,borderBottomRightRadius:ke,borderBottomLeftRadius:ke,width:ke,maxWidth:ke,height:ke,maxHeight:ke,top:ke,right:ke,bottom:ke,left:ke,padding:ke,paddingTop:ke,paddingRight:ke,paddingBottom:ke,paddingLeft:ke,margin:ke,marginTop:ke,marginRight:ke,marginBottom:ke,marginLeft:ke,backgroundPositionX:ke,backgroundPositionY:ke,...ZN,zIndex:jw,fillOpacity:pl,strokeOpacity:pl,numOctaves:jw},eD={...wp,color:Pt,backgroundColor:Pt,outlineColor:Pt,fill:Pt,stroke:Pt,borderColor:Pt,borderTopColor:Pt,borderRightColor:Pt,borderBottomColor:Pt,borderLeftColor:Pt,filter:bp,WebkitFilter:bp},Fw=n=>eD[n];function Bw(n,e){let r=Fw(n);return r!==bp&&(r=Ua),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const tD=new Set(["auto","none","0"]);function nD(n,e,r){let s=0,o;for(;s<n.length&&!o;){const u=n[s];typeof u=="string"&&!tD.has(u)&&yl(u).values.length&&(o=n[s]),s++}if(o&&r)for(const u of e)n[u]=Bw(r,o)}class rD extends gp{constructor(e,r,s,o,u){super(e,r,s,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:s}=this;if(!r||!r.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let g=e[m];if(typeof g=="string"&&(g=g.trim(),Wd(g))){const v=Mw(g,r.current);v!==void 0&&(e[m]=v),m===e.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!Ow.has(s)||e.length!==2)return;const[o,u]=e,h=Rw(o),d=Rw(u);if(h!==d)if(xw(h)&&xw(d))for(let m=0;m<e.length;m++){const g=e[m];typeof g=="string"&&(e[m]=parseFloat(g))}else Os[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,s=[];for(let o=0;o<e.length;o++)(e[o]===null||XN(e[o]))&&s.push(o);s.length&&nD(e,s,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Os[s](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const o=r[r.length-1];o!==void 0&&e.getValue(s,o).jump(o,!1)}measureEndState(){var e;const{element:r,name:s,unresolvedKeyframes:o}=this;if(!r||!r.current)return;const u=r.getValue(s);u&&u.jump(this.measuredOrigin,!1);const h=o.length-1,d=o[h];o[h]=Os[s](r.measureViewportBox(),window.getComputedStyle(r.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),(e=this.removedTransforms)!=null&&e.length&&this.removedTransforms.forEach(([m,g])=>{r.getValue(m).set(g)}),this.resolveNoneKeyframes()}}function aD(n,e,r){if(n instanceof EventTarget)return[n];if(typeof n=="string"){const s=document.querySelectorAll(n);return s?Array.from(s):[]}return Array.from(n)}const Uw=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function sD(n){return qb(n)&&"offsetHeight"in n}const zw=30,iD=n=>!isNaN(parseFloat(n));class oD{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var o;const u=Cn.now();if(this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const h of this.dependents)h.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Cn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=iD(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new zd);const s=this.events[e].add(r);return e==="change"?()=>{s(),ft.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,s){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Cn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>zw)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,zw);return $b(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ri(n,e){return new oD(n,e)}const{schedule:Ep}=rw(queueMicrotask,!1),or={x:!1,y:!1};function qw(){return or.x||or.y}function lD(n){return n==="x"||n==="y"?or[n]?null:(or[n]=!0,()=>{or[n]=!1}):or.x||or.y?null:(or.x=or.y=!0,()=>{or.x=or.y=!1})}function Hw(n,e){const r=aD(n),s=new AbortController,o={passive:!0,...e,signal:s.signal};return[r,o,()=>s.abort()]}function $w(n){return!(n.pointerType==="touch"||qw())}function uD(n,e,r={}){const[s,o,u]=Hw(n,r),h=d=>{if(!$w(d))return;const{target:m}=d,g=e(m,d);if(typeof g!="function"||!m)return;const v=E=>{$w(E)&&(g(E),m.removeEventListener("pointerleave",v))};m.addEventListener("pointerleave",v,o)};return s.forEach(d=>{d.addEventListener("pointerenter",h,o)}),u}const Gw=(n,e)=>e?n===e?!0:Gw(n,e.parentElement):!1,Sp=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,cD=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function hD(n){return cD.has(n.tagName)||n.tabIndex!==-1}const Oc=new WeakSet;function Ww(n){return e=>{e.key==="Enter"&&n(e)}}function xp(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const fD=(n,e)=>{const r=n.currentTarget;if(!r)return;const s=Ww(()=>{if(Oc.has(r))return;xp(r,"down");const o=Ww(()=>{xp(r,"up")}),u=()=>xp(r,"cancel");r.addEventListener("keyup",o,e),r.addEventListener("blur",u,e)});r.addEventListener("keydown",s,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",s),e)};function Qw(n){return Sp(n)&&!qw()}function dD(n,e,r={}){const[s,o,u]=Hw(n,r),h=d=>{const m=d.currentTarget;if(!Qw(d))return;Oc.add(m);const g=e(m,d),v=(I,j)=>{window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",T),Oc.has(m)&&Oc.delete(m),Qw(I)&&typeof g=="function"&&g(I,{success:j})},E=I=>{v(I,m===window||m===document||r.useGlobalTarget||Gw(m,I.target))},T=I=>{v(I,!1)};window.addEventListener("pointerup",E,o),window.addEventListener("pointercancel",T,o)};return s.forEach(d=>{(r.useGlobalTarget?window:d).addEventListener("pointerdown",h,o),sD(d)&&(d.addEventListener("focus",m=>fD(m,o)),!hD(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),u}function Xw(n){return qb(n)&&"ownerSVGElement"in n}function pD(n){return Xw(n)&&n.tagName==="svg"}const pn=n=>!!(n&&n.getVelocity),mD=[...Vw,Pt,Ua],gD=n=>mD.find(Lw(n)),Kw=ge.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function yD(n=!0){const e=ge.useContext(Rd);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:s,register:o}=e,u=ge.useId();ge.useEffect(()=>{if(n)return o(u)},[n]);const h=ge.useCallback(()=>n&&s&&s(u),[u,s,n]);return!r&&s?[!1,h]:[!0]}const Yw=ge.createContext({strict:!1}),Jw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ji={};for(const n in Jw)ji[n]={isEnabled:e=>Jw[n].some(r=>!!e[r])};function vD(n){for(const e in n)ji[e]={...ji[e],...n[e]}}const bD=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Lc(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||bD.has(n)}let Zw=n=>!Lc(n);function wD(n){typeof n=="function"&&(Zw=e=>e.startsWith("on")?!Lc(e):n(e))}try{wD(require("@emotion/is-prop-valid").default)}catch{}function ED(n,e,r){const s={};for(const o in n)o==="values"&&typeof n.values=="object"||(Zw(o)||r===!0&&Lc(o)||!e&&!Lc(o)||n.draggable&&o.startsWith("onDrag"))&&(s[o]=n[o]);return s}const Vc=ge.createContext({});function Rc(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function wl(n){return typeof n=="string"||Array.isArray(n)}const Tp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],kp=["initial",...Tp];function jc(n){return Rc(n.animate)||kp.some(e=>wl(n[e]))}function e1(n){return!!(jc(n)||n.variants)}function SD(n,e){if(jc(n)){const{initial:r,animate:s}=n;return{initial:r===!1||wl(r)?r:void 0,animate:wl(s)?s:void 0}}return n.inherit!==!1?e:{}}function xD(n){const{initial:e,animate:r}=SD(n,ge.useContext(Vc));return ge.useMemo(()=>({initial:e,animate:r}),[t1(e),t1(r)])}function t1(n){return Array.isArray(n)?n.join(" "):n}const El={};function TD(n){for(const e in n)El[e]=n[e],Gd(e)&&(El[e].isCSSVariable=!0)}function n1(n,{layout:e,layoutId:r}){return Vi.has(n)||n.startsWith("origin")||(e||r!==void 0)&&(!!El[n]||n==="opacity")}const kD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},CD=Li.length;function _D(n,e,r){let s="",o=!0;for(let u=0;u<CD;u++){const h=Li[u],d=n[h];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(h.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||r){const g=Uw(d,wp[h]);if(!m){o=!1;const v=kD[h]||h;s+=`${v}(${g}) `}r&&(e[h]=g)}}return s=s.trim(),r?s=r(e,o?"":s):o&&(s="none"),s}function Cp(n,e,r){const{style:s,vars:o,transformOrigin:u}=n;let h=!1,d=!1;for(const m in e){const g=e[m];if(Vi.has(m)){h=!0;continue}else if(Gd(m)){o[m]=g;continue}else{const v=Uw(g,wp[m]);m.startsWith("origin")?(d=!0,u[m]=v):s[m]=v}}if(e.transform||(h||r?s.transform=_D(e,n.transform,r):s.transform&&(s.transform="none")),d){const{originX:m="50%",originY:g="50%",originZ:v=0}=u;s.transformOrigin=`${m} ${g} ${v}`}}const _p=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function r1(n,e,r){for(const s in e)!pn(e[s])&&!n1(s,r)&&(n[s]=e[s])}function ID({transformTemplate:n},e){return ge.useMemo(()=>{const r=_p();return Cp(r,e,n),Object.assign({},r.vars,r.style)},[e])}function AD(n,e){const r=n.style||{},s={};return r1(s,r,n),Object.assign(s,ID(n,e)),s}function ND(n,e){const r={},s=AD(n,e);return n.drag&&n.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(r.tabIndex=0),r.style=s,r}const DD={offset:"stroke-dashoffset",array:"stroke-dasharray"},PD={offset:"strokeDashoffset",array:"strokeDasharray"};function MD(n,e,r=1,s=0,o=!0){n.pathLength=1;const u=o?DD:PD;n[u.offset]=ke.transform(-s);const h=ke.transform(e),d=ke.transform(r);n[u.array]=`${h} ${d}`}function a1(n,{attrX:e,attrY:r,attrScale:s,pathLength:o,pathSpacing:u=1,pathOffset:h=0,...d},m,g,v){if(Cp(n,d,g),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:E,style:T}=n;E.transform&&(T.transform=E.transform,delete E.transform),(T.transform||E.transformOrigin)&&(T.transformOrigin=E.transformOrigin??"50% 50%",delete E.transformOrigin),T.transform&&(T.transformBox=(v==null?void 0:v.transformBox)??"fill-box",delete E.transformBox),e!==void 0&&(E.x=e),r!==void 0&&(E.y=r),s!==void 0&&(E.scale=s),o!==void 0&&MD(E,o,u,h,!1)}const s1=()=>({..._p(),attrs:{}}),i1=n=>typeof n=="string"&&n.toLowerCase()==="svg";function OD(n,e,r,s){const o=ge.useMemo(()=>{const u=s1();return a1(u,e,i1(s),n.transformTemplate,n.style),{...u.attrs,style:{...u.style}}},[e]);if(n.style){const u={};r1(u,n.style,n),o.style={...u,...o.style}}return o}const LD=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ip(n){return typeof n!="string"||n.includes("-")?!1:!!(LD.indexOf(n)>-1||/[A-Z]/u.test(n))}function VD(n,e,r,{latestValues:s},o,u=!1){const h=(Ip(n)?OD:ND)(e,s,o,n),d=ED(e,typeof n=="string",u),m=n!==ge.Fragment?{...d,...h,ref:r}:{},{children:g}=e,v=ge.useMemo(()=>pn(g)?g.get():g,[g]);return ge.createElement(n,{...m,children:v})}function o1(n){const e=[{},{}];return n==null||n.values.forEach((r,s)=>{e[0][s]=r.get(),e[1][s]=r.getVelocity()}),e}function Ap(n,e,r,s){if(typeof e=="function"){const[o,u]=o1(s);e=e(r!==void 0?r:n.custom,o,u)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[o,u]=o1(s);e=e(r!==void 0?r:n.custom,o,u)}return e}function Fc(n){return pn(n)?n.get():n}function RD({scrapeMotionValuesFromProps:n,createRenderState:e},r,s,o){return{latestValues:jD(r,s,o,n),renderState:e()}}function jD(n,e,r,s){const o={},u=s(n,{});for(const T in u)o[T]=Fc(u[T]);let{initial:h,animate:d}=n;const m=jc(n),g=e1(n);e&&g&&!m&&n.inherit!==!1&&(h===void 0&&(h=e.initial),d===void 0&&(d=e.animate));let v=r?r.initial===!1:!1;v=v||h===!1;const E=v?d:h;if(E&&typeof E!="boolean"&&!Rc(E)){const T=Array.isArray(E)?E:[E];for(let I=0;I<T.length;I++){const j=Ap(n,T[I]);if(j){const{transitionEnd:q,transition:F,...X}=j;for(const te in X){let se=X[te];if(Array.isArray(se)){const pe=v?se.length-1:0;se=se[pe]}se!==null&&(o[te]=se)}for(const te in q)o[te]=q[te]}}}return o}const l1=n=>(e,r)=>{const s=ge.useContext(Vc),o=ge.useContext(Rd),u=()=>RD(n,e,s,o);return r?u():v4(u)};function Np(n,e,r){var s;const{style:o}=n,u={};for(const h in o)(pn(o[h])||e.style&&pn(e.style[h])||n1(h,n)||((s=r==null?void 0:r.getValue(h))==null?void 0:s.liveStyle)!==void 0)&&(u[h]=o[h]);return u}const FD=l1({scrapeMotionValuesFromProps:Np,createRenderState:_p});function u1(n,e,r){const s=Np(n,e,r);for(const o in n)if(pn(n[o])||pn(e[o])){const u=Li.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[u]=n[o]}return s}const BD=l1({scrapeMotionValuesFromProps:u1,createRenderState:s1}),UD=Symbol.for("motionComponentSymbol");function Fi(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function zD(n,e,r){return ge.useCallback(s=>{s&&n.onMount&&n.onMount(s),e&&(s?e.mount(s):e.unmount()),r&&(typeof r=="function"?r(s):Fi(r)&&(r.current=s))},[e])}const Dp=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),qD="framerAppearId",c1="data-"+Dp(qD),h1=ge.createContext({});function HD(n,e,r,s,o){var u,h;const{visualElement:d}=ge.useContext(Vc),m=ge.useContext(Yw),g=ge.useContext(Rd),v=ge.useContext(Kw).reducedMotion,E=ge.useRef(null);s=s||m.renderer,!E.current&&s&&(E.current=s(n,{visualState:e,parent:d,props:r,presenceContext:g,blockInitialAnimation:g?g.initial===!1:!1,reducedMotionConfig:v}));const T=E.current,I=ge.useContext(h1);T&&!T.projection&&o&&(T.type==="html"||T.type==="svg")&&$D(E.current,r,o,I);const j=ge.useRef(!1);ge.useInsertionEffect(()=>{T&&j.current&&T.update(r,g)});const q=r[c1],F=ge.useRef(!!q&&!((u=window.MotionHandoffIsComplete)!=null&&u.call(window,q))&&((h=window.MotionHasOptimisedAnimation)==null?void 0:h.call(window,q)));return b4(()=>{T&&(j.current=!0,window.MotionIsMounted=!0,T.updateFeatures(),T.scheduleRenderMicrotask(),F.current&&T.animationState&&T.animationState.animateChanges())}),ge.useEffect(()=>{T&&(!F.current&&T.animationState&&T.animationState.animateChanges(),F.current&&(queueMicrotask(()=>{var X;(X=window.MotionHandoffMarkAsComplete)==null||X.call(window,q)}),F.current=!1),T.enteringChildren=void 0)}),T}function $D(n,e,r,s){const{layoutId:o,layout:u,drag:h,dragConstraints:d,layoutScroll:m,layoutRoot:g,layoutCrossfade:v}=e;n.projection=new r(n.latestValues,e["data-framer-portal-id"]?void 0:f1(n.parent)),n.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!h||d&&Fi(d),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,crossfade:v,layoutScroll:m,layoutRoot:g})}function f1(n){if(n)return n.options.allowProjection!==!1?n.projection:f1(n.parent)}function Pp(n,{forwardMotionProps:e=!1}={},r,s){r&&vD(r);const o=Ip(n)?BD:FD;function u(d,m){let g;const v={...ge.useContext(Kw),...d,layoutId:GD(d)},{isStatic:E}=v,T=xD(d),I=o(d,E);if(!E&&Vd){WD();const j=QD(v);g=j.MeasureLayout,T.visualElement=HD(n,I,v,s,j.ProjectionNode)}return ae.jsxs(Vc.Provider,{value:T,children:[g&&T.visualElement?ae.jsx(g,{visualElement:T.visualElement,...v}):null,VD(n,d,zD(I,T.visualElement,m),I,E,e)]})}u.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const h=ge.forwardRef(u);return h[UD]=n,h}function GD({layoutId:n}){const e=ge.useContext(Ub).id;return e&&n!==void 0?e+"-"+n:n}function WD(n,e){ge.useContext(Yw).strict}function QD(n){const{drag:e,layout:r}=ji;if(!e&&!r)return{};const s={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(n)||r!=null&&r.isEnabled(n)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function XD(n,e){if(typeof Proxy>"u")return Pp;const r=new Map,s=(u,h)=>Pp(u,h,n,e),o=(u,h)=>s(u,h);return new Proxy(o,{get:(u,h)=>h==="create"?s:(r.has(h)||r.set(h,Pp(h,void 0,n,e)),r.get(h))})}function d1({top:n,left:e,right:r,bottom:s}){return{x:{min:e,max:r},y:{min:n,max:s}}}function KD({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function YD(n,e){if(!e)return n;const r=e({x:n.left,y:n.top}),s=e({x:n.right,y:n.bottom});return{top:r.y,left:r.x,bottom:s.y,right:s.x}}function Mp(n){return n===void 0||n===1}function Op({scale:n,scaleX:e,scaleY:r}){return!Mp(n)||!Mp(e)||!Mp(r)}function Vs(n){return Op(n)||p1(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function p1(n){return m1(n.x)||m1(n.y)}function m1(n){return n&&n!=="0%"}function Bc(n,e,r){const s=n-r,o=e*s;return r+o}function g1(n,e,r,s,o){return o!==void 0&&(n=Bc(n,o,s)),Bc(n,r,s)+e}function Lp(n,e=0,r=1,s,o){n.min=g1(n.min,e,r,s,o),n.max=g1(n.max,e,r,s,o)}function y1(n,{x:e,y:r}){Lp(n.x,e.translate,e.scale,e.originPoint),Lp(n.y,r.translate,r.scale,r.originPoint)}const v1=.999999999999,b1=1.0000000000001;function JD(n,e,r,s=!1){const o=r.length;if(!o)return;e.x=e.y=1;let u,h;for(let d=0;d<o;d++){u=r[d],h=u.projectionDelta;const{visualElement:m}=u.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Ui(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),h&&(e.x*=h.x.scale,e.y*=h.y.scale,y1(n,h)),s&&Vs(u.latestValues)&&Ui(n,u.latestValues))}e.x<b1&&e.x>v1&&(e.x=1),e.y<b1&&e.y>v1&&(e.y=1)}function Bi(n,e){n.min=n.min+e,n.max=n.max+e}function w1(n,e,r,s,o=.5){const u=yt(n.min,n.max,o);Lp(n,e,r,u,s)}function Ui(n,e){w1(n.x,e.x,e.scaleX,e.scale,e.originX),w1(n.y,e.y,e.scaleY,e.scale,e.originY)}function E1(n,e){return d1(YD(n.getBoundingClientRect(),e))}function ZD(n,e,r){const s=E1(n,r),{scroll:o}=e;return o&&(Bi(s.x,o.offset.x),Bi(s.y,o.offset.y)),s}const S1=()=>({translate:0,scale:1,origin:0,originPoint:0}),zi=()=>({x:S1(),y:S1()}),x1=()=>({min:0,max:0}),kt=()=>({x:x1(),y:x1()}),Vp={current:null},T1={current:!1};function eP(){if(T1.current=!0,!!Vd)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Vp.current=n.matches;n.addEventListener("change",e),e()}else Vp.current=!1}const tP=new WeakMap;function nP(n,e,r){for(const s in e){const o=e[s],u=r[s];if(pn(o))n.addValue(s,o);else if(pn(u))n.addValue(s,Ri(o,{owner:n}));else if(u!==o)if(n.hasValue(s)){const h=n.getValue(s);h.liveStyle===!0?h.jump(o):h.hasAnimated||h.set(o)}else{const h=n.getStaticValue(s);n.addValue(s,Ri(h!==void 0?h:o,{owner:n}))}}for(const s in r)e[s]===void 0&&n.removeValue(s);return e}const k1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class rP{scrapeMotionValuesFromProps(e,r,s){return{}}constructor({parent:e,props:r,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:u,visualState:h},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=gp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=Cn.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,ft.render(this.render,!1,!0))};const{latestValues:m,renderState:g}=h;this.latestValues=m,this.baseTarget={...m},this.initialValues=r.initial?{...m}:{},this.renderState=g,this.parent=e,this.props=r,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!u,this.isControllingVariants=jc(r),this.isVariantNode=e1(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...E}=this.scrapeMotionValuesFromProps(r,{},this);for(const T in E){const I=E[T];m[T]!==void 0&&pn(I)&&I.set(m[T])}}mount(e){var r;this.current=e,tP.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,o)=>this.bindToMotionValue(o,s)),T1.current||eP(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Vp.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Fa(this.notifyUpdate),Fa(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const s=this.features[r];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Vi.has(e);s&&this.onBindTransform&&this.onBindTransform();const o=r.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&ft.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{o(),u&&u(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ji){const r=ji[e];if(!r)continue;const{isEnabled:s,Feature:o}=r;if(!this.features[e]&&o&&s(this.props)&&(this.features[e]=new o(this)),this.features[e]){const u=this.features[e];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):kt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let s=0;s<k1.length;s++){const o=k1[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,h=e[u];h&&(this.propEventSubscriptions[o]=this.on(o,h))}this.prevMotionValues=nP(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const s=this.values.get(e);r!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&r!==void 0&&(s=Ri(r===null?void 0:r,{owner:this}),this.addValue(e,s)),s}readValue(e,r){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(zb(s)||Hb(s))?s=parseFloat(s):!gD(s)&&Ua.test(r)&&(s=Bw(e,r)),this.setBaseTarget(e,pn(s)?s.get():s)),pn(s)?s.get():s}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:s}=this.props;let o;if(typeof s=="string"||typeof s=="object"){const h=Ap(this.props,s,(r=this.presenceContext)==null?void 0:r.custom);h&&(o=h[e])}if(s&&o!==void 0)return o;const u=this.getBaseTargetFromProps(this.props,e);return u!==void 0&&!pn(u)?u:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new zd),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){Ep.render(this.render)}}class C1 extends rP{constructor(){super(...arguments),this.KeyframeResolver=rD}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:s}){delete r[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;pn(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function _1(n,{style:e,vars:r},s,o){const u=n.style;let h;for(h in e)u[h]=e[h];o==null||o.applyProjectionStyles(u,s);for(h in r)u.setProperty(h,r[h])}function aP(n){return window.getComputedStyle(n)}class sP extends C1{constructor(){super(...arguments),this.type="html",this.renderInstance=_1}readValueFromInstance(e,r){var s;if(Vi.has(r))return(s=this.projection)!=null&&s.isProjecting?hp(r):SN(e,r);{const o=aP(e),u=(Gd(r)?o.getPropertyValue(r):o[r])||0;return typeof u=="string"?u.trim():u}}measureInstanceViewportBox(e,{transformPagePoint:r}){return E1(e,r)}build(e,r,s){Cp(e,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,r,s){return Np(e,r,s)}}const I1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function iP(n,e,r,s){_1(n,e,void 0,s);for(const o in e.attrs)n.setAttribute(I1.has(o)?o:Dp(o),e.attrs[o])}class oP extends C1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=kt}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Vi.has(r)){const s=Fw(r);return s&&s.default||0}return r=I1.has(r)?r:Dp(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,s){return u1(e,r,s)}build(e,r,s){a1(e,r,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,r,s,o){iP(e,r,s,o)}mount(e){this.isSVGTag=i1(e.tagName),super.mount(e)}}const lP=(n,e)=>Ip(n)?new oP(e):new sP(e,{allowProjection:n!==ge.Fragment});function qi(n,e,r){const s=n.getProps();return Ap(s,e,r!==void 0?r:s.custom,n)}const Rp=n=>Array.isArray(n);function uP(n,e,r){n.hasValue(e)?n.getValue(e).set(r):n.addValue(e,Ri(r))}function cP(n){return Rp(n)?n[n.length-1]||0:n}function hP(n,e){const r=qi(n,e);let{transitionEnd:s={},transition:o={},...u}=r||{};u={...u,...s};for(const h in u){const d=cP(u[h]);uP(n,h,d)}}function fP(n){return!!(pn(n)&&n.add)}function jp(n,e){const r=n.getValue("willChange");if(fP(r))return r.add(e);if(!r&&Gr.WillChange){const s=new Gr.WillChange("auto");n.addValue("willChange",s),s.add(e)}}function A1(n){return n.props[c1]}const dP=n=>n!==null;function pP(n,{repeat:e,repeatType:r="loop"},s){const o=n.filter(dP),u=e&&r!=="loop"&&e%2===1?0:o.length-1;return o[u]}const mP={type:"spring",stiffness:500,damping:25,restSpeed:10},gP=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),yP={type:"keyframes",duration:.8},vP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},bP=(n,{keyframes:e})=>e.length>2?yP:Vi.has(n)?n.startsWith("scale")?gP(e[1]):mP:vP;function wP({when:n,delay:e,delayChildren:r,staggerChildren:s,staggerDirection:o,repeat:u,repeatType:h,repeatDelay:d,from:m,elapsed:g,...v}){return!!Object.keys(v).length}const Fp=(n,e,r,s={},o,u)=>h=>{const d=vp(s,n)||{},m=d.delay||s.delay||0;let{elapsed:g=0}=s;g=g-Tr(m);const v={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-g,onUpdate:T=>{e.set(T),d.onUpdate&&d.onUpdate(T)},onComplete:()=>{h(),d.onComplete&&d.onComplete()},name:n,motionValue:e,element:u?void 0:o};wP(d)||Object.assign(v,bP(n,v)),v.duration&&(v.duration=Tr(v.duration)),v.repeatDelay&&(v.repeatDelay=Tr(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let E=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(yp(v),v.delay===0&&(E=!0)),(Gr.instantAnimations||Gr.skipAnimations)&&(E=!0,yp(v),v.delay=0),v.allowFlatten=!d.type&&!d.ease,E&&!u&&e.get()!==void 0){const T=pP(v.keyframes,d);if(T!==void 0){ft.update(()=>{v.onUpdate(T),v.onComplete()});return}}return d.isSync?new lp(v):new $N(v)};function EP({protectedKeys:n,needsAnimating:e},r){const s=n.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,s}function N1(n,e,{delay:r=0,transitionOverride:s,type:o}={}){let{transition:u=n.getDefaultTransition(),transitionEnd:h,...d}=e;s&&(u=s);const m=[],g=o&&n.animationState&&n.animationState.getState()[o];for(const v in d){const E=n.getValue(v,n.latestValues[v]??null),T=d[v];if(T===void 0||g&&EP(g,v))continue;const I={delay:r,...vp(u||{},v)},j=E.get();if(j!==void 0&&!E.isAnimating&&!Array.isArray(T)&&T===j&&!I.velocity)continue;let q=!1;if(window.MotionHandoffAnimation){const X=A1(n);if(X){const te=window.MotionHandoffAnimation(X,v,ft);te!==null&&(I.startTime=te,q=!0)}}jp(n,v),E.start(Fp(v,E,T,n.shouldReduceMotion&&Ow.has(v)?{type:!1}:I,n,q));const F=E.animation;F&&m.push(F)}return h&&Promise.all(m).then(()=>{ft.update(()=>{h&&hP(n,h)})}),m}function D1(n,e,r,s=0,o=1){const u=Array.from(n).sort((m,g)=>m.sortNodePosition(g)).indexOf(e),h=n.size,d=(h-1)*s;return typeof r=="function"?r(u,h):o===1?u*s:d-u*s}function Bp(n,e,r={}){var s;const o=qi(n,e,r.type==="exit"?(s=n.presenceContext)==null?void 0:s.custom:void 0);let{transition:u=n.getDefaultTransition()||{}}=o||{};r.transitionOverride&&(u=r.transitionOverride);const h=o?()=>Promise.all(N1(n,o,r)):()=>Promise.resolve(),d=n.variantChildren&&n.variantChildren.size?(g=0)=>{const{delayChildren:v=0,staggerChildren:E,staggerDirection:T}=u;return SP(n,e,g,v,E,T,r)}:()=>Promise.resolve(),{when:m}=u;if(m){const[g,v]=m==="beforeChildren"?[h,d]:[d,h];return g().then(()=>v())}else return Promise.all([h(),d(r.delay)])}function SP(n,e,r=0,s=0,o=0,u=1,h){const d=[];for(const m of n.variantChildren)m.notify("AnimationStart",e),d.push(Bp(m,e,{...h,delay:r+(typeof s=="function"?0:s)+D1(n.variantChildren,m,s,o,u)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(d)}function xP(n,e,r={}){n.notify("AnimationStart",e);let s;if(Array.isArray(e)){const o=e.map(u=>Bp(n,u,r));s=Promise.all(o)}else if(typeof e=="string")s=Bp(n,e,r);else{const o=typeof e=="function"?qi(n,e,r.custom):e;s=Promise.all(N1(n,o,r))}return s.then(()=>{n.notify("AnimationComplete",e)})}function P1(n,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==n.length)return!1;for(let s=0;s<r;s++)if(e[s]!==n[s])return!1;return!0}const TP=kp.length;function M1(n){if(!n)return;if(!n.isControllingVariants){const r=n.parent?M1(n.parent)||{}:{};return n.props.initial!==void 0&&(r.initial=n.props.initial),r}const e={};for(let r=0;r<TP;r++){const s=kp[r],o=n.props[s];(wl(o)||o===!1)&&(e[s]=o)}return e}const kP=[...Tp].reverse(),CP=Tp.length;function _P(n){return e=>Promise.all(e.map(({animation:r,options:s})=>xP(n,r,s)))}function IP(n){let e=_P(n),r=O1(),s=!0;const o=m=>(g,v)=>{var E;const T=qi(n,v,m==="exit"?(E=n.presenceContext)==null?void 0:E.custom:void 0);if(T){const{transition:I,transitionEnd:j,...q}=T;g={...g,...q,...j}}return g};function u(m){e=m(n)}function h(m){const{props:g}=n,v=M1(n.parent)||{},E=[],T=new Set;let I={},j=1/0;for(let F=0;F<CP;F++){const X=kP[F],te=r[X],se=g[X]!==void 0?g[X]:v[X],pe=wl(se),le=X===m?te.isActive:null;le===!1&&(j=F);let ye=se===v[X]&&se!==g[X]&&pe;if(ye&&s&&n.manuallyAnimateOnMount&&(ye=!1),te.protectedKeys={...I},!te.isActive&&le===null||!se&&!te.prevProp||Rc(se)||typeof se=="boolean")continue;const M=AP(te.prevProp,se);let _=M||X===m&&te.isActive&&!ye&&pe||F>j&&pe,A=!1;const P=Array.isArray(se)?se:[se];let O=P.reduce(o(X),{});le===!1&&(O={});const{prevResolvedValues:V={}}=te,N={...V,...O},$e=$=>{_=!0,T.has($)&&(A=!0,T.delete($)),te.needsAnimating[$]=!0;const re=n.getValue($);re&&(re.liveStyle=!1)};for(const $ in N){const re=O[$],fe=V[$];if(I.hasOwnProperty($))continue;let Pe=!1;Rp(re)&&Rp(fe)?Pe=!P1(re,fe):Pe=re!==fe,Pe?re!=null?$e($):T.add($):re!==void 0&&T.has($)?$e($):te.protectedKeys[$]=!0}te.prevProp=se,te.prevResolvedValues=O,te.isActive&&(I={...I,...O}),s&&n.blockInitialAnimation&&(_=!1);const Be=ye&&M;_&&(!Be||A)&&E.push(...P.map($=>{const re={type:X};if(typeof $=="string"&&s&&!Be&&n.manuallyAnimateOnMount&&n.parent){const{parent:fe}=n,Pe=qi(fe,$);if(fe.enteringChildren&&Pe){const{delayChildren:x}=Pe.transition||{};re.delay=D1(fe.enteringChildren,n,x)}}return{animation:$,options:re}}))}if(T.size){const F={};if(typeof g.initial!="boolean"){const X=qi(n,Array.isArray(g.initial)?g.initial[0]:g.initial);X&&X.transition&&(F.transition=X.transition)}T.forEach(X=>{const te=n.getBaseTarget(X),se=n.getValue(X);se&&(se.liveStyle=!0),F[X]=te??null}),E.push({animation:F})}let q=!!E.length;return s&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(q=!1),s=!1,q?e(E):Promise.resolve()}function d(m,g){var v;if(r[m].isActive===g)return Promise.resolve();(v=n.variantChildren)==null||v.forEach(T=>{var I;return(I=T.animationState)==null?void 0:I.setActive(m,g)}),r[m].isActive=g;const E=h(m);for(const T in r)r[T].protectedKeys={};return E}return{animateChanges:h,setActive:d,setAnimateFunction:u,getState:()=>r,reset:()=>{r=O1(),s=!0}}}function AP(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!P1(e,n):!1}function Rs(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function O1(){return{animate:Rs(!0),whileInView:Rs(),whileHover:Rs(),whileTap:Rs(),whileDrag:Rs(),whileFocus:Rs(),exit:Rs()}}class za{constructor(e){this.isMounted=!1,this.node=e}update(){}}class NP extends za{constructor(e){super(e),e.animationState||(e.animationState=IP(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Rc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let DP=0;class PP extends za{constructor(){super(...arguments),this.id=DP++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const o=this.node.animationState.setActive("exit",!e);r&&!e&&o.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const MP={animation:{Feature:NP},exit:{Feature:PP}};function Sl(n,e,r,s={passive:!0}){return n.addEventListener(e,r,s),()=>n.removeEventListener(e,r)}function xl(n){return{point:{x:n.pageX,y:n.pageY}}}const OP=n=>e=>Sp(e)&&n(e,xl(e));function Tl(n,e,r,s){return Sl(n,e,OP(r),s)}const L1=1e-4,LP=1-L1,VP=1+L1,V1=.01,RP=0-V1,jP=0+V1;function yn(n){return n.max-n.min}function FP(n,e,r){return Math.abs(n-e)<=r}function R1(n,e,r,s=.5){n.origin=s,n.originPoint=yt(e.min,e.max,n.origin),n.scale=yn(r)/yn(e),n.translate=yt(r.min,r.max,n.origin)-n.originPoint,(n.scale>=LP&&n.scale<=VP||isNaN(n.scale))&&(n.scale=1),(n.translate>=RP&&n.translate<=jP||isNaN(n.translate))&&(n.translate=0)}function kl(n,e,r,s){R1(n.x,e.x,r.x,s?s.originX:void 0),R1(n.y,e.y,r.y,s?s.originY:void 0)}function j1(n,e,r){n.min=r.min+e.min,n.max=n.min+yn(e)}function BP(n,e,r){j1(n.x,e.x,r.x),j1(n.y,e.y,r.y)}function F1(n,e,r){n.min=e.min-r.min,n.max=n.min+yn(e)}function Cl(n,e,r){F1(n.x,e.x,r.x),F1(n.y,e.y,r.y)}function Gn(n){return[n("x"),n("y")]}const B1=({current:n})=>n?n.ownerDocument.defaultView:null,U1=(n,e)=>Math.abs(n-e);function UP(n,e){const r=U1(n.x,e.x),s=U1(n.y,e.y);return Math.sqrt(r**2+s**2)}class z1{constructor(e,r,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:h=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=zp(this.lastMoveEventInfo,this.history),I=this.startEvent!==null,j=UP(T.offset,{x:0,y:0})>=this.distanceThreshold;if(!I&&!j)return;const{point:q}=T,{timestamp:F}=tn;this.history.push({...q,timestamp:F});const{onStart:X,onMove:te}=this.handlers;I||(X&&X(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),te&&te(this.lastMoveEvent,T)},this.handlePointerMove=(T,I)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=Up(I,this.transformPagePoint),ft.update(this.updatePoint,!0)},this.handlePointerUp=(T,I)=>{this.end();const{onEnd:j,onSessionEnd:q,resumeAnimation:F}=this.handlers;if(this.dragSnapToOrigin&&F&&F(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const X=zp(T.type==="pointercancel"?this.lastMoveEventInfo:Up(I,this.transformPagePoint),this.history);this.startEvent&&j&&j(T,X),q&&q(T,X)},!Sp(e))return;this.dragSnapToOrigin=u,this.handlers=r,this.transformPagePoint=s,this.distanceThreshold=h,this.contextWindow=o||window;const d=xl(e),m=Up(d,this.transformPagePoint),{point:g}=m,{timestamp:v}=tn;this.history=[{...g,timestamp:v}];const{onSessionStart:E}=r;E&&E(e,zp(m,this.history)),this.removeListeners=hl(Tl(this.contextWindow,"pointermove",this.handlePointerMove),Tl(this.contextWindow,"pointerup",this.handlePointerUp),Tl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Fa(this.updatePoint)}}function Up(n,e){return e?{point:e(n.point)}:n}function q1(n,e){return{x:n.x-e.x,y:n.y-e.y}}function zp({point:n},e){return{point:n,delta:q1(n,H1(e)),offset:q1(n,zP(e)),velocity:qP(e,.1)}}function zP(n){return n[0]}function H1(n){return n[n.length-1]}function qP(n,e){if(n.length<2)return{x:0,y:0};let r=n.length-1,s=null;const o=H1(n);for(;r>=0&&(s=n[r],!(o.timestamp-s.timestamp>Tr(e)));)r--;if(!s)return{x:0,y:0};const u=$n(o.timestamp-s.timestamp);if(u===0)return{x:0,y:0};const h={x:(o.x-s.x)/u,y:(o.y-s.y)/u};return h.x===1/0&&(h.x=0),h.y===1/0&&(h.y=0),h}function HP(n,{min:e,max:r},s){return e!==void 0&&n<e?n=s?yt(e,n,s.min):Math.max(n,e):r!==void 0&&n>r&&(n=s?yt(r,n,s.max):Math.min(n,r)),n}function $1(n,e,r){return{min:e!==void 0?n.min+e:void 0,max:r!==void 0?n.max+r-(n.max-n.min):void 0}}function $P(n,{top:e,left:r,bottom:s,right:o}){return{x:$1(n.x,r,o),y:$1(n.y,e,s)}}function G1(n,e){let r=e.min-n.min,s=e.max-n.max;return e.max-e.min<n.max-n.min&&([r,s]=[s,r]),{min:r,max:s}}function GP(n,e){return{x:G1(n.x,e.x),y:G1(n.y,e.y)}}function WP(n,e){let r=.5;const s=yn(n),o=yn(e);return o>s?r=fl(e.min,e.max-s,n.min):s>o&&(r=fl(n.min,n.max-o,e.min)),$r(0,1,r)}function QP(n,e){const r={};return e.min!==void 0&&(r.min=e.min-n.min),e.max!==void 0&&(r.max=e.max-n.min),r}const qp=.35;function XP(n=qp){return n===!1?n=0:n===!0&&(n=qp),{x:W1(n,"left","right"),y:W1(n,"top","bottom")}}function W1(n,e,r){return{min:Q1(n,e),max:Q1(n,r)}}function Q1(n,e){return typeof n=="number"?n:n[e]||0}const KP=new WeakMap;class YP{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=kt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=E=>{const{dragSnapToOrigin:T}=this.getProps();T?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(xl(E).point)},h=(E,T)=>{const{drag:I,dragPropagation:j,onDragStart:q}=this.getProps();if(I&&!j&&(this.openDragLock&&this.openDragLock(),this.openDragLock=lD(I),!this.openDragLock))return;this.latestPointerEvent=E,this.latestPanInfo=T,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Gn(X=>{let te=this.getAxisMotionValue(X).get()||0;if(kr.test(te)){const{projection:se}=this.visualElement;if(se&&se.layout){const pe=se.layout.layoutBox[X];pe&&(te=yn(pe)*(parseFloat(te)/100))}}this.originPoint[X]=te}),q&&ft.postRender(()=>q(E,T)),jp(this.visualElement,"transform");const{animationState:F}=this.visualElement;F&&F.setActive("whileDrag",!0)},d=(E,T)=>{this.latestPointerEvent=E,this.latestPanInfo=T;const{dragPropagation:I,dragDirectionLock:j,onDirectionLock:q,onDrag:F}=this.getProps();if(!I&&!this.openDragLock)return;const{offset:X}=T;if(j&&this.currentDirection===null){this.currentDirection=JP(X),this.currentDirection!==null&&q&&q(this.currentDirection);return}this.updateAxis("x",T.point,X),this.updateAxis("y",T.point,X),this.visualElement.render(),F&&F(E,T)},m=(E,T)=>{this.latestPointerEvent=E,this.latestPanInfo=T,this.stop(E,T),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Gn(E=>{var T;return this.getAnimationState(E)==="paused"&&((T=this.getAxisMotionValue(E).animation)==null?void 0:T.play())}),{dragSnapToOrigin:v}=this.getProps();this.panSession=new z1(e,{onSessionStart:u,onStart:h,onMove:d,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:s,contextWindow:B1(this.visualElement)})}stop(e,r){const s=e||this.latestPointerEvent,o=r||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!s)return;const{velocity:h}=o;this.startAnimation(h);const{onDragEnd:d}=this.getProps();d&&ft.postRender(()=>d(s,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,s){const{drag:o}=this.getProps();if(!s||!Uc(e,o,this.currentDirection))return;const u=this.getAxisMotionValue(e);let h=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(h=HP(h,this.constraints[e],this.elastic[e])),u.set(h)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:s}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)==null?void 0:e.layout,u=this.constraints;r&&Fi(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&o?this.constraints=$P(o.layoutBox,r):this.constraints=!1,this.elastic=XP(s),u!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Gn(h=>{this.constraints!==!1&&this.getAxisMotionValue(h)&&(this.constraints[h]=QP(o.layoutBox[h],this.constraints[h]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Fi(e))return!1;const s=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=ZD(s,o.root,this.visualElement.getTransformPagePoint());let h=GP(o.layout.layoutBox,u);if(r){const d=r(KD(h));this.hasMutatedConstraints=!!d,d&&(h=d1(d))}return h}startAnimation(e){const{drag:r,dragMomentum:s,dragElastic:o,dragTransition:u,dragSnapToOrigin:h,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},g=Gn(v=>{if(!Uc(v,r,this.currentDirection))return;let E=m&&m[v]||{};h&&(E={min:0,max:0});const T=o?200:1e6,I=o?40:1e7,j={type:"inertia",velocity:s?e[v]:0,bounceStiffness:T,bounceDamping:I,timeConstant:750,restDelta:1,restSpeed:10,...u,...E};return this.startAxisValueAnimation(v,j)});return Promise.all(g).then(d)}startAxisValueAnimation(e,r){const s=this.getAxisMotionValue(e);return jp(this.visualElement,e),s.start(Fp(e,s,0,r,this.visualElement,!1))}stopAnimation(){Gn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Gn(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps();return s[r]||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Gn(r=>{const{drag:s}=this.getProps();if(!Uc(r,s,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(r);if(o&&o.layout){const{min:h,max:d}=o.layout.layoutBox[r];u.set(e[r]-yt(h,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:s}=this.visualElement;if(!Fi(r)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Gn(h=>{const d=this.getAxisMotionValue(h);if(d&&this.constraints!==!1){const m=d.get();o[h]=WP({min:m,max:m},this.constraints[h])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Gn(h=>{if(!Uc(h,e,null))return;const d=this.getAxisMotionValue(h),{min:m,max:g}=this.constraints[h];d.set(yt(m,g,o[h]))})}addListeners(){if(!this.visualElement.current)return;KP.set(this.visualElement,this);const e=this.visualElement.current,r=Tl(e,"pointerdown",m=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();Fi(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),ft.read(s);const h=Sl(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(Gn(v=>{const E=this.getAxisMotionValue(v);E&&(this.originPoint[v]+=m[v].translate,E.set(E.get()+m[v].translate))}),this.visualElement.render())}));return()=>{h(),r(),u(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:h=qp,dragMomentum:d=!0}=e;return{...e,drag:r,dragDirectionLock:s,dragPropagation:o,dragConstraints:u,dragElastic:h,dragMomentum:d}}}function Uc(n,e,r){return(e===!0||e===n)&&(r===null||r===n)}function JP(n,e=10){let r=null;return Math.abs(n.y)>e?r="y":Math.abs(n.x)>e&&(r="x"),r}class ZP extends za{constructor(e){super(e),this.removeGroupControls=Hn,this.removeListeners=Hn,this.controls=new YP(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Hn}unmount(){this.removeGroupControls(),this.removeListeners()}}const X1=n=>(e,r)=>{n&&ft.postRender(()=>n(e,r))};class eM extends za{constructor(){super(...arguments),this.removePointerDownListener=Hn}onPointerDown(e){this.session=new z1(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:B1(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:X1(e),onStart:X1(r),onMove:s,onEnd:(u,h)=>{delete this.session,o&&ft.postRender(()=>o(u,h))}}}mount(){this.removePointerDownListener=Tl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const zc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function K1(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const _l={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(ke.test(n))n=parseFloat(n);else return n;const r=K1(n,e.target.x),s=K1(n,e.target.y);return`${r}% ${s}%`}},tM={correct:(n,{treeScale:e,projectionDelta:r})=>{const s=n,o=Ua.parse(n);if(o.length>5)return s;const u=Ua.createTransformer(n),h=typeof o[0]!="number"?1:0,d=r.x.scale*e.x,m=r.y.scale*e.y;o[0+h]/=d,o[1+h]/=m;const g=yt(d,m,.5);return typeof o[2+h]=="number"&&(o[2+h]/=g),typeof o[3+h]=="number"&&(o[3+h]/=g),u(o)}};let Hp=!1;class nM extends ge.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:s,layoutId:o}=this.props,{projection:u}=e;TD(rM),u&&(r.group&&r.group.add(u),s&&s.register&&o&&s.register(u),Hp&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),zc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:s,drag:o,isPresent:u}=this.props,{projection:h}=s;return h&&(h.isPresent=u,Hp=!0,o||e.layoutDependency!==r||r===void 0||e.isPresent!==u?h.willUpdate():this.safeToRemove(),e.isPresent!==u&&(u?h.promote():h.relegate()||ft.postRender(()=>{const d=h.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ep.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:s}=this.props,{projection:o}=e;Hp=!0,o&&(o.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Y1(n){const[e,r]=yD(),s=ge.useContext(Ub);return ae.jsx(nM,{...n,layoutGroup:s,switchLayoutGroup:ge.useContext(h1),isPresent:e,safeToRemove:r})}const rM={borderRadius:{..._l,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:_l,borderTopRightRadius:_l,borderBottomLeftRadius:_l,borderBottomRightRadius:_l,boxShadow:tM};function aM(n,e,r){const s=pn(n)?n:Ri(n);return s.start(Fp("",s,e,r)),s.animation}const sM=(n,e)=>n.depth-e.depth;class iM{constructor(){this.children=[],this.isDirty=!1}add(e){jd(this.children,e),this.isDirty=!0}remove(e){Fd(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(sM),this.isDirty=!1,this.children.forEach(e)}}function oM(n,e){const r=Cn.now(),s=({timestamp:o})=>{const u=o-r;u>=e&&(Fa(s),n(u-e))};return ft.setup(s,!0),()=>Fa(s)}const J1=["TopLeft","TopRight","BottomLeft","BottomRight"],lM=J1.length,Z1=n=>typeof n=="string"?parseFloat(n):n,eE=n=>typeof n=="number"||ke.test(n);function uM(n,e,r,s,o,u){o?(n.opacity=yt(0,r.opacity??1,cM(s)),n.opacityExit=yt(e.opacity??1,0,hM(s))):u&&(n.opacity=yt(e.opacity??1,r.opacity??1,s));for(let h=0;h<lM;h++){const d=`border${J1[h]}Radius`;let m=tE(e,d),g=tE(r,d);m===void 0&&g===void 0||(m||(m=0),g||(g=0),m===0||g===0||eE(m)===eE(g)?(n[d]=Math.max(yt(Z1(m),Z1(g),s),0),(kr.test(g)||kr.test(m))&&(n[d]+="%")):n[d]=g)}(e.rotate||r.rotate)&&(n.rotate=yt(e.rotate||0,r.rotate||0,s))}function tE(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const cM=nE(0,.5,Jb),hM=nE(.5,.95,Hn);function nE(n,e,r){return s=>s<n?0:s>e?1:r(fl(n,e,s))}function rE(n,e){n.min=e.min,n.max=e.max}function Wn(n,e){rE(n.x,e.x),rE(n.y,e.y)}function aE(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function sE(n,e,r,s,o){return n-=e,n=Bc(n,1/r,s),o!==void 0&&(n=Bc(n,1/o,s)),n}function fM(n,e=0,r=1,s=.5,o,u=n,h=n){if(kr.test(e)&&(e=parseFloat(e),e=yt(h.min,h.max,e/100)-h.min),typeof e!="number")return;let d=yt(u.min,u.max,s);n===u&&(d-=e),n.min=sE(n.min,e,r,d,o),n.max=sE(n.max,e,r,d,o)}function iE(n,e,[r,s,o],u,h){fM(n,e[r],e[s],e[o],e.scale,u,h)}const dM=["x","scaleX","originX"],pM=["y","scaleY","originY"];function oE(n,e,r,s){iE(n.x,e,dM,r?r.x:void 0,s?s.x:void 0),iE(n.y,e,pM,r?r.y:void 0,s?s.y:void 0)}function lE(n){return n.translate===0&&n.scale===1}function uE(n){return lE(n.x)&&lE(n.y)}function cE(n,e){return n.min===e.min&&n.max===e.max}function mM(n,e){return cE(n.x,e.x)&&cE(n.y,e.y)}function hE(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function fE(n,e){return hE(n.x,e.x)&&hE(n.y,e.y)}function dE(n){return yn(n.x)/yn(n.y)}function pE(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class gM{constructor(){this.members=[]}add(e){jd(this.members,e),e.scheduleRender()}remove(e){if(Fd(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(o=>e===o);if(r===0)return!1;let s;for(let o=r;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){s=u;break}}return s?(this.promote(s),!0):!1}promote(e,r){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,r&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:s}=e;r.onExitComplete&&r.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function yM(n,e,r){let s="";const o=n.x.translate/e.x,u=n.y.translate/e.y,h=(r==null?void 0:r.z)||0;if((o||u||h)&&(s=`translate3d(${o}px, ${u}px, ${h}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:g,rotate:v,rotateX:E,rotateY:T,skewX:I,skewY:j}=r;g&&(s=`perspective(${g}px) ${s}`),v&&(s+=`rotate(${v}deg) `),E&&(s+=`rotateX(${E}deg) `),T&&(s+=`rotateY(${T}deg) `),I&&(s+=`skewX(${I}deg) `),j&&(s+=`skewY(${j}deg) `)}const d=n.x.scale*e.x,m=n.y.scale*e.y;return(d!==1||m!==1)&&(s+=`scale(${d}, ${m})`),s||"none"}const $p=["","X","Y","Z"],vM=1e3;let bM=0;function Gp(n,e,r,s){const{latestValues:o}=e;o[n]&&(r[n]=o[n],e.setStaticValue(n,0),s&&(s[n]=0))}function mE(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const r=A1(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:o,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(r,"transform",ft,!(o||u))}const{parent:s}=n;s&&!s.hasCheckedOptimisedAppear&&mE(s)}function gE({attachResizeListener:n,defaultParent:e,measureScroll:r,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(u={},h=e==null?void 0:e()){this.id=bM++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(SM),this.nodes.forEach(CM),this.nodes.forEach(_M),this.nodes.forEach(xM)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new iM)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new zd),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const d=this.eventHandlers.get(u);d&&d.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=Xw(u)&&!pD(u),this.instance=u;const{layoutId:h,layout:d,visualElement:m}=this.options;if(m&&!m.current&&m.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||h)&&(this.isLayoutDirty=!0),n){let g,v=0;const E=()=>this.root.updateBlockedByResize=!1;ft.read(()=>{v=window.innerWidth}),n(u,()=>{const T=window.innerWidth;T!==v&&(v=T,this.root.updateBlockedByResize=!0,g&&g(),g=oM(E,250),zc.hasAnimatedSinceResize&&(zc.hasAnimatedSinceResize=!1,this.nodes.forEach(bE)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||d)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:E,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||m.getDefaultTransition()||PM,{onLayoutAnimationStart:j,onLayoutAnimationComplete:q}=m.getProps(),F=!this.targetLayout||!fE(this.targetLayout,T),X=!v&&E;if(this.options.layoutRoot||this.resumeFrom||X||v&&(F||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const te={...vp(I,"layout"),onPlay:j,onComplete:q};(m.shouldReduceMotion||this.options.layoutRoot)&&(te.delay=0,te.type=!1),this.startAnimation(te),this.setAnimationOrigin(g,X)}else v||bE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Fa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(IM),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&mE(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(yE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(vE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(kM),this.nodes.forEach(wM),this.nodes.forEach(EM)):this.nodes.forEach(vE),this.clearAllSnapshots();const u=Cn.now();tn.delta=$r(0,1e3/60,u-tn.timestamp),tn.timestamp=u,tn.isProcessing=!0,$d.update.process(tn),$d.preRender.process(tn),$d.render.process(tn),tn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ep.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(TM),this.sharedNodes.forEach(AM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!yn(this.snapshot.measuredBox.x)&&!yn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=kt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const d=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!uE(this.projectionDelta),d=this.getTransformTemplate(),m=d?d(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;u&&this.instance&&(h||Vs(this.latestValues)||g)&&(o(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return u&&(d=this.removeTransform(d)),MM(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:h}=this.options;if(!h)return kt();const d=h.measureViewportBox();if(!((u=this.scroll)!=null&&u.wasRoot||this.path.some(OM))){const{scroll:m}=this.root;m&&(Bi(d.x,m.offset.x),Bi(d.y,m.offset.y))}return d}removeElementScroll(u){var h;const d=kt();if(Wn(d,u),(h=this.scroll)!=null&&h.wasRoot)return d;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:v,options:E}=g;g!==this.root&&v&&E.layoutScroll&&(v.wasRoot&&Wn(d,u),Bi(d.x,v.offset.x),Bi(d.y,v.offset.y))}return d}applyTransform(u,h=!1){const d=kt();Wn(d,u);for(let m=0;m<this.path.length;m++){const g=this.path[m];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Ui(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Vs(g.latestValues)&&Ui(d,g.latestValues)}return Vs(this.latestValues)&&Ui(d,this.latestValues),d}removeTransform(u){const h=kt();Wn(h,u);for(let d=0;d<this.path.length;d++){const m=this.path[d];if(!m.instance||!Vs(m.latestValues))continue;Op(m.latestValues)&&m.updateSnapshot();const g=kt(),v=m.measurePageBox();Wn(g,v),oE(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return Vs(this.latestValues)&&oE(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==tn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var h;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=tn.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kt(),this.relativeTargetOrigin=kt(),Cl(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),Wn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=kt(),this.targetWithTransforms=kt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),BP(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Wn(this.target,this.layout.layoutBox),y1(this.target,this.targetDelta)):Wn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kt(),this.relativeTargetOrigin=kt(),Cl(this.relativeTargetOrigin,this.target,E.target),Wn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Op(this.parent.latestValues)||p1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const h=this.getLead(),d=!!this.resumingFrom||this!==h;let m=!0;if((this.isProjectionDirty||(u=this.parent)!=null&&u.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===tn.timestamp&&(m=!1),m)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;Wn(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,T=this.treeScale.y;JD(this.layoutCorrected,this.treeScale,this.path,d),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=kt());const{target:I}=h;if(!I){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(aE(this.prevProjectionDelta.x,this.projectionDelta.x),aE(this.prevProjectionDelta.y,this.projectionDelta.y)),kl(this.projectionDelta,this.layoutCorrected,I,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==T||!pE(this.projectionDelta.x,this.prevProjectionDelta.x)||!pE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",I))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=zi(),this.projectionDelta=zi(),this.projectionDeltaWithTransform=zi()}setAnimationOrigin(u,h=!1){const d=this.snapshot,m=d?d.latestValues:{},g={...this.latestValues},v=zi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const E=kt(),T=d?d.source:void 0,I=this.layout?this.layout.source:void 0,j=T!==I,q=this.getStack(),F=!q||q.members.length<=1,X=!!(j&&!F&&this.options.crossfade===!0&&!this.path.some(DM));this.animationProgress=0;let te;this.mixTargetDelta=se=>{const pe=se/1e3;wE(v.x,u.x,pe),wE(v.y,u.y,pe),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Cl(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),NM(this.relativeTarget,this.relativeTargetOrigin,E,pe),te&&mM(this.relativeTarget,te)&&(this.isProjectionDirty=!1),te||(te=kt()),Wn(te,this.relativeTarget)),j&&(this.animationValues=g,uM(g,m,this.latestValues,pe,X,F)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=pe},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var h,d,m;this.notifyListeners("animationStart"),(h=this.currentAnimation)==null||h.stop(),(m=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||m.stop(),this.pendingAnimation&&(Fa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ft.update(()=>{zc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ri(0)),this.currentAnimation=aM(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),u.onUpdate&&u.onUpdate(g)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(vM),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:d,layout:m,latestValues:g}=u;if(!(!h||!d||!m)){if(this!==u&&this.layout&&m&&kE(this.options.animationType,this.layout.layoutBox,m.layoutBox)){d=this.target||kt();const v=yn(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+v;const E=yn(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+E}Wn(h,d),Ui(h,g),kl(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new gM),this.sharedNodes.get(u).add(h);const d=h.options.initialPromotionConfig;h.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:h}=this.options;return h?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:h}=this.options;return h?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:d}={}){const m=this.getStack();m&&m.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const m={};d.z&&Gp("z",u,m,this.animationValues);for(let g=0;g<$p.length;g++)Gp(`rotate${$p[g]}`,u,m,this.animationValues),Gp(`skew${$p[g]}`,u,m,this.animationValues);u.render();for(const g in m)u.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Fc(h==null?void 0:h.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Fc(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!Vs(this.latestValues)&&(u.transform=d?d({},""):"none",this.hasProjected=!1);return}u.visibility="";const g=m.animationValues||m.latestValues;this.applyTransformsToTarget();let v=yM(this.projectionDeltaWithTransform,this.treeScale,g);d&&(v=d(g,v)),u.transform=v;const{x:E,y:T}=this.projectionDelta;u.transformOrigin=`${E.origin*100}% ${T.origin*100}% 0`,m.animationValues?u.opacity=m===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const I in El){if(g[I]===void 0)continue;const{correct:j,applyTo:q,isCSSVariable:F}=El[I],X=v==="none"?g[I]:j(g[I],m);if(q){const te=q.length;for(let se=0;se<te;se++)u[q[se]]=X}else F?this.options.visualElement.renderState.vars[I]=X:u[I]=X}this.options.layoutId&&(u.pointerEvents=m===this?Fc(h==null?void 0:h.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var h;return(h=u.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(yE),this.root.sharedNodes.clear()}}}function wM(n){n.updateLayout()}function EM(n){var e;const r=((e=n.resumeFrom)==null?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&r&&n.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:o}=n.layout,{animationType:u}=n.options,h=r.source!==n.layout.source;u==="size"?Gn(E=>{const T=h?r.measuredBox[E]:r.layoutBox[E],I=yn(T);T.min=s[E].min,T.max=T.min+I}):kE(u,r.layoutBox,s)&&Gn(E=>{const T=h?r.measuredBox[E]:r.layoutBox[E],I=yn(s[E]);T.max=T.min+I,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[E].max=n.relativeTarget[E].min+I)});const d=zi();kl(d,s,r.layoutBox);const m=zi();h?kl(m,n.applyTransform(o,!0),r.measuredBox):kl(m,s,r.layoutBox);const g=!uE(d);let v=!1;if(!n.resumeFrom){const E=n.getClosestProjectingParent();if(E&&!E.resumeFrom){const{snapshot:T,layout:I}=E;if(T&&I){const j=kt();Cl(j,r.layoutBox,T.layoutBox);const q=kt();Cl(q,s,I.layoutBox),fE(j,q)||(v=!0),E.options.layoutRoot&&(n.relativeTarget=q,n.relativeTargetOrigin=j,n.relativeParent=E)}}}n.notifyListeners("didUpdate",{layout:s,snapshot:r,delta:m,layoutDelta:d,hasLayoutChanged:g,hasRelativeLayoutChanged:v})}else if(n.isLead()){const{onExitComplete:s}=n.options;s&&s()}n.options.transition=void 0}function SM(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function xM(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function TM(n){n.clearSnapshot()}function yE(n){n.clearMeasurements()}function vE(n){n.isLayoutDirty=!1}function kM(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function bE(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function CM(n){n.resolveTargetDelta()}function _M(n){n.calcProjection()}function IM(n){n.resetSkewAndRotation()}function AM(n){n.removeLeadSnapshot()}function wE(n,e,r){n.translate=yt(e.translate,0,r),n.scale=yt(e.scale,1,r),n.origin=e.origin,n.originPoint=e.originPoint}function EE(n,e,r,s){n.min=yt(e.min,r.min,s),n.max=yt(e.max,r.max,s)}function NM(n,e,r,s){EE(n.x,e.x,r.x,s),EE(n.y,e.y,r.y,s)}function DM(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const PM={duration:.45,ease:[.4,0,.1,1]},SE=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),xE=SE("applewebkit/")&&!SE("chrome/")?Math.round:Hn;function TE(n){n.min=xE(n.min),n.max=xE(n.max)}function MM(n){TE(n.x),TE(n.y)}function kE(n,e,r){return n==="position"||n==="preserve-aspect"&&!FP(dE(e),dE(r),.2)}function OM(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const LM=gE({attachResizeListener:(n,e)=>Sl(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Wp={current:void 0},CE=gE({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Wp.current){const n=new LM({});n.mount(window),n.setOptions({layoutScroll:!0}),Wp.current=n}return Wp.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),VM={pan:{Feature:eM},drag:{Feature:ZP,ProjectionNode:CE,MeasureLayout:Y1}};function _E(n,e,r){const{props:s}=n;n.animationState&&s.whileHover&&n.animationState.setActive("whileHover",r==="Start");const o="onHover"+r,u=s[o];u&&ft.postRender(()=>u(e,xl(e)))}class RM extends za{mount(){const{current:e}=this.node;e&&(this.unmount=uD(e,(r,s)=>(_E(this.node,s,"Start"),o=>_E(this.node,o,"End"))))}unmount(){}}class jM extends za{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=hl(Sl(this.node.current,"focus",()=>this.onFocus()),Sl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function IE(n,e,r){const{props:s}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&s.whileTap&&n.animationState.setActive("whileTap",r==="Start");const o="onTap"+(r==="End"?"":r),u=s[o];u&&ft.postRender(()=>u(e,xl(e)))}class FM extends za{mount(){const{current:e}=this.node;e&&(this.unmount=dD(e,(r,s)=>(IE(this.node,s,"Start"),(o,{success:u})=>IE(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Qp=new WeakMap,Xp=new WeakMap,BM=n=>{const e=Qp.get(n.target);e&&e(n)},UM=n=>{n.forEach(BM)};function zM({root:n,...e}){const r=n||document;Xp.has(r)||Xp.set(r,{});const s=Xp.get(r),o=JSON.stringify(e);return s[o]||(s[o]=new IntersectionObserver(UM,{root:n,...e})),s[o]}function qM(n,e,r){const s=zM(e);return Qp.set(n,r),s.observe(n),()=>{Qp.delete(n),s.unobserve(n)}}const HM={some:0,all:1};class $M extends za{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:s,amount:o="some",once:u}=e,h={root:r?r.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:HM[o]},d=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:E}=this.node.getProps(),T=g?v:E;T&&T(m)};return qM(this.node.current,h,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(GM(e,r))&&this.startObserver()}unmount(){}}function GM({viewport:n={}},{viewport:e={}}={}){return r=>n[r]!==e[r]}const WM={inView:{Feature:$M},tap:{Feature:FM},focus:{Feature:jM},hover:{Feature:RM}},QM={layout:{ProjectionNode:CE,MeasureLayout:Y1}},XM={...MP,...WM,...VM,...QM},KM=XD(XM,lP);var qc={};(function n(e,r,s,o){var u=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),h=typeof Path2D=="function"&&typeof DOMMatrix=="function",d=(function(){if(!e.OffscreenCanvas)return!1;var x=new OffscreenCanvas(1,1),C=x.getContext("2d");C.fillRect(0,0,1,1);var K=x.transferToImageBitmap();try{C.createPattern(K,"no-repeat")}catch{return!1}return!0})();function m(){}function g(x){var C=r.exports.Promise,K=C!==void 0?C:e.Promise;return typeof K=="function"?new K(x):(x(m,m),null)}var v=(function(x,C){return{transform:function(K){if(x)return K;if(C.has(K))return C.get(K);var Q=new OffscreenCanvas(K.width,K.height),ie=Q.getContext("2d");return ie.drawImage(K,0,0),C.set(K,Q),Q},clear:function(){C.clear()}}})(d,new Map),E=(function(){var x=Math.floor(16.666666666666668),C,K,Q={},ie=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(C=function(ce){var oe=Math.random();return Q[oe]=requestAnimationFrame(function me(ve){ie===ve||ie+x-1<ve?(ie=ve,delete Q[oe],ce()):Q[oe]=requestAnimationFrame(me)}),oe},K=function(ce){Q[ce]&&cancelAnimationFrame(Q[ce])}):(C=function(ce){return setTimeout(ce,x)},K=function(ce){return clearTimeout(ce)}),{frame:C,cancel:K}})(),T=(function(){var x,C,K={};function Q(ie){function ce(oe,me){ie.postMessage({options:oe||{},callback:me})}ie.init=function(oe){var me=oe.transferControlToOffscreen();ie.postMessage({canvas:me},[me])},ie.fire=function(oe,me,ve){if(C)return ce(oe,null),C;var Ne=Math.random().toString(36).slice(2);return C=g(function(it){function Ve(tt){tt.data.callback===Ne&&(delete K[Ne],ie.removeEventListener("message",Ve),C=null,v.clear(),ve(),it())}ie.addEventListener("message",Ve),ce(oe,Ne),K[Ne]=Ve.bind(null,{data:{callback:Ne}})}),C},ie.reset=function(){ie.postMessage({reset:!0});for(var oe in K)K[oe](),delete K[oe]}}return function(){if(x)return x;if(!s&&u){var ie=["var CONFETTI, SIZE = {}, module = {};","("+n.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{x=new Worker(URL.createObjectURL(new Blob([ie])))}catch(ce){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",ce),null}Q(x)}return x}})(),I={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function j(x,C){return C?C(x):x}function q(x){return x!=null}function F(x,C,K){return j(x&&q(x[C])?x[C]:I[C],K)}function X(x){return x<0?0:Math.floor(x)}function te(x,C){return Math.floor(Math.random()*(C-x))+x}function se(x){return parseInt(x,16)}function pe(x){return x.map(le)}function le(x){var C=String(x).replace(/[^0-9a-f]/gi,"");return C.length<6&&(C=C[0]+C[0]+C[1]+C[1]+C[2]+C[2]),{r:se(C.substring(0,2)),g:se(C.substring(2,4)),b:se(C.substring(4,6))}}function ye(x){var C=F(x,"origin",Object);return C.x=F(C,"x",Number),C.y=F(C,"y",Number),C}function M(x){x.width=document.documentElement.clientWidth,x.height=document.documentElement.clientHeight}function _(x){var C=x.getBoundingClientRect();x.width=C.width,x.height=C.height}function A(x){var C=document.createElement("canvas");return C.style.position="fixed",C.style.top="0px",C.style.left="0px",C.style.pointerEvents="none",C.style.zIndex=x,C}function P(x,C,K,Q,ie,ce,oe,me,ve){x.save(),x.translate(C,K),x.rotate(ce),x.scale(Q,ie),x.arc(0,0,1,oe,me,ve),x.restore()}function O(x){var C=x.angle*(Math.PI/180),K=x.spread*(Math.PI/180);return{x:x.x,y:x.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:x.startVelocity*.5+Math.random()*x.startVelocity,angle2D:-C+(.5*K-Math.random()*K),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:x.color,shape:x.shape,tick:0,totalTicks:x.ticks,decay:x.decay,drift:x.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:x.gravity*3,ovalScalar:.6,scalar:x.scalar,flat:x.flat}}function V(x,C){C.x+=Math.cos(C.angle2D)*C.velocity+C.drift,C.y+=Math.sin(C.angle2D)*C.velocity+C.gravity,C.velocity*=C.decay,C.flat?(C.wobble=0,C.wobbleX=C.x+10*C.scalar,C.wobbleY=C.y+10*C.scalar,C.tiltSin=0,C.tiltCos=0,C.random=1):(C.wobble+=C.wobbleSpeed,C.wobbleX=C.x+10*C.scalar*Math.cos(C.wobble),C.wobbleY=C.y+10*C.scalar*Math.sin(C.wobble),C.tiltAngle+=.1,C.tiltSin=Math.sin(C.tiltAngle),C.tiltCos=Math.cos(C.tiltAngle),C.random=Math.random()+2);var K=C.tick++/C.totalTicks,Q=C.x+C.random*C.tiltCos,ie=C.y+C.random*C.tiltSin,ce=C.wobbleX+C.random*C.tiltCos,oe=C.wobbleY+C.random*C.tiltSin;if(x.fillStyle="rgba("+C.color.r+", "+C.color.g+", "+C.color.b+", "+(1-K)+")",x.beginPath(),h&&C.shape.type==="path"&&typeof C.shape.path=="string"&&Array.isArray(C.shape.matrix))x.fill(re(C.shape.path,C.shape.matrix,C.x,C.y,Math.abs(ce-Q)*.1,Math.abs(oe-ie)*.1,Math.PI/10*C.wobble));else if(C.shape.type==="bitmap"){var me=Math.PI/10*C.wobble,ve=Math.abs(ce-Q)*.1,Ne=Math.abs(oe-ie)*.1,it=C.shape.bitmap.width*C.scalar,Ve=C.shape.bitmap.height*C.scalar,tt=new DOMMatrix([Math.cos(me)*ve,Math.sin(me)*ve,-Math.sin(me)*Ne,Math.cos(me)*Ne,C.x,C.y]);tt.multiplySelf(new DOMMatrix(C.shape.matrix));var vt=x.createPattern(v.transform(C.shape.bitmap),"no-repeat");vt.setTransform(tt),x.globalAlpha=1-K,x.fillStyle=vt,x.fillRect(C.x-it/2,C.y-Ve/2,it,Ve),x.globalAlpha=1}else if(C.shape==="circle")x.ellipse?x.ellipse(C.x,C.y,Math.abs(ce-Q)*C.ovalScalar,Math.abs(oe-ie)*C.ovalScalar,Math.PI/10*C.wobble,0,2*Math.PI):P(x,C.x,C.y,Math.abs(ce-Q)*C.ovalScalar,Math.abs(oe-ie)*C.ovalScalar,Math.PI/10*C.wobble,0,2*Math.PI);else if(C.shape==="star")for(var De=Math.PI/2*3,Mt=4*C.scalar,mn=8*C.scalar,dt=C.x,Mn=C.y,On=5,nn=Math.PI/On;On--;)dt=C.x+Math.cos(De)*mn,Mn=C.y+Math.sin(De)*mn,x.lineTo(dt,Mn),De+=nn,dt=C.x+Math.cos(De)*Mt,Mn=C.y+Math.sin(De)*Mt,x.lineTo(dt,Mn),De+=nn;else x.moveTo(Math.floor(C.x),Math.floor(C.y)),x.lineTo(Math.floor(C.wobbleX),Math.floor(ie)),x.lineTo(Math.floor(ce),Math.floor(oe)),x.lineTo(Math.floor(Q),Math.floor(C.wobbleY));return x.closePath(),x.fill(),C.tick<C.totalTicks}function N(x,C,K,Q,ie){var ce=C.slice(),oe=x.getContext("2d"),me,ve,Ne=g(function(it){function Ve(){me=ve=null,oe.clearRect(0,0,Q.width,Q.height),v.clear(),ie(),it()}function tt(){s&&!(Q.width===o.width&&Q.height===o.height)&&(Q.width=x.width=o.width,Q.height=x.height=o.height),!Q.width&&!Q.height&&(K(x),Q.width=x.width,Q.height=x.height),oe.clearRect(0,0,Q.width,Q.height),ce=ce.filter(function(vt){return V(oe,vt)}),ce.length?me=E.frame(tt):Ve()}me=E.frame(tt),ve=Ve});return{addFettis:function(it){return ce=ce.concat(it),Ne},canvas:x,promise:Ne,reset:function(){me&&E.cancel(me),ve&&ve()}}}function $e(x,C){var K=!x,Q=!!F(C||{},"resize"),ie=!1,ce=F(C,"disableForReducedMotion",Boolean),oe=u&&!!F(C||{},"useWorker"),me=oe?T():null,ve=K?M:_,Ne=x&&me?!!x.__confetti_initialized:!1,it=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Ve;function tt(De,Mt,mn){for(var dt=F(De,"particleCount",X),Mn=F(De,"angle",Number),On=F(De,"spread",Number),nn=F(De,"startVelocity",Number),Wr=F(De,"decay",Number),Il=F(De,"gravity",Number),qa=F(De,"drift",Number),Ha=F(De,"colors",pe),Hi=F(De,"ticks",Number),ht=F(De,"shapes"),Qe=F(De,"scalar"),vn=!!F(De,"flat"),Ft=ye(De),js=dt,Fs=[],Qr=x.width*Ft.x,Xr=x.height*Ft.y;js--;)Fs.push(O({x:Qr,y:Xr,angle:Mn,spread:On,startVelocity:nn,color:Ha[js%Ha.length],shape:ht[te(0,ht.length)],ticks:Hi,decay:Wr,gravity:Il,drift:qa,scalar:Qe,flat:vn}));return Ve?Ve.addFettis(Fs):(Ve=N(x,Fs,ve,Mt,mn),Ve.promise)}function vt(De){var Mt=ce||F(De,"disableForReducedMotion",Boolean),mn=F(De,"zIndex",Number);if(Mt&&it)return g(function(nn){nn()});K&&Ve?x=Ve.canvas:K&&!x&&(x=A(mn),document.body.appendChild(x)),Q&&!Ne&&ve(x);var dt={width:x.width,height:x.height};me&&!Ne&&me.init(x),Ne=!0,me&&(x.__confetti_initialized=!0);function Mn(){if(me){var nn={getBoundingClientRect:function(){if(!K)return x.getBoundingClientRect()}};ve(nn),me.postMessage({resize:{width:nn.width,height:nn.height}});return}dt.width=dt.height=null}function On(){Ve=null,Q&&(ie=!1,e.removeEventListener("resize",Mn)),K&&x&&(document.body.contains(x)&&document.body.removeChild(x),x=null,Ne=!1)}return Q&&!ie&&(ie=!0,e.addEventListener("resize",Mn,!1)),me?me.fire(De,dt,On):tt(De,dt,On)}return vt.reset=function(){me&&me.reset(),Ve&&Ve.reset()},vt}var Be;function $(){return Be||(Be=$e(null,{useWorker:!0,resize:!0})),Be}function re(x,C,K,Q,ie,ce,oe){var me=new Path2D(x),ve=new Path2D;ve.addPath(me,new DOMMatrix(C));var Ne=new Path2D;return Ne.addPath(ve,new DOMMatrix([Math.cos(oe)*ie,Math.sin(oe)*ie,-Math.sin(oe)*ce,Math.cos(oe)*ce,K,Q])),Ne}function fe(x){if(!h)throw new Error("path confetti are not supported in this browser");var C,K;typeof x=="string"?C=x:(C=x.path,K=x.matrix);var Q=new Path2D(C),ie=document.createElement("canvas"),ce=ie.getContext("2d");if(!K){for(var oe=1e3,me=oe,ve=oe,Ne=0,it=0,Ve,tt,vt=0;vt<oe;vt+=2)for(var De=0;De<oe;De+=2)ce.isPointInPath(Q,vt,De,"nonzero")&&(me=Math.min(me,vt),ve=Math.min(ve,De),Ne=Math.max(Ne,vt),it=Math.max(it,De));Ve=Ne-me,tt=it-ve;var Mt=10,mn=Math.min(Mt/Ve,Mt/tt);K=[mn,0,0,mn,-Math.round(Ve/2+me)*mn,-Math.round(tt/2+ve)*mn]}return{type:"path",path:C,matrix:K}}function Pe(x){var C,K=1,Q="#000000",ie='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof x=="string"?C=x:(C=x.text,K="scalar"in x?x.scalar:K,ie="fontFamily"in x?x.fontFamily:ie,Q="color"in x?x.color:Q);var ce=10*K,oe=""+ce+"px "+ie,me=new OffscreenCanvas(ce,ce),ve=me.getContext("2d");ve.font=oe;var Ne=ve.measureText(C),it=Math.ceil(Ne.actualBoundingBoxRight+Ne.actualBoundingBoxLeft),Ve=Math.ceil(Ne.actualBoundingBoxAscent+Ne.actualBoundingBoxDescent),tt=2,vt=Ne.actualBoundingBoxLeft+tt,De=Ne.actualBoundingBoxAscent+tt;it+=tt+tt,Ve+=tt+tt,me=new OffscreenCanvas(it,Ve),ve=me.getContext("2d"),ve.font=oe,ve.fillStyle=Q,ve.fillText(C,vt,De);var Mt=1/K;return{type:"bitmap",bitmap:me.transferToImageBitmap(),matrix:[Mt,0,0,Mt,-it*Mt/2,-Ve*Mt/2]}}r.exports=function(){return $().apply(this,arguments)},r.exports.reset=function(){$().reset()},r.exports.create=$e,r.exports.shapeFromPath=fe,r.exports.shapeFromText=Pe})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),qc,!1);const AE=qc.exports;qc.exports.create;const NE=17;function YM({streak:n,triggerCelebration:e,onResetStreak:r}){const s=Math.min(n/NE*100,100),o=n===NE;return ge.useEffect(()=>{o&&(AE({particleCount:500,startVelocity:60,spread:90,angle:90,gravity:.5,origin:{y:1.2}}),setTimeout(()=>{AE({particleCount:500,startVelocity:60,spread:90,angle:90,gravity:.5,origin:{y:1.2}})},500))},[o]),ae.jsx("div",{className:"streak-wrapper",children:ae.jsxs("div",{className:"streak-bar-background",children:[ae.jsx(KM.div,{className:"streak-bar-fill",initial:{width:0},animate:{width:`${s}%`},transition:{duration:.4}}),ae.jsxs("div",{className:"streak-bar-content",children:[ae.jsx("span",{className:"streak-text",children:"17 richtige Fragen"}),o&&ae.jsx("button",{className:"streak-reset-inline",onClick:r,children:"Reset"})]})]})})}function JM({onClose:n,questions:e}){const[r,s]=ge.useState([]),[o,u]=ge.useState(0),[h,d]=ge.useState(0);ge.useEffect(()=>{Pn("stats_modal_opened");const I=d4(JA(cl,"questionStats"),j=>{const q=[];let F=0,X=0;j.forEach(te=>{const se=te.data();q.push({id:te.id,...se}),F+=se.total||0,X+=se.correct||0}),s(q),u(F),d(X)});return()=>I()},[]);const m=o?Math.round(h/o*100):0,g=[...r].filter(I=>I.correct>0).sort((I,j)=>j.correct-I.correct).slice(0,3),v=[...r].filter(I=>I.wrong>0).sort((I,j)=>j.wrong-I.wrong).slice(0,3),E=I=>{if(!Array.isArray(e))return`Frage #${I}`;const j=e.find(q=>String(q.id)===String(I));return(j==null?void 0:j.question)||`Frage #${I}`},T=(I,j)=>{Pn("stats_question_clicked",{question_id:I,type:j});const q=e.findIndex(F=>String(F.id)===String(I));q!==-1&&n(q)};return ae.jsx("div",{className:"about-modal-overlay",onClick:I=>{I.target.classList.contains("about-modal-overlay")&&n()},children:ae.jsxs("div",{className:"about-modal",children:[ae.jsx("button",{className:"close-button",onClick:()=>n(),children:"×"}),ae.jsx("h2",{className:"text-xl font-bold mb-4",children:"Globale Statistiken"}),ae.jsxs("div",{className:"modal-content",children:[ae.jsxs("div",{className:"stats-summary",children:[ae.jsxs("div",{className:"stats-summary-box",children:[ae.jsxs("p",{className:"text-sm",children:["Beantwortete",ae.jsx("br",{}),"Fragen"]}),ae.jsx("p",{className:"big-number",children:o})]}),ae.jsxs("div",{className:"stats-summary-box",children:[ae.jsxs("p",{className:"text-sm",children:["Richtig",ae.jsx("br",{}),"beantwortet"]}),ae.jsxs("p",{className:"big-number",children:[m,"%"]})]})]}),ae.jsxs("h3",{className:"modal-subtitle text-lg font-semibold mb-2",children:["Top 3 ",ae.jsx("span",{className:"green-text",children:"Richtig"})," beantwortete Fragen"]}),ae.jsx("div",{className:"answer-list mb-4",children:g.map(I=>ae.jsx("div",{className:"answer-button text-sm",onClick:()=>T(I.id,"correct"),children:E(I.id)},I.id))}),ae.jsxs("h3",{className:"modal-subtitle text-lg font-semibold mb-2",children:["Top 3 ",ae.jsx("span",{className:"red-text",children:"Falsch"})," beantwortete Fragen"]}),ae.jsx("div",{className:"answer-list",children:v.map(I=>ae.jsx("div",{className:"answer-button text-sm",onClick:()=>T(I.id,"wrong"),children:E(I.id)},I.id))})]})]})})}function ZM(){const[n,e]=ge.useState(()=>localStorage.getItem("user_consent")==="true");ge.useEffect(()=>{var s;n||(s=window.gtag)==null||s.call(window,"consent","default",{ad_storage:"denied",analytics_storage:"granted"})},[n]);const r=()=>{var s;localStorage.setItem("user_consent","true"),e(!0),(s=window.gtag)==null||s.call(window,"consent","update",{ad_storage:"granted",analytics_storage:"granted"}),console.log("✅ User accepted cookies")};return n?null:ae.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(255, 255, 255, 0.5)",zIndex:9999,display:"flex",justifyContent:"center",alignItems:"center",padding:"1rem"},children:ae.jsxs("div",{style:{background:"white",color:"#222",borderRadius:"12px",padding:"24px",maxWidth:"300px",textAlign:"center",boxShadow:"0 6px 16px rgba(0,0,0,0.1)"},children:[ae.jsx("p",{style:{marginBottom:"16px",fontSize:"15px",lineHeight:1.5},children:"Diese Website verwendet Google Analytics, um anonyme Nutzungsdaten zu sammeln. Keine persönlichen Daten werden gespeichert oder weitergegeben."}),ae.jsx("button",{onClick:r,style:{fontSize:"15px",padding:"10px 16px",fontWeight:"500",backgroundColor:"var(--color-primary)",color:"white",borderRadius:"8px",border:"none",cursor:"pointer"},children:"OK, verstanden"})]})})}function e6(){var n,e,r,s,o;const[u,h]=ge.useState([]),[d,m]=ge.useState(0),[g,v]=ge.useState(null),[E,T]=ge.useState(!0),[I,j]=ge.useState(!1),[q,F]=ge.useState(!1),[X,te]=ge.useState(0),[se,pe]=ge.useState(!1),le=new Set([21,55,70,130,176,181,187,209,216,226,235,301,308]);ge.useEffect(()=>{const P=setInterval(()=>{var O;(window.gtag||(O=window.firebase)!=null&&O.analytics)&&(Pn("session_start"),clearInterval(P))},100);return fetch("/data/questions.json").then(O=>O.json()).then(O=>{const V=O.map($e=>{var Be;const $=$e.question_number;return{id:$??"N/A",question:$e.question??"No question provided",answers:$e.options??[],correct:((Be=$e.options)==null?void 0:Be.indexOf($e.correct_answer))??-1,imageId:le.has($)?$:null}});h(V);const N=Math.floor(Math.random()*V.length);m(N),T(!1)}).catch(O=>{console.error("❌ Failed to load questions:",O),T(!1)}),()=>clearInterval(P)},[]);const ye=async P=>{var O,V;const N=P===((O=u[d])==null?void 0:O.correct);v(P);const $e=N?X+1:0;te($e),$e===17&&(Pn("completed_streak_17"),pe(!0),setTimeout(()=>pe(!1),3e3));const Be=String((V=u[d])==null?void 0:V.id);Pn("question_answered",{question_id:Be,correct:N});let $=Number(sessionStorage.getItem("answered_count")||0)+1;sessionStorage.setItem("answered_count",$),$===3&&(Pn("answered_3_in_session"),console.log("🎯 Logged: answered_3_in_session"));try{const re=Ec(cl,"questionStats",Be);await Vb(re,{total:Pi(1),correct:Pi(N?1:0),wrong:Pi(N?0:1)})}catch(re){re.code==="not-found"?await Lb(Ec(cl,"questionStats",Be),{total:1,correct:N?1:0,wrong:N?0:1}):console.error("❌ Firestore update failed:",re)}try{const re=Ec(cl,"metrics","totals");await Vb(re,{total:Pi(1),correct:Pi(N?1:0),wrong:Pi(N?0:1)})}catch(re){re.code==="not-found"?await Lb(Ec(cl,"metrics","totals"),{total:1,correct:N?1:0,wrong:N?0:1}):console.error("❌ Failed to update global totals:",re)}},M=()=>{v(null),m(Math.floor(Math.random()*u.length)),Pn("random_question_clicked")},_=()=>{F(!1),j(!0),Pn("about_modal_opened")},A=()=>{j(!1),F(!0),Pn("stats_modal_opened")};return ae.jsxs("div",{className:"app-wrapper",children:[ae.jsx("header",{className:"app-header",children:ae.jsxs("div",{className:"header-inner",children:[ae.jsx("div",{className:"header-titles",children:ae.jsx("h1",{className:"app-title",children:"Fragen Katalog"})}),ae.jsxs("div",{className:"header-links",children:[ae.jsx("a",{href:"#",className:"about-link",onClick:P=>{P.preventDefault(),A()},children:"Statistiken"}),ae.jsx("a",{href:"#",className:"about-link",onClick:P=>{P.preventDefault(),_()},children:"Über"})]})]})}),ae.jsx("main",{className:"main-content",children:E?ae.jsx("p",{className:"loading-text",children:"Loading questions..."}):ae.jsxs(ae.Fragment,{children:[ae.jsx(YM,{streak:X,triggerCelebration:se,onResetStreak:()=>te(0)}),ae.jsx(g4,{id:(n=u[d])==null?void 0:n.id,question:(e=u[d])==null?void 0:e.question,answers:(r=u[d])==null?void 0:r.answers,correctIndex:(s=u[d])==null?void 0:s.correct,selectedAnswer:g,onSelectAnswer:ye,imageId:(o=u[d])==null?void 0:o.imageId}),ae.jsx("div",{className:"controls",children:ae.jsx("button",{className:"controls-button",onClick:()=>{Pn("next_question_clicked"),M()},children:"Nächste Frage"})}),ae.jsx("div",{style:{height:"10px"}})]})}),I&&!q&&ae.jsx(y4,{onClose:()=>j(!1)}),q&&!I&&ae.jsx(JM,{onClose:P=>{F(!1),typeof P=="number"&&m(P)},questions:u}),ae.jsx(ZM,{}),!I&&!q&&ae.jsx("div",{style:{position:"fixed",bottom:16,right:16,zIndex:1e3,width:"100%",maxWidth:"200px"},children:ae.jsx(Bb,{})})]})}(function(n,e,r,s,o,u,h){n[r]=n[r]||function(){(n[r].q=n[r].q||[]).push(arguments)},u=e.createElement(s),u.async=1,u.src="https://www.clarity.ms/tag/qyg3chkjg3",h=e.getElementsByTagName(s)[0],h.parentNode.insertBefore(u,h)})(window,document,"clarity","script"),YT.createRoot(document.getElementById("root")).render(ae.jsx(qT.StrictMode,{children:ae.jsx(e6,{})}))});C3();
