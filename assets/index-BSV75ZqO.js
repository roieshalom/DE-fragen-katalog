(function(){const wi=document.createElement("link").relList;if(wi&&wi.supports&&wi.supports("modulepreload"))return;for(const St of document.querySelectorAll('link[rel="modulepreload"]'))Ma(St);new MutationObserver(St=>{for(const En of St)if(En.type==="childList")for(const La of En.addedNodes)La.tagName==="LINK"&&La.rel==="modulepreload"&&Ma(La)}).observe(document,{childList:!0,subtree:!0});function Nu(St){const En={};return St.integrity&&(En.integrity=St.integrity),St.referrerPolicy&&(En.referrerPolicy=St.referrerPolicy),St.crossOrigin==="use-credentials"?En.credentials="include":St.crossOrigin==="anonymous"?En.credentials="omit":En.credentials="same-origin",En}function Ma(St){if(St.ep)return;St.ep=!0;const En=Nu(St);fetch(St.href,En)}})();var T6=(cd,wi)=>()=>(wi||cd((wi={exports:{}}).exports,wi),wi.exports),C6=T6((cd,qc)=>{(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function e(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=e(o);fetch(o.href,a)}})();function Nu(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ma={exports:{}},St={};/**
* @license React
* react-jsx-runtime.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var En;function La(){if(En)return St;En=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(o,a,u){var h=null;if(u!==void 0&&(h=""+u),a.key!==void 0&&(h=""+a.key),"key"in a){u={};for(var f in a)f!=="key"&&(u[f]=a[f])}else u=a;return a=u.ref,{$$typeof:n,type:o,key:h,ref:a!==void 0?a:null,props:u}}return St.Fragment=e,St.jsx=r,St.jsxs=r,St}var Hg;function z2(){return Hg||(Hg=1,Ma.exports=La()),Ma.exports}var ie=z2(),Xg={exports:{}},De={};/**
* @license React
* react.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Qg;function q2(){if(Qg)return De;Qg=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function x(k){return k===null||typeof k!="object"?null:(k=E&&k[E]||k["@@iterator"],typeof k=="function"?k:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,B={};function j(k,C,G){this.props=k,this.context=C,this.refs=B,this.updater=G||I}j.prototype.isReactComponent={},j.prototype.setState=function(k,C){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,C,"setState")},j.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function Q(){}Q.prototype=j.prototype;function te(k,C,G){this.props=k,this.context=C,this.refs=B,this.updater=G||I}var oe=te.prototype=new Q;oe.constructor=te,V(oe,j.prototype),oe.isPureReactComponent=!0;var pe=Array.isArray,le={H:null,A:null,T:null,S:null,V:null},ye=Object.prototype.hasOwnProperty;function M(k,C,G,X,se,ce){return G=ce.ref,{$$typeof:n,type:k,key:C,ref:G!==void 0?G:null,props:ce}}function A(k,C){return M(k.type,C,void 0,void 0,void 0,k.props)}function D(k){return typeof k=="object"&&k!==null&&k.$$typeof===n}function N(k){var C={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(G){return C[G]})}var L=/\/+/g;function O(k,C){return typeof k=="object"&&k!==null&&k.key!=null?N(""+k.key):C.toString(36)}function _(){}function $e(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(_,_):(k.status="pending",k.then(function(C){k.status==="pending"&&(k.status="fulfilled",k.value=C)},function(C){k.status==="pending"&&(k.status="rejected",k.reason=C)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function Ue(k,C,G,X,se){var ce=typeof k;(ce==="undefined"||ce==="boolean")&&(k=null);var ae=!1;if(k===null)ae=!0;else switch(ce){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(k.$$typeof){case n:case e:ae=!0;break;case v:return ae=k._init,Ue(ae(k._payload),C,G,X,se)}}if(ae)return se=se(k),ae=X===""?"."+O(k,0):X,pe(se)?(G="",ae!=null&&(G=ae.replace(L,"$&/")+"/"),Ue(se,C,G,"",function(_e){return _e})):se!=null&&(D(se)&&(se=A(se,G+(se.key==null||k&&k.key===se.key?"":(""+se.key).replace(L,"$&/")+"/")+ae)),C.push(se)),1;ae=0;var me=X===""?".":X+":";if(pe(k))for(var ve=0;ve<k.length;ve++)X=k[ve],ce=me+O(X,ve),ae+=Ue(X,C,G,ce,se);else if(ve=x(k),typeof ve=="function")for(k=ve.call(k),ve=0;!(X=k.next()).done;)X=X.value,ce=me+O(X,ve++),ae+=Ue(X,C,G,ce,se);else if(ce==="object"){if(typeof k.then=="function")return Ue($e(k),C,G,X,se);throw C=String(k),Error("Objects are not valid as a React child (found: "+(C==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":C)+"). If you meant to render a collection of children, use an array instead.")}return ae}function W(k,C,G){if(k==null)return k;var X=[],se=0;return Ue(k,X,"","",function(ce){return C.call(G,ce,se++)}),X}function re(k){if(k._status===-1){var C=k._result;C=C(),C.then(function(G){(k._status===0||k._status===-1)&&(k._status=1,k._result=G)},function(G){(k._status===0||k._status===-1)&&(k._status=2,k._result=G)}),k._status===-1&&(k._status=0,k._result=C)}if(k._status===1)return k._result.default;throw k._result}var de=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var C=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(C))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function Ne(){}return De.Children={map:W,forEach:function(k,C,G){W(k,function(){C.apply(this,arguments)},G)},count:function(k){var C=0;return W(k,function(){C++}),C},toArray:function(k){return W(k,function(C){return C})||[]},only:function(k){if(!D(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},De.Component=j,De.Fragment=r,De.Profiler=a,De.PureComponent=te,De.StrictMode=o,De.Suspense=m,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,De.__COMPILER_RUNTIME={__proto__:null,c:function(k){return le.H.useMemoCache(k)}},De.cache=function(k){return function(){return k.apply(null,arguments)}},De.cloneElement=function(k,C,G){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var X=V({},k.props),se=k.key,ce=void 0;if(C!=null)for(ae in C.ref!==void 0&&(ce=void 0),C.key!==void 0&&(se=""+C.key),C)!ye.call(C,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&C.ref===void 0||(X[ae]=C[ae]);var ae=arguments.length-2;if(ae===1)X.children=G;else if(1<ae){for(var me=Array(ae),ve=0;ve<ae;ve++)me[ve]=arguments[ve+2];X.children=me}return M(k.type,se,void 0,void 0,ce,X)},De.createContext=function(k){return k={$$typeof:h,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},De.createElement=function(k,C,G){var X,se={},ce=null;if(C!=null)for(X in C.key!==void 0&&(ce=""+C.key),C)ye.call(C,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(se[X]=C[X]);var ae=arguments.length-2;if(ae===1)se.children=G;else if(1<ae){for(var me=Array(ae),ve=0;ve<ae;ve++)me[ve]=arguments[ve+2];se.children=me}if(k&&k.defaultProps)for(X in ae=k.defaultProps,ae)se[X]===void 0&&(se[X]=ae[X]);return M(k,ce,void 0,void 0,null,se)},De.createRef=function(){return{current:null}},De.forwardRef=function(k){return{$$typeof:f,render:k}},De.isValidElement=D,De.lazy=function(k){return{$$typeof:v,_payload:{_status:-1,_result:k},_init:re}},De.memo=function(k,C){return{$$typeof:g,type:k,compare:C===void 0?null:C}},De.startTransition=function(k){var C=le.T,G={};le.T=G;try{var X=k(),se=le.S;se!==null&&se(G,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(Ne,de)}catch(ce){de(ce)}finally{le.T=C}},De.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},De.use=function(k){return le.H.use(k)},De.useActionState=function(k,C,G){return le.H.useActionState(k,C,G)},De.useCallback=function(k,C){return le.H.useCallback(k,C)},De.useContext=function(k){return le.H.useContext(k)},De.useDebugValue=function(){},De.useDeferredValue=function(k,C){return le.H.useDeferredValue(k,C)},De.useEffect=function(k,C,G){var X=le.H;if(typeof G=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return X.useEffect(k,C)},De.useId=function(){return le.H.useId()},De.useImperativeHandle=function(k,C,G){return le.H.useImperativeHandle(k,C,G)},De.useInsertionEffect=function(k,C){return le.H.useInsertionEffect(k,C)},De.useLayoutEffect=function(k,C){return le.H.useLayoutEffect(k,C)},De.useMemo=function(k,C){return le.H.useMemo(k,C)},De.useOptimistic=function(k,C){return le.H.useOptimistic(k,C)},De.useReducer=function(k,C,G){return le.H.useReducer(k,C,G)},De.useRef=function(k){return le.H.useRef(k)},De.useState=function(k){return le.H.useState(k)},De.useSyncExternalStore=function(k,C,G){return le.H.useSyncExternalStore(k,C,G)},De.useTransition=function(){return le.H.useTransition()},De.version="19.1.1",De}var Gg;function hd(){return Gg||(Gg=1,Xg.exports=q2()),Xg.exports}var ge=hd();const B2=Nu(ge);var dd={exports:{}},Ra={},Yg={exports:{}},Zg={};/**
* @license React
* scheduler.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Jg;function $2(){return Jg||(Jg=1,(function(n){function e(W,re){var de=W.length;W.push(re);e:for(;0<de;){var Ne=de-1>>>1,k=W[Ne];if(0<a(k,re))W[Ne]=re,W[de]=k,de=Ne;else break e}}function r(W){return W.length===0?null:W[0]}function o(W){if(W.length===0)return null;var re=W[0],de=W.pop();if(de!==re){W[0]=de;e:for(var Ne=0,k=W.length,C=k>>>1;Ne<C;){var G=2*(Ne+1)-1,X=W[G],se=G+1,ce=W[se];if(0>a(X,de))se<k&&0>a(ce,X)?(W[Ne]=ce,W[se]=de,Ne=se):(W[Ne]=X,W[G]=de,Ne=G);else if(se<k&&0>a(ce,de))W[Ne]=ce,W[se]=de,Ne=se;else break e}}return re}function a(W,re){var de=W.sortIndex-re.sortIndex;return de!==0?de:W.id-re.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var h=Date,f=h.now();n.unstable_now=function(){return h.now()-f}}var m=[],g=[],v=1,E=null,x=3,I=!1,V=!1,B=!1,j=!1,Q=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,oe=typeof setImmediate<"u"?setImmediate:null;function pe(W){for(var re=r(g);re!==null;){if(re.callback===null)o(g);else if(re.startTime<=W)o(g),re.sortIndex=re.expirationTime,e(m,re);else break;re=r(g)}}function le(W){if(B=!1,pe(W),!V)if(r(m)!==null)V=!0,ye||(ye=!0,O());else{var re=r(g);re!==null&&Ue(le,re.startTime-W)}}var ye=!1,M=-1,A=5,D=-1;function N(){return j?!0:!(n.unstable_now()-D<A)}function L(){if(j=!1,ye){var W=n.unstable_now();D=W;var re=!0;try{e:{V=!1,B&&(B=!1,te(M),M=-1),I=!0;var de=x;try{t:{for(pe(W),E=r(m);E!==null&&!(E.expirationTime>W&&N());){var Ne=E.callback;if(typeof Ne=="function"){E.callback=null,x=E.priorityLevel;var k=Ne(E.expirationTime<=W);if(W=n.unstable_now(),typeof k=="function"){E.callback=k,pe(W),re=!0;break t}E===r(m)&&o(m),pe(W)}else o(m);E=r(m)}if(E!==null)re=!0;else{var C=r(g);C!==null&&Ue(le,C.startTime-W),re=!1}}break e}finally{E=null,x=de,I=!1}re=void 0}}finally{re?O():ye=!1}}}var O;if(typeof oe=="function")O=function(){oe(L)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,$e=_.port2;_.port1.onmessage=L,O=function(){$e.postMessage(null)}}else O=function(){Q(L,0)};function Ue(W,re){M=Q(function(){W(n.unstable_now())},re)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(W){switch(x){case 1:case 2:case 3:var re=3;break;default:re=x}var de=x;x=re;try{return W()}finally{x=de}},n.unstable_requestPaint=function(){j=!0},n.unstable_runWithPriority=function(W,re){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var de=x;x=W;try{return re()}finally{x=de}},n.unstable_scheduleCallback=function(W,re,de){var Ne=n.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Ne+de:Ne):de=Ne,W){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=de+k,W={id:v++,callback:re,priorityLevel:W,startTime:de,expirationTime:k,sortIndex:-1},de>Ne?(W.sortIndex=de,e(g,W),r(m)===null&&W===r(g)&&(B?(te(M),M=-1):B=!0,Ue(le,de-Ne))):(W.sortIndex=k,e(m,W),V||I||(V=!0,ye||(ye=!0,O()))),W},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(W){var re=x;return function(){var de=x;x=re;try{return W.apply(this,arguments)}finally{x=de}}}})(Zg)),Zg}var ey;function W2(){return ey||(ey=1,Yg.exports=$2()),Yg.exports}var fd={exports:{}},ln={};/**
* @license React
* react-dom.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var ty;function K2(){if(ty)return ln;ty=1;var n=hd();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var o={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function u(m,g,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:E==null?null:""+E,children:m,containerInfo:g,implementation:v}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,ln.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(m,g,null,v)},ln.flushSync=function(m){var g=h.T,v=o.p;try{if(h.T=null,o.p=2,m)return m()}finally{h.T=g,o.p=v,o.d.f()}},ln.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,o.d.C(m,g))},ln.prefetchDNS=function(m){typeof m=="string"&&o.d.D(m)},ln.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,E=f(v,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,I=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?o.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:x,fetchPriority:I}):v==="script"&&o.d.X(m,{crossOrigin:E,integrity:x,fetchPriority:I,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ln.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=f(g.as,g.crossOrigin);o.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&o.d.M(m)},ln.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,E=f(v,g.crossOrigin);o.d.L(m,v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ln.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=f(g.as,g.crossOrigin);o.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else o.d.m(m)},ln.requestFormReset=function(m){o.d.r(m)},ln.unstable_batchedUpdates=function(m,g){return m(g)},ln.useFormState=function(m,g,v){return h.H.useFormState(m,g,v)},ln.useFormStatus=function(){return h.H.useHostTransitionStatus()},ln.version="19.1.1",ln}var ny;function H2(){if(ny)return fd.exports;ny=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),fd.exports=K2(),fd.exports}/**
* @license React
* react-dom-client.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var ry;function X2(){if(ry)return Ra;ry=1;var n=W2(),e=hd(),r=H2();function o(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function f(t){if(u(t)!==t)throw Error(o(188))}function m(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(o(188));return i!==t?null:t}for(var s=t,l=i;;){var d=s.return;if(d===null)break;var p=d.alternate;if(p===null){if(l=d.return,l!==null){s=l;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===s)return f(d),t;if(p===l)return f(d),i;p=p.sibling}throw Error(o(188))}if(s.return!==l.return)s=d,l=p;else{for(var w=!1,S=d.child;S;){if(S===s){w=!0,s=d,l=p;break}if(S===l){w=!0,l=d,s=p;break}S=S.sibling}if(!w){for(S=p.child;S;){if(S===s){w=!0,s=p,l=d;break}if(S===l){w=!0,l=p,s=d;break}S=S.sibling}if(!w)throw Error(o(189))}}if(s.alternate!==l)throw Error(o(190))}if(s.tag!==3)throw Error(o(188));return s.stateNode.current===s?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),te=Symbol.for("react.consumer"),oe=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function O(t){return t===null||typeof t!="object"?null:(t=L&&t[L]||t["@@iterator"],typeof t=="function"?t:null)}var _=Symbol.for("react.client.reference");function $e(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===_?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case V:return"Fragment";case j:return"Profiler";case B:return"StrictMode";case le:return"Suspense";case ye:return"SuspenseList";case D:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case I:return"Portal";case oe:return(t.displayName||"Context")+".Provider";case te:return(t._context.displayName||"Context")+".Consumer";case pe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case M:return i=t.displayName||null,i!==null?i:$e(t.type)||"Memo";case A:i=t._payload,t=t._init;try{return $e(t(i))}catch{}}return null}var Ue=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Ne=[],k=-1;function C(t){return{current:t}}function G(t){0>k||(t.current=Ne[k],Ne[k]=null,k--)}function X(t,i){k++,Ne[k]=t.current,t.current=i}var se=C(null),ce=C(null),ae=C(null),me=C(null);function ve(t,i){switch(X(ae,i),X(ce,t),X(se,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?m2(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=m2(i),t=g2(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}G(se),X(se,t)}function _e(){G(se),G(ce),G(ae)}function ot(t){t.memoizedState!==null&&X(me,t);var i=se.current,s=g2(i,t.type);i!==s&&(X(ce,t),X(se,s))}function Oe(t){ce.current===t&&(G(se),G(ce)),me.current===t&&(G(me),Au._currentValue=de)}var et=Object.prototype.hasOwnProperty,yt=n.unstable_scheduleCallback,Pe=n.unstable_cancelCallback,Nt=n.unstable_shouldYield,fn=n.unstable_requestPaint,dt=n.unstable_now,Nn=n.unstable_getCurrentPriorityLevel,Mn=n.unstable_ImmediatePriority,en=n.unstable_UserBlockingPriority,Wr=n.unstable_NormalPriority,Cl=n.unstable_LowPriority,qi=n.unstable_IdlePriority,Bi=n.log,qs=n.unstable_setDisableYieldValue,ct=null,He=null;function gn(t){if(typeof Bi=="function"&&qs(t),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(ct,t)}catch{}}var Vt=Math.clz32?Math.clz32:Kr,Oo=Math.log,Fo=Math.LN2;function Kr(t){return t>>>=0,t===0?32:31-(Oo(t)/Fo|0)|0}var Hr=256,Vo=4194304;function ar(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Bs(t,i,s){var l=t.pendingLanes;if(l===0)return 0;var d=0,p=t.suspendedLanes,w=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~p,l!==0?d=ar(l):(w&=S,w!==0?d=ar(w):s||(s=S&~t,s!==0&&(d=ar(s))))):(S=l&~p,S!==0?d=ar(S):w!==0?d=ar(w):s||(s=l&~t,s!==0&&(d=ar(s)))),d===0?0:i!==0&&i!==d&&(i&p)===0&&(p=d&-d,s=i&-i,p>=s||p===32&&(s&4194048)!==0)?i:d}function jo(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Al(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Il(){var t=Hr;return Hr<<=1,(Hr&4194048)===0&&(Hr=256),t}function Dl(){var t=Vo;return Vo<<=1,(Vo&62914560)===0&&(Vo=4194304),t}function Xr(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function Qr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function _l(t,i,s,l,d,p){var w=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var S=t.entanglements,P=t.expirationTimes,q=t.hiddenUpdates;for(s=w&~s;0<s;){var Y=31-Vt(s),ee=1<<Y;S[Y]=0,P[Y]=-1;var $=q[Y];if($!==null)for(q[Y]=null,Y=0;Y<$.length;Y++){var K=$[Y];K!==null&&(K.lane&=-536870913)}s&=~ee}l!==0&&xr(t,l,0),p!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=p&~(w&~i))}function xr(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Vt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194090}function Pl(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var l=31-Vt(s),d=1<<l;d&i|t[l]&i&&(t[l]|=i),s&=~d}}function $i(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function $s(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Wi(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:R2(t.type))}function Bc(t,i){var s=re.p;try{return re.p=t,i()}finally{re.p=s}}var ft=Math.random().toString(36).slice(2),jt="__reactFiber$"+ft,Mt="__reactProps$"+ft,Hn="__reactContainer$"+ft,Nl="__reactEvents$"+ft,Gp="__reactListeners$"+ft,Ki="__reactHandles$"+ft,$c="__reactResources$"+ft,Uo="__reactMarker$"+ft;function Hi(t){delete t[jt],delete t[Mt],delete t[Nl],delete t[Gp],delete t[Ki]}function Gr(t){var i=t[jt];if(i)return i;for(var s=t.parentNode;s;){if(i=s[Hn]||s[jt]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=w2(t);t!==null;){if(s=t[jt])return s;t=w2(t)}return i}t=s,s=t.parentNode}return null}function Tr(t){if(t=t[jt]||t[Hn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Cr(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(o(33))}function yn(t){var i=t[$c];return i||(i=t[$c]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Tt(t){t[Uo]=!0}var Ml=new Set,Ws={};function lr(t,i){Yr(t,i),Yr(t+"Capture",i)}function Yr(t,i){for(Ws[t]=i,t=0;t<i.length;t++)Ml.add(i[t])}var Wc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Kc={},zo={};function Hc(t){return et.call(zo,t)?!0:et.call(Kc,t)?!1:Wc.test(t)?zo[t]=!0:(Kc[t]=!0,!1)}function Xi(t,i,s){if(Hc(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function Ar(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function tn(t,i,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+l)}}var qo,Xc;function Zr(t){if(qo===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);qo=i&&i[1]||"",Xc=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qo+t+Xc}var Ks=!1;function Hs(t,i){if(!t||Ks)return"";Ks=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(K){var $=K}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(K){$=K}t.call(ee.prototype)}}else{try{throw Error()}catch(K){$=K}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(K){if(K&&$&&typeof K.stack=="string")return[K.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),w=p[0],S=p[1];if(w&&S){var P=w.split(`
`),q=S.split(`
`);for(d=l=0;l<P.length&&!P[l].includes("DetermineComponentFrameRoot");)l++;for(;d<q.length&&!q[d].includes("DetermineComponentFrameRoot");)d++;if(l===P.length||d===q.length)for(l=P.length-1,d=q.length-1;1<=l&&0<=d&&P[l]!==q[d];)d--;for(;1<=l&&0<=d;l--,d--)if(P[l]!==q[d]){if(l!==1||d!==1)do if(l--,d--,0>d||P[l]!==q[d]){var Y=`
`+P[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=d);break}}}finally{Ks=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Zr(s):""}function Ll(t){switch(t.tag){case 26:case 27:case 5:return Zr(t.type);case 16:return Zr("Lazy");case 13:return Zr("Suspense");case 19:return Zr("SuspenseList");case 0:case 15:return Hs(t.type,!1);case 11:return Hs(t.type.render,!1);case 1:return Hs(t.type,!0);case 31:return Zr("Activity");default:return""}}function Xs(t){try{var i="";do i+=Ll(t),t=t.return;while(t);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function vn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Rl(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Yp(t){var i=Rl(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,p=s.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return d.call(this)},set:function(w){l=""+w,p.call(this,w)}}),Object.defineProperty(t,i,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(w){l=""+w},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Qs(t){t._valueTracker||(t._valueTracker=Yp(t))}function Ol(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return t&&(l=Rl(t)?t.checked?"true":"false":t.value),t=l,t!==s?(i.setValue(t),!0):!1}function Bo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Zp=/[\n"\\]/g;function Ut(t){return t.replace(Zp,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ln(t,i,s,l,d,p,w,S){t.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.type=w:t.removeAttribute("type"),i!=null?w==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+vn(i)):t.value!==""+vn(i)&&(t.value=""+vn(i)):w!=="submit"&&w!=="reset"||t.removeAttribute("value"),i!=null?Qi(t,w,vn(i)):s!=null?Qi(t,w,vn(s)):l!=null&&t.removeAttribute("value"),d==null&&p!=null&&(t.defaultChecked=!!p),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+vn(S):t.removeAttribute("name")}function $o(t,i,s,l,d,p,w,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.type=p),i!=null||s!=null){if(!(p!=="submit"&&p!=="reset"||i!=null))return;s=s!=null?""+vn(s):"",i=i!=null?""+vn(i):s,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(t.name=w)}function Qi(t,i,s){i==="number"&&Bo(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Jr(t,i,s,l){if(t=t.options,i){i={};for(var d=0;d<s.length;d++)i["$"+s[d]]=!0;for(s=0;s<t.length;s++)d=i.hasOwnProperty("$"+t[s].value),t[s].selected!==d&&(t[s].selected=d),d&&l&&(t[s].defaultSelected=!0)}else{for(s=""+vn(s),i=null,d=0;d<t.length;d++){if(t[d].value===s){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}i!==null||t[d].disabled||(i=t[d])}i!==null&&(i.selected=!0)}}function tt(t,i,s){if(i!=null&&(i=""+vn(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+vn(s):""}function Wo(t,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(o(92));if(Ue(l)){if(1<l.length)throw Error(o(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=vn(i),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function Xn(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var Ko=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qc(t,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,s):typeof s!="number"||s===0||Ko.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function Fl(t,i,s){if(i!=null&&typeof i!="object")throw Error(o(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in i)l=i[d],i.hasOwnProperty(d)&&s[d]!==l&&Qc(t,d,l)}else for(var p in i)i.hasOwnProperty(p)&&Qc(t,p,i[p])}function Vl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),em=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gs(t){return em.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var ei=null;function Qn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ti=null,ni=null;function jl(t){var i=Tr(t);if(i&&(t=i.stateNode)){var s=t[Mt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ln(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Ut(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==t&&l.form===t.form){var d=l[Mt]||null;if(!d)throw Error(o(90));Ln(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===t.form&&Ol(l)}break e;case"textarea":tt(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&Jr(t,!!s.multiple,i,!1)}}}var Ir=!1;function Gc(t,i,s){if(Ir)return t(i,s);Ir=!0;try{var l=t(i);return l}finally{if(Ir=!1,(ti!==null||ni!==null)&&(Bh(),ti&&(i=ti,t=ni,ni=ti=null,jl(i),t)))for(i=0;i<t.length;i++)jl(t[i])}}function Ho(t,i){var s=t.stateNode;if(s===null)return null;var l=s[Mt]||null;if(l===null)return null;s=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(o(231,i,typeof s));return s}var ur=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gn=!1;if(ur)try{var Xo={};Object.defineProperty(Xo,"passive",{get:function(){Gn=!0}}),window.addEventListener("test",Xo,Xo),window.removeEventListener("test",Xo,Xo)}catch{Gn=!1}var Dr=null,Gi=null,ri=null;function Ul(){if(ri)return ri;var t,i=Gi,s=i.length,l,d="value"in Dr?Dr.value:Dr.textContent,p=d.length;for(t=0;t<s&&i[t]===d[t];t++);var w=s-t;for(l=1;l<=w&&i[s-l]===d[p-l];l++);return ri=d.slice(t,1<l?1-l:void 0)}function _r(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Pr(){return!0}function zl(){return!1}function Wt(t){function i(s,l,d,p,w){this._reactName=s,this._targetInst=d,this.type=l,this.nativeEvent=p,this.target=w,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(s=t[S],this[S]=s?s(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Pr:zl,this.isPropagationStopped=zl,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Pr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Pr)},persist:function(){},isPersistent:Pr}),i}var Ye={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ys=Wt(Ye),Qo=v({},Ye,{view:0,detail:0}),Yc=Wt(Qo),Zs,Js,Nr,Go=v({},Qo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jo,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Nr&&(Nr&&t.type==="mousemove"?(Zs=t.screenX-Nr.screenX,Js=t.screenY-Nr.screenY):Js=Zs=0,Nr=t),Zs)},movementY:function(t){return"movementY"in t?t.movementY:Js}}),Yn=Wt(Go),Zc=v({},Go,{dataTransfer:0}),tm=Wt(Zc),Yo=v({},Qo,{relatedTarget:0}),ea=Wt(Yo),ql=v({},Ye,{animationName:0,elapsedTime:0,pseudoElement:0}),ta=Wt(ql),Jc=v({},Ye,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),na=Wt(Jc),nm=v({},Ye,{data:0}),Bl=Wt(nm),Zo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},th={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $l(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=th[t])?!!i[t]:!1}function Jo(){return $l}var nh=v({},Qo,{key:function(t){if(t.key){var i=Zo[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=_r(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?eh[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jo,charCode:function(t){return t.type==="keypress"?_r(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_r(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ra=Wt(nh),rh=v({},Go,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wl=Wt(rh),ii=v({},Qo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jo}),ih=Wt(ii),oh=v({},Ye,{propertyName:0,elapsedTime:0,pseudoElement:0}),sh=Wt(oh),ah=v({},Go,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ia=Wt(ah),bn=v({},Ye,{newState:0,oldState:0}),lh=Wt(bn),uh=[9,13,27,32],Mr=ur&&"CompositionEvent"in window,c=null;ur&&"documentMode"in document&&(c=document.documentMode);var y=ur&&"TextEvent"in window&&!c,b=ur&&(!Mr||c&&8<c&&11>=c),T=" ",U=!1;function H(t,i){switch(t){case"keyup":return uh.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ue(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var We=!1;function zt(t,i){switch(t){case"compositionend":return ue(i);case"keypress":return i.which!==32?null:(U=!0,T);case"textInput":return t=i.data,t===T&&U?null:t;default:return null}}function Xe(t,i){if(We)return t==="compositionend"||!Mr&&H(t,i)?(t=Ul(),ri=Gi=Dr=null,We=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return b&&i.locale!=="ko"?null:i.data;default:return null}}var Kt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nn(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Kt[t.type]:i==="textarea"}function oi(t,i,s,l){ti?ni?ni.push(l):ni=[l]:ti=l,i=Qh(i,"onChange"),0<i.length&&(s=new Ys("onChange","change",null,s,l),t.push({event:s,listeners:i}))}var rn=null,Lr=null;function Kl(t){c2(t,0)}function ch(t){var i=Cr(t);if(Ol(i))return t}function PE(t,i){if(t==="change")return i}var NE=!1;if(ur){var rm;if(ur){var im="oninput"in document;if(!im){var ME=document.createElement("div");ME.setAttribute("oninput","return;"),im=typeof ME.oninput=="function"}rm=im}else rm=!1;NE=rm&&(!document.documentMode||9<document.documentMode)}function LE(){rn&&(rn.detachEvent("onpropertychange",RE),Lr=rn=null)}function RE(t){if(t.propertyName==="value"&&ch(Lr)){var i=[];oi(i,Lr,t,Qn(t)),Gc(Kl,i)}}function tL(t,i,s){t==="focusin"?(LE(),rn=i,Lr=s,rn.attachEvent("onpropertychange",RE)):t==="focusout"&&LE()}function nL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ch(Lr)}function rL(t,i){if(t==="click")return ch(i)}function iL(t,i){if(t==="input"||t==="change")return ch(i)}function oL(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Rn=typeof Object.is=="function"?Object.is:oL;function Hl(t,i){if(Rn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var d=s[l];if(!et.call(i,d)||!Rn(t[d],i[d]))return!1}return!0}function OE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function FE(t,i){var s=OE(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=i&&l>=i)return{node:s,offset:i-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=OE(s)}}function VE(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?VE(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function jE(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Bo(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=Bo(t.document)}return i}function om(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var sL=ur&&"documentMode"in document&&11>=document.documentMode,oa=null,sm=null,Xl=null,am=!1;function UE(t,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;am||oa==null||oa!==Bo(l)||(l=oa,"selectionStart"in l&&om(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Xl&&Hl(Xl,l)||(Xl=l,l=Qh(sm,"onSelect"),0<l.length&&(i=new Ys("onSelect","select",null,i,s),t.push({event:i,listeners:l}),i.target=oa)))}function es(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var sa={animationend:es("Animation","AnimationEnd"),animationiteration:es("Animation","AnimationIteration"),animationstart:es("Animation","AnimationStart"),transitionrun:es("Transition","TransitionRun"),transitionstart:es("Transition","TransitionStart"),transitioncancel:es("Transition","TransitionCancel"),transitionend:es("Transition","TransitionEnd")},lm={},zE={};ur&&(zE=document.createElement("div").style,"AnimationEvent"in window||(delete sa.animationend.animation,delete sa.animationiteration.animation,delete sa.animationstart.animation),"TransitionEvent"in window||delete sa.transitionend.transition);function ts(t){if(lm[t])return lm[t];if(!sa[t])return t;var i=sa[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in zE)return lm[t]=i[s];return t}var qE=ts("animationend"),BE=ts("animationiteration"),$E=ts("animationstart"),aL=ts("transitionrun"),lL=ts("transitionstart"),uL=ts("transitioncancel"),WE=ts("transitionend"),KE=new Map,um="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");um.push("scrollEnd");function cr(t,i){KE.set(t,i),lr(i,[t])}var HE=new WeakMap;function Zn(t,i){if(typeof t=="object"&&t!==null){var s=HE.get(t);return s!==void 0?s:(i={value:t,source:i,stack:Xs(i)},HE.set(t,i),i)}return{value:t,source:i,stack:Xs(i)}}var Jn=[],aa=0,cm=0;function hh(){for(var t=aa,i=cm=aa=0;i<t;){var s=Jn[i];Jn[i++]=null;var l=Jn[i];Jn[i++]=null;var d=Jn[i];Jn[i++]=null;var p=Jn[i];if(Jn[i++]=null,l!==null&&d!==null){var w=l.pending;w===null?d.next=d:(d.next=w.next,w.next=d),l.pending=d}p!==0&&XE(s,d,p)}}function dh(t,i,s,l){Jn[aa++]=t,Jn[aa++]=i,Jn[aa++]=s,Jn[aa++]=l,cm|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function hm(t,i,s,l){return dh(t,i,s,l),fh(t)}function la(t,i){return dh(t,null,null,i),fh(t)}function XE(t,i,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var d=!1,p=t.return;p!==null;)p.childLanes|=s,l=p.alternate,l!==null&&(l.childLanes|=s),p.tag===22&&(t=p.stateNode,t===null||t._visibility&1||(d=!0)),t=p,p=p.return;return t.tag===3?(p=t.stateNode,d&&i!==null&&(d=31-Vt(s),t=p.hiddenUpdates,l=t[d],l===null?t[d]=[i]:l.push(i),i.lane=s|536870912),p):null}function fh(t){if(50<bu)throw bu=0,yg=null,Error(o(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ua={};function cL(t,i,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(t,i,s,l){return new cL(t,i,s,l)}function dm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function si(t,i){var s=t.alternate;return s===null?(s=On(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function QE(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function ph(t,i,s,l,d,p){var w=0;if(l=t,typeof t=="function")dm(t)&&(w=1);else if(typeof t=="string")w=d6(t,s,se.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case D:return t=On(31,s,i,d),t.elementType=D,t.lanes=p,t;case V:return ns(s.children,d,p,i);case B:w=8,d|=24;break;case j:return t=On(12,s,i,d|2),t.elementType=j,t.lanes=p,t;case le:return t=On(13,s,i,d),t.elementType=le,t.lanes=p,t;case ye:return t=On(19,s,i,d),t.elementType=ye,t.lanes=p,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Q:case oe:w=10;break e;case te:w=9;break e;case pe:w=11;break e;case M:w=14;break e;case A:w=16,l=null;break e}w=29,s=Error(o(130,t===null?"null":typeof t,"")),l=null}return i=On(w,s,i,d),i.elementType=t,i.type=l,i.lanes=p,i}function ns(t,i,s,l){return t=On(7,t,l,i),t.lanes=s,t}function fm(t,i,s){return t=On(6,t,null,i),t.lanes=s,t}function pm(t,i,s){return i=On(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var ca=[],ha=0,mh=null,gh=0,er=[],tr=0,rs=null,ai=1,li="";function is(t,i){ca[ha++]=gh,ca[ha++]=mh,mh=t,gh=i}function GE(t,i,s){er[tr++]=ai,er[tr++]=li,er[tr++]=rs,rs=t;var l=ai;t=li;var d=32-Vt(l)-1;l&=~(1<<d),s+=1;var p=32-Vt(i)+d;if(30<p){var w=d-d%5;p=(l&(1<<w)-1).toString(32),l>>=w,d-=w,ai=1<<32-Vt(i)+d|s<<d|l,li=p+t}else ai=1<<p|s<<d|l,li=t}function mm(t){t.return!==null&&(is(t,1),GE(t,1,0))}function gm(t){for(;t===mh;)mh=ca[--ha],ca[ha]=null,gh=ca[--ha],ca[ha]=null;for(;t===rs;)rs=er[--tr],er[tr]=null,li=er[--tr],er[tr]=null,ai=er[--tr],er[tr]=null}var wn=null,wt=null,Qe=!1,os=null,Rr=!1,ym=Error(o(519));function ss(t){var i=Error(o(418,""));throw Yl(Zn(i,t)),ym}function YE(t){var i=t.stateNode,s=t.type,l=t.memoizedProps;switch(i[jt]=t,i[Mt]=l,s){case"dialog":Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":case"embed":Ve("load",i);break;case"video":case"audio":for(s=0;s<Eu.length;s++)Ve(Eu[s],i);break;case"source":Ve("error",i);break;case"img":case"image":case"link":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"input":Ve("invalid",i),$o(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Qs(i);break;case"select":Ve("invalid",i);break;case"textarea":Ve("invalid",i),Wo(i,l.value,l.defaultValue,l.children),Qs(i)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||p2(i.textContent,s)?(l.popover!=null&&(Ve("beforetoggle",i),Ve("toggle",i)),l.onScroll!=null&&Ve("scroll",i),l.onScrollEnd!=null&&Ve("scrollend",i),l.onClick!=null&&(i.onclick=Gh),i=!0):i=!1,i||ss(t)}function ZE(t){for(wn=t.return;wn;)switch(wn.tag){case 5:case 13:Rr=!1;return;case 27:case 3:Rr=!0;return;default:wn=wn.return}}function Ql(t){if(t!==wn)return!1;if(!Qe)return ZE(t),Qe=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Mg(t.type,t.memoizedProps)),s=!s),s&&wt&&ss(t),ZE(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(i===0){wt=dr(t.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;t=t.nextSibling}wt=null}}else i===27?(i=wt,fo(t.type)?(t=Fg,Fg=null,wt=t):wt=i):wt=wn?dr(t.stateNode.nextSibling):null;return!0}function Gl(){wt=wn=null,Qe=!1}function JE(){var t=os;return t!==null&&(In===null?In=t:In.push.apply(In,t),os=null),t}function Yl(t){os===null?os=[t]:os.push(t)}var vm=C(null),as=null,ui=null;function Yi(t,i,s){X(vm,i._currentValue),i._currentValue=s}function ci(t){t._currentValue=vm.current,G(vm)}function bm(t,i,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===s)break;t=t.return}}function wm(t,i,s,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var p=d.dependencies;if(p!==null){var w=d.child;p=p.firstContext;e:for(;p!==null;){var S=p;p=d;for(var P=0;P<i.length;P++)if(S.context===i[P]){p.lanes|=s,S=p.alternate,S!==null&&(S.lanes|=s),bm(p.return,s,t),l||(w=null);break e}p=S.next}}else if(d.tag===18){if(w=d.return,w===null)throw Error(o(341));w.lanes|=s,p=w.alternate,p!==null&&(p.lanes|=s),bm(w,s,t),w=null}else w=d.child;if(w!==null)w.return=d;else for(w=d;w!==null;){if(w===t){w=null;break}if(d=w.sibling,d!==null){d.return=w.return,w=d;break}w=w.return}d=w}}function Zl(t,i,s,l){t=null;for(var d=i,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var w=d.alternate;if(w===null)throw Error(o(387));if(w=w.memoizedProps,w!==null){var S=d.type;Rn(d.pendingProps.value,w.value)||(t!==null?t.push(S):t=[S])}}else if(d===me.current){if(w=d.alternate,w===null)throw Error(o(387));w.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Au):t=[Au])}d=d.return}t!==null&&wm(i,t,s,l),i.flags|=262144}function yh(t){for(t=t.firstContext;t!==null;){if(!Rn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ls(t){as=t,ui=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function pn(t){return eS(as,t)}function vh(t,i){return as===null&&ls(t),eS(t,i)}function eS(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},ui===null){if(t===null)throw Error(o(308));ui=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else ui=ui.next=i;return s}var hL=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},dL=n.unstable_scheduleCallback,fL=n.unstable_NormalPriority,qt={$$typeof:oe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Em(){return{controller:new hL,data:new Map,refCount:0}}function Jl(t){t.refCount--,t.refCount===0&&dL(fL,function(){t.controller.abort()})}var eu=null,Sm=0,da=0,fa=null;function pL(t,i){if(eu===null){var s=eu=[];Sm=0,da=xg(),fa={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Sm++,i.then(tS,tS),i}function tS(){if(--Sm===0&&eu!==null){fa!==null&&(fa.status="fulfilled");var t=eu;eu=null,da=0,fa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function mL(t,i){var s=[],l={status:"pending",value:null,reason:null,then:function(d){s.push(d)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var d=0;d<s.length;d++)(0,s[d])(i)},function(d){for(l.status="rejected",l.reason=d,d=0;d<s.length;d++)(0,s[d])(void 0)}),l}var nS=W.S;W.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&pL(t,i),nS!==null&&nS(t,i)};var us=C(null);function km(){var t=us.current;return t!==null?t:at.pooledCache}function bh(t,i){i===null?X(us,us.current):X(us,i.pool)}function rS(){var t=km();return t===null?null:{parent:qt._currentValue,pool:t}}var tu=Error(o(460)),iS=Error(o(474)),wh=Error(o(542)),xm={then:function(){}};function oS(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Eh(){}function sS(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(Eh,Eh),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,lS(t),t;default:if(typeof i.status=="string")i.then(Eh,Eh);else{if(t=at,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=l}},function(l){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,lS(t),t}throw nu=i,tu}}var nu=null;function aS(){if(nu===null)throw Error(o(459));var t=nu;return nu=null,t}function lS(t){if(t===tu||t===wh)throw Error(o(483))}var Zi=!1;function Tm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cm(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ji(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function eo(t,i,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ze&2)!==0){var d=l.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),l.pending=i,i=fh(t),XE(t,null,s),i}return dh(t,l,i,s),fh(t)}function ru(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,Pl(t,s)}}function Am(t,i){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var d=null,p=null;if(s=s.firstBaseUpdate,s!==null){do{var w={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};p===null?d=p=w:p=p.next=w,s=s.next}while(s!==null);p===null?d=p=i:p=p.next=i}else d=p=i;s={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var Im=!1;function iu(){if(Im){var t=fa;if(t!==null)throw t}}function ou(t,i,s,l){Im=!1;var d=t.updateQueue;Zi=!1;var p=d.firstBaseUpdate,w=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var P=S,q=P.next;P.next=null,w===null?p=q:w.next=q,w=P;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,S=Y.lastBaseUpdate,S!==w&&(S===null?Y.firstBaseUpdate=q:S.next=q,Y.lastBaseUpdate=P))}if(p!==null){var ee=d.baseState;w=0,Y=q=P=null,S=p;do{var $=S.lane&-536870913,K=$!==S.lane;if(K?(Be&$)===$:(l&$)===$){$!==0&&$===da&&(Im=!0),Y!==null&&(Y=Y.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Ce=t,Se=S;$=i;var it=s;switch(Se.tag){case 1:if(Ce=Se.payload,typeof Ce=="function"){ee=Ce.call(it,ee,$);break e}ee=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Se.payload,$=typeof Ce=="function"?Ce.call(it,ee,$):Ce,$==null)break e;ee=v({},ee,$);break e;case 2:Zi=!0}}$=S.callback,$!==null&&(t.flags|=64,K&&(t.flags|=8192),K=d.callbacks,K===null?d.callbacks=[$]:K.push($))}else K={lane:$,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Y===null?(q=Y=K,P=ee):Y=Y.next=K,w|=$;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;K=S,S=K.next,K.next=null,d.lastBaseUpdate=K,d.shared.pending=null}}while(!0);Y===null&&(P=ee),d.baseState=P,d.firstBaseUpdate=q,d.lastBaseUpdate=Y,p===null&&(d.shared.lanes=0),lo|=w,t.lanes=w,t.memoizedState=ee}}function uS(t,i){if(typeof t!="function")throw Error(o(191,t));t.call(i)}function cS(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)uS(s[t],i)}var pa=C(null),Sh=C(0);function hS(t,i){t=vi,X(Sh,t),X(pa,i),vi=t|i.baseLanes}function Dm(){X(Sh,vi),X(pa,pa.current)}function _m(){vi=Sh.current,G(pa),G(Sh)}var to=0,Le=null,nt=null,Lt=null,kh=!1,ma=!1,cs=!1,xh=0,su=0,ga=null,gL=0;function Ct(){throw Error(o(321))}function Pm(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!Rn(t[s],i[s]))return!1;return!0}function Nm(t,i,s,l,d,p){return to=p,Le=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,W.H=t===null||t.memoizedState===null?XS:QS,cs=!1,p=s(l,d),cs=!1,ma&&(p=fS(i,s,l,d)),dS(t),p}function dS(t){W.H=_h;var i=nt!==null&&nt.next!==null;if(to=0,Lt=nt=Le=null,kh=!1,su=0,ga=null,i)throw Error(o(300));t===null||Ht||(t=t.dependencies,t!==null&&yh(t)&&(Ht=!0))}function fS(t,i,s,l){Le=t;var d=0;do{if(ma&&(ga=null),su=0,ma=!1,25<=d)throw Error(o(301));if(d+=1,Lt=nt=null,t.updateQueue!=null){var p=t.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}W.H=kL,p=i(s,l)}while(ma);return p}function yL(){var t=W.H,i=t.useState()[0];return i=typeof i.then=="function"?au(i):i,t=t.useState()[0],(nt!==null?nt.memoizedState:null)!==t&&(Le.flags|=1024),i}function Mm(){var t=xh!==0;return xh=0,t}function Lm(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function Rm(t){if(kh){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}kh=!1}to=0,Lt=nt=Le=null,ma=!1,su=xh=0,ga=null}function Cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?Le.memoizedState=Lt=t:Lt=Lt.next=t,Lt}function Rt(){if(nt===null){var t=Le.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var i=Lt===null?Le.memoizedState:Lt.next;if(i!==null)Lt=i,nt=t;else{if(t===null)throw Le.alternate===null?Error(o(467)):Error(o(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},Lt===null?Le.memoizedState=Lt=t:Lt=Lt.next=t}return Lt}function Om(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function au(t){var i=su;return su+=1,ga===null&&(ga=[]),t=sS(ga,t,i),i=Le,(Lt===null?i.memoizedState:Lt.next)===null&&(i=i.alternate,W.H=i===null||i.memoizedState===null?XS:QS),t}function Th(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return au(t);if(t.$$typeof===oe)return pn(t)}throw Error(o(438,String(t)))}function Fm(t){var i=null,s=Le.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=Le.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=Om(),Le.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),l=0;l<t;l++)s[l]=N;return i.index++,s}function hi(t,i){return typeof i=="function"?i(t):i}function Ch(t){var i=Rt();return Vm(i,nt,t)}function Vm(t,i,s){var l=t.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=s;var d=t.baseQueue,p=l.pending;if(p!==null){if(d!==null){var w=d.next;d.next=p.next,p.next=w}i.baseQueue=d=p,l.pending=null}if(p=t.baseState,d===null)t.memoizedState=p;else{i=d.next;var S=w=null,P=null,q=i,Y=!1;do{var ee=q.lane&-536870913;if(ee!==q.lane?(Be&ee)===ee:(to&ee)===ee){var $=q.revertLane;if($===0)P!==null&&(P=P.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ee===da&&(Y=!0);else if((to&$)===$){q=q.next,$===da&&(Y=!0);continue}else ee={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},P===null?(S=P=ee,w=p):P=P.next=ee,Le.lanes|=$,lo|=$;ee=q.action,cs&&s(p,ee),p=q.hasEagerState?q.eagerState:s(p,ee)}else $={lane:ee,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},P===null?(S=P=$,w=p):P=P.next=$,Le.lanes|=ee,lo|=ee;q=q.next}while(q!==null&&q!==i);if(P===null?w=p:P.next=S,!Rn(p,t.memoizedState)&&(Ht=!0,Y&&(s=fa,s!==null)))throw s;t.memoizedState=p,t.baseState=w,t.baseQueue=P,l.lastRenderedState=p}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function jm(t){var i=Rt(),s=i.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=t;var l=s.dispatch,d=s.pending,p=i.memoizedState;if(d!==null){s.pending=null;var w=d=d.next;do p=t(p,w.action),w=w.next;while(w!==d);Rn(p,i.memoizedState)||(Ht=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),s.lastRenderedState=p}return[p,l]}function pS(t,i,s){var l=Le,d=Rt(),p=Qe;if(p){if(s===void 0)throw Error(o(407));s=s()}else s=i();var w=!Rn((nt||d).memoizedState,s);w&&(d.memoizedState=s,Ht=!0),d=d.queue;var S=yS.bind(null,l,d,t);if(lu(2048,8,S,[t]),d.getSnapshot!==i||w||Lt!==null&&Lt.memoizedState.tag&1){if(l.flags|=2048,ya(9,Ah(),gS.bind(null,l,d,s,i),null),at===null)throw Error(o(349));p||(to&124)!==0||mS(l,i,s)}return s}function mS(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=Le.updateQueue,i===null?(i=Om(),Le.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function gS(t,i,s,l){i.value=s,i.getSnapshot=l,vS(i)&&bS(t)}function yS(t,i,s){return s(function(){vS(i)&&bS(t)})}function vS(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!Rn(t,s)}catch{return!0}}function bS(t){var i=la(t,2);i!==null&&zn(i,t,2)}function Um(t){var i=Cn();if(typeof t=="function"){var s=t;if(t=s(),cs){gn(!0);try{s()}finally{gn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:t},i}function wS(t,i,s,l){return t.baseState=s,Vm(t,nt,typeof l=="function"?l:hi)}function vL(t,i,s,l,d){if(Dh(t))throw Error(o(485));if(t=i.action,t!==null){var p={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){p.listeners.push(w)}};W.T!==null?s(!0):p.isTransition=!1,l(p),s=i.pending,s===null?(p.next=i.pending=p,ES(i,p)):(p.next=s.next,i.pending=s.next=p)}}function ES(t,i){var s=i.action,l=i.payload,d=t.state;if(i.isTransition){var p=W.T,w={};W.T=w;try{var S=s(d,l),P=W.S;P!==null&&P(w,S),SS(t,i,S)}catch(q){zm(t,i,q)}finally{W.T=p}}else try{p=s(d,l),SS(t,i,p)}catch(q){zm(t,i,q)}}function SS(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){kS(t,i,l)},function(l){return zm(t,i,l)}):kS(t,i,s)}function kS(t,i,s){i.status="fulfilled",i.value=s,xS(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,ES(t,s)))}function zm(t,i,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,xS(i),i=i.next;while(i!==l)}t.action=null}function xS(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function TS(t,i){return i}function CS(t,i){if(Qe){var s=at.formState;if(s!==null){e:{var l=Le;if(Qe){if(wt){t:{for(var d=wt,p=Rr;d.nodeType!==8;){if(!p){d=null;break t}if(d=dr(d.nextSibling),d===null){d=null;break t}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){wt=dr(d.nextSibling),l=d.data==="F!";break e}}ss(l)}l=!1}l&&(i=s[0])}}return s=Cn(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:TS,lastRenderedState:i},s.queue=l,s=WS.bind(null,Le,l),l.dispatch=s,l=Um(!1),p=Km.bind(null,Le,!1,l.queue),l=Cn(),d={state:i,dispatch:null,action:t,pending:null},l.queue=d,s=vL.bind(null,Le,d,p,s),d.dispatch=s,l.memoizedState=t,[i,s,!1]}function AS(t){var i=Rt();return IS(i,nt,t)}function IS(t,i,s){if(i=Vm(t,i,TS)[0],t=Ch(hi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=au(i)}catch(w){throw w===tu?wh:w}else l=i;i=Rt();var d=i.queue,p=d.dispatch;return s!==i.memoizedState&&(Le.flags|=2048,ya(9,Ah(),bL.bind(null,d,s),null)),[l,p,t]}function bL(t,i){t.action=i}function DS(t){var i=Rt(),s=nt;if(s!==null)return IS(i,s,t);Rt(),i=i.memoizedState,s=Rt();var l=s.queue.dispatch;return s.memoizedState=t,[i,l,!1]}function ya(t,i,s,l){return t={tag:t,create:s,deps:l,inst:i,next:null},i=Le.updateQueue,i===null&&(i=Om(),Le.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,i.lastEffect=t),t}function Ah(){return{destroy:void 0,resource:void 0}}function _S(){return Rt().memoizedState}function Ih(t,i,s,l){var d=Cn();l=l===void 0?null:l,Le.flags|=t,d.memoizedState=ya(1|i,Ah(),s,l)}function lu(t,i,s,l){var d=Rt();l=l===void 0?null:l;var p=d.memoizedState.inst;nt!==null&&l!==null&&Pm(l,nt.memoizedState.deps)?d.memoizedState=ya(i,p,s,l):(Le.flags|=t,d.memoizedState=ya(1|i,p,s,l))}function PS(t,i){Ih(8390656,8,t,i)}function NS(t,i){lu(2048,8,t,i)}function MS(t,i){return lu(4,2,t,i)}function LS(t,i){return lu(4,4,t,i)}function RS(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function OS(t,i,s){s=s!=null?s.concat([t]):null,lu(4,4,RS.bind(null,i,t),s)}function qm(){}function FS(t,i){var s=Rt();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&Pm(i,l[1])?l[0]:(s.memoizedState=[t,i],t)}function VS(t,i){var s=Rt();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&Pm(i,l[1]))return l[0];if(l=t(),cs){gn(!0);try{t()}finally{gn(!1)}}return s.memoizedState=[l,i],l}function Bm(t,i,s){return s===void 0||(to&1073741824)!==0?t.memoizedState=i:(t.memoizedState=s,t=zk(),Le.lanes|=t,lo|=t,s)}function jS(t,i,s,l){return Rn(s,i)?s:pa.current!==null?(t=Bm(t,s,l),Rn(t,i)||(Ht=!0),t):(to&42)===0?(Ht=!0,t.memoizedState=s):(t=zk(),Le.lanes|=t,lo|=t,i)}function US(t,i,s,l,d){var p=re.p;re.p=p!==0&&8>p?p:8;var w=W.T,S={};W.T=S,Km(t,!1,i,s);try{var P=d(),q=W.S;if(q!==null&&q(S,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var Y=mL(P,l);uu(t,i,Y,Un(t))}else uu(t,i,l,Un(t))}catch(ee){uu(t,i,{then:function(){},status:"rejected",reason:ee},Un())}finally{re.p=p,W.T=w}}function wL(){}function $m(t,i,s,l){if(t.tag!==5)throw Error(o(476));var d=zS(t).queue;US(t,d,i,de,s===null?wL:function(){return qS(t),s(l)})}function zS(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:de},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function qS(t){var i=zS(t).next.queue;uu(t,i,{},Un())}function Wm(){return pn(Au)}function BS(){return Rt().memoizedState}function $S(){return Rt().memoizedState}function EL(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=Un();t=Ji(s);var l=eo(i,t,s);l!==null&&(zn(l,i,s),ru(l,i,s)),i={cache:Em()},t.payload=i;return}i=i.return}}function SL(t,i,s){var l=Un();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Dh(t)?KS(i,s):(s=hm(t,i,s,l),s!==null&&(zn(s,t,l),HS(s,i,l)))}function WS(t,i,s){var l=Un();uu(t,i,s,l)}function uu(t,i,s,l){var d={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Dh(t))KS(i,d);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var w=i.lastRenderedState,S=p(w,s);if(d.hasEagerState=!0,d.eagerState=S,Rn(S,w))return dh(t,i,d,0),at===null&&hh(),!1}catch{}finally{}if(s=hm(t,i,d,l),s!==null)return zn(s,t,l),HS(s,i,l),!0}return!1}function Km(t,i,s,l){if(l={lane:2,revertLane:xg(),action:l,hasEagerState:!1,eagerState:null,next:null},Dh(t)){if(i)throw Error(o(479))}else i=hm(t,s,l,2),i!==null&&zn(i,t,2)}function Dh(t){var i=t.alternate;return t===Le||i!==null&&i===Le}function KS(t,i){ma=kh=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function HS(t,i,s){if((s&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,Pl(t,s)}}var _h={readContext:pn,use:Th,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct},XS={readContext:pn,use:Th,useCallback:function(t,i){return Cn().memoizedState=[t,i===void 0?null:i],t},useContext:pn,useEffect:PS,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,Ih(4194308,4,RS.bind(null,i,t),s)},useLayoutEffect:function(t,i){return Ih(4194308,4,t,i)},useInsertionEffect:function(t,i){Ih(4,2,t,i)},useMemo:function(t,i){var s=Cn();i=i===void 0?null:i;var l=t();if(cs){gn(!0);try{t()}finally{gn(!1)}}return s.memoizedState=[l,i],l},useReducer:function(t,i,s){var l=Cn();if(s!==void 0){var d=s(i);if(cs){gn(!0);try{s(i)}finally{gn(!1)}}}else d=i;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=SL.bind(null,Le,t),[l.memoizedState,t]},useRef:function(t){var i=Cn();return t={current:t},i.memoizedState=t},useState:function(t){t=Um(t);var i=t.queue,s=WS.bind(null,Le,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:qm,useDeferredValue:function(t,i){var s=Cn();return Bm(s,t,i)},useTransition:function(){var t=Um(!1);return t=US.bind(null,Le,t.queue,!0,!1),Cn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var l=Le,d=Cn();if(Qe){if(s===void 0)throw Error(o(407));s=s()}else{if(s=i(),at===null)throw Error(o(349));(Be&124)!==0||mS(l,i,s)}d.memoizedState=s;var p={value:s,getSnapshot:i};return d.queue=p,PS(yS.bind(null,l,p,t),[t]),l.flags|=2048,ya(9,Ah(),gS.bind(null,l,p,s,i),null),s},useId:function(){var t=Cn(),i=at.identifierPrefix;if(Qe){var s=li,l=ai;s=(l&~(1<<32-Vt(l)-1)).toString(32)+s,i="«"+i+"R"+s,s=xh++,0<s&&(i+="H"+s.toString(32)),i+="»"}else s=gL++,i="«"+i+"r"+s.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:Wm,useFormState:CS,useActionState:CS,useOptimistic:function(t){var i=Cn();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=Km.bind(null,Le,!0,s),s.dispatch=i,[t,i]},useMemoCache:Fm,useCacheRefresh:function(){return Cn().memoizedState=EL.bind(null,Le)}},QS={readContext:pn,use:Th,useCallback:FS,useContext:pn,useEffect:NS,useImperativeHandle:OS,useInsertionEffect:MS,useLayoutEffect:LS,useMemo:VS,useReducer:Ch,useRef:_S,useState:function(){return Ch(hi)},useDebugValue:qm,useDeferredValue:function(t,i){var s=Rt();return jS(s,nt.memoizedState,t,i)},useTransition:function(){var t=Ch(hi)[0],i=Rt().memoizedState;return[typeof t=="boolean"?t:au(t),i]},useSyncExternalStore:pS,useId:BS,useHostTransitionStatus:Wm,useFormState:AS,useActionState:AS,useOptimistic:function(t,i){var s=Rt();return wS(s,nt,t,i)},useMemoCache:Fm,useCacheRefresh:$S},kL={readContext:pn,use:Th,useCallback:FS,useContext:pn,useEffect:NS,useImperativeHandle:OS,useInsertionEffect:MS,useLayoutEffect:LS,useMemo:VS,useReducer:jm,useRef:_S,useState:function(){return jm(hi)},useDebugValue:qm,useDeferredValue:function(t,i){var s=Rt();return nt===null?Bm(s,t,i):jS(s,nt.memoizedState,t,i)},useTransition:function(){var t=jm(hi)[0],i=Rt().memoizedState;return[typeof t=="boolean"?t:au(t),i]},useSyncExternalStore:pS,useId:BS,useHostTransitionStatus:Wm,useFormState:DS,useActionState:DS,useOptimistic:function(t,i){var s=Rt();return nt!==null?wS(s,nt,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Fm,useCacheRefresh:$S},va=null,cu=0;function Ph(t){var i=cu;return cu+=1,va===null&&(va=[]),sS(va,t,i)}function hu(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Nh(t,i){throw i.$$typeof===E?Error(o(525)):(t=Object.prototype.toString.call(i),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function GS(t){var i=t._init;return i(t._payload)}function YS(t){function i(F,R){if(t){var z=F.deletions;z===null?(F.deletions=[R],F.flags|=16):z.push(R)}}function s(F,R){if(!t)return null;for(;R!==null;)i(F,R),R=R.sibling;return null}function l(F){for(var R=new Map;F!==null;)F.key!==null?R.set(F.key,F):R.set(F.index,F),F=F.sibling;return R}function d(F,R){return F=si(F,R),F.index=0,F.sibling=null,F}function p(F,R,z){return F.index=z,t?(z=F.alternate,z!==null?(z=z.index,z<R?(F.flags|=67108866,R):z):(F.flags|=67108866,R)):(F.flags|=1048576,R)}function w(F){return t&&F.alternate===null&&(F.flags|=67108866),F}function S(F,R,z,Z){return R===null||R.tag!==6?(R=fm(z,F.mode,Z),R.return=F,R):(R=d(R,z),R.return=F,R)}function P(F,R,z,Z){var fe=z.type;return fe===V?Y(F,R,z.props.children,Z,z.key):R!==null&&(R.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===A&&GS(fe)===R.type)?(R=d(R,z.props),hu(R,z),R.return=F,R):(R=ph(z.type,z.key,z.props,null,F.mode,Z),hu(R,z),R.return=F,R)}function q(F,R,z,Z){return R===null||R.tag!==4||R.stateNode.containerInfo!==z.containerInfo||R.stateNode.implementation!==z.implementation?(R=pm(z,F.mode,Z),R.return=F,R):(R=d(R,z.children||[]),R.return=F,R)}function Y(F,R,z,Z,fe){return R===null||R.tag!==7?(R=ns(z,F.mode,Z,fe),R.return=F,R):(R=d(R,z),R.return=F,R)}function ee(F,R,z){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=fm(""+R,F.mode,z),R.return=F,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case x:return z=ph(R.type,R.key,R.props,null,F.mode,z),hu(z,R),z.return=F,z;case I:return R=pm(R,F.mode,z),R.return=F,R;case A:var Z=R._init;return R=Z(R._payload),ee(F,R,z)}if(Ue(R)||O(R))return R=ns(R,F.mode,z,null),R.return=F,R;if(typeof R.then=="function")return ee(F,Ph(R),z);if(R.$$typeof===oe)return ee(F,vh(F,R),z);Nh(F,R)}return null}function $(F,R,z,Z){var fe=R!==null?R.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return fe!==null?null:S(F,R,""+z,Z);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case x:return z.key===fe?P(F,R,z,Z):null;case I:return z.key===fe?q(F,R,z,Z):null;case A:return fe=z._init,z=fe(z._payload),$(F,R,z,Z)}if(Ue(z)||O(z))return fe!==null?null:Y(F,R,z,Z,null);if(typeof z.then=="function")return $(F,R,Ph(z),Z);if(z.$$typeof===oe)return $(F,R,vh(F,z),Z);Nh(F,z)}return null}function K(F,R,z,Z,fe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return F=F.get(z)||null,S(R,F,""+Z,fe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case x:return F=F.get(Z.key===null?z:Z.key)||null,P(R,F,Z,fe);case I:return F=F.get(Z.key===null?z:Z.key)||null,q(R,F,Z,fe);case A:var Re=Z._init;return Z=Re(Z._payload),K(F,R,z,Z,fe)}if(Ue(Z)||O(Z))return F=F.get(z)||null,Y(R,F,Z,fe,null);if(typeof Z.then=="function")return K(F,R,z,Ph(Z),fe);if(Z.$$typeof===oe)return K(F,R,z,vh(R,Z),fe);Nh(R,Z)}return null}function Ce(F,R,z,Z){for(var fe=null,Re=null,we=R,ke=R=0,Qt=null;we!==null&&ke<z.length;ke++){we.index>ke?(Qt=we,we=null):Qt=we.sibling;var Ke=$(F,we,z[ke],Z);if(Ke===null){we===null&&(we=Qt);break}t&&we&&Ke.alternate===null&&i(F,we),R=p(Ke,R,ke),Re===null?fe=Ke:Re.sibling=Ke,Re=Ke,we=Qt}if(ke===z.length)return s(F,we),Qe&&is(F,ke),fe;if(we===null){for(;ke<z.length;ke++)we=ee(F,z[ke],Z),we!==null&&(R=p(we,R,ke),Re===null?fe=we:Re.sibling=we,Re=we);return Qe&&is(F,ke),fe}for(we=l(we);ke<z.length;ke++)Qt=K(we,F,ke,z[ke],Z),Qt!==null&&(t&&Qt.alternate!==null&&we.delete(Qt.key===null?ke:Qt.key),R=p(Qt,R,ke),Re===null?fe=Qt:Re.sibling=Qt,Re=Qt);return t&&we.forEach(function(vo){return i(F,vo)}),Qe&&is(F,ke),fe}function Se(F,R,z,Z){if(z==null)throw Error(o(151));for(var fe=null,Re=null,we=R,ke=R=0,Qt=null,Ke=z.next();we!==null&&!Ke.done;ke++,Ke=z.next()){we.index>ke?(Qt=we,we=null):Qt=we.sibling;var vo=$(F,we,Ke.value,Z);if(vo===null){we===null&&(we=Qt);break}t&&we&&vo.alternate===null&&i(F,we),R=p(vo,R,ke),Re===null?fe=vo:Re.sibling=vo,Re=vo,we=Qt}if(Ke.done)return s(F,we),Qe&&is(F,ke),fe;if(we===null){for(;!Ke.done;ke++,Ke=z.next())Ke=ee(F,Ke.value,Z),Ke!==null&&(R=p(Ke,R,ke),Re===null?fe=Ke:Re.sibling=Ke,Re=Ke);return Qe&&is(F,ke),fe}for(we=l(we);!Ke.done;ke++,Ke=z.next())Ke=K(we,F,ke,Ke.value,Z),Ke!==null&&(t&&Ke.alternate!==null&&we.delete(Ke.key===null?ke:Ke.key),R=p(Ke,R,ke),Re===null?fe=Ke:Re.sibling=Ke,Re=Ke);return t&&we.forEach(function(x6){return i(F,x6)}),Qe&&is(F,ke),fe}function it(F,R,z,Z){if(typeof z=="object"&&z!==null&&z.type===V&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case x:e:{for(var fe=z.key;R!==null;){if(R.key===fe){if(fe=z.type,fe===V){if(R.tag===7){s(F,R.sibling),Z=d(R,z.props.children),Z.return=F,F=Z;break e}}else if(R.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===A&&GS(fe)===R.type){s(F,R.sibling),Z=d(R,z.props),hu(Z,z),Z.return=F,F=Z;break e}s(F,R);break}else i(F,R);R=R.sibling}z.type===V?(Z=ns(z.props.children,F.mode,Z,z.key),Z.return=F,F=Z):(Z=ph(z.type,z.key,z.props,null,F.mode,Z),hu(Z,z),Z.return=F,F=Z)}return w(F);case I:e:{for(fe=z.key;R!==null;){if(R.key===fe)if(R.tag===4&&R.stateNode.containerInfo===z.containerInfo&&R.stateNode.implementation===z.implementation){s(F,R.sibling),Z=d(R,z.children||[]),Z.return=F,F=Z;break e}else{s(F,R);break}else i(F,R);R=R.sibling}Z=pm(z,F.mode,Z),Z.return=F,F=Z}return w(F);case A:return fe=z._init,z=fe(z._payload),it(F,R,z,Z)}if(Ue(z))return Ce(F,R,z,Z);if(O(z)){if(fe=O(z),typeof fe!="function")throw Error(o(150));return z=fe.call(z),Se(F,R,z,Z)}if(typeof z.then=="function")return it(F,R,Ph(z),Z);if(z.$$typeof===oe)return it(F,R,vh(F,z),Z);Nh(F,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,R!==null&&R.tag===6?(s(F,R.sibling),Z=d(R,z),Z.return=F,F=Z):(s(F,R),Z=fm(z,F.mode,Z),Z.return=F,F=Z),w(F)):s(F,R)}return function(F,R,z,Z){try{cu=0;var fe=it(F,R,z,Z);return va=null,fe}catch(we){if(we===tu||we===wh)throw we;var Re=On(29,we,null,F.mode);return Re.lanes=Z,Re.return=F,Re}finally{}}}var ba=YS(!0),ZS=YS(!1),nr=C(null),di=null;function no(t){var i=t.alternate;X(Bt,Bt.current&1),X(nr,t),di===null&&(i===null||pa.current!==null||i.memoizedState!==null)&&(di=t)}function JS(t){if(t.tag===22){if(X(Bt,Bt.current),X(nr,t),di===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(di=t)}}else ro()}function ro(){X(Bt,Bt.current),X(nr,nr.current)}function fi(t){G(nr),di===t&&(di=null),G(Bt)}var Bt=C(0);function Mh(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Og(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Hm(t,i,s,l){i=t.memoizedState,s=s(l,i),s=s==null?i:v({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Xm={enqueueSetState:function(t,i,s){t=t._reactInternals;var l=Un(),d=Ji(l);d.payload=i,s!=null&&(d.callback=s),i=eo(t,d,l),i!==null&&(zn(i,t,l),ru(i,t,l))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var l=Un(),d=Ji(l);d.tag=1,d.payload=i,s!=null&&(d.callback=s),i=eo(t,d,l),i!==null&&(zn(i,t,l),ru(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=Un(),l=Ji(s);l.tag=2,i!=null&&(l.callback=i),i=eo(t,l,s),i!==null&&(zn(i,t,s),ru(i,t,s))}};function ek(t,i,s,l,d,p,w){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,p,w):i.prototype&&i.prototype.isPureReactComponent?!Hl(s,l)||!Hl(d,p):!0}function tk(t,i,s,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==t&&Xm.enqueueReplaceState(i,i.state,null)}function hs(t,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(t=t.defaultProps){s===i&&(s=v({},s));for(var d in t)s[d]===void 0&&(s[d]=t[d])}return s}var Lh=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function nk(t){Lh(t)}function rk(t){console.error(t)}function ik(t){Lh(t)}function Rh(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function ok(t,i,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Qm(t,i,s){return s=Ji(s),s.tag=3,s.payload={element:null},s.callback=function(){Rh(t,i)},s}function sk(t){return t=Ji(t),t.tag=3,t}function ak(t,i,s,l){var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var p=l.value;t.payload=function(){return d(p)},t.callback=function(){ok(i,s,l)}}var w=s.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(t.callback=function(){ok(i,s,l),typeof d!="function"&&(uo===null?uo=new Set([this]):uo.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function xL(t,i,s,l,d){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&Zl(i,s,d,!0),s=nr.current,s!==null){switch(s.tag){case 13:return di===null?bg():s.alternate===null&&Et===0&&(Et=3),s.flags&=-257,s.flags|=65536,s.lanes=d,l===xm?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),Eg(t,l,d)),!1;case 22:return s.flags|=65536,l===xm?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),Eg(t,l,d)),!1}throw Error(o(435,s.tag))}return Eg(t,l,d),bg(),!1}if(Qe)return i=nr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,l!==ym&&(t=Error(o(422),{cause:l}),Yl(Zn(t,s)))):(l!==ym&&(i=Error(o(423),{cause:l}),Yl(Zn(i,s))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=Zn(l,s),d=Qm(t.stateNode,l,d),Am(t,d),Et!==4&&(Et=2)),!1;var p=Error(o(520),{cause:l});if(p=Zn(p,s),vu===null?vu=[p]:vu.push(p),Et!==4&&(Et=2),i===null)return!0;l=Zn(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=d&-d,s.lanes|=t,t=Qm(s.stateNode,l,t),Am(s,t),!1;case 1:if(i=s.type,p=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(uo===null||!uo.has(p))))return s.flags|=65536,d&=-d,s.lanes|=d,d=sk(d),ak(d,t,s,l),Am(s,d),!1}s=s.return}while(s!==null);return!1}var lk=Error(o(461)),Ht=!1;function on(t,i,s,l){i.child=t===null?ZS(i,null,s,l):ba(i,t.child,s,l)}function uk(t,i,s,l,d){s=s.render;var p=i.ref;if("ref"in l){var w={};for(var S in l)S!=="ref"&&(w[S]=l[S])}else w=l;return ls(i),l=Nm(t,i,s,w,p,d),S=Mm(),t!==null&&!Ht?(Lm(t,i,d),pi(t,i,d)):(Qe&&S&&mm(i),i.flags|=1,on(t,i,l,d),i.child)}function ck(t,i,s,l,d){if(t===null){var p=s.type;return typeof p=="function"&&!dm(p)&&p.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=p,hk(t,i,p,l,d)):(t=ph(s.type,null,l,i,i.mode,d),t.ref=i.ref,t.return=i,i.child=t)}if(p=t.child,!rg(t,d)){var w=p.memoizedProps;if(s=s.compare,s=s!==null?s:Hl,s(w,l)&&t.ref===i.ref)return pi(t,i,d)}return i.flags|=1,t=si(p,l),t.ref=i.ref,t.return=i,i.child=t}function hk(t,i,s,l,d){if(t!==null){var p=t.memoizedProps;if(Hl(p,l)&&t.ref===i.ref)if(Ht=!1,i.pendingProps=l=p,rg(t,d))(t.flags&131072)!==0&&(Ht=!0);else return i.lanes=t.lanes,pi(t,i,d)}return Gm(t,i,s,l,d)}function dk(t,i,s){var l=i.pendingProps,d=l.children,p=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=p!==null?p.baseLanes|s:s,t!==null){for(d=i.child=t.child,p=0;d!==null;)p=p|d.lanes|d.childLanes,d=d.sibling;i.childLanes=p&~l}else i.childLanes=0,i.child=null;return fk(t,i,l,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&bh(i,p!==null?p.cachePool:null),p!==null?hS(i,p):Dm(),JS(i);else return i.lanes=i.childLanes=536870912,fk(t,i,p!==null?p.baseLanes|s:s,s)}else p!==null?(bh(i,p.cachePool),hS(i,p),ro(),i.memoizedState=null):(t!==null&&bh(i,null),Dm(),ro());return on(t,i,d,s),i.child}function fk(t,i,s,l){var d=km();return d=d===null?null:{parent:qt._currentValue,pool:d},i.memoizedState={baseLanes:s,cachePool:d},t!==null&&bh(i,null),Dm(),JS(i),t!==null&&Zl(t,i,l,!0),null}function Oh(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(o(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function Gm(t,i,s,l,d){return ls(i),s=Nm(t,i,s,l,void 0,d),l=Mm(),t!==null&&!Ht?(Lm(t,i,d),pi(t,i,d)):(Qe&&l&&mm(i),i.flags|=1,on(t,i,s,d),i.child)}function pk(t,i,s,l,d,p){return ls(i),i.updateQueue=null,s=fS(i,l,s,d),dS(t),l=Mm(),t!==null&&!Ht?(Lm(t,i,p),pi(t,i,p)):(Qe&&l&&mm(i),i.flags|=1,on(t,i,s,p),i.child)}function mk(t,i,s,l,d){if(ls(i),i.stateNode===null){var p=ua,w=s.contextType;typeof w=="object"&&w!==null&&(p=pn(w)),p=new s(l,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Xm,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=l,p.state=i.memoizedState,p.refs={},Tm(i),w=s.contextType,p.context=typeof w=="object"&&w!==null?pn(w):ua,p.state=i.memoizedState,w=s.getDerivedStateFromProps,typeof w=="function"&&(Hm(i,s,w,l),p.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(w=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),w!==p.state&&Xm.enqueueReplaceState(p,p.state,null),ou(i,l,p,d),iu(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){p=i.stateNode;var S=i.memoizedProps,P=hs(s,S);p.props=P;var q=p.context,Y=s.contextType;w=ua,typeof Y=="object"&&Y!==null&&(w=pn(Y));var ee=s.getDerivedStateFromProps;Y=typeof ee=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,Y||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||q!==w)&&tk(i,p,l,w),Zi=!1;var $=i.memoizedState;p.state=$,ou(i,l,p,d),iu(),q=i.memoizedState,S||$!==q||Zi?(typeof ee=="function"&&(Hm(i,s,ee,l),q=i.memoizedState),(P=Zi||ek(i,s,P,l,$,q,w))?(Y||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=q),p.props=l,p.state=q,p.context=w,l=P):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{p=i.stateNode,Cm(t,i),w=i.memoizedProps,Y=hs(s,w),p.props=Y,ee=i.pendingProps,$=p.context,q=s.contextType,P=ua,typeof q=="object"&&q!==null&&(P=pn(q)),S=s.getDerivedStateFromProps,(q=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w!==ee||$!==P)&&tk(i,p,l,P),Zi=!1,$=i.memoizedState,p.state=$,ou(i,l,p,d),iu();var K=i.memoizedState;w!==ee||$!==K||Zi||t!==null&&t.dependencies!==null&&yh(t.dependencies)?(typeof S=="function"&&(Hm(i,s,S,l),K=i.memoizedState),(Y=Zi||ek(i,s,Y,l,$,K,P)||t!==null&&t.dependencies!==null&&yh(t.dependencies))?(q||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,K,P),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,K,P)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||w===t.memoizedProps&&$===t.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&$===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=K),p.props=l,p.state=K,p.context=P,l=Y):(typeof p.componentDidUpdate!="function"||w===t.memoizedProps&&$===t.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&$===t.memoizedState||(i.flags|=1024),l=!1)}return p=l,Oh(t,i),l=(i.flags&128)!==0,p||l?(p=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,t!==null&&l?(i.child=ba(i,t.child,null,d),i.child=ba(i,null,s,d)):on(t,i,s,d),i.memoizedState=p.state,t=i.child):t=pi(t,i,d),t}function gk(t,i,s,l){return Gl(),i.flags|=256,on(t,i,s,l),i.child}var Ym={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zm(t){return{baseLanes:t,cachePool:rS()}}function Jm(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=rr),t}function yk(t,i,s){var l=i.pendingProps,d=!1,p=(i.flags&128)!==0,w;if((w=p)||(w=t!==null&&t.memoizedState===null?!1:(Bt.current&2)!==0),w&&(d=!0,i.flags&=-129),w=(i.flags&32)!==0,i.flags&=-33,t===null){if(Qe){if(d?no(i):ro(),Qe){var S=wt,P;if(P=S){e:{for(P=S,S=Rr;P.nodeType!==8;){if(!S){S=null;break e}if(P=dr(P.nextSibling),P===null){S=null;break e}}S=P}S!==null?(i.memoizedState={dehydrated:S,treeContext:rs!==null?{id:ai,overflow:li}:null,retryLane:536870912,hydrationErrors:null},P=On(18,null,null,0),P.stateNode=S,P.return=i,i.child=P,wn=i,wt=null,P=!0):P=!1}P||ss(i)}if(S=i.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Og(S)?i.lanes=32:i.lanes=536870912,null;fi(i)}return S=l.children,l=l.fallback,d?(ro(),d=i.mode,S=Fh({mode:"hidden",children:S},d),l=ns(l,d,s,null),S.return=i,l.return=i,S.sibling=l,i.child=S,d=i.child,d.memoizedState=Zm(s),d.childLanes=Jm(t,w,s),i.memoizedState=Ym,l):(no(i),eg(i,S))}if(P=t.memoizedState,P!==null&&(S=P.dehydrated,S!==null)){if(p)i.flags&256?(no(i),i.flags&=-257,i=tg(t,i,s)):i.memoizedState!==null?(ro(),i.child=t.child,i.flags|=128,i=null):(ro(),d=l.fallback,S=i.mode,l=Fh({mode:"visible",children:l.children},S),d=ns(d,S,s,null),d.flags|=2,l.return=i,d.return=i,l.sibling=d,i.child=l,ba(i,t.child,null,s),l=i.child,l.memoizedState=Zm(s),l.childLanes=Jm(t,w,s),i.memoizedState=Ym,i=d);else if(no(i),Og(S)){if(w=S.nextSibling&&S.nextSibling.dataset,w)var q=w.dgst;w=q,l=Error(o(419)),l.stack="",l.digest=w,Yl({value:l,source:null,stack:null}),i=tg(t,i,s)}else if(Ht||Zl(t,i,s,!1),w=(s&t.childLanes)!==0,Ht||w){if(w=at,w!==null&&(l=s&-s,l=(l&42)!==0?1:$i(l),l=(l&(w.suspendedLanes|s))!==0?0:l,l!==0&&l!==P.retryLane))throw P.retryLane=l,la(t,l),zn(w,t,l),lk;S.data==="$?"||bg(),i=tg(t,i,s)}else S.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=P.treeContext,wt=dr(S.nextSibling),wn=i,Qe=!0,os=null,Rr=!1,t!==null&&(er[tr++]=ai,er[tr++]=li,er[tr++]=rs,ai=t.id,li=t.overflow,rs=i),i=eg(i,l.children),i.flags|=4096);return i}return d?(ro(),d=l.fallback,S=i.mode,P=t.child,q=P.sibling,l=si(P,{mode:"hidden",children:l.children}),l.subtreeFlags=P.subtreeFlags&65011712,q!==null?d=si(q,d):(d=ns(d,S,s,null),d.flags|=2),d.return=i,l.return=i,l.sibling=d,i.child=l,l=d,d=i.child,S=t.child.memoizedState,S===null?S=Zm(s):(P=S.cachePool,P!==null?(q=qt._currentValue,P=P.parent!==q?{parent:q,pool:q}:P):P=rS(),S={baseLanes:S.baseLanes|s,cachePool:P}),d.memoizedState=S,d.childLanes=Jm(t,w,s),i.memoizedState=Ym,l):(no(i),s=t.child,t=s.sibling,s=si(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,t!==null&&(w=i.deletions,w===null?(i.deletions=[t],i.flags|=16):w.push(t)),i.child=s,i.memoizedState=null,s)}function eg(t,i){return i=Fh({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Fh(t,i){return t=On(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function tg(t,i,s){return ba(i,t.child,null,s),t=eg(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function vk(t,i,s){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),bm(t.return,i,s)}function ng(t,i,s,l,d){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:d}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=s,p.tailMode=d)}function bk(t,i,s){var l=i.pendingProps,d=l.revealOrder,p=l.tail;if(on(t,i,l.children,s),l=Bt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vk(t,s,i);else if(t.tag===19)vk(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(X(Bt,l),d){case"forwards":for(s=i.child,d=null;s!==null;)t=s.alternate,t!==null&&Mh(t)===null&&(d=s),s=s.sibling;s=d,s===null?(d=i.child,i.child=null):(d=s.sibling,s.sibling=null),ng(i,!1,d,s,p);break;case"backwards":for(s=null,d=i.child,i.child=null;d!==null;){if(t=d.alternate,t!==null&&Mh(t)===null){i.child=d;break}t=d.sibling,d.sibling=s,s=d,d=t}ng(i,!0,s,null,p);break;case"together":ng(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function pi(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),lo|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(Zl(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(o(153));if(i.child!==null){for(t=i.child,s=si(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=si(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function rg(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&yh(t)))}function TL(t,i,s){switch(i.tag){case 3:ve(i,i.stateNode.containerInfo),Yi(i,qt,t.memoizedState.cache),Gl();break;case 27:case 5:ot(i);break;case 4:ve(i,i.stateNode.containerInfo);break;case 10:Yi(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(no(i),i.flags|=128,null):(s&i.child.childLanes)!==0?yk(t,i,s):(no(i),t=pi(t,i,s),t!==null?t.sibling:null);no(i);break;case 19:var d=(t.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(Zl(t,i,s,!1),l=(s&i.childLanes)!==0),d){if(l)return bk(t,i,s);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),X(Bt,Bt.current),l)break;return null;case 22:case 23:return i.lanes=0,dk(t,i,s);case 24:Yi(i,qt,t.memoizedState.cache)}return pi(t,i,s)}function wk(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ht=!0;else{if(!rg(t,s)&&(i.flags&128)===0)return Ht=!1,TL(t,i,s);Ht=(t.flags&131072)!==0}else Ht=!1,Qe&&(i.flags&1048576)!==0&&GE(i,gh,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,d=l._init;if(l=d(l._payload),i.type=l,typeof l=="function")dm(l)?(t=hs(l,t),i.tag=1,i=mk(null,i,l,t,s)):(i.tag=0,i=Gm(null,i,l,t,s));else{if(l!=null){if(d=l.$$typeof,d===pe){i.tag=11,i=uk(null,i,l,t,s);break e}else if(d===M){i.tag=14,i=ck(null,i,l,t,s);break e}}throw i=$e(l)||l,Error(o(306,i,""))}}return i;case 0:return Gm(t,i,i.type,i.pendingProps,s);case 1:return l=i.type,d=hs(l,i.pendingProps),mk(t,i,l,d,s);case 3:e:{if(ve(i,i.stateNode.containerInfo),t===null)throw Error(o(387));l=i.pendingProps;var p=i.memoizedState;d=p.element,Cm(t,i),ou(i,l,null,s);var w=i.memoizedState;if(l=w.cache,Yi(i,qt,l),l!==p.cache&&wm(i,[qt],s,!0),iu(),l=w.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:w.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=gk(t,i,l,s);break e}else if(l!==d){d=Zn(Error(o(424)),i),Yl(d),i=gk(t,i,l,s);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(wt=dr(t.firstChild),wn=i,Qe=!0,os=null,Rr=!0,s=ZS(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Gl(),l===d){i=pi(t,i,s);break e}on(t,i,l,s)}i=i.child}return i;case 26:return Oh(t,i),t===null?(s=x2(i.type,null,i.pendingProps,null))?i.memoizedState=s:Qe||(s=i.type,t=i.pendingProps,l=Yh(ae.current).createElement(s),l[jt]=i,l[Mt]=t,an(l,s,t),Tt(l),i.stateNode=l):i.memoizedState=x2(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ot(i),t===null&&Qe&&(l=i.stateNode=E2(i.type,i.pendingProps,ae.current),wn=i,Rr=!0,d=wt,fo(i.type)?(Fg=d,wt=dr(l.firstChild)):wt=d),on(t,i,i.pendingProps.children,s),Oh(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Qe&&((d=l=wt)&&(l=JL(l,i.type,i.pendingProps,Rr),l!==null?(i.stateNode=l,wn=i,wt=dr(l.firstChild),Rr=!1,d=!0):d=!1),d||ss(i)),ot(i),d=i.type,p=i.pendingProps,w=t!==null?t.memoizedProps:null,l=p.children,Mg(d,p)?l=null:w!==null&&Mg(d,w)&&(i.flags|=32),i.memoizedState!==null&&(d=Nm(t,i,yL,null,null,s),Au._currentValue=d),Oh(t,i),on(t,i,l,s),i.child;case 6:return t===null&&Qe&&((t=s=wt)&&(s=e6(s,i.pendingProps,Rr),s!==null?(i.stateNode=s,wn=i,wt=null,t=!0):t=!1),t||ss(i)),null;case 13:return yk(t,i,s);case 4:return ve(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=ba(i,null,l,s):on(t,i,l,s),i.child;case 11:return uk(t,i,i.type,i.pendingProps,s);case 7:return on(t,i,i.pendingProps,s),i.child;case 8:return on(t,i,i.pendingProps.children,s),i.child;case 12:return on(t,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,Yi(i,i.type,l.value),on(t,i,l.children,s),i.child;case 9:return d=i.type._context,l=i.pendingProps.children,ls(i),d=pn(d),l=l(d),i.flags|=1,on(t,i,l,s),i.child;case 14:return ck(t,i,i.type,i.pendingProps,s);case 15:return hk(t,i,i.type,i.pendingProps,s);case 19:return bk(t,i,s);case 31:return l=i.pendingProps,s=i.mode,l={mode:l.mode,children:l.children},t===null?(s=Fh(l,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=si(t.child,l),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return dk(t,i,s);case 24:return ls(i),l=pn(qt),t===null?(d=km(),d===null&&(d=at,p=Em(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=s),d=p),i.memoizedState={parent:l,cache:d},Tm(i),Yi(i,qt,d)):((t.lanes&s)!==0&&(Cm(t,i),ou(i,null,null,s),iu()),d=t.memoizedState,p=i.memoizedState,d.parent!==l?(d={parent:l,cache:l},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),Yi(i,qt,l)):(l=p.cache,Yi(i,qt,l),l!==d.cache&&wm(i,[qt],s,!0))),on(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(o(156,i.tag))}function mi(t){t.flags|=4}function Ek(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!D2(i)){if(i=nr.current,i!==null&&((Be&4194048)===Be?di!==null:(Be&62914560)!==Be&&(Be&536870912)===0||i!==di))throw nu=xm,iS;t.flags|=8192}}function Vh(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Dl():536870912,t.lanes|=i,ka|=i)}function du(t,i){if(!Qe)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function vt(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(i)for(var d=t.child;d!==null;)s|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)s|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=s,i}function CL(t,i,s){var l=i.pendingProps;switch(gm(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(i),null;case 1:return vt(i),null;case 3:return s=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ci(qt),_e(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Ql(i)?mi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,JE())),vt(i),null;case 26:return s=i.memoizedState,t===null?(mi(i),s!==null?(vt(i),Ek(i,s)):(vt(i),i.flags&=-16777217)):s?s!==t.memoizedState?(mi(i),vt(i),Ek(i,s)):(vt(i),i.flags&=-16777217):(t.memoizedProps!==l&&mi(i),vt(i),i.flags&=-16777217),null;case 27:Oe(i),s=ae.current;var d=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&mi(i);else{if(!l){if(i.stateNode===null)throw Error(o(166));return vt(i),null}t=se.current,Ql(i)?YE(i):(t=E2(d,l,s),i.stateNode=t,mi(i))}return vt(i),null;case 5:if(Oe(i),s=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&mi(i);else{if(!l){if(i.stateNode===null)throw Error(o(166));return vt(i),null}if(t=se.current,Ql(i))YE(i);else{switch(d=Yh(ae.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?d.createElement(s,{is:l.is}):d.createElement(s)}}t[jt]=i,t[Mt]=l;e:for(d=i.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break e;for(;d.sibling===null;){if(d.return===null||d.return===i)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i.stateNode=t;e:switch(an(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&mi(i)}}return vt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&mi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(o(166));if(t=ae.current,Ql(i)){if(t=i.stateNode,s=i.memoizedProps,l=null,d=wn,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[jt]=i,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||p2(t.nodeValue,s)),t||ss(i)}else t=Yh(t).createTextNode(l),t[jt]=i,i.stateNode=t}return vt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=Ql(i),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(o(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));d[jt]=i}else Gl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;vt(i),d=!1}else d=JE(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(fi(i),i):(fi(i),null)}if(fi(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=i.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool);var p=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==d&&(l.flags|=2048)}return s!==t&&s&&(i.child.flags|=8192),Vh(i,i.updateQueue),vt(i),null;case 4:return _e(),t===null&&Ig(i.stateNode.containerInfo),vt(i),null;case 10:return ci(i.type),vt(i),null;case 19:if(G(Bt),d=i.memoizedState,d===null)return vt(i),null;if(l=(i.flags&128)!==0,p=d.rendering,p===null)if(l)du(d,!1);else{if(Et!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(p=Mh(t),p!==null){for(i.flags|=128,du(d,!1),t=p.updateQueue,i.updateQueue=t,Vh(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)QE(s,t),s=s.sibling;return X(Bt,Bt.current&1|2),i.child}t=t.sibling}d.tail!==null&&dt()>zh&&(i.flags|=128,l=!0,du(d,!1),i.lanes=4194304)}else{if(!l)if(t=Mh(p),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,Vh(i,t),du(d,!0),d.tail===null&&d.tailMode==="hidden"&&!p.alternate&&!Qe)return vt(i),null}else 2*dt()-d.renderingStartTime>zh&&s!==536870912&&(i.flags|=128,l=!0,du(d,!1),i.lanes=4194304);d.isBackwards?(p.sibling=i.child,i.child=p):(t=d.last,t!==null?t.sibling=p:i.child=p,d.last=p)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=dt(),i.sibling=null,t=Bt.current,X(Bt,l?t&1|2:t&1),i):(vt(i),null);case 22:case 23:return fi(i),_m(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(vt(i),i.subtreeFlags&6&&(i.flags|=8192)):vt(i),s=i.updateQueue,s!==null&&Vh(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),t!==null&&G(us),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),ci(qt),vt(i),null;case 25:return null;case 30:return null}throw Error(o(156,i.tag))}function AL(t,i){switch(gm(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ci(qt),_e(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Oe(i),null;case 13:if(fi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(o(340));Gl()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return G(Bt),null;case 4:return _e(),null;case 10:return ci(i.type),null;case 22:case 23:return fi(i),_m(),t!==null&&G(us),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return ci(qt),null;case 25:return null;default:return null}}function Sk(t,i){switch(gm(i),i.tag){case 3:ci(qt),_e();break;case 26:case 27:case 5:Oe(i);break;case 4:_e();break;case 13:fi(i);break;case 19:G(Bt);break;case 10:ci(i.type);break;case 22:case 23:fi(i),_m(),t!==null&&G(us);break;case 24:ci(qt)}}function fu(t,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var d=l.next;s=d;do{if((s.tag&t)===t){l=void 0;var p=s.create,w=s.inst;l=p(),w.destroy=l}s=s.next}while(s!==d)}}catch(S){st(i,i.return,S)}}function io(t,i,s){try{var l=i.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var p=d.next;l=p;do{if((l.tag&t)===t){var w=l.inst,S=w.destroy;if(S!==void 0){w.destroy=void 0,d=i;var P=s,q=S;try{q()}catch(Y){st(d,P,Y)}}}l=l.next}while(l!==p)}}catch(Y){st(i,i.return,Y)}}function kk(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{cS(i,s)}catch(l){st(t,t.return,l)}}}function xk(t,i,s){s.props=hs(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){st(t,i,l)}}function pu(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(d){st(t,i,d)}}function Or(t,i){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(d){st(t,i,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(d){st(t,i,d)}else s.current=null}function Tk(t){var i=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(d){st(t,t.return,d)}}function ig(t,i,s){try{var l=t.stateNode;XL(l,t.type,s,i),l[Mt]=i}catch(d){st(t,t.return,d)}}function Ck(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&fo(t.type)||t.tag===4}function og(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ck(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&fo(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sg(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Gh));else if(l!==4&&(l===27&&fo(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(sg(t,i,s),t=t.sibling;t!==null;)sg(t,i,s),t=t.sibling}function jh(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(l!==4&&(l===27&&fo(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(jh(t,i,s),t=t.sibling;t!==null;)jh(t,i,s),t=t.sibling}function Ak(t){var i=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);an(i,l,s),i[jt]=t,i[Mt]=s}catch(p){st(t,t.return,p)}}var gi=!1,At=!1,ag=!1,Ik=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function IL(t,i){if(t=t.containerInfo,Pg=rd,t=jE(t),om(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var d=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{s.nodeType,p.nodeType}catch{s=null;break e}var w=0,S=-1,P=-1,q=0,Y=0,ee=t,$=null;t:for(;;){for(var K;ee!==s||d!==0&&ee.nodeType!==3||(S=w+d),ee!==p||l!==0&&ee.nodeType!==3||(P=w+l),ee.nodeType===3&&(w+=ee.nodeValue.length),(K=ee.firstChild)!==null;)$=ee,ee=K;for(;;){if(ee===t)break t;if($===s&&++q===d&&(S=w),$===p&&++Y===l&&(P=w),(K=ee.nextSibling)!==null)break;ee=$,$=ee.parentNode}ee=K}s=S===-1||P===-1?null:{start:S,end:P}}else s=null}s=s||{start:0,end:0}}else s=null;for(Ng={focusedElem:t,selectionRange:s},rd=!1,Xt=i;Xt!==null;)if(i=Xt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Xt=t;else for(;Xt!==null;){switch(i=Xt,p=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&p!==null){t=void 0,s=i,d=p.memoizedProps,p=p.memoizedState,l=s.stateNode;try{var Ce=hs(s.type,d,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(Ce,p),l.__reactInternalSnapshotBeforeUpdate=t}catch(Se){st(s,s.return,Se)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)Rg(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Rg(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=i.sibling,t!==null){t.return=i.return,Xt=t;break}Xt=i.return}}function Dk(t,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:oo(t,s),l&4&&fu(5,s);break;case 1:if(oo(t,s),l&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(w){st(s,s.return,w)}else{var d=hs(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(d,i,t.__reactInternalSnapshotBeforeUpdate)}catch(w){st(s,s.return,w)}}l&64&&kk(s),l&512&&pu(s,s.return);break;case 3:if(oo(t,s),l&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{cS(t,i)}catch(w){st(s,s.return,w)}}break;case 27:i===null&&l&4&&Ak(s);case 26:case 5:oo(t,s),i===null&&l&4&&Tk(s),l&512&&pu(s,s.return);break;case 12:oo(t,s);break;case 13:oo(t,s),l&4&&Nk(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=FL.bind(null,s),t6(t,s))));break;case 22:if(l=s.memoizedState!==null||gi,!l){i=i!==null&&i.memoizedState!==null||At,d=gi;var p=At;gi=l,(At=i)&&!p?so(t,s,(s.subtreeFlags&8772)!==0):oo(t,s),gi=d,At=p}break;case 30:break;default:oo(t,s)}}function _k(t){var i=t.alternate;i!==null&&(t.alternate=null,_k(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Hi(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var pt=null,An=!1;function yi(t,i,s){for(s=s.child;s!==null;)Pk(t,i,s),s=s.sibling}function Pk(t,i,s){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(ct,s)}catch{}switch(s.tag){case 26:At||Or(s,i),yi(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:At||Or(s,i);var l=pt,d=An;fo(s.type)&&(pt=s.stateNode,An=!1),yi(t,i,s),ku(s.stateNode),pt=l,An=d;break;case 5:At||Or(s,i);case 6:if(l=pt,d=An,pt=null,yi(t,i,s),pt=l,An=d,pt!==null)if(An)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(s.stateNode)}catch(p){st(s,i,p)}else try{pt.removeChild(s.stateNode)}catch(p){st(s,i,p)}break;case 18:pt!==null&&(An?(t=pt,b2(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Pu(t)):b2(pt,s.stateNode));break;case 4:l=pt,d=An,pt=s.stateNode.containerInfo,An=!0,yi(t,i,s),pt=l,An=d;break;case 0:case 11:case 14:case 15:At||io(2,s,i),At||io(4,s,i),yi(t,i,s);break;case 1:At||(Or(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&xk(s,i,l)),yi(t,i,s);break;case 21:yi(t,i,s);break;case 22:At=(l=At)||s.memoizedState!==null,yi(t,i,s),At=l;break;default:yi(t,i,s)}}function Nk(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Pu(t)}catch(s){st(i,i.return,s)}}function DL(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Ik),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Ik),i;default:throw Error(o(435,t.tag))}}function lg(t,i){var s=DL(t);i.forEach(function(l){var d=VL.bind(null,t,l);s.has(l)||(s.add(l),l.then(d,d))})}function Fn(t,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var d=s[l],p=t,w=i,S=w;e:for(;S!==null;){switch(S.tag){case 27:if(fo(S.type)){pt=S.stateNode,An=!1;break e}break;case 5:pt=S.stateNode,An=!1;break e;case 3:case 4:pt=S.stateNode.containerInfo,An=!0;break e}S=S.return}if(pt===null)throw Error(o(160));Pk(p,w,d),pt=null,An=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Mk(i,t),i=i.sibling}var hr=null;function Mk(t,i){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Fn(i,t),Vn(t),l&4&&(io(3,t,t.return),fu(3,t),io(5,t,t.return));break;case 1:Fn(i,t),Vn(t),l&512&&(At||s===null||Or(s,s.return)),l&64&&gi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var d=hr;if(Fn(i,t),Vn(t),l&512&&(At||s===null||Or(s,s.return)),l&4){var p=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":p=d.getElementsByTagName("title")[0],(!p||p[Uo]||p[jt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(l),d.head.insertBefore(p,d.querySelector("head > title"))),an(p,l,s),p[jt]=t,Tt(p),l=p;break e;case"link":var w=A2("link","href",d).get(l+(s.href||""));if(w){for(var S=0;S<w.length;S++)if(p=w[S],p.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&p.getAttribute("rel")===(s.rel==null?null:s.rel)&&p.getAttribute("title")===(s.title==null?null:s.title)&&p.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){w.splice(S,1);break t}}p=d.createElement(l),an(p,l,s),d.head.appendChild(p);break;case"meta":if(w=A2("meta","content",d).get(l+(s.content||""))){for(S=0;S<w.length;S++)if(p=w[S],p.getAttribute("content")===(s.content==null?null:""+s.content)&&p.getAttribute("name")===(s.name==null?null:s.name)&&p.getAttribute("property")===(s.property==null?null:s.property)&&p.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&p.getAttribute("charset")===(s.charSet==null?null:s.charSet)){w.splice(S,1);break t}}p=d.createElement(l),an(p,l,s),d.head.appendChild(p);break;default:throw Error(o(468,l))}p[jt]=t,Tt(p),l=p}t.stateNode=l}else I2(d,t.type,t.stateNode);else t.stateNode=C2(d,l,t.memoizedProps);else p!==l?(p===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):p.count--,l===null?I2(d,t.type,t.stateNode):C2(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&ig(t,t.memoizedProps,s.memoizedProps)}break;case 27:Fn(i,t),Vn(t),l&512&&(At||s===null||Or(s,s.return)),s!==null&&l&4&&ig(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Fn(i,t),Vn(t),l&512&&(At||s===null||Or(s,s.return)),t.flags&32){d=t.stateNode;try{Xn(d,"")}catch(K){st(t,t.return,K)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,ig(t,d,s!==null?s.memoizedProps:d)),l&1024&&(ag=!0);break;case 6:if(Fn(i,t),Vn(t),l&4){if(t.stateNode===null)throw Error(o(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(K){st(t,t.return,K)}}break;case 3:if(ed=null,d=hr,hr=Zh(i.containerInfo),Fn(i,t),hr=d,Vn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Pu(i.containerInfo)}catch(K){st(t,t.return,K)}ag&&(ag=!1,Lk(t));break;case 4:l=hr,hr=Zh(t.stateNode.containerInfo),Fn(i,t),Vn(t),hr=l;break;case 12:Fn(i,t),Vn(t);break;case 13:Fn(i,t),Vn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(pg=dt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,lg(t,l)));break;case 22:d=t.memoizedState!==null;var P=s!==null&&s.memoizedState!==null,q=gi,Y=At;if(gi=q||d,At=Y||P,Fn(i,t),At=Y,gi=q,Vn(t),l&8192)e:for(i=t.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(s===null||P||gi||At||ds(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){P=s=i;try{if(p=P.stateNode,d)w=p.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{S=P.stateNode;var ee=P.memoizedProps.style,$=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;S.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(K){st(P,P.return,K)}}}else if(i.tag===6){if(s===null){P=i;try{P.stateNode.nodeValue=d?"":P.memoizedProps}catch(K){st(P,P.return,K)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,lg(t,s))));break;case 19:Fn(i,t),Vn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,lg(t,l)));break;case 30:break;case 21:break;default:Fn(i,t),Vn(t)}}function Vn(t){var i=t.flags;if(i&2){try{for(var s,l=t.return;l!==null;){if(Ck(l)){s=l;break}l=l.return}if(s==null)throw Error(o(160));switch(s.tag){case 27:var d=s.stateNode,p=og(t);jh(t,p,d);break;case 5:var w=s.stateNode;s.flags&32&&(Xn(w,""),s.flags&=-33);var S=og(t);jh(t,S,w);break;case 3:case 4:var P=s.stateNode.containerInfo,q=og(t);sg(t,q,P);break;default:throw Error(o(161))}}catch(Y){st(t,t.return,Y)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Lk(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Lk(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function oo(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Dk(t,i.alternate,i),i=i.sibling}function ds(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:io(4,i,i.return),ds(i);break;case 1:Or(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&xk(i,i.return,s),ds(i);break;case 27:ku(i.stateNode);case 26:case 5:Or(i,i.return),ds(i);break;case 22:i.memoizedState===null&&ds(i);break;case 30:ds(i);break;default:ds(i)}t=t.sibling}}function so(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,d=t,p=i,w=p.flags;switch(p.tag){case 0:case 11:case 15:so(d,p,s),fu(4,p);break;case 1:if(so(d,p,s),l=p,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(q){st(l,l.return,q)}if(l=p,d=l.updateQueue,d!==null){var S=l.stateNode;try{var P=d.shared.hiddenCallbacks;if(P!==null)for(d.shared.hiddenCallbacks=null,d=0;d<P.length;d++)uS(P[d],S)}catch(q){st(l,l.return,q)}}s&&w&64&&kk(p),pu(p,p.return);break;case 27:Ak(p);case 26:case 5:so(d,p,s),s&&l===null&&w&4&&Tk(p),pu(p,p.return);break;case 12:so(d,p,s);break;case 13:so(d,p,s),s&&w&4&&Nk(d,p);break;case 22:p.memoizedState===null&&so(d,p,s),pu(p,p.return);break;case 30:break;default:so(d,p,s)}i=i.sibling}}function ug(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Jl(s))}function cg(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Jl(t))}function Fr(t,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Rk(t,i,s,l),i=i.sibling}function Rk(t,i,s,l){var d=i.flags;switch(i.tag){case 0:case 11:case 15:Fr(t,i,s,l),d&2048&&fu(9,i);break;case 1:Fr(t,i,s,l);break;case 3:Fr(t,i,s,l),d&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Jl(t)));break;case 12:if(d&2048){Fr(t,i,s,l),t=i.stateNode;try{var p=i.memoizedProps,w=p.id,S=p.onPostCommit;typeof S=="function"&&S(w,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(P){st(i,i.return,P)}}else Fr(t,i,s,l);break;case 13:Fr(t,i,s,l);break;case 23:break;case 22:p=i.stateNode,w=i.alternate,i.memoizedState!==null?p._visibility&2?Fr(t,i,s,l):mu(t,i):p._visibility&2?Fr(t,i,s,l):(p._visibility|=2,wa(t,i,s,l,(i.subtreeFlags&10256)!==0)),d&2048&&ug(w,i);break;case 24:Fr(t,i,s,l),d&2048&&cg(i.alternate,i);break;default:Fr(t,i,s,l)}}function wa(t,i,s,l,d){for(d=d&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var p=t,w=i,S=s,P=l,q=w.flags;switch(w.tag){case 0:case 11:case 15:wa(p,w,S,P,d),fu(8,w);break;case 23:break;case 22:var Y=w.stateNode;w.memoizedState!==null?Y._visibility&2?wa(p,w,S,P,d):mu(p,w):(Y._visibility|=2,wa(p,w,S,P,d)),d&&q&2048&&ug(w.alternate,w);break;case 24:wa(p,w,S,P,d),d&&q&2048&&cg(w.alternate,w);break;default:wa(p,w,S,P,d)}i=i.sibling}}function mu(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,l=i,d=l.flags;switch(l.tag){case 22:mu(s,l),d&2048&&ug(l.alternate,l);break;case 24:mu(s,l),d&2048&&cg(l.alternate,l);break;default:mu(s,l)}i=i.sibling}}var gu=8192;function Ea(t){if(t.subtreeFlags&gu)for(t=t.child;t!==null;)Ok(t),t=t.sibling}function Ok(t){switch(t.tag){case 26:Ea(t),t.flags&gu&&t.memoizedState!==null&&p6(hr,t.memoizedState,t.memoizedProps);break;case 5:Ea(t);break;case 3:case 4:var i=hr;hr=Zh(t.stateNode.containerInfo),Ea(t),hr=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=gu,gu=16777216,Ea(t),gu=i):Ea(t));break;default:Ea(t)}}function Fk(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function yu(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];Xt=l,jk(l,t)}Fk(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Vk(t),t=t.sibling}function Vk(t){switch(t.tag){case 0:case 11:case 15:yu(t),t.flags&2048&&io(9,t,t.return);break;case 3:yu(t);break;case 12:yu(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Uh(t)):yu(t);break;default:yu(t)}}function Uh(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];Xt=l,jk(l,t)}Fk(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:io(8,i,i.return),Uh(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Uh(i));break;default:Uh(i)}t=t.sibling}}function jk(t,i){for(;Xt!==null;){var s=Xt;switch(s.tag){case 0:case 11:case 15:io(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Jl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Xt=l;else e:for(s=t;Xt!==null;){l=Xt;var d=l.sibling,p=l.return;if(_k(l),l===s){Xt=null;break e}if(d!==null){d.return=p,Xt=d;break e}Xt=p}}}var _L={getCacheForType:function(t){var i=pn(qt),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s}},PL=typeof WeakMap=="function"?WeakMap:Map,Ze=0,at=null,Fe=null,Be=0,Je=0,jn=null,ao=!1,Sa=!1,hg=!1,vi=0,Et=0,lo=0,fs=0,dg=0,rr=0,ka=0,vu=null,In=null,fg=!1,pg=0,zh=1/0,qh=null,uo=null,sn=0,co=null,xa=null,Ta=0,mg=0,gg=null,Uk=null,bu=0,yg=null;function Un(){if((Ze&2)!==0&&Be!==0)return Be&-Be;if(W.T!==null){var t=da;return t!==0?t:xg()}return Wi()}function zk(){rr===0&&(rr=(Be&536870912)===0||Qe?Il():536870912);var t=nr.current;return t!==null&&(t.flags|=32),rr}function zn(t,i,s){(t===at&&(Je===2||Je===9)||t.cancelPendingCommit!==null)&&(Ca(t,0),ho(t,Be,rr,!1)),Qr(t,s),((Ze&2)===0||t!==at)&&(t===at&&((Ze&2)===0&&(fs|=s),Et===4&&ho(t,Be,rr,!1)),Vr(t))}function qk(t,i,s){if((Ze&6)!==0)throw Error(o(327));var l=!s&&(i&124)===0&&(i&t.expiredLanes)===0||jo(t,i),d=l?LL(t,i):wg(t,i,!0),p=l;do{if(d===0){Sa&&!l&&ho(t,i,0,!1);break}else{if(s=t.current.alternate,p&&!NL(s)){d=wg(t,i,!1),p=!1;continue}if(d===2){if(p=i,t.errorRecoveryDisabledLanes&p)var w=0;else w=t.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){i=w;e:{var S=t;d=vu;var P=S.current.memoizedState.isDehydrated;if(P&&(Ca(S,w).flags|=256),w=wg(S,w,!1),w!==2){if(hg&&!P){S.errorRecoveryDisabledLanes|=p,fs|=p,d=4;break e}p=In,In=d,p!==null&&(In===null?In=p:In.push.apply(In,p))}d=w}if(p=!1,d!==2)continue}}if(d===1){Ca(t,0),ho(t,i,0,!0);break}e:{switch(l=t,p=d,p){case 0:case 1:throw Error(o(345));case 4:if((i&4194048)!==i)break;case 6:ho(l,i,rr,!ao);break e;case 2:In=null;break;case 3:case 5:break;default:throw Error(o(329))}if((i&62914560)===i&&(d=pg+300-dt(),10<d)){if(ho(l,i,rr,!ao),Bs(l,0,!0)!==0)break e;l.timeoutHandle=y2(Bk.bind(null,l,s,In,qh,fg,i,rr,fs,ka,ao,p,2,-0,0),d);break e}Bk(l,s,In,qh,fg,i,rr,fs,ka,ao,p,0,-0,0)}}break}while(!0);Vr(t)}function Bk(t,i,s,l,d,p,w,S,P,q,Y,ee,$,K){if(t.timeoutHandle=-1,ee=i.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(Cu={stylesheets:null,count:0,unsuspend:f6},Ok(i),ee=m6(),ee!==null)){t.cancelPendingCommit=ee(Gk.bind(null,t,i,p,s,l,d,w,S,P,Y,1,$,K)),ho(t,p,w,!q);return}Gk(t,i,p,s,l,d,w,S,P)}function NL(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var d=s[l],p=d.getSnapshot;d=d.value;try{if(!Rn(p(),d))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ho(t,i,s,l){i&=~dg,i&=~fs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var d=i;0<d;){var p=31-Vt(d),w=1<<p;l[p]=-1,d&=~w}s!==0&&xr(t,s,i)}function Bh(){return(Ze&6)===0?(wu(0),!1):!0}function vg(){if(Fe!==null){if(Je===0)var t=Fe.return;else t=Fe,ui=as=null,Rm(t),va=null,cu=0,t=Fe;for(;t!==null;)Sk(t.alternate,t),t=t.return;Fe=null}}function Ca(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,GL(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),vg(),at=t,Fe=s=si(t.current,null),Be=i,Je=0,jn=null,ao=!1,Sa=jo(t,i),hg=!1,ka=rr=dg=fs=lo=Et=0,In=vu=null,fg=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var d=31-Vt(l),p=1<<d;i|=t[d],l&=~p}return vi=i,hh(),s}function $k(t,i){Le=null,W.H=_h,i===tu||i===wh?(i=aS(),Je=3):i===iS?(i=aS(),Je=4):Je=i===lk?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,jn=i,Fe===null&&(Et=1,Rh(t,Zn(i,t.current)))}function Wk(){var t=W.H;return W.H=_h,t===null?_h:t}function Kk(){var t=W.A;return W.A=_L,t}function bg(){Et=4,ao||(Be&4194048)!==Be&&nr.current!==null||(Sa=!0),(lo&134217727)===0&&(fs&134217727)===0||at===null||ho(at,Be,rr,!1)}function wg(t,i,s){var l=Ze;Ze|=2;var d=Wk(),p=Kk();(at!==t||Be!==i)&&(qh=null,Ca(t,i)),i=!1;var w=Et;e:do try{if(Je!==0&&Fe!==null){var S=Fe,P=jn;switch(Je){case 8:vg(),w=6;break e;case 3:case 2:case 9:case 6:nr.current===null&&(i=!0);var q=Je;if(Je=0,jn=null,Aa(t,S,P,q),s&&Sa){w=0;break e}break;default:q=Je,Je=0,jn=null,Aa(t,S,P,q)}}ML(),w=Et;break}catch(Y){$k(t,Y)}while(!0);return i&&t.shellSuspendCounter++,ui=as=null,Ze=l,W.H=d,W.A=p,Fe===null&&(at=null,Be=0,hh()),w}function ML(){for(;Fe!==null;)Hk(Fe)}function LL(t,i){var s=Ze;Ze|=2;var l=Wk(),d=Kk();at!==t||Be!==i?(qh=null,zh=dt()+500,Ca(t,i)):Sa=jo(t,i);e:do try{if(Je!==0&&Fe!==null){i=Fe;var p=jn;t:switch(Je){case 1:Je=0,jn=null,Aa(t,i,p,1);break;case 2:case 9:if(oS(p)){Je=0,jn=null,Xk(i);break}i=function(){Je!==2&&Je!==9||at!==t||(Je=7),Vr(t)},p.then(i,i);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:oS(p)?(Je=0,jn=null,Xk(i)):(Je=0,jn=null,Aa(t,i,p,7));break;case 5:var w=null;switch(Fe.tag){case 26:w=Fe.memoizedState;case 5:case 27:var S=Fe;if(!w||D2(w)){Je=0,jn=null;var P=S.sibling;if(P!==null)Fe=P;else{var q=S.return;q!==null?(Fe=q,$h(q)):Fe=null}break t}}Je=0,jn=null,Aa(t,i,p,5);break;case 6:Je=0,jn=null,Aa(t,i,p,6);break;case 8:vg(),Et=6;break e;default:throw Error(o(462))}}RL();break}catch(Y){$k(t,Y)}while(!0);return ui=as=null,W.H=l,W.A=d,Ze=s,Fe!==null?0:(at=null,Be=0,hh(),Et)}function RL(){for(;Fe!==null&&!Nt();)Hk(Fe)}function Hk(t){var i=wk(t.alternate,t,vi);t.memoizedProps=t.pendingProps,i===null?$h(t):Fe=i}function Xk(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=pk(s,i,i.pendingProps,i.type,void 0,Be);break;case 11:i=pk(s,i,i.pendingProps,i.type.render,i.ref,Be);break;case 5:Rm(i);default:Sk(s,i),i=Fe=QE(i,vi),i=wk(s,i,vi)}t.memoizedProps=t.pendingProps,i===null?$h(t):Fe=i}function Aa(t,i,s,l){ui=as=null,Rm(i),va=null,cu=0;var d=i.return;try{if(xL(t,d,i,s,Be)){Et=1,Rh(t,Zn(s,t.current)),Fe=null;return}}catch(p){if(d!==null)throw Fe=d,p;Et=1,Rh(t,Zn(s,t.current)),Fe=null;return}i.flags&32768?(Qe||l===1?t=!0:Sa||(Be&536870912)!==0?t=!1:(ao=t=!0,(l===2||l===9||l===3||l===6)&&(l=nr.current,l!==null&&l.tag===13&&(l.flags|=16384))),Qk(i,t)):$h(i)}function $h(t){var i=t;do{if((i.flags&32768)!==0){Qk(i,ao);return}t=i.return;var s=CL(i.alternate,i,vi);if(s!==null){Fe=s;return}if(i=i.sibling,i!==null){Fe=i;return}Fe=i=t}while(i!==null);Et===0&&(Et=5)}function Qk(t,i){do{var s=AL(t.alternate,t);if(s!==null){s.flags&=32767,Fe=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){Fe=t;return}Fe=t=s}while(t!==null);Et=6,Fe=null}function Gk(t,i,s,l,d,p,w,S,P){t.cancelPendingCommit=null;do Wh();while(sn!==0);if((Ze&6)!==0)throw Error(o(327));if(i!==null){if(i===t.current)throw Error(o(177));if(p=i.lanes|i.childLanes,p|=cm,_l(t,s,p,w,S,P),t===at&&(Fe=at=null,Be=0),xa=i,co=t,Ta=s,mg=p,gg=d,Uk=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,jL(Wr,function(){return t2(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,d=re.p,re.p=2,w=Ze,Ze|=4;try{IL(t,i,s)}finally{Ze=w,re.p=d,W.T=l}}sn=1,Yk(),Zk(),Jk()}}function Yk(){if(sn===1){sn=0;var t=co,i=xa,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=W.T,W.T=null;var l=re.p;re.p=2;var d=Ze;Ze|=4;try{Mk(i,t);var p=Ng,w=jE(t.containerInfo),S=p.focusedElem,P=p.selectionRange;if(w!==S&&S&&S.ownerDocument&&VE(S.ownerDocument.documentElement,S)){if(P!==null&&om(S)){var q=P.start,Y=P.end;if(Y===void 0&&(Y=q),"selectionStart"in S)S.selectionStart=q,S.selectionEnd=Math.min(Y,S.value.length);else{var ee=S.ownerDocument||document,$=ee&&ee.defaultView||window;if($.getSelection){var K=$.getSelection(),Ce=S.textContent.length,Se=Math.min(P.start,Ce),it=P.end===void 0?Se:Math.min(P.end,Ce);!K.extend&&Se>it&&(w=it,it=Se,Se=w);var F=FE(S,Se),R=FE(S,it);if(F&&R&&(K.rangeCount!==1||K.anchorNode!==F.node||K.anchorOffset!==F.offset||K.focusNode!==R.node||K.focusOffset!==R.offset)){var z=ee.createRange();z.setStart(F.node,F.offset),K.removeAllRanges(),Se>it?(K.addRange(z),K.extend(R.node,R.offset)):(z.setEnd(R.node,R.offset),K.addRange(z))}}}}for(ee=[],K=S;K=K.parentNode;)K.nodeType===1&&ee.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ee.length;S++){var Z=ee[S];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}rd=!!Pg,Ng=Pg=null}finally{Ze=d,re.p=l,W.T=s}}t.current=i,sn=2}}function Zk(){if(sn===2){sn=0;var t=co,i=xa,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=W.T,W.T=null;var l=re.p;re.p=2;var d=Ze;Ze|=4;try{Dk(t,i.alternate,i)}finally{Ze=d,re.p=l,W.T=s}}sn=3}}function Jk(){if(sn===4||sn===3){sn=0,fn();var t=co,i=xa,s=Ta,l=Uk;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?sn=5:(sn=0,xa=co=null,e2(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(uo=null),$s(s),i=i.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(ct,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=W.T,d=re.p,re.p=2,W.T=null;try{for(var p=t.onRecoverableError,w=0;w<l.length;w++){var S=l[w];p(S.value,{componentStack:S.stack})}}finally{W.T=i,re.p=d}}(Ta&3)!==0&&Wh(),Vr(t),d=t.pendingLanes,(s&4194090)!==0&&(d&42)!==0?t===yg?bu++:(bu=0,yg=t):bu=0,wu(0)}}function e2(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Jl(i)))}function Wh(t){return Yk(),Zk(),Jk(),t2()}function t2(){if(sn!==5)return!1;var t=co,i=mg;mg=0;var s=$s(Ta),l=W.T,d=re.p;try{re.p=32>s?32:s,W.T=null,s=gg,gg=null;var p=co,w=Ta;if(sn=0,xa=co=null,Ta=0,(Ze&6)!==0)throw Error(o(331));var S=Ze;if(Ze|=4,Vk(p.current),Rk(p,p.current,w,s),Ze=S,wu(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(ct,p)}catch{}return!0}finally{re.p=d,W.T=l,e2(t,i)}}function n2(t,i,s){i=Zn(s,i),i=Qm(t.stateNode,i,2),t=eo(t,i,2),t!==null&&(Qr(t,2),Vr(t))}function st(t,i,s){if(t.tag===3)n2(t,t,s);else for(;i!==null;){if(i.tag===3){n2(i,t,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(uo===null||!uo.has(l))){t=Zn(s,t),s=sk(2),l=eo(i,s,2),l!==null&&(ak(s,l,i,t),Qr(l,2),Vr(l));break}}i=i.return}}function Eg(t,i,s){var l=t.pingCache;if(l===null){l=t.pingCache=new PL;var d=new Set;l.set(i,d)}else d=l.get(i),d===void 0&&(d=new Set,l.set(i,d));d.has(s)||(hg=!0,d.add(s),t=OL.bind(null,t,i,s),i.then(t,t))}function OL(t,i,s){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,at===t&&(Be&s)===s&&(Et===4||Et===3&&(Be&62914560)===Be&&300>dt()-pg?(Ze&2)===0&&Ca(t,0):dg|=s,ka===Be&&(ka=0)),Vr(t)}function r2(t,i){i===0&&(i=Dl()),t=la(t,i),t!==null&&(Qr(t,i),Vr(t))}function FL(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),r2(t,s)}function VL(t,i){var s=0;switch(t.tag){case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(s=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(o(314))}l!==null&&l.delete(i),r2(t,s)}function jL(t,i){return yt(t,i)}var Kh=null,Ia=null,Sg=!1,Hh=!1,kg=!1,ps=0;function Vr(t){t!==Ia&&t.next===null&&(Ia===null?Kh=Ia=t:Ia=Ia.next=t),Hh=!0,Sg||(Sg=!0,zL())}function wu(t,i){if(!kg&&Hh){kg=!0;do for(var s=!1,l=Kh;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var p=0;else{var w=l.suspendedLanes,S=l.pingedLanes;p=(1<<31-Vt(42|t)+1)-1,p&=d&~(w&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(s=!0,a2(l,p))}else p=Be,p=Bs(l,l===at?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||jo(l,p)||(s=!0,a2(l,p));l=l.next}while(s);kg=!1}}function UL(){i2()}function i2(){Hh=Sg=!1;var t=0;ps!==0&&(QL()&&(t=ps),ps=0);for(var i=dt(),s=null,l=Kh;l!==null;){var d=l.next,p=o2(l,i);p===0?(l.next=null,s===null?Kh=d:s.next=d,d===null&&(Ia=s)):(s=l,(t!==0||(p&3)!==0)&&(Hh=!0)),l=d}wu(t)}function o2(t,i){for(var s=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,p=t.pendingLanes&-62914561;0<p;){var w=31-Vt(p),S=1<<w,P=d[w];P===-1?((S&s)===0||(S&l)!==0)&&(d[w]=Al(S,i)):P<=i&&(t.expiredLanes|=S),p&=~S}if(i=at,s=Be,s=Bs(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===i&&(Je===2||Je===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Pe(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||jo(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(l!==null&&Pe(l),$s(s)){case 2:case 8:s=en;break;case 32:s=Wr;break;case 268435456:s=qi;break;default:s=Wr}return l=s2.bind(null,t),s=yt(s,l),t.callbackPriority=i,t.callbackNode=s,i}return l!==null&&l!==null&&Pe(l),t.callbackPriority=2,t.callbackNode=null,2}function s2(t,i){if(sn!==0&&sn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Wh()&&t.callbackNode!==s)return null;var l=Be;return l=Bs(t,t===at?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(qk(t,l,i),o2(t,dt()),t.callbackNode!=null&&t.callbackNode===s?s2.bind(null,t):null)}function a2(t,i){if(Wh())return null;qk(t,i,!0)}function zL(){YL(function(){(Ze&6)!==0?yt(Mn,UL):i2()})}function xg(){return ps===0&&(ps=Il()),ps}function l2(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Gs(""+t)}function u2(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function qL(t,i,s,l,d){if(i==="submit"&&s&&s.stateNode===d){var p=l2((d[Mt]||null).action),w=l.submitter;w&&(i=(i=w[Mt]||null)?l2(i.formAction):w.getAttribute("formAction"),i!==null&&(p=i,w=null));var S=new Ys("action","action",null,l,d);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ps!==0){var P=w?u2(d,w):new FormData(d);$m(s,{pending:!0,data:P,method:d.method,action:p},null,P)}}else typeof p=="function"&&(S.preventDefault(),P=w?u2(d,w):new FormData(d),$m(s,{pending:!0,data:P,method:d.method,action:p},p,P))},currentTarget:d}]})}}for(var Tg=0;Tg<um.length;Tg++){var Cg=um[Tg],BL=Cg.toLowerCase(),$L=Cg[0].toUpperCase()+Cg.slice(1);cr(BL,"on"+$L)}cr(qE,"onAnimationEnd"),cr(BE,"onAnimationIteration"),cr($E,"onAnimationStart"),cr("dblclick","onDoubleClick"),cr("focusin","onFocus"),cr("focusout","onBlur"),cr(aL,"onTransitionRun"),cr(lL,"onTransitionStart"),cr(uL,"onTransitionCancel"),cr(WE,"onTransitionEnd"),Yr("onMouseEnter",["mouseout","mouseover"]),Yr("onMouseLeave",["mouseout","mouseover"]),Yr("onPointerEnter",["pointerout","pointerover"]),Yr("onPointerLeave",["pointerout","pointerover"]),lr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),lr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),lr("onBeforeInput",["compositionend","keypress","textInput","paste"]),lr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),lr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),lr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WL=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Eu));function c2(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],d=l.event;l=l.listeners;e:{var p=void 0;if(i)for(var w=l.length-1;0<=w;w--){var S=l[w],P=S.instance,q=S.currentTarget;if(S=S.listener,P!==p&&d.isPropagationStopped())break e;p=S,d.currentTarget=q;try{p(d)}catch(Y){Lh(Y)}d.currentTarget=null,p=P}else for(w=0;w<l.length;w++){if(S=l[w],P=S.instance,q=S.currentTarget,S=S.listener,P!==p&&d.isPropagationStopped())break e;p=S,d.currentTarget=q;try{p(d)}catch(Y){Lh(Y)}d.currentTarget=null,p=P}}}}function Ve(t,i){var s=i[Nl];s===void 0&&(s=i[Nl]=new Set);var l=t+"__bubble";s.has(l)||(h2(i,t,2,!1),s.add(l))}function Ag(t,i,s){var l=0;i&&(l|=4),h2(s,t,l,i)}var Xh="_reactListening"+Math.random().toString(36).slice(2);function Ig(t){if(!t[Xh]){t[Xh]=!0,Ml.forEach(function(s){s!=="selectionchange"&&(WL.has(s)||Ag(s,!1,t),Ag(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Xh]||(i[Xh]=!0,Ag("selectionchange",!1,i))}}function h2(t,i,s,l){switch(R2(i)){case 2:var d=v6;break;case 8:d=b6;break;default:d=qg}s=d.bind(null,i,s,t),d=void 0,!Gn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(i,s,{capture:!0,passive:d}):t.addEventListener(i,s,!0):d!==void 0?t.addEventListener(i,s,{passive:d}):t.addEventListener(i,s,!1)}function Dg(t,i,s,l,d){var p=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var w=l.tag;if(w===3||w===4){var S=l.stateNode.containerInfo;if(S===d)break;if(w===4)for(w=l.return;w!==null;){var P=w.tag;if((P===3||P===4)&&w.stateNode.containerInfo===d)return;w=w.return}for(;S!==null;){if(w=Gr(S),w===null)return;if(P=w.tag,P===5||P===6||P===26||P===27){l=p=w;continue e}S=S.parentNode}}l=l.return}Gc(function(){var q=p,Y=Qn(s),ee=[];e:{var $=KE.get(t);if($!==void 0){var K=Ys,Ce=t;switch(t){case"keypress":if(_r(s)===0)break e;case"keydown":case"keyup":K=ra;break;case"focusin":Ce="focus",K=ea;break;case"focusout":Ce="blur",K=ea;break;case"beforeblur":case"afterblur":K=ea;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=tm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=ih;break;case qE:case BE:case $E:K=ta;break;case WE:K=sh;break;case"scroll":case"scrollend":K=Yc;break;case"wheel":K=ia;break;case"copy":case"cut":case"paste":K=na;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Wl;break;case"toggle":case"beforetoggle":K=lh}var Se=(i&4)!==0,it=!Se&&(t==="scroll"||t==="scrollend"),F=Se?$!==null?$+"Capture":null:$;Se=[];for(var R=q,z;R!==null;){var Z=R;if(z=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||z===null||F===null||(Z=Ho(R,F),Z!=null&&Se.push(Su(R,Z,z))),it)break;R=R.return}0<Se.length&&($=new K($,Ce,null,s,Y),ee.push({event:$,listeners:Se}))}}if((i&7)===0){e:{if($=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",$&&s!==ei&&(Ce=s.relatedTarget||s.fromElement)&&(Gr(Ce)||Ce[Hn]))break e;if((K||$)&&($=Y.window===Y?Y:($=Y.ownerDocument)?$.defaultView||$.parentWindow:window,K?(Ce=s.relatedTarget||s.toElement,K=q,Ce=Ce?Gr(Ce):null,Ce!==null&&(it=u(Ce),Se=Ce.tag,Ce!==it||Se!==5&&Se!==27&&Se!==6)&&(Ce=null)):(K=null,Ce=q),K!==Ce)){if(Se=Yn,Z="onMouseLeave",F="onMouseEnter",R="mouse",(t==="pointerout"||t==="pointerover")&&(Se=Wl,Z="onPointerLeave",F="onPointerEnter",R="pointer"),it=K==null?$:Cr(K),z=Ce==null?$:Cr(Ce),$=new Se(Z,R+"leave",K,s,Y),$.target=it,$.relatedTarget=z,Z=null,Gr(Y)===q&&(Se=new Se(F,R+"enter",Ce,s,Y),Se.target=z,Se.relatedTarget=it,Z=Se),it=Z,K&&Ce)t:{for(Se=K,F=Ce,R=0,z=Se;z;z=Da(z))R++;for(z=0,Z=F;Z;Z=Da(Z))z++;for(;0<R-z;)Se=Da(Se),R--;for(;0<z-R;)F=Da(F),z--;for(;R--;){if(Se===F||F!==null&&Se===F.alternate)break t;Se=Da(Se),F=Da(F)}Se=null}else Se=null;K!==null&&d2(ee,$,K,Se,!1),Ce!==null&&it!==null&&d2(ee,it,Ce,Se,!0)}}e:{if($=q?Cr(q):window,K=$.nodeName&&$.nodeName.toLowerCase(),K==="select"||K==="input"&&$.type==="file")var fe=PE;else if(nn($))if(NE)fe=iL;else{fe=nL;var Re=tL}else K=$.nodeName,!K||K.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?q&&Vl(q.elementType)&&(fe=PE):fe=rL;if(fe&&(fe=fe(t,q))){oi(ee,fe,s,Y);break e}Re&&Re(t,$,q),t==="focusout"&&q&&$.type==="number"&&q.memoizedProps.value!=null&&Qi($,"number",$.value)}switch(Re=q?Cr(q):window,t){case"focusin":(nn(Re)||Re.contentEditable==="true")&&(oa=Re,sm=q,Xl=null);break;case"focusout":Xl=sm=oa=null;break;case"mousedown":am=!0;break;case"contextmenu":case"mouseup":case"dragend":am=!1,UE(ee,s,Y);break;case"selectionchange":if(sL)break;case"keydown":case"keyup":UE(ee,s,Y)}var we;if(Mr)e:{switch(t){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else We?H(t,s)&&(ke="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(ke="onCompositionStart");ke&&(b&&s.locale!=="ko"&&(We||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&We&&(we=Ul()):(Dr=Y,Gi="value"in Dr?Dr.value:Dr.textContent,We=!0)),Re=Qh(q,ke),0<Re.length&&(ke=new Bl(ke,t,null,s,Y),ee.push({event:ke,listeners:Re}),we?ke.data=we:(we=ue(s),we!==null&&(ke.data=we)))),(we=y?zt(t,s):Xe(t,s))&&(ke=Qh(q,"onBeforeInput"),0<ke.length&&(Re=new Bl("onBeforeInput","beforeinput",null,s,Y),ee.push({event:Re,listeners:ke}),Re.data=we)),qL(ee,t,q,s,Y)}c2(ee,i)})}function Su(t,i,s){return{instance:t,listener:i,currentTarget:s}}function Qh(t,i){for(var s=i+"Capture",l=[];t!==null;){var d=t,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=Ho(t,s),d!=null&&l.unshift(Su(t,d,p)),d=Ho(t,i),d!=null&&l.push(Su(t,d,p))),t.tag===3)return l;t=t.return}return[]}function Da(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function d2(t,i,s,l,d){for(var p=i._reactName,w=[];s!==null&&s!==l;){var S=s,P=S.alternate,q=S.stateNode;if(S=S.tag,P!==null&&P===l)break;S!==5&&S!==26&&S!==27||q===null||(P=q,d?(q=Ho(s,p),q!=null&&w.unshift(Su(s,q,P))):d||(q=Ho(s,p),q!=null&&w.push(Su(s,q,P)))),s=s.return}w.length!==0&&t.push({event:i,listeners:w})}var KL=/\r\n?/g,HL=/\u0000|\uFFFD/g;function f2(t){return(typeof t=="string"?t:""+t).replace(KL,`
`).replace(HL,"")}function p2(t,i){return i=f2(i),f2(t)===i}function Gh(){}function rt(t,i,s,l,d,p){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Xn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Xn(t,""+l);break;case"className":Ar(t,"class",l);break;case"tabIndex":Ar(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ar(t,s,l);break;case"style":Fl(t,l,p);break;case"data":if(i!=="object"){Ar(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Gs(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(s==="formAction"?(i!=="input"&&rt(t,i,"name",d.name,d,null),rt(t,i,"formEncType",d.formEncType,d,null),rt(t,i,"formMethod",d.formMethod,d,null),rt(t,i,"formTarget",d.formTarget,d,null)):(rt(t,i,"encType",d.encType,d,null),rt(t,i,"method",d.method,d,null),rt(t,i,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Gs(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Gh);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(s=l.__html,s!=null){if(d.children!=null)throw Error(o(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Gs(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),Xi(t,"popover",l);break;case"xlinkActuate":tn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":tn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":tn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":tn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":tn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":tn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":tn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":tn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":tn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Xi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Jp.get(s)||s,Xi(t,s,l))}}function _g(t,i,s,l,d,p){switch(s){case"style":Fl(t,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(s=l.__html,s!=null){if(d.children!=null)throw Error(o(60));t.innerHTML=s}}break;case"children":typeof l=="string"?Xn(t,l):(typeof l=="number"||typeof l=="bigint")&&Xn(t,""+l);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Gh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ws.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(d=s.endsWith("Capture"),i=s.slice(2,d?s.length-7:void 0),p=t[Mt]||null,p=p!=null?p[s]:null,typeof p=="function"&&t.removeEventListener(i,p,d),typeof l=="function")){typeof p!="function"&&p!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,l,d);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Xi(t,s,l)}}}function an(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var l=!1,d=!1,p;for(p in s)if(s.hasOwnProperty(p)){var w=s[p];if(w!=null)switch(p){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:rt(t,i,p,w,s,null)}}d&&rt(t,i,"srcSet",s.srcSet,s,null),l&&rt(t,i,"src",s.src,s,null);return;case"input":Ve("invalid",t);var S=p=w=d=null,P=null,q=null;for(l in s)if(s.hasOwnProperty(l)){var Y=s[l];if(Y!=null)switch(l){case"name":d=Y;break;case"type":w=Y;break;case"checked":P=Y;break;case"defaultChecked":q=Y;break;case"value":p=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(o(137,i));break;default:rt(t,i,l,Y,s,null)}}$o(t,p,S,P,q,w,d,!1),Qs(t);return;case"select":Ve("invalid",t),l=w=p=null;for(d in s)if(s.hasOwnProperty(d)&&(S=s[d],S!=null))switch(d){case"value":p=S;break;case"defaultValue":w=S;break;case"multiple":l=S;default:rt(t,i,d,S,s,null)}i=p,s=w,t.multiple=!!l,i!=null?Jr(t,!!l,i,!1):s!=null&&Jr(t,!!l,s,!0);return;case"textarea":Ve("invalid",t),p=d=l=null;for(w in s)if(s.hasOwnProperty(w)&&(S=s[w],S!=null))switch(w){case"value":l=S;break;case"defaultValue":d=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(o(91));break;default:rt(t,i,w,S,s,null)}Wo(t,l,d,p),Qs(t);return;case"option":for(P in s)if(s.hasOwnProperty(P)&&(l=s[P],l!=null))switch(P){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:rt(t,i,P,l,s,null)}return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(l=0;l<Eu.length;l++)Ve(Eu[l],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in s)if(s.hasOwnProperty(q)&&(l=s[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:rt(t,i,q,l,s,null)}return;default:if(Vl(i)){for(Y in s)s.hasOwnProperty(Y)&&(l=s[Y],l!==void 0&&_g(t,i,Y,l,s,void 0));return}}for(S in s)s.hasOwnProperty(S)&&(l=s[S],l!=null&&rt(t,i,S,l,s,null))}function XL(t,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,w=null,S=null,P=null,q=null,Y=null;for(K in s){var ee=s[K];if(s.hasOwnProperty(K)&&ee!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":P=ee;default:l.hasOwnProperty(K)||rt(t,i,K,null,l,ee)}}for(var $ in l){var K=l[$];if(ee=s[$],l.hasOwnProperty($)&&(K!=null||ee!=null))switch($){case"type":p=K;break;case"name":d=K;break;case"checked":q=K;break;case"defaultChecked":Y=K;break;case"value":w=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(o(137,i));break;default:K!==ee&&rt(t,i,$,K,l,ee)}}Ln(t,w,S,P,q,Y,p,d);return;case"select":K=w=S=$=null;for(p in s)if(P=s[p],s.hasOwnProperty(p)&&P!=null)switch(p){case"value":break;case"multiple":K=P;default:l.hasOwnProperty(p)||rt(t,i,p,null,l,P)}for(d in l)if(p=l[d],P=s[d],l.hasOwnProperty(d)&&(p!=null||P!=null))switch(d){case"value":$=p;break;case"defaultValue":S=p;break;case"multiple":w=p;default:p!==P&&rt(t,i,d,p,l,P)}i=S,s=w,l=K,$!=null?Jr(t,!!s,$,!1):!!l!=!!s&&(i!=null?Jr(t,!!s,i,!0):Jr(t,!!s,s?[]:"",!1));return;case"textarea":K=$=null;for(S in s)if(d=s[S],s.hasOwnProperty(S)&&d!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:rt(t,i,S,null,l,d)}for(w in l)if(d=l[w],p=s[w],l.hasOwnProperty(w)&&(d!=null||p!=null))switch(w){case"value":$=d;break;case"defaultValue":K=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(o(91));break;default:d!==p&&rt(t,i,w,d,l,p)}tt(t,$,K);return;case"option":for(var Ce in s)if($=s[Ce],s.hasOwnProperty(Ce)&&$!=null&&!l.hasOwnProperty(Ce))switch(Ce){case"selected":t.selected=!1;break;default:rt(t,i,Ce,null,l,$)}for(P in l)if($=l[P],K=s[P],l.hasOwnProperty(P)&&$!==K&&($!=null||K!=null))switch(P){case"selected":t.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:rt(t,i,P,$,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in s)$=s[Se],s.hasOwnProperty(Se)&&$!=null&&!l.hasOwnProperty(Se)&&rt(t,i,Se,null,l,$);for(q in l)if($=l[q],K=s[q],l.hasOwnProperty(q)&&$!==K&&($!=null||K!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(o(137,i));break;default:rt(t,i,q,$,l,K)}return;default:if(Vl(i)){for(var it in s)$=s[it],s.hasOwnProperty(it)&&$!==void 0&&!l.hasOwnProperty(it)&&_g(t,i,it,void 0,l,$);for(Y in l)$=l[Y],K=s[Y],!l.hasOwnProperty(Y)||$===K||$===void 0&&K===void 0||_g(t,i,Y,$,l,K);return}}for(var F in s)$=s[F],s.hasOwnProperty(F)&&$!=null&&!l.hasOwnProperty(F)&&rt(t,i,F,null,l,$);for(ee in l)$=l[ee],K=s[ee],!l.hasOwnProperty(ee)||$===K||$==null&&K==null||rt(t,i,ee,$,l,K)}var Pg=null,Ng=null;function Yh(t){return t.nodeType===9?t:t.ownerDocument}function m2(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function g2(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Mg(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Lg=null;function QL(){var t=window.event;return t&&t.type==="popstate"?t===Lg?!1:(Lg=t,!0):(Lg=null,!1)}var y2=typeof setTimeout=="function"?setTimeout:void 0,GL=typeof clearTimeout=="function"?clearTimeout:void 0,v2=typeof Promise=="function"?Promise:void 0,YL=typeof queueMicrotask=="function"?queueMicrotask:typeof v2<"u"?function(t){return v2.resolve(null).then(t).catch(ZL)}:y2;function ZL(t){setTimeout(function(){throw t})}function fo(t){return t==="head"}function b2(t,i){var s=i,l=0,d=0;do{var p=s.nextSibling;if(t.removeChild(s),p&&p.nodeType===8)if(s=p.data,s==="/$"){if(0<l&&8>l){s=l;var w=t.ownerDocument;if(s&1&&ku(w.documentElement),s&2&&ku(w.body),s&4)for(s=w.head,ku(s),w=s.firstChild;w;){var S=w.nextSibling,P=w.nodeName;w[Uo]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&w.rel.toLowerCase()==="stylesheet"||s.removeChild(w),w=S}}if(d===0){t.removeChild(p),Pu(i);return}d--}else s==="$"||s==="$?"||s==="$!"?d++:l=s.charCodeAt(0)-48;else l=0;s=p}while(s);Pu(i)}function Rg(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Rg(s),Hi(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function JL(t,i,s,l){for(;t.nodeType===1;){var d=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Uo])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(p=t.getAttribute("rel"),p==="stylesheet"&&t.hasAttribute("data-precedence")||p!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(p=t.getAttribute("src"),(p!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===p)return t}else return t;if(t=dr(t.nextSibling),t===null)break}return null}function e6(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=dr(t.nextSibling),t===null))return null;return t}function Og(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function t6(t,i){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function dr(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Fg=null;function w2(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return t;i--}else s==="/$"&&i++}t=t.previousSibling}return null}function E2(t,i,s){switch(i=Yh(s),t){case"html":if(t=i.documentElement,!t)throw Error(o(452));return t;case"head":if(t=i.head,!t)throw Error(o(453));return t;case"body":if(t=i.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}function ku(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Hi(t)}var ir=new Map,S2=new Set;function Zh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var bi=re.d;re.d={f:n6,r:r6,D:i6,C:o6,L:s6,m:a6,X:u6,S:l6,M:c6};function n6(){var t=bi.f(),i=Bh();return t||i}function r6(t){var i=Tr(t);i!==null&&i.tag===5&&i.type==="form"?qS(i):bi.r(t)}var _a=typeof document>"u"?null:document;function k2(t,i,s){var l=_a;if(l&&typeof i=="string"&&i){var d=Ut(i);d='link[rel="'+t+'"][href="'+d+'"]',typeof s=="string"&&(d+='[crossorigin="'+s+'"]'),S2.has(d)||(S2.add(d),t={rel:t,crossOrigin:s,href:i},l.querySelector(d)===null&&(i=l.createElement("link"),an(i,"link",t),Tt(i),l.head.appendChild(i)))}}function i6(t){bi.D(t),k2("dns-prefetch",t,null)}function o6(t,i){bi.C(t,i),k2("preconnect",t,i)}function s6(t,i,s){bi.L(t,i,s);var l=_a;if(l&&t&&i){var d='link[rel="preload"][as="'+Ut(i)+'"]';i==="image"&&s&&s.imageSrcSet?(d+='[imagesrcset="'+Ut(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(d+='[imagesizes="'+Ut(s.imageSizes)+'"]')):d+='[href="'+Ut(t)+'"]';var p=d;switch(i){case"style":p=Pa(t);break;case"script":p=Na(t)}ir.has(p)||(t=v({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),ir.set(p,t),l.querySelector(d)!==null||i==="style"&&l.querySelector(xu(p))||i==="script"&&l.querySelector(Tu(p))||(i=l.createElement("link"),an(i,"link",t),Tt(i),l.head.appendChild(i)))}}function a6(t,i){bi.m(t,i);var s=_a;if(s&&t){var l=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+Ut(l)+'"][href="'+Ut(t)+'"]',p=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Na(t)}if(!ir.has(p)&&(t=v({rel:"modulepreload",href:t},i),ir.set(p,t),s.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Tu(p)))return}l=s.createElement("link"),an(l,"link",t),Tt(l),s.head.appendChild(l)}}}function l6(t,i,s){bi.S(t,i,s);var l=_a;if(l&&t){var d=yn(l).hoistableStyles,p=Pa(t);i=i||"default";var w=d.get(p);if(!w){var S={loading:0,preload:null};if(w=l.querySelector(xu(p)))S.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":i},s),(s=ir.get(p))&&Vg(t,s);var P=w=l.createElement("link");Tt(P),an(P,"link",t),P._p=new Promise(function(q,Y){P.onload=q,P.onerror=Y}),P.addEventListener("load",function(){S.loading|=1}),P.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Jh(w,i,l)}w={type:"stylesheet",instance:w,count:1,state:S},d.set(p,w)}}}function u6(t,i){bi.X(t,i);var s=_a;if(s&&t){var l=yn(s).hoistableScripts,d=Na(t),p=l.get(d);p||(p=s.querySelector(Tu(d)),p||(t=v({src:t,async:!0},i),(i=ir.get(d))&&jg(t,i),p=s.createElement("script"),Tt(p),an(p,"link",t),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(d,p))}}function c6(t,i){bi.M(t,i);var s=_a;if(s&&t){var l=yn(s).hoistableScripts,d=Na(t),p=l.get(d);p||(p=s.querySelector(Tu(d)),p||(t=v({src:t,async:!0,type:"module"},i),(i=ir.get(d))&&jg(t,i),p=s.createElement("script"),Tt(p),an(p,"link",t),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(d,p))}}function x2(t,i,s,l){var d=(d=ae.current)?Zh(d):null;if(!d)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Pa(s.href),s=yn(d).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Pa(s.href);var p=yn(d).hoistableStyles,w=p.get(t);if(w||(d=d.ownerDocument||d,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(t,w),(p=d.querySelector(xu(t)))&&!p._p&&(w.instance=p,w.state.loading=5),ir.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ir.set(t,s),p||h6(d,t,s,w.state))),i&&l===null)throw Error(o(528,""));return w}if(i&&l!==null)throw Error(o(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Na(s),s=yn(d).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function Pa(t){return'href="'+Ut(t)+'"'}function xu(t){return'link[rel="stylesheet"]['+t+"]"}function T2(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function h6(t,i,s,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),an(i,"link",s),Tt(i),t.head.appendChild(i))}function Na(t){return'[src="'+Ut(t)+'"]'}function Tu(t){return"script[async]"+t}function C2(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Ut(s.href)+'"]');if(l)return i.instance=l,Tt(l),l;var d=v({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Tt(l),an(l,"style",d),Jh(l,s.precedence,t),i.instance=l;case"stylesheet":d=Pa(s.href);var p=t.querySelector(xu(d));if(p)return i.state.loading|=4,i.instance=p,Tt(p),p;l=T2(s),(d=ir.get(d))&&Vg(l,d),p=(t.ownerDocument||t).createElement("link"),Tt(p);var w=p;return w._p=new Promise(function(S,P){w.onload=S,w.onerror=P}),an(p,"link",l),i.state.loading|=4,Jh(p,s.precedence,t),i.instance=p;case"script":return p=Na(s.src),(d=t.querySelector(Tu(p)))?(i.instance=d,Tt(d),d):(l=s,(d=ir.get(p))&&(l=v({},s),jg(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),Tt(d),an(d,"link",l),t.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(o(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Jh(l,s.precedence,t));return i.instance}function Jh(t,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,p=d,w=0;w<l.length;w++){var S=l[w];if(S.dataset.precedence===i)p=S;else if(p!==d)break}p?p.parentNode.insertBefore(t,p.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function Vg(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function jg(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var ed=null;function A2(t,i,s){if(ed===null){var l=new Map,d=ed=new Map;d.set(s,l)}else d=ed,l=d.get(s),l||(l=new Map,d.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),d=0;d<s.length;d++){var p=s[d];if(!(p[Uo]||p[jt]||t==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var w=p.getAttribute(i)||"";w=t+w;var S=l.get(w);S?S.push(p):l.set(w,[p])}}return l}function I2(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function d6(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function D2(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Cu=null;function f6(){}function p6(t,i,s){if(Cu===null)throw Error(o(475));var l=Cu;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var d=Pa(s.href),p=t.querySelector(xu(d));if(p){t=p._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=td.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=p,Tt(p);return}p=t.ownerDocument||t,s=T2(s),(d=ir.get(d))&&Vg(s,d),p=p.createElement("link"),Tt(p);var w=p;w._p=new Promise(function(S,P){w.onload=S,w.onerror=P}),an(p,"link",s),i.instance=p}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=td.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function m6(){if(Cu===null)throw Error(o(475));var t=Cu;return t.stylesheets&&t.count===0&&Ug(t,t.stylesheets),0<t.count?function(i){var s=setTimeout(function(){if(t.stylesheets&&Ug(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(s)}}:null}function td(){if(this.count--,this.count===0){if(this.stylesheets)Ug(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var nd=null;function Ug(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,nd=new Map,i.forEach(g6,t),nd=null,td.call(t))}function g6(t,i){if(!(i.state.loading&4)){var s=nd.get(t);if(s)var l=s.get(null);else{s=new Map,nd.set(t,s);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var w=d[p];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(s.set(w.dataset.precedence,w),l=w)}l&&s.set(null,l)}d=i.instance,w=d.getAttribute("data-precedence"),p=s.get(w)||l,p===l&&s.set(null,d),s.set(w,d),this.count++,l=td.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),p?p.parentNode.insertBefore(d,p.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),i.state.loading|=4}}var Au={$$typeof:oe,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function y6(t,i,s,l,d,p,w,S){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xr(0),this.hiddenUpdates=Xr(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function _2(t,i,s,l,d,p,w,S,P,q,Y,ee){return t=new y6(t,i,s,w,S,P,q,ee),i=1,p===!0&&(i|=24),p=On(3,null,null,i),t.current=p,p.stateNode=t,i=Em(),i.refCount++,t.pooledCache=i,i.refCount++,p.memoizedState={element:l,isDehydrated:s,cache:i},Tm(p),t}function P2(t){return t?(t=ua,t):ua}function N2(t,i,s,l,d,p){d=P2(d),l.context===null?l.context=d:l.pendingContext=d,l=Ji(i),l.payload={element:s},p=p===void 0?null:p,p!==null&&(l.callback=p),s=eo(t,l,i),s!==null&&(zn(s,t,i),ru(s,t,i))}function M2(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function zg(t,i){M2(t,i),(t=t.alternate)&&M2(t,i)}function L2(t){if(t.tag===13){var i=la(t,67108864);i!==null&&zn(i,t,67108864),zg(t,67108864)}}var rd=!0;function v6(t,i,s,l){var d=W.T;W.T=null;var p=re.p;try{re.p=2,qg(t,i,s,l)}finally{re.p=p,W.T=d}}function b6(t,i,s,l){var d=W.T;W.T=null;var p=re.p;try{re.p=8,qg(t,i,s,l)}finally{re.p=p,W.T=d}}function qg(t,i,s,l){if(rd){var d=Bg(l);if(d===null)Dg(t,i,l,id,s),O2(t,l);else if(E6(d,t,i,s,l))l.stopPropagation();else if(O2(t,l),i&4&&-1<w6.indexOf(t)){for(;d!==null;){var p=Tr(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var w=ar(p.pendingLanes);if(w!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;w;){var P=1<<31-Vt(w);S.entanglements[1]|=P,w&=~P}Vr(p),(Ze&6)===0&&(zh=dt()+500,wu(0))}}break;case 13:S=la(p,2),S!==null&&zn(S,p,2),Bh(),zg(p,2)}if(p=Bg(l),p===null&&Dg(t,i,l,id,s),p===d)break;d=p}d!==null&&l.stopPropagation()}else Dg(t,i,l,null,s)}}function Bg(t){return t=Qn(t),$g(t)}var id=null;function $g(t){if(id=null,t=Gr(t),t!==null){var i=u(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=h(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return id=t,null}function R2(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Nn()){case Mn:return 2;case en:return 8;case Wr:case Cl:return 32;case qi:return 268435456;default:return 32}default:return 32}}var Wg=!1,po=null,mo=null,go=null,Iu=new Map,Du=new Map,yo=[],w6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function O2(t,i){switch(t){case"focusin":case"focusout":po=null;break;case"dragenter":case"dragleave":mo=null;break;case"mouseover":case"mouseout":go=null;break;case"pointerover":case"pointerout":Iu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Du.delete(i.pointerId)}}function _u(t,i,s,l,d,p){return t===null||t.nativeEvent!==p?(t={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:p,targetContainers:[d]},i!==null&&(i=Tr(i),i!==null&&L2(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),t)}function E6(t,i,s,l,d){switch(i){case"focusin":return po=_u(po,t,i,s,l,d),!0;case"dragenter":return mo=_u(mo,t,i,s,l,d),!0;case"mouseover":return go=_u(go,t,i,s,l,d),!0;case"pointerover":var p=d.pointerId;return Iu.set(p,_u(Iu.get(p)||null,t,i,s,l,d)),!0;case"gotpointercapture":return p=d.pointerId,Du.set(p,_u(Du.get(p)||null,t,i,s,l,d)),!0}return!1}function F2(t){var i=Gr(t.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=h(s),i!==null){t.blockedOn=i,Bc(t.priority,function(){if(s.tag===13){var l=Un();l=$i(l);var d=la(s,l);d!==null&&zn(d,s,l),zg(s,l)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function od(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=Bg(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);ei=l,s.target.dispatchEvent(l),ei=null}else return i=Tr(s),i!==null&&L2(i),t.blockedOn=s,!1;i.shift()}return!0}function V2(t,i,s){od(t)&&s.delete(i)}function S6(){Wg=!1,po!==null&&od(po)&&(po=null),mo!==null&&od(mo)&&(mo=null),go!==null&&od(go)&&(go=null),Iu.forEach(V2),Du.forEach(V2)}function sd(t,i){t.blockedOn===i&&(t.blockedOn=null,Wg||(Wg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,S6)))}var ad=null;function j2(t){ad!==t&&(ad=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ad===t&&(ad=null);for(var i=0;i<t.length;i+=3){var s=t[i],l=t[i+1],d=t[i+2];if(typeof l!="function"){if($g(l||s)===null)continue;break}var p=Tr(s);p!==null&&(t.splice(i,3),i-=3,$m(p,{pending:!0,data:d,method:s.method,action:l},l,d))}}))}function Pu(t){function i(P){return sd(P,t)}po!==null&&sd(po,t),mo!==null&&sd(mo,t),go!==null&&sd(go,t),Iu.forEach(i),Du.forEach(i);for(var s=0;s<yo.length;s++){var l=yo[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<yo.length&&(s=yo[0],s.blockedOn===null);)F2(s),s.blockedOn===null&&yo.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var d=s[l],p=s[l+1],w=d[Mt]||null;if(typeof p=="function")w||j2(s);else if(w){var S=null;if(p&&p.hasAttribute("formAction")){if(d=p,w=p[Mt]||null)S=w.formAction;else if($g(d)!==null)continue}else S=w.action;typeof S=="function"?s[l+1]=S:(s.splice(l,3),l-=3),j2(s)}}}function Kg(t){this._internalRoot=t}ld.prototype.render=Kg.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(o(409));var s=i.current,l=Un();N2(s,l,t,i,null,null)},ld.prototype.unmount=Kg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;N2(t.current,2,null,t,null,null),Bh(),i[Hn]=null}};function ld(t){this._internalRoot=t}ld.prototype.unstable_scheduleHydration=function(t){if(t){var i=Wi();t={blockedOn:null,target:t,priority:i};for(var s=0;s<yo.length&&i!==0&&i<yo[s].priority;s++);yo.splice(s,0,t),s===0&&F2(t)}};var U2=e.version;if(U2!=="19.1.1")throw Error(o(527,U2,"19.1.1"));re.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=m(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var k6={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ud=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ud.isDisabled&&ud.supportsFiber)try{ct=ud.inject(k6),He=ud}catch{}}return Ra.createRoot=function(t,i){if(!a(t))throw Error(o(299));var s=!1,l="",d=nk,p=rk,w=ik,S=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks)),i=_2(t,1,!1,null,null,s,l,d,p,w,S,null),t[Hn]=i.current,Ig(t),new Kg(i)},Ra.hydrateRoot=function(t,i,s){if(!a(t))throw Error(o(299));var l=!1,d="",p=nk,w=rk,S=ik,P=null,q=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(w=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(P=s.unstable_transitionCallbacks),s.formState!==void 0&&(q=s.formState)),i=_2(t,1,!0,i,s??null,l,d,p,w,S,P,q),i.context=P2(null),s=i.current,l=Un(),l=$i(l),d=Ji(l),d.callback=null,eo(s,d,l),s=l,i.current.lanes=s,Qr(i,s),Vr(i),t[Hn]=i.current,Ig(t),new ld(i)},Ra.version="19.1.1",Ra}var iy;function Q2(){if(iy)return dd.exports;iy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),dd.exports=X2(),dd.exports}var G2=Q2();const Y2=Nu(G2),Z2=()=>{};var oy={};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const sy=function(n){const e=[];let r=0;for(let o=0;o<n.length;o++){let a=n.charCodeAt(o);a<128?e[r++]=a:a<2048?(e[r++]=a>>6|192,e[r++]=a&63|128):(a&64512)===55296&&o+1<n.length&&(n.charCodeAt(o+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++o)&1023),e[r++]=a>>18|240,e[r++]=a>>12&63|128,e[r++]=a>>6&63|128,e[r++]=a&63|128):(e[r++]=a>>12|224,e[r++]=a>>6&63|128,e[r++]=a&63|128)}return e},J2=function(n){const e=[];let r=0,o=0;for(;r<n.length;){const a=n[r++];if(a<128)e[o++]=String.fromCharCode(a);else if(a>191&&a<224){const u=n[r++];e[o++]=String.fromCharCode((a&31)<<6|u&63)}else if(a>239&&a<365){const u=n[r++],h=n[r++],f=n[r++],m=((a&7)<<18|(u&63)<<12|(h&63)<<6|f&63)-65536;e[o++]=String.fromCharCode(55296+(m>>10)),e[o++]=String.fromCharCode(56320+(m&1023))}else{const u=n[r++],h=n[r++];e[o++]=String.fromCharCode((a&15)<<12|(u&63)<<6|h&63)}}return e.join("")},ay={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let a=0;a<n.length;a+=3){const u=n[a],h=a+1<n.length,f=h?n[a+1]:0,m=a+2<n.length,g=m?n[a+2]:0,v=u>>2,E=(u&3)<<4|f>>4;let x=(f&15)<<2|g>>6,I=g&63;m||(I=64,h||(x=64)),o.push(r[v],r[E],r[x],r[I])}return o.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(sy(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):J2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let a=0;a<n.length;){const u=r[n.charAt(a++)],h=a<n.length?r[n.charAt(a)]:0;++a;const f=a<n.length?r[n.charAt(a)]:64;++a;const m=a<n.length?r[n.charAt(a)]:64;if(++a,u==null||h==null||f==null||m==null)throw new ex;const g=u<<2|h>>4;if(o.push(g),f!==64){const v=h<<4&240|f>>2;if(o.push(v),m!==64){const E=f<<6&192|m;o.push(E)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ex extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tx=function(n){const e=sy(n);return ay.encodeByteArray(e,!0)},Mu=function(n){return tx(n).replace(/\./g,"")},nx=function(n){try{return ay.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function rx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ix=()=>rx().__FIREBASE_DEFAULTS__,ox=()=>{if(typeof process>"u"||typeof oy>"u")return;const n=oy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},sx=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&nx(n[1]);return e&&JSON.parse(e)},pd=()=>{try{return Z2()||ix()||ox()||sx()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},ax=n=>{var e,r;return(r=(e=pd())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[n]},lx=n=>{const e=ax(n);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const o=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),o]:[e.substring(0,r),o]},ly=()=>{var n;return(n=pd())===null||n===void 0?void 0:n.config};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ux{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,o)=>{r?this.reject(r):this.resolve(o),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,o))}}}/**
* @license
* Copyright 2025 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function md(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function cx(n){return(await fetch(n,{credentials:"include"})).ok}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function hx(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},o=e||"demo-project",a=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:a,exp:a+3600,auth_time:a,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Mu(JSON.stringify(r)),Mu(JSON.stringify(h)),""].join(".")}const Oa={};function dx(){const n={prod:[],emulator:[]};for(const e of Object.keys(Oa))Oa[e]?n.emulator.push(e):n.prod.push(e);return n}function fx(n){let e=document.getElementById(n),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),r=!0),{created:r,element:e}}let uy=!1;function px(n,e){if(typeof window>"u"||typeof document>"u"||!md(window.location.host)||Oa[n]===e||Oa[n]||uy)return;Oa[n]=e;function r(E){return`__firebase__banner__${E}`}const o="__firebase__banner",a=dx().prod.length>0;function u(){const E=document.getElementById(o);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,x){E.setAttribute("width","24"),E.setAttribute("id",x),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function m(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{uy=!0,u()},E}function g(E,x){E.setAttribute("id",x),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function v(){const E=fx(o),x=r("text"),I=document.getElementById(x)||document.createElement("span"),V=r("learnmore"),B=document.getElementById(V)||document.createElement("a"),j=r("preprendIcon"),Q=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const te=E.element;h(te),g(B,V);const oe=m();f(Q,j),te.append(Q,I,B,oe),document.body.appendChild(te)}a?(I.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function mx(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gx(){var n;const e=(n=pd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cy(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function yx(){return!gx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gd(){try{return typeof indexedDB=="object"}catch{return!1}}function yd(){return new Promise((n,e)=>{try{let r=!0;const o="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(o);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(o),n(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var u;e(((u=a.error)===null||u===void 0?void 0:u.message)||"")}}catch(r){e(r)}})}function hy(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const vx="FirebaseError";class Ei extends Error{constructor(e,r,o){super(r),this.code=e,this.customData=o,this.name=vx,Object.setPrototypeOf(this,Ei.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lu.prototype.create)}}class Lu{constructor(e,r,o){this.service=e,this.serviceName=r,this.errors=o}create(e,...r){const o=r[0]||{},a=`${this.service}/${e}`,u=this.errors[e],h=u?bx(u,o):"Error",f=`${this.serviceName}: ${h} (${a}).`;return new Ei(a,f,o)}}function bx(n,e){return n.replace(wx,(r,o)=>{const a=e[o];return a!=null?String(a):`<${o}?>`})}const wx=/\{\$([^}]+)}/g;function Fa(n,e){if(n===e)return!0;const r=Object.keys(n),o=Object.keys(e);for(const a of r){if(!o.includes(a))return!1;const u=n[a],h=e[a];if(dy(u)&&dy(h)){if(!Fa(u,h))return!1}else if(u!==h)return!1}for(const a of o)if(!r.includes(a))return!1;return!0}function dy(n){return n!==null&&typeof n=="object"}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ex=1e3,Sx=2,kx=14400*1e3,xx=.5;function fy(n,e=Ex,r=Sx){const o=e*Math.pow(r,n),a=Math.round(xx*o*(Math.random()-.5)*2);return Math.min(kx,o+a)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function or(n){return n&&n._delegate?n._delegate:n}class jr{constructor(e,r,o){this.name=e,this.instanceFactory=r,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const bo="[DEFAULT]";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Tx{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const o=new ux;if(this.instancesDeferred.set(r,o),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&o.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const o=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(u){if(a)return null;throw u}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ax(e))try{this.getOrInitializeService({instanceIdentifier:bo})}catch{}for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const u=this.getOrInitializeService({instanceIdentifier:a});o.resolve(u)}catch{}}}}clearInstance(e=bo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=bo){return this.instances.has(e)}getOptions(e=bo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:o,options:r});for(const[u,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(u);o===f&&h.resolve(a)}return a}onInit(e,r){var o;const a=this.normalizeInstanceIdentifier(r),u=(o=this.onInitCallbacks.get(a))!==null&&o!==void 0?o:new Set;u.add(e),this.onInitCallbacks.set(a,u);const h=this.instances.get(a);return h&&e(h,a),()=>{u.delete(e)}}invokeOnInitCallbacks(e,r){const o=this.onInitCallbacks.get(r);if(o)for(const a of o)try{a(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let o=this.instances.get(e);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:Cx(e),options:r}),this.instances.set(e,o),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(o,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,o)}catch{}return o||null}normalizeInstanceIdentifier(e=bo){return this.component?this.component.multipleInstances?e:bo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Cx(n){return n===bo?void 0:n}function Ax(n){return n.instantiationMode==="EAGER"}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ix{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new Tx(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var ze;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ze||(ze={}));const Dx={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},_x=ze.INFO,Px={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},Nx=(n,e,...r)=>{if(e<n.logLevel)return;const o=new Date().toISOString(),a=Px[e];if(a)console[a](`[${o}]  ${n.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vd{constructor(e){this.name=e,this._logLevel=_x,this._logHandler=Nx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Dx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const Mx=(n,e)=>e.some(r=>n instanceof r);let py,my;function Lx(){return py||(py=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Rx(){return my||(my=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gy=new WeakMap,bd=new WeakMap,yy=new WeakMap,wd=new WeakMap,Ed=new WeakMap;function Ox(n){const e=new Promise((r,o)=>{const a=()=>{n.removeEventListener("success",u),n.removeEventListener("error",h)},u=()=>{r(Si(n.result)),a()},h=()=>{o(n.error),a()};n.addEventListener("success",u),n.addEventListener("error",h)});return e.then(r=>{r instanceof IDBCursor&&gy.set(r,n)}).catch(()=>{}),Ed.set(e,n),e}function Fx(n){if(bd.has(n))return;const e=new Promise((r,o)=>{const a=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",h),n.removeEventListener("abort",h)},u=()=>{r(),a()},h=()=>{o(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",u),n.addEventListener("error",h),n.addEventListener("abort",h)});bd.set(n,e)}let Sd={get(n,e,r){if(n instanceof IDBTransaction){if(e==="done")return bd.get(n);if(e==="objectStoreNames")return n.objectStoreNames||yy.get(n);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Si(n[e])},set(n,e,r){return n[e]=r,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Vx(n){Sd=n(Sd)}function jx(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const o=n.call(kd(this),e,...r);return yy.set(o,e.sort?e.sort():[e]),Si(o)}:Rx().includes(n)?function(...e){return n.apply(kd(this),e),Si(gy.get(this))}:function(...e){return Si(n.apply(kd(this),e))}}function Ux(n){return typeof n=="function"?jx(n):(n instanceof IDBTransaction&&Fx(n),Mx(n,Lx())?new Proxy(n,Sd):n)}function Si(n){if(n instanceof IDBRequest)return Ox(n);if(wd.has(n))return wd.get(n);const e=Ux(n);return e!==n&&(wd.set(n,e),Ed.set(e,n)),e}const kd=n=>Ed.get(n);function vy(n,e,{blocked:r,upgrade:o,blocking:a,terminated:u}={}){const h=indexedDB.open(n,e),f=Si(h);return o&&h.addEventListener("upgradeneeded",m=>{o(Si(h.result),m.oldVersion,m.newVersion,Si(h.transaction),m)}),r&&h.addEventListener("blocked",m=>r(m.oldVersion,m.newVersion,m)),f.then(m=>{u&&m.addEventListener("close",()=>u()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const zx=["get","getKey","getAll","getAllKeys","count"],qx=["put","add","delete","clear"],xd=new Map;function by(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(xd.get(e))return xd.get(e);const r=e.replace(/FromIndex$/,""),o=e!==r,a=qx.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!(a||zx.includes(r)))return;const u=async function(h,...f){const m=this.transaction(h,a?"readwrite":"readonly");let g=m.store;return o&&(g=g.index(f.shift())),(await Promise.all([g[r](...f),a&&m.done]))[0]};return xd.set(e,u),u}Vx(n=>({...n,get:(e,r,o)=>by(e,r)||n.get(e,r,o),has:(e,r)=>!!by(e,r)||n.has(e,r)}));/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Bx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if($x(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function $x(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Td="@firebase/app",wy="0.13.2";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ur=new vd("@firebase/app"),Wx="@firebase/app-compat",Kx="@firebase/analytics-compat",Hx="@firebase/analytics",Xx="@firebase/app-check-compat",Qx="@firebase/app-check",Gx="@firebase/auth",Yx="@firebase/auth-compat",Zx="@firebase/database",Jx="@firebase/data-connect",eT="@firebase/database-compat",tT="@firebase/functions",nT="@firebase/functions-compat",rT="@firebase/installations",iT="@firebase/installations-compat",oT="@firebase/messaging",sT="@firebase/messaging-compat",aT="@firebase/performance",lT="@firebase/performance-compat",uT="@firebase/remote-config",cT="@firebase/remote-config-compat",hT="@firebase/storage",dT="@firebase/storage-compat",fT="@firebase/firestore",pT="@firebase/ai",mT="@firebase/firestore-compat",gT="firebase",yT="11.10.0";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Cd="[DEFAULT]",vT={[Td]:"fire-core",[Wx]:"fire-core-compat",[Hx]:"fire-analytics",[Kx]:"fire-analytics-compat",[Qx]:"fire-app-check",[Xx]:"fire-app-check-compat",[Gx]:"fire-auth",[Yx]:"fire-auth-compat",[Zx]:"fire-rtdb",[Jx]:"fire-data-connect",[eT]:"fire-rtdb-compat",[tT]:"fire-fn",[nT]:"fire-fn-compat",[rT]:"fire-iid",[iT]:"fire-iid-compat",[oT]:"fire-fcm",[sT]:"fire-fcm-compat",[aT]:"fire-perf",[lT]:"fire-perf-compat",[uT]:"fire-rc",[cT]:"fire-rc-compat",[hT]:"fire-gcs",[dT]:"fire-gcs-compat",[fT]:"fire-fst",[mT]:"fire-fst-compat",[pT]:"fire-vertex","fire-js":"fire-js",[gT]:"fire-js-all"};/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ru=new Map,bT=new Map,Ad=new Map;function Ey(n,e){try{n.container.addComponent(e)}catch(r){Ur.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,r)}}function ki(n){const e=n.name;if(Ad.has(e))return Ur.debug(`There were multiple attempts to register component ${e}.`),!1;Ad.set(e,n);for(const r of Ru.values())Ey(r,n);for(const r of bT.values())Ey(r,n);return!0}function Va(n,e){const r=n.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),n.container.getProvider(e)}function wT(n){return n==null?!1:n.settings!==void 0}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ET={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xi=new Lu("app","Firebase",ET);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ST{constructor(e,r,o){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xi.create("app-deleted",{appName:this._name})}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const kT=yT;function Sy(n,e={}){let r=n;typeof e!="object"&&(e={name:e});const o=Object.assign({name:Cd,automaticDataCollectionEnabled:!0},e),a=o.name;if(typeof a!="string"||!a)throw xi.create("bad-app-name",{appName:String(a)});if(r||(r=ly()),!r)throw xi.create("no-options");const u=Ru.get(a);if(u){if(Fa(r,u.options)&&Fa(o,u.config))return u;throw xi.create("duplicate-app",{appName:a})}const h=new Ix(a);for(const m of Ad.values())h.addComponent(m);const f=new ST(r,o,h);return Ru.set(a,f),f}function ky(n=Cd){const e=Ru.get(n);if(!e&&n===Cd&&ly())return Sy();if(!e)throw xi.create("no-app",{appName:n});return e}function fr(n,e,r){var o;let a=(o=vT[n])!==null&&o!==void 0?o:n;r&&(a+=`-${r}`);const u=a.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const f=[`Unable to register library "${a}" with version "${e}":`];u&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),u&&h&&f.push("and"),h&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ur.warn(f.join(" "));return}ki(new jr(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const xT="firebase-heartbeat-database",TT=1,ja="firebase-heartbeat-store";let Id=null;function xy(){return Id||(Id=vy(xT,TT,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ja)}catch(r){console.warn(r)}}}}).catch(n=>{throw xi.create("idb-open",{originalErrorMessage:n.message})})),Id}async function CT(n){try{const e=(await xy()).transaction(ja),r=await e.objectStore(ja).get(Cy(n));return await e.done,r}catch(e){if(e instanceof Ei)Ur.warn(e.message);else{const r=xi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ur.warn(r.message)}}}async function Ty(n,e){try{const r=(await xy()).transaction(ja,"readwrite");await r.objectStore(ja).put(e,Cy(n)),await r.done}catch(r){if(r instanceof Ei)Ur.warn(r.message);else{const o=xi.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Ur.warn(o.message)}}}function Cy(n){return`${n.name}!${n.options.appId}`}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const AT=1024,IT=30;class DT{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new PT(r),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var e,r;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Ay();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>IT){const u=NT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(o){Ur.warn(o)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Ay(),{heartbeatsToSend:o,unsentEntries:a}=_T(this._heartbeatsCache.heartbeats),u=Mu(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(r){return Ur.warn(r),""}}}function Ay(){return new Date().toISOString().substring(0,10)}function _T(n,e=AT){const r=[];let o=n.slice();for(const a of n){const u=r.find(h=>h.agent===a.agent);if(u){if(u.dates.push(a.date),Iy(r)>e){u.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),Iy(r)>e){r.pop();break}o=o.slice(1)}return{heartbeatsToSend:r,unsentEntries:o}}class PT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gd()?yd().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await CT(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ty(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ty(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Iy(n){return Mu(JSON.stringify({version:2,heartbeats:n})).length}function NT(n){if(n.length===0)return-1;let e=0,r=n[0].date;for(let o=1;o<n.length;o++)n[o].date<r&&(r=n[o].date,e=o);return e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function MT(n){ki(new jr("platform-logger",e=>new Bx(e),"PRIVATE")),ki(new jr("heartbeat",e=>new DT(e),"PRIVATE")),fr(Td,wy,n),fr(Td,wy,"esm2017"),fr("fire-js","")}MT("");const Dy="@firebase/installations",Dd="0.6.18";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const _y=1e4,Py=`w:${Dd}`,Ny="FIS_v2",LT="https://firebaseinstallations.googleapis.com/v1",RT=3600*1e3,OT="installations",FT="Installations";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const VT={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},wo=new Lu(OT,FT,VT);function My(n){return n instanceof Ei&&n.code.includes("request-failed")}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ly({projectId:n}){return`${LT}/projects/${n}/installations`}function Ry(n){return{token:n.token,requestStatus:2,expiresIn:UT(n.expiresIn),creationTime:Date.now()}}async function Oy(n,e){const r=(await e.json()).error;return wo.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Fy({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function jT(n,{refreshToken:e}){const r=Fy(n);return r.append("Authorization",zT(e)),r}async function Vy(n){const e=await n();return e.status>=500&&e.status<600?n():e}function UT(n){return Number(n.replace("s","000"))}function zT(n){return`${Ny} ${n}`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function qT({appConfig:n,heartbeatServiceProvider:e},{fid:r}){const o=Ly(n),a=Fy(n),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&a.append("x-firebase-client",g)}const h={fid:r,authVersion:Ny,appId:n.appId,sdkVersion:Py},f={method:"POST",headers:a,body:JSON.stringify(h)},m=await Vy(()=>fetch(o,f));if(m.ok){const g=await m.json();return{fid:g.fid||r,registrationStatus:2,refreshToken:g.refreshToken,authToken:Ry(g.authToken)}}else throw await Oy("Create Installation",m)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function jy(n){return new Promise(e=>{setTimeout(e,n)})}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function BT(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const $T=/^[cdef][\w-]{21}$/,_d="";function WT(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const e=KT(n);return $T.test(e)?e:_d}catch{return _d}}function KT(n){return BT(n).substr(0,22)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ou(n){return`${n.appName}!${n.appId}`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Uy=new Map;function zy(n,e){const r=Ou(n);qy(r,e),HT(r,e)}function qy(n,e){const r=Uy.get(n);if(r)for(const o of r)o(e)}function HT(n,e){const r=XT();r&&r.postMessage({key:n,fid:e}),QT()}let Eo=null;function XT(){return!Eo&&"BroadcastChannel"in self&&(Eo=new BroadcastChannel("[Firebase] FID Change"),Eo.onmessage=n=>{qy(n.data.key,n.data.fid)}),Eo}function QT(){Uy.size===0&&Eo&&(Eo.close(),Eo=null)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const GT="firebase-installations-database",YT=1,So="firebase-installations-store";let Pd=null;function Nd(){return Pd||(Pd=vy(GT,YT,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(So)}}})),Pd}async function Fu(n,e){const r=Ou(n),o=(await Nd()).transaction(So,"readwrite"),a=o.objectStore(So),u=await a.get(r);return await a.put(e,r),await o.done,(!u||u.fid!==e.fid)&&zy(n,e.fid),e}async function By(n){const e=Ou(n),r=(await Nd()).transaction(So,"readwrite");await r.objectStore(So).delete(e),await r.done}async function Vu(n,e){const r=Ou(n),o=(await Nd()).transaction(So,"readwrite"),a=o.objectStore(So),u=await a.get(r),h=e(u);return h===void 0?await a.delete(r):await a.put(h,r),await o.done,h&&(!u||u.fid!==h.fid)&&zy(n,h.fid),h}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Md(n){let e;const r=await Vu(n.appConfig,o=>{const a=ZT(o),u=JT(n,a);return e=u.registrationPromise,u.installationEntry});return r.fid===_d?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function ZT(n){const e=n||{fid:WT(),registrationStatus:0};return Wy(e)}function JT(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(wo.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},o=eC(n,r);return{installationEntry:r,registrationPromise:o}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:tC(n)}:{installationEntry:e}}async function eC(n,e){try{const r=await qT(n,e);return Fu(n.appConfig,r)}catch(r){throw My(r)&&r.customData.serverCode===409?await By(n.appConfig):await Fu(n.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function tC(n){let e=await $y(n.appConfig);for(;e.registrationStatus===1;)await jy(100),e=await $y(n.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:o}=await Md(n);return o||r}return e}function $y(n){return Vu(n,e=>{if(!e)throw wo.create("installation-not-found");return Wy(e)})}function Wy(n){return nC(n)?{fid:n.fid,registrationStatus:0}:n}function nC(n){return n.registrationStatus===1&&n.registrationTime+_y<Date.now()}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function rC({appConfig:n,heartbeatServiceProvider:e},r){const o=iC(n,r),a=jT(n,r),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&a.append("x-firebase-client",g)}const h={installation:{sdkVersion:Py,appId:n.appId}},f={method:"POST",headers:a,body:JSON.stringify(h)},m=await Vy(()=>fetch(o,f));if(m.ok){const g=await m.json();return Ry(g)}else throw await Oy("Generate Auth Token",m)}function iC(n,{fid:e}){return`${Ly(n)}/${e}/authTokens:generate`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Ld(n,e=!1){let r;const o=await Vu(n.appConfig,a=>{if(!Hy(a))throw wo.create("not-registered");const u=a.authToken;if(!e&&aC(u))return a;if(u.requestStatus===1)return r=oC(n,e),a;{if(!navigator.onLine)throw wo.create("app-offline");const h=uC(a);return r=sC(n,h),h}});return r?await r:o.authToken}async function oC(n,e){let r=await Ky(n.appConfig);for(;r.authToken.requestStatus===1;)await jy(100),r=await Ky(n.appConfig);const o=r.authToken;return o.requestStatus===0?Ld(n,e):o}function Ky(n){return Vu(n,e=>{if(!Hy(e))throw wo.create("not-registered");const r=e.authToken;return cC(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function sC(n,e){try{const r=await rC(n,e),o=Object.assign(Object.assign({},e),{authToken:r});return await Fu(n.appConfig,o),r}catch(r){if(My(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await By(n.appConfig);else{const o=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Fu(n.appConfig,o)}throw r}}function Hy(n){return n!==void 0&&n.registrationStatus===2}function aC(n){return n.requestStatus===2&&!lC(n)}function lC(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+RT}function uC(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function cC(n){return n.requestStatus===1&&n.requestTime+_y<Date.now()}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function hC(n){const e=n,{installationEntry:r,registrationPromise:o}=await Md(e);return o?o.catch(console.error):Ld(e).catch(console.error),r.fid}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function dC(n,e=!1){const r=n;return await fC(r),(await Ld(r,e)).token}async function fC(n){const{registrationPromise:e}=await Md(n);e&&await e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function pC(n){if(!n||!n.options)throw Rd("App Configuration");if(!n.name)throw Rd("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!n.options[r])throw Rd(r);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Rd(n){return wo.create("missing-app-config-values",{valueName:n})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Xy="installations",mC="installations-internal",gC=n=>{const e=n.getProvider("app").getImmediate(),r=pC(e),o=Va(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:o,_delete:()=>Promise.resolve()}},yC=n=>{const e=n.getProvider("app").getImmediate(),r=Va(e,Xy).getImmediate();return{getId:()=>hC(r),getToken:o=>dC(r,o)}};function vC(){ki(new jr(Xy,gC,"PUBLIC")),ki(new jr(mC,yC,"PRIVATE"))}vC(),fr(Dy,Dd),fr(Dy,Dd,"esm2017");/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ju="analytics",bC="firebase_id",wC="origin",EC=60*1e3,SC="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Od="https://www.googletagmanager.com/gtag/js";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Sn=new vd("@firebase/analytics");/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const kC={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Dn=new Lu("analytics","Analytics",kC);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function xC(n){if(!n.startsWith(Od)){const e=Dn.create("invalid-gtag-resource",{gtagURL:n});return Sn.warn(e.message),""}return n}function Qy(n){return Promise.all(n.map(e=>e.catch(r=>r)))}function TC(n,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(n,e)),r}function CC(n,e){const r=TC("firebase-js-sdk-policy",{createScriptURL:xC}),o=document.createElement("script"),a=`${Od}?l=${n}&id=${e}`;o.src=r?r==null?void 0:r.createScriptURL(a):a,o.async=!0,document.head.appendChild(o)}function AC(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function IC(n,e,r,o,a,u){const h=o[a];try{if(h)await e[h];else{const f=(await Qy(r)).find(m=>m.measurementId===a);f&&await e[f.appId]}}catch(f){Sn.error(f)}n("config",a,u)}async function DC(n,e,r,o,a){try{let u=[];if(a&&a.send_to){let h=a.send_to;Array.isArray(h)||(h=[h]);const f=await Qy(r);for(const m of h){const g=f.find(E=>E.measurementId===m),v=g&&e[g.appId];if(v)u.push(v);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),n("event",o,a||{})}catch(u){Sn.error(u)}}function _C(n,e,r,o){async function a(u,...h){try{if(u==="event"){const[f,m]=h;await DC(n,e,r,f,m)}else if(u==="config"){const[f,m]=h;await IC(n,e,r,o,f,m)}else if(u==="consent"){const[f,m]=h;n("consent",f,m)}else if(u==="get"){const[f,m,g]=h;n("get",f,m,g)}else if(u==="set"){const[f]=h;n("set",f)}else n(u,...h)}catch(f){Sn.error(f)}}return a}function PC(n,e,r,o,a){let u=function(...h){window[o].push(arguments)};return window[a]&&typeof window[a]=="function"&&(u=window[a]),window[a]=_C(u,n,e,r),{gtagCore:u,wrappedGtag:window[a]}}function NC(n){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(Od)&&r.src.includes(n))return r;return null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const MC=30,LC=1e3;class RC{constructor(e={},r=LC){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Gy=new RC;function OC(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function FC(n){var e;const{appId:r,apiKey:o}=n,a={method:"GET",headers:OC(o)},u=SC.replace("{app-id}",r),h=await fetch(u,a);if(h.status!==200&&h.status!==304){let f="";try{const m=await h.json();!((e=m.error)===null||e===void 0)&&e.message&&(f=m.error.message)}catch{}throw Dn.create("config-fetch-failed",{httpStatus:h.status,responseMessage:f})}return h.json()}async function VC(n,e=Gy,r){const{appId:o,apiKey:a,measurementId:u}=n.options;if(!o)throw Dn.create("no-app-id");if(!a){if(u)return{measurementId:u,appId:o};throw Dn.create("no-api-key")}const h=e.getThrottleMetadata(o)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new zC;return setTimeout(async()=>{f.abort()},EC),Yy({appId:o,apiKey:a,measurementId:u},h,f,e)}async function Yy(n,{throttleEndTimeMillis:e,backoffCount:r},o,a=Gy){var u;const{appId:h,measurementId:f}=n;try{await jC(o,e)}catch(m){if(f)return Sn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:h,measurementId:f};throw m}try{const m=await FC(n);return a.deleteThrottleMetadata(h),m}catch(m){const g=m;if(!UC(g)){if(a.deleteThrottleMetadata(h),f)return Sn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:h,measurementId:f};throw m}const v=Number((u=g==null?void 0:g.customData)===null||u===void 0?void 0:u.httpStatus)===503?fy(r,a.intervalMillis,MC):fy(r,a.intervalMillis),E={throttleEndTimeMillis:Date.now()+v,backoffCount:r+1};return a.setThrottleMetadata(h,E),Sn.debug(`Calling attemptFetch again in ${v} millis`),Yy(n,E,o,a)}}function jC(n,e){return new Promise((r,o)=>{const a=Math.max(e-Date.now(),0),u=setTimeout(r,a);n.addEventListener(()=>{clearTimeout(u),o(Dn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function UC(n){if(!(n instanceof Ei)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class zC{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function qC(n,e,r,o,a){if(a&&a.global){n("event",r,o);return}else{const u=await e,h=Object.assign(Object.assign({},o),{send_to:u});n("event",r,h)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function BC(){if(gd())try{await yd()}catch(n){return Sn.warn(Dn.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Sn.warn(Dn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function $C(n,e,r,o,a,u,h){var f;const m=VC(n);m.then(I=>{r[I.measurementId]=I.appId,n.options.measurementId&&I.measurementId!==n.options.measurementId&&Sn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${I.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(I=>Sn.error(I)),e.push(m);const g=BC().then(I=>{if(I)return o.getId()}),[v,E]=await Promise.all([m,g]);NC(u)||CC(u,v.measurementId),a("js",new Date);const x=(f=h==null?void 0:h.config)!==null&&f!==void 0?f:{};return x[wC]="firebase",x.update=!0,E!=null&&(x[bC]=E),a("config",v.measurementId,x),v.measurementId}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class WC{constructor(e){this.app=e}_delete(){return delete Ua[this.app.options.appId],Promise.resolve()}}let Ua={},Zy=[];const Jy={};let Fd="dataLayer",KC="gtag",ev,tv,nv=!1;function HC(){const n=[];if(cy()&&n.push("This is a browser extension environment."),hy()||n.push("Cookies are not available."),n.length>0){const e=n.map((o,a)=>`(${a+1}) ${o}`).join(" "),r=Dn.create("invalid-analytics-context",{errorInfo:e});Sn.warn(r.message)}}function XC(n,e,r){HC();const o=n.options.appId;if(!o)throw Dn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Sn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Dn.create("no-api-key");if(Ua[o]!=null)throw Dn.create("already-exists",{id:o});if(!nv){AC(Fd);const{wrappedGtag:a,gtagCore:u}=PC(Ua,Zy,Jy,Fd,KC);tv=a,ev=u,nv=!0}return Ua[o]=$C(n,Zy,Jy,e,ev,Fd,r),new WC(n)}function QC(n=ky()){n=or(n);const e=Va(n,ju);return e.isInitialized()?e.getImmediate():GC(n)}function GC(n,e={}){const r=Va(n,ju);if(r.isInitialized()){const o=r.getImmediate();if(Fa(e,r.getOptions()))return o;throw Dn.create("already-initialized")}return r.initialize({options:e})}async function YC(){if(cy()||!hy()||!gd())return!1;try{return await yd()}catch{return!1}}function rv(n,e,r,o){n=or(n),qC(tv,Ua[n.app.options.appId],e,r,o).catch(a=>Sn.error(a))}const iv="@firebase/analytics",ov="0.10.17";function ZC(){ki(new jr(ju,(e,{options:r})=>{const o=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return XC(o,a,r)},"PUBLIC")),ki(new jr("analytics-internal",n,"PRIVATE")),fr(iv,ov),fr(iv,ov,"esm2017");function n(e){try{const r=e.getProvider(ju).getImmediate();return{logEvent:(o,a,u)=>rv(r,o,a,u)}}catch(r){throw Dn.create("interop-component-reg-failed",{reason:r})}}}ZC();var JC="firebase",eA="11.10.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/fr(JC,eA,"app");var sv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ti,av;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,A){function D(){}D.prototype=A.prototype,M.D=A.prototype,M.prototype=new D,M.prototype.constructor=M,M.C=function(N,L,O){for(var _=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)_[$e-2]=arguments[$e];return A.prototype[L].apply(N,_)}}function r(){this.blockSize=-1}function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(o,r),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(M,A,D){D||(D=0);var N=Array(16);if(typeof A=="string")for(var L=0;16>L;++L)N[L]=A.charCodeAt(D++)|A.charCodeAt(D++)<<8|A.charCodeAt(D++)<<16|A.charCodeAt(D++)<<24;else for(L=0;16>L;++L)N[L]=A[D++]|A[D++]<<8|A[D++]<<16|A[D++]<<24;A=M.g[0],D=M.g[1],L=M.g[2];var O=M.g[3],_=A+(O^D&(L^O))+N[0]+3614090360&4294967295;A=D+(_<<7&4294967295|_>>>25),_=O+(L^A&(D^L))+N[1]+3905402710&4294967295,O=A+(_<<12&4294967295|_>>>20),_=L+(D^O&(A^D))+N[2]+606105819&4294967295,L=O+(_<<17&4294967295|_>>>15),_=D+(A^L&(O^A))+N[3]+3250441966&4294967295,D=L+(_<<22&4294967295|_>>>10),_=A+(O^D&(L^O))+N[4]+4118548399&4294967295,A=D+(_<<7&4294967295|_>>>25),_=O+(L^A&(D^L))+N[5]+1200080426&4294967295,O=A+(_<<12&4294967295|_>>>20),_=L+(D^O&(A^D))+N[6]+2821735955&4294967295,L=O+(_<<17&4294967295|_>>>15),_=D+(A^L&(O^A))+N[7]+4249261313&4294967295,D=L+(_<<22&4294967295|_>>>10),_=A+(O^D&(L^O))+N[8]+1770035416&4294967295,A=D+(_<<7&4294967295|_>>>25),_=O+(L^A&(D^L))+N[9]+2336552879&4294967295,O=A+(_<<12&4294967295|_>>>20),_=L+(D^O&(A^D))+N[10]+4294925233&4294967295,L=O+(_<<17&4294967295|_>>>15),_=D+(A^L&(O^A))+N[11]+2304563134&4294967295,D=L+(_<<22&4294967295|_>>>10),_=A+(O^D&(L^O))+N[12]+1804603682&4294967295,A=D+(_<<7&4294967295|_>>>25),_=O+(L^A&(D^L))+N[13]+4254626195&4294967295,O=A+(_<<12&4294967295|_>>>20),_=L+(D^O&(A^D))+N[14]+2792965006&4294967295,L=O+(_<<17&4294967295|_>>>15),_=D+(A^L&(O^A))+N[15]+1236535329&4294967295,D=L+(_<<22&4294967295|_>>>10),_=A+(L^O&(D^L))+N[1]+4129170786&4294967295,A=D+(_<<5&4294967295|_>>>27),_=O+(D^L&(A^D))+N[6]+3225465664&4294967295,O=A+(_<<9&4294967295|_>>>23),_=L+(A^D&(O^A))+N[11]+643717713&4294967295,L=O+(_<<14&4294967295|_>>>18),_=D+(O^A&(L^O))+N[0]+3921069994&4294967295,D=L+(_<<20&4294967295|_>>>12),_=A+(L^O&(D^L))+N[5]+3593408605&4294967295,A=D+(_<<5&4294967295|_>>>27),_=O+(D^L&(A^D))+N[10]+38016083&4294967295,O=A+(_<<9&4294967295|_>>>23),_=L+(A^D&(O^A))+N[15]+3634488961&4294967295,L=O+(_<<14&4294967295|_>>>18),_=D+(O^A&(L^O))+N[4]+3889429448&4294967295,D=L+(_<<20&4294967295|_>>>12),_=A+(L^O&(D^L))+N[9]+568446438&4294967295,A=D+(_<<5&4294967295|_>>>27),_=O+(D^L&(A^D))+N[14]+3275163606&4294967295,O=A+(_<<9&4294967295|_>>>23),_=L+(A^D&(O^A))+N[3]+4107603335&4294967295,L=O+(_<<14&4294967295|_>>>18),_=D+(O^A&(L^O))+N[8]+1163531501&4294967295,D=L+(_<<20&4294967295|_>>>12),_=A+(L^O&(D^L))+N[13]+2850285829&4294967295,A=D+(_<<5&4294967295|_>>>27),_=O+(D^L&(A^D))+N[2]+4243563512&4294967295,O=A+(_<<9&4294967295|_>>>23),_=L+(A^D&(O^A))+N[7]+1735328473&4294967295,L=O+(_<<14&4294967295|_>>>18),_=D+(O^A&(L^O))+N[12]+2368359562&4294967295,D=L+(_<<20&4294967295|_>>>12),_=A+(D^L^O)+N[5]+4294588738&4294967295,A=D+(_<<4&4294967295|_>>>28),_=O+(A^D^L)+N[8]+2272392833&4294967295,O=A+(_<<11&4294967295|_>>>21),_=L+(O^A^D)+N[11]+1839030562&4294967295,L=O+(_<<16&4294967295|_>>>16),_=D+(L^O^A)+N[14]+4259657740&4294967295,D=L+(_<<23&4294967295|_>>>9),_=A+(D^L^O)+N[1]+2763975236&4294967295,A=D+(_<<4&4294967295|_>>>28),_=O+(A^D^L)+N[4]+1272893353&4294967295,O=A+(_<<11&4294967295|_>>>21),_=L+(O^A^D)+N[7]+4139469664&4294967295,L=O+(_<<16&4294967295|_>>>16),_=D+(L^O^A)+N[10]+3200236656&4294967295,D=L+(_<<23&4294967295|_>>>9),_=A+(D^L^O)+N[13]+681279174&4294967295,A=D+(_<<4&4294967295|_>>>28),_=O+(A^D^L)+N[0]+3936430074&4294967295,O=A+(_<<11&4294967295|_>>>21),_=L+(O^A^D)+N[3]+3572445317&4294967295,L=O+(_<<16&4294967295|_>>>16),_=D+(L^O^A)+N[6]+76029189&4294967295,D=L+(_<<23&4294967295|_>>>9),_=A+(D^L^O)+N[9]+3654602809&4294967295,A=D+(_<<4&4294967295|_>>>28),_=O+(A^D^L)+N[12]+3873151461&4294967295,O=A+(_<<11&4294967295|_>>>21),_=L+(O^A^D)+N[15]+530742520&4294967295,L=O+(_<<16&4294967295|_>>>16),_=D+(L^O^A)+N[2]+3299628645&4294967295,D=L+(_<<23&4294967295|_>>>9),_=A+(L^(D|~O))+N[0]+4096336452&4294967295,A=D+(_<<6&4294967295|_>>>26),_=O+(D^(A|~L))+N[7]+1126891415&4294967295,O=A+(_<<10&4294967295|_>>>22),_=L+(A^(O|~D))+N[14]+2878612391&4294967295,L=O+(_<<15&4294967295|_>>>17),_=D+(O^(L|~A))+N[5]+4237533241&4294967295,D=L+(_<<21&4294967295|_>>>11),_=A+(L^(D|~O))+N[12]+1700485571&4294967295,A=D+(_<<6&4294967295|_>>>26),_=O+(D^(A|~L))+N[3]+2399980690&4294967295,O=A+(_<<10&4294967295|_>>>22),_=L+(A^(O|~D))+N[10]+4293915773&4294967295,L=O+(_<<15&4294967295|_>>>17),_=D+(O^(L|~A))+N[1]+2240044497&4294967295,D=L+(_<<21&4294967295|_>>>11),_=A+(L^(D|~O))+N[8]+1873313359&4294967295,A=D+(_<<6&4294967295|_>>>26),_=O+(D^(A|~L))+N[15]+4264355552&4294967295,O=A+(_<<10&4294967295|_>>>22),_=L+(A^(O|~D))+N[6]+2734768916&4294967295,L=O+(_<<15&4294967295|_>>>17),_=D+(O^(L|~A))+N[13]+1309151649&4294967295,D=L+(_<<21&4294967295|_>>>11),_=A+(L^(D|~O))+N[4]+4149444226&4294967295,A=D+(_<<6&4294967295|_>>>26),_=O+(D^(A|~L))+N[11]+3174756917&4294967295,O=A+(_<<10&4294967295|_>>>22),_=L+(A^(O|~D))+N[2]+718787259&4294967295,L=O+(_<<15&4294967295|_>>>17),_=D+(O^(L|~A))+N[9]+3951481745&4294967295,M.g[0]=M.g[0]+A&4294967295,M.g[1]=M.g[1]+(L+(_<<21&4294967295|_>>>11))&4294967295,M.g[2]=M.g[2]+L&4294967295,M.g[3]=M.g[3]+O&4294967295}o.prototype.u=function(M,A){A===void 0&&(A=M.length);for(var D=A-this.blockSize,N=this.B,L=this.h,O=0;O<A;){if(L==0)for(;O<=D;)a(this,M,O),O+=this.blockSize;if(typeof M=="string"){for(;O<A;)if(N[L++]=M.charCodeAt(O++),L==this.blockSize){a(this,N),L=0;break}}else for(;O<A;)if(N[L++]=M[O++],L==this.blockSize){a(this,N),L=0;break}}this.h=L,this.o+=A},o.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var A=1;A<M.length-8;++A)M[A]=0;var D=8*this.o;for(A=M.length-8;A<M.length;++A)M[A]=D&255,D/=256;for(this.u(M),M=Array(16),A=D=0;4>A;++A)for(var N=0;32>N;N+=8)M[D++]=this.g[A]>>>N&255;return M};function u(M,A){var D=f;return Object.prototype.hasOwnProperty.call(D,M)?D[M]:D[M]=A(M)}function h(M,A){this.h=A;for(var D=[],N=!0,L=M.length-1;0<=L;L--){var O=M[L]|0;N&&O==A||(D[L]=O,N=!1)}this.g=D}var f={};function m(M){return-128<=M&&128>M?u(M,function(A){return new h([A|0],0>A?-1:0)}):new h([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return E;if(0>M)return j(g(-M));for(var A=[],D=1,N=0;M>=D;N++)A[N]=M/D|0,D*=4294967296;return new h(A,0)}function v(M,A){if(M.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(M.charAt(0)=="-")return j(v(M.substring(1),A));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=g(Math.pow(A,8)),N=E,L=0;L<M.length;L+=8){var O=Math.min(8,M.length-L),_=parseInt(M.substring(L,L+O),A);8>O?(O=g(Math.pow(A,O)),N=N.j(O).add(g(_))):(N=N.j(D),N=N.add(g(_)))}return N}var E=m(0),x=m(1),I=m(16777216);n=h.prototype,n.m=function(){if(B(this))return-j(this).m();for(var M=0,A=1,D=0;D<this.g.length;D++){var N=this.i(D);M+=(0<=N?N:4294967296+N)*A,A*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(V(this))return"0";if(B(this))return"-"+j(this).toString(M);for(var A=g(Math.pow(M,6)),D=this,N="";;){var L=pe(D,A).g;D=Q(D,L.j(A));var O=((0<D.g.length?D.g[0]:D.h)>>>0).toString(M);if(D=L,V(D))return O+N;for(;6>O.length;)O="0"+O;N=O+N}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function V(M){if(M.h!=0)return!1;for(var A=0;A<M.g.length;A++)if(M.g[A]!=0)return!1;return!0}function B(M){return M.h==-1}n.l=function(M){return M=Q(this,M),B(M)?-1:V(M)?0:1};function j(M){for(var A=M.g.length,D=[],N=0;N<A;N++)D[N]=~M.g[N];return new h(D,~M.h).add(x)}n.abs=function(){return B(this)?j(this):this},n.add=function(M){for(var A=Math.max(this.g.length,M.g.length),D=[],N=0,L=0;L<=A;L++){var O=N+(this.i(L)&65535)+(M.i(L)&65535),_=(O>>>16)+(this.i(L)>>>16)+(M.i(L)>>>16);N=_>>>16,O&=65535,_&=65535,D[L]=_<<16|O}return new h(D,D[D.length-1]&-2147483648?-1:0)};function Q(M,A){return M.add(j(A))}n.j=function(M){if(V(this)||V(M))return E;if(B(this))return B(M)?j(this).j(j(M)):j(j(this).j(M));if(B(M))return j(this.j(j(M)));if(0>this.l(I)&&0>M.l(I))return g(this.m()*M.m());for(var A=this.g.length+M.g.length,D=[],N=0;N<2*A;N++)D[N]=0;for(N=0;N<this.g.length;N++)for(var L=0;L<M.g.length;L++){var O=this.i(N)>>>16,_=this.i(N)&65535,$e=M.i(L)>>>16,Ue=M.i(L)&65535;D[2*N+2*L]+=_*Ue,te(D,2*N+2*L),D[2*N+2*L+1]+=O*Ue,te(D,2*N+2*L+1),D[2*N+2*L+1]+=_*$e,te(D,2*N+2*L+1),D[2*N+2*L+2]+=O*$e,te(D,2*N+2*L+2)}for(N=0;N<A;N++)D[N]=D[2*N+1]<<16|D[2*N];for(N=A;N<2*A;N++)D[N]=0;return new h(D,0)};function te(M,A){for(;(M[A]&65535)!=M[A];)M[A+1]+=M[A]>>>16,M[A]&=65535,A++}function oe(M,A){this.g=M,this.h=A}function pe(M,A){if(V(A))throw Error("division by zero");if(V(M))return new oe(E,E);if(B(M))return A=pe(j(M),A),new oe(j(A.g),j(A.h));if(B(A))return A=pe(M,j(A)),new oe(j(A.g),A.h);if(30<M.g.length){if(B(M)||B(A))throw Error("slowDivide_ only works with positive integers.");for(var D=x,N=A;0>=N.l(M);)D=le(D),N=le(N);var L=ye(D,1),O=ye(N,1);for(N=ye(N,2),D=ye(D,2);!V(N);){var _=O.add(N);0>=_.l(M)&&(L=L.add(D),O=_),N=ye(N,1),D=ye(D,1)}return A=Q(M,L.j(A)),new oe(L,A)}for(L=E;0<=M.l(A);){for(D=Math.max(1,Math.floor(M.m()/A.m())),N=Math.ceil(Math.log(D)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),O=g(D),_=O.j(A);B(_)||0<_.l(M);)D-=N,O=g(D),_=O.j(A);V(O)&&(O=x),L=L.add(O),M=Q(M,_)}return new oe(L,M)}n.A=function(M){return pe(this,M).h},n.and=function(M){for(var A=Math.max(this.g.length,M.g.length),D=[],N=0;N<A;N++)D[N]=this.i(N)&M.i(N);return new h(D,this.h&M.h)},n.or=function(M){for(var A=Math.max(this.g.length,M.g.length),D=[],N=0;N<A;N++)D[N]=this.i(N)|M.i(N);return new h(D,this.h|M.h)},n.xor=function(M){for(var A=Math.max(this.g.length,M.g.length),D=[],N=0;N<A;N++)D[N]=this.i(N)^M.i(N);return new h(D,this.h^M.h)};function le(M){for(var A=M.g.length+1,D=[],N=0;N<A;N++)D[N]=M.i(N)<<1|M.i(N-1)>>>31;return new h(D,M.h)}function ye(M,A){var D=A>>5;A%=32;for(var N=M.g.length-D,L=[],O=0;O<N;O++)L[O]=0<A?M.i(O+D)>>>A|M.i(O+D+1)<<32-A:M.i(O+D);return new h(L,M.h)}o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,av=o,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=v,Ti=h}).apply(typeof sv<"u"?sv:typeof self<"u"?self:typeof window<"u"?window:{});var Uu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lv,za,uv,zu,Vd,cv,hv,dv;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,b){return c==Array.prototype||c==Object.prototype||(c[y]=b.value),c};function r(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uu=="object"&&Uu];for(var y=0;y<c.length;++y){var b=c[y];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var o=r(this);function a(c,y){if(y)e:{var b=o;c=c.split(".");for(var T=0;T<c.length-1;T++){var U=c[T];if(!(U in b))break e;b=b[U]}c=c[c.length-1],T=b[c],y=y(T),y!=T&&y!=null&&e(b,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var b=0,T=!1,U={next:function(){if(!T&&b<c.length){var H=b++;return{value:y(H,c[H]),done:!1}}return T=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}a("Array.prototype.values",function(c){return c||function(){return u(this,function(y,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},f=this||self;function m(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,b){return c.call.apply(c.bind,arguments)}function E(c,y,b){if(!c)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,T),c.apply(y,U)}}return function(){return c.apply(y,arguments)}}function x(c,y,b){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:E,x.apply(null,arguments)}function I(c,y){var b=Array.prototype.slice.call(arguments,1);return function(){var T=b.slice();return T.push.apply(T,arguments),c.apply(this,T)}}function V(c,y){function b(){}b.prototype=y.prototype,c.aa=y.prototype,c.prototype=new b,c.prototype.constructor=c,c.Qb=function(T,U,H){for(var ue=Array(arguments.length-2),We=2;We<arguments.length;We++)ue[We-2]=arguments[We];return y.prototype[U].apply(T,ue)}}function B(c){const y=c.length;if(0<y){const b=Array(y);for(let T=0;T<y;T++)b[T]=c[T];return b}return[]}function j(c,y){for(let b=1;b<arguments.length;b++){const T=arguments[b];if(m(T)){const U=c.length||0,H=T.length||0;c.length=U+H;for(let ue=0;ue<H;ue++)c[U+ue]=T[ue]}else c.push(T)}}class Q{constructor(y,b){this.i=y,this.j=b,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function te(c){return/^[\s\xa0]*$/.test(c)}function oe(){var c=f.navigator;return c&&(c=c.userAgent)?c:""}function pe(c){return pe[" "](c),c}pe[" "]=function(){};var le=oe().indexOf("Gecko")!=-1&&!(oe().toLowerCase().indexOf("webkit")!=-1&&oe().indexOf("Edge")==-1)&&!(oe().indexOf("Trident")!=-1||oe().indexOf("MSIE")!=-1)&&oe().indexOf("Edge")==-1;function ye(c,y,b){for(const T in c)y.call(b,c[T],T,c)}function M(c,y){for(const b in c)y.call(void 0,c[b],b,c)}function A(c){const y={};for(const b in c)y[b]=c[b];return y}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,y){let b,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(b in T)c[b]=T[b];for(let H=0;H<D.length;H++)b=D[H],Object.prototype.hasOwnProperty.call(T,b)&&(c[b]=T[b])}}function L(c){var y=1;c=c.split(":");const b=[];for(;0<y&&c.length;)b.push(c.shift()),y--;return c.length&&b.push(c.join(":")),b}function O(c){f.setTimeout(()=>{throw c},0)}function _(){var c=Ne;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class $e{constructor(){this.h=this.g=null}add(y,b){const T=Ue.get();T.set(y,b),this.h?this.h.next=T:this.g=T,this.h=T}}var Ue=new Q(()=>new W,c=>c.reset());class W{constructor(){this.next=this.g=this.h=null}set(y,b){this.h=y,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let re,de=!1,Ne=new $e,k=()=>{const c=f.Promise.resolve(void 0);re=()=>{c.then(C)}};var C=()=>{for(var c;c=_();){try{c.h.call(c.g)}catch(b){O(b)}var y=Ue;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}de=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var se=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};f.addEventListener("test",b,y),f.removeEventListener("test",b,y)}catch{}return c})();function ce(c,y){if(X.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var b=this.type=c.type,T=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(le){e:{try{pe(y.nodeName);var U=!0;break e}catch{}U=!1}U||(y=null)}}else b=="mouseover"?y=c.fromElement:b=="mouseout"&&(y=c.toElement);this.relatedTarget=y,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ae[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ce.aa.h.call(this)}}V(ce,X);var ae={2:"touch",3:"pen",4:"mouse"};ce.prototype.h=function(){ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var me="closure_listenable_"+(1e6*Math.random()|0),ve=0;function _e(c,y,b,T,U){this.listener=c,this.proxy=null,this.src=y,this.type=b,this.capture=!!T,this.ha=U,this.key=++ve,this.da=this.fa=!1}function ot(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Oe(c){this.src=c,this.g={},this.h=0}Oe.prototype.add=function(c,y,b,T,U){var H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);var ue=yt(c,y,T,U);return-1<ue?(y=c[ue],b||(y.fa=!1)):(y=new _e(y,this.src,H,!!T,U),y.fa=b,c.push(y)),y};function et(c,y){var b=y.type;if(b in c.g){var T=c.g[b],U=Array.prototype.indexOf.call(T,y,void 0),H;(H=0<=U)&&Array.prototype.splice.call(T,U,1),H&&(ot(y),c.g[b].length==0&&(delete c.g[b],c.h--))}}function yt(c,y,b,T){for(var U=0;U<c.length;++U){var H=c[U];if(!H.da&&H.listener==y&&H.capture==!!b&&H.ha==T)return U}return-1}var Pe="closure_lm_"+(1e6*Math.random()|0),Nt={};function fn(c,y,b,T,U){if(Array.isArray(y)){for(var H=0;H<y.length;H++)fn(c,y[H],b,T,U);return null}return b=qs(b),c&&c[me]?c.K(y,b,g(T)?!!T.capture:!1,U):dt(c,y,b,!1,T,U)}function dt(c,y,b,T,U,H){if(!y)throw Error("Invalid event type");var ue=g(U)?!!U.capture:!!U,We=qi(c);if(We||(c[Pe]=We=new Oe(c)),b=We.add(y,b,T,ue,H),b.proxy)return b;if(T=Nn(),b.proxy=T,T.src=c,T.listener=b,c.addEventListener)se||(U=ue),U===void 0&&(U=!1),c.addEventListener(y.toString(),T,U);else if(c.attachEvent)c.attachEvent(Wr(y.toString()),T);else if(c.addListener&&c.removeListener)c.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Nn(){function c(b){return y.call(c.src,c.listener,b)}const y=Cl;return c}function Mn(c,y,b,T,U){if(Array.isArray(y))for(var H=0;H<y.length;H++)Mn(c,y[H],b,T,U);else T=g(T)?!!T.capture:!!T,b=qs(b),c&&c[me]?(c=c.i,y=String(y).toString(),y in c.g&&(H=c.g[y],b=yt(H,b,T,U),-1<b&&(ot(H[b]),Array.prototype.splice.call(H,b,1),H.length==0&&(delete c.g[y],c.h--)))):c&&(c=qi(c))&&(y=c.g[y.toString()],c=-1,y&&(c=yt(y,b,T,U)),(b=-1<c?y[c]:null)&&en(b))}function en(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[me])et(y.i,c);else{var b=c.type,T=c.proxy;y.removeEventListener?y.removeEventListener(b,T,c.capture):y.detachEvent?y.detachEvent(Wr(b),T):y.addListener&&y.removeListener&&y.removeListener(T),(b=qi(y))?(et(b,c),b.h==0&&(b.src=null,y[Pe]=null)):ot(c)}}}function Wr(c){return c in Nt?Nt[c]:Nt[c]="on"+c}function Cl(c,y){if(c.da)c=!0;else{y=new ce(y,this);var b=c.listener,T=c.ha||c.src;c.fa&&en(c),c=b.call(T,y)}return c}function qi(c){return c=c[Pe],c instanceof Oe?c:null}var Bi="__closure_events_fn_"+(1e9*Math.random()>>>0);function qs(c){return typeof c=="function"?c:(c[Bi]||(c[Bi]=function(y){return c.handleEvent(y)}),c[Bi])}function ct(){G.call(this),this.i=new Oe(this),this.M=this,this.F=null}V(ct,G),ct.prototype[me]=!0,ct.prototype.removeEventListener=function(c,y,b,T){Mn(this,c,y,b,T)};function He(c,y){var b,T=c.F;if(T)for(b=[];T;T=T.F)b.push(T);if(c=c.M,T=y.type||y,typeof y=="string")y=new X(y,c);else if(y instanceof X)y.target=y.target||c;else{var U=y;y=new X(T,c),N(y,U)}if(U=!0,b)for(var H=b.length-1;0<=H;H--){var ue=y.g=b[H];U=gn(ue,T,!0,y)&&U}if(ue=y.g=c,U=gn(ue,T,!0,y)&&U,U=gn(ue,T,!1,y)&&U,b)for(H=0;H<b.length;H++)ue=y.g=b[H],U=gn(ue,T,!1,y)&&U}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var b=c.g[y],T=0;T<b.length;T++)ot(b[T]);delete c.g[y],c.h--}}this.F=null},ct.prototype.K=function(c,y,b,T){return this.i.add(String(c),y,!1,b,T)},ct.prototype.L=function(c,y,b,T){return this.i.add(String(c),y,!0,b,T)};function gn(c,y,b,T){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var U=!0,H=0;H<y.length;++H){var ue=y[H];if(ue&&!ue.da&&ue.capture==b){var We=ue.listener,zt=ue.ha||ue.src;ue.fa&&et(c.i,ue),U=We.call(zt,T)!==!1&&U}}return U&&!T.defaultPrevented}function Vt(c,y,b){if(typeof c=="function")b&&(c=x(c,b));else if(c&&typeof c.handleEvent=="function")c=x(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:f.setTimeout(c,y||0)}function Oo(c){c.g=Vt(()=>{c.g=null,c.i&&(c.i=!1,Oo(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Fo extends G{constructor(y,b){super(),this.m=y,this.l=b,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Oo(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kr(c){G.call(this),this.h=c,this.g={}}V(Kr,G);var Hr=[];function Vo(c){ye(c.g,function(y,b){this.g.hasOwnProperty(b)&&en(y)},c),c.g={}}Kr.prototype.N=function(){Kr.aa.N.call(this),Vo(this)},Kr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ar=f.JSON.stringify,Bs=f.JSON.parse,jo=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Al(){}Al.prototype.h=null;function Il(c){return c.h||(c.h=c.i())}function Dl(){}var Xr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qr(){X.call(this,"d")}V(Qr,X);function _l(){X.call(this,"c")}V(_l,X);var xr={},Pl=null;function $i(){return Pl=Pl||new ct}xr.La="serverreachability";function $s(c){X.call(this,xr.La,c)}V($s,X);function Wi(c){const y=$i();He(y,new $s(y))}xr.STAT_EVENT="statevent";function Bc(c,y){X.call(this,xr.STAT_EVENT,c),this.stat=y}V(Bc,X);function ft(c){const y=$i();He(y,new Bc(y,c))}xr.Ma="timingevent";function jt(c,y){X.call(this,xr.Ma,c),this.size=y}V(jt,X);function Mt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function Hn(){this.g=!0}Hn.prototype.xa=function(){this.g=!1};function Nl(c,y,b,T,U,H){c.info(function(){if(c.g)if(H)for(var ue="",We=H.split("&"),zt=0;zt<We.length;zt++){var Xe=We[zt].split("=");if(1<Xe.length){var Kt=Xe[0];Xe=Xe[1];var nn=Kt.split("_");ue=2<=nn.length&&nn[1]=="type"?ue+(Kt+"="+Xe+"&"):ue+(Kt+"=redacted&")}}else ue=null;else ue=H;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+y+`
`+b+`
`+ue})}function Gp(c,y,b,T,U,H,ue){c.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+y+`
`+b+`
`+H+" "+ue})}function Ki(c,y,b,T){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Uo(c,b)+(T?" "+T:"")})}function $c(c,y){c.info(function(){return"TIMEOUT: "+y})}Hn.prototype.info=function(){};function Uo(c,y){if(!c.g)return y;if(!y)return null;try{var b=JSON.parse(y);if(b){for(c=0;c<b.length;c++)if(Array.isArray(b[c])){var T=b[c];if(!(2>T.length)){var U=T[1];if(Array.isArray(U)&&!(1>U.length)){var H=U[0];if(H!="noop"&&H!="stop"&&H!="close")for(var ue=1;ue<U.length;ue++)U[ue]=""}}}}return ar(b)}catch{return y}}var Hi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Gr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Tr;function Cr(){}V(Cr,Al),Cr.prototype.g=function(){return new XMLHttpRequest},Cr.prototype.i=function(){return{}},Tr=new Cr;function yn(c,y,b,T){this.j=c,this.i=y,this.l=b,this.R=T||1,this.U=new Kr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Tt}function Tt(){this.i=null,this.g="",this.h=!1}var Ml={},Ws={};function lr(c,y,b){c.L=1,c.v=Wo(Ln(y)),c.m=b,c.P=!0,Yr(c,null)}function Yr(c,y){c.F=Date.now(),zo(c),c.A=Ln(c.v);var b=c.A,T=c.R;Array.isArray(T)||(T=[String(T)]),jl(b.i,"t",T),c.C=0,b=c.j.J,c.h=new Tt,c.g=sh(c.j,b?y:null,!c.m),0<c.O&&(c.M=new Fo(x(c.Y,c,c.g),c.O)),y=c.U,b=c.g,T=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(Hr[0]=U.toString()),U=Hr);for(var H=0;H<U.length;H++){var ue=fn(b,U[H],T||y.handleEvent,!1,y.h||y);if(!ue)break;y.g[ue.key]=ue}y=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Wi(),Nl(c.i,c.u,c.A,c.l,c.R,c.m)}yn.prototype.ca=function(c){c=c.target;const y=this.M;y&&Yn(c)==3?y.j():this.Y(c)},yn.prototype.Y=function(c){try{if(c==this.g)e:{const nn=Yn(this.g);var y=this.g.Ba();const oi=this.g.Z();if(!(3>nn)&&(nn!=3||this.g&&(this.h.h||this.g.oa()||Zc(this.g)))){this.J||nn!=4||y==7||(y==8||0>=oi?Wi(3):Wi(2)),Xi(this);var b=this.g.Z();this.X=b;t:if(Wc(this)){var T=Zc(this.g);c="";var U=T.length,H=Yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tn(this),Ar(this);var ue="";break t}this.h.i=new f.TextDecoder}for(y=0;y<U;y++)this.h.h=!0,c+=this.h.i.decode(T[y],{stream:!(H&&y==U-1)});T.length=0,this.h.g+=c,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=b==200,Gp(this.i,this.u,this.A,this.l,this.R,nn,b),this.o){if(this.T&&!this.K){t:{if(this.g){var We,zt=this.g;if((We=zt.g?zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(We)){var Xe=We;break t}}Xe=null}if(b=Xe)Ki(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qo(this,b);else{this.o=!1,this.s=3,ft(12),tn(this),Ar(this);break e}}if(this.P){b=!0;let rn;for(;!this.J&&this.C<ue.length;)if(rn=Kc(this,ue),rn==Ws){nn==4&&(this.s=4,ft(14),b=!1),Ki(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==Ml){this.s=4,ft(15),Ki(this.i,this.l,ue,"[Invalid Chunk]"),b=!1;break}else Ki(this.i,this.l,rn,null),qo(this,rn);if(Wc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nn!=4||ue.length!=0||this.h.h||(this.s=1,ft(16),b=!1),this.o=this.o&&b,!b)Ki(this.i,this.l,ue,"[Invalid Chunked Response]"),tn(this),Ar(this);else if(0<ue.length&&!this.W){this.W=!0;var Kt=this.j;Kt.g==this&&Kt.ba&&!Kt.M&&(Kt.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),Jo(Kt),Kt.M=!0,ft(11))}}else Ki(this.i,this.l,ue,null),qo(this,ue);nn==4&&tn(this),this.o&&!this.J&&(nn==4?rh(this.j,this):(this.o=!1,zo(this)))}else tm(this.g),b==400&&0<ue.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),tn(this),Ar(this)}}}catch{}finally{}};function Wc(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Kc(c,y){var b=c.C,T=y.indexOf(`
`,b);return T==-1?Ws:(b=Number(y.substring(b,T)),isNaN(b)?Ml:(T+=1,T+b>y.length?Ws:(y=y.slice(T,T+b),c.C=T+b,y)))}yn.prototype.cancel=function(){this.J=!0,tn(this)};function zo(c){c.S=Date.now()+c.I,Hc(c,c.I)}function Hc(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Mt(x(c.ba,c),y)}function Xi(c){c.B&&(f.clearTimeout(c.B),c.B=null)}yn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?($c(this.i,this.A),this.L!=2&&(Wi(),ft(17)),tn(this),this.s=2,Ar(this)):Hc(this,this.S-c)};function Ar(c){c.j.G==0||c.J||rh(c.j,c)}function tn(c){Xi(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Vo(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function qo(c,y){try{var b=c.j;if(b.G!=0&&(b.g==c||Ll(b.h,c))){if(!c.K&&Ll(b.h,c)&&b.G==3){try{var T=b.Da.g.parse(y)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<c.F)ra(b),ta(b);else break e;$l(b),ft(18)}}else b.za=U[1],0<b.za-b.T&&37500>U[2]&&b.F&&b.v==0&&!b.C&&(b.C=Mt(x(b.Za,b),6e3));if(1>=Hs(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else ii(b,11)}else if((c.K||b.g==c)&&ra(b),!te(y))for(U=b.Da.g.parse(y),y=0;y<U.length;y++){let Xe=U[y];if(b.T=Xe[0],Xe=Xe[1],b.G==2)if(Xe[0]=="c"){b.K=Xe[1],b.ia=Xe[2];const Kt=Xe[3];Kt!=null&&(b.la=Kt,b.j.info("VER="+b.la));const nn=Xe[4];nn!=null&&(b.Aa=nn,b.j.info("SVER="+b.Aa));const oi=Xe[5];oi!=null&&typeof oi=="number"&&0<oi&&(T=1.5*oi,b.L=T,b.j.info("backChannelRequestTimeoutMs_="+T)),T=b;const rn=c.g;if(rn){const Lr=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Lr){var H=T.h;H.g||Lr.indexOf("spdy")==-1&&Lr.indexOf("quic")==-1&&Lr.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Xs(H,H.h),H.h=null))}if(T.D){const Kl=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;Kl&&(T.ya=Kl,tt(T.I,T.D,Kl))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-c.F,b.j.info("Handshake RTT: "+b.R+"ms")),T=b;var ue=c;if(T.qa=oh(T,T.J?T.ia:null,T.W),ue.K){vn(T.h,ue);var We=ue,zt=T.L;zt&&(We.I=zt),We.B&&(Xi(We),zo(We)),T.g=ue}else th(T);0<b.i.length&&na(b)}else Xe[0]!="stop"&&Xe[0]!="close"||ii(b,7);else b.G==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?ii(b,7):ql(b):Xe[0]!="noop"&&b.l&&b.l.ta(Xe),b.v=0)}}Wi(4)}catch{}}var Xc=class{constructor(c,y){this.g=c,this.map=y}};function Zr(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ks(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Hs(c){return c.h?1:c.g?c.g.size:0}function Ll(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Xs(c,y){c.g?c.g.add(y):c.h=y}function vn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Zr.prototype.cancel=function(){if(this.i=Rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Rl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const b of c.g.values())y=y.concat(b.D);return y}return B(c.i)}function Yp(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(m(c)){for(var y=[],b=c.length,T=0;T<b;T++)y.push(c[T]);return y}y=[],b=0;for(T in c)y[b++]=c[T];return y}function Qs(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(m(c)||typeof c=="string"){var y=[];c=c.length;for(var b=0;b<c;b++)y.push(b);return y}y=[],b=0;for(const T in c)y[b++]=T;return y}}}function Ol(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(m(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var b=Qs(c),T=Yp(c),U=T.length,H=0;H<U;H++)y.call(void 0,T[H],b&&b[H],c)}var Bo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zp(c,y){if(c){c=c.split("&");for(var b=0;b<c.length;b++){var T=c[b].indexOf("="),U=null;if(0<=T){var H=c[b].substring(0,T);U=c[b].substring(T+1)}else H=c[b];y(H,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Ut(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ut){this.h=c.h,$o(this,c.j),this.o=c.o,this.g=c.g,Qi(this,c.s),this.l=c.l;var y=c.i,b=new ei;b.i=y.i,y.g&&(b.g=new Map(y.g),b.h=y.h),Jr(this,b),this.m=c.m}else c&&(y=String(c).match(Bo))?(this.h=!1,$o(this,y[1]||"",!0),this.o=Xn(y[2]||""),this.g=Xn(y[3]||"",!0),Qi(this,y[4]),this.l=Xn(y[5]||"",!0),Jr(this,y[6]||"",!0),this.m=Xn(y[7]||"")):(this.h=!1,this.i=new ei(null,this.h))}Ut.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Ko(y,Fl,!0),":");var b=this.g;return(b||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ko(y,Fl,!0),"@"),c.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&c.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(Ko(b,b.charAt(0)=="/"?Jp:Vl,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",Ko(b,Gs)),c.join("")};function Ln(c){return new Ut(c)}function $o(c,y,b){c.j=b?Xn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Qi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Jr(c,y,b){y instanceof ei?(c.i=y,Gc(c.i,c.h)):(b||(y=Ko(y,em)),c.i=new ei(y,c.h))}function tt(c,y,b){c.i.set(y,b)}function Wo(c){return tt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Xn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ko(c,y,b){return typeof c=="string"?(c=encodeURI(c).replace(y,Qc),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Qc(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Fl=/[#\/\?@]/g,Vl=/[#\?:]/g,Jp=/[#\?]/g,em=/[#\?@]/g,Gs=/#/g;function ei(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Qn(c){c.g||(c.g=new Map,c.h=0,c.i&&Zp(c.i,function(y,b){c.add(decodeURIComponent(y.replace(/\+/g," ")),b)}))}n=ei.prototype,n.add=function(c,y){Qn(this),this.i=null,c=Ir(this,c);var b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(y),this.h+=1,this};function ti(c,y){Qn(c),y=Ir(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function ni(c,y){return Qn(c),y=Ir(c,y),c.g.has(y)}n.forEach=function(c,y){Qn(this),this.g.forEach(function(b,T){b.forEach(function(U){c.call(y,U,T,this)},this)},this)},n.na=function(){Qn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),b=[];for(let T=0;T<y.length;T++){const U=c[T];for(let H=0;H<U.length;H++)b.push(y[T])}return b},n.V=function(c){Qn(this);let y=[];if(typeof c=="string")ni(this,c)&&(y=y.concat(this.g.get(Ir(this,c))));else{c=Array.from(this.g.values());for(let b=0;b<c.length;b++)y=y.concat(c[b])}return y},n.set=function(c,y){return Qn(this),this.i=null,c=Ir(this,c),ni(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},n.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function jl(c,y,b){ti(c,y),0<b.length&&(c.i=null,c.g.set(Ir(c,y),B(b)),c.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var b=0;b<y.length;b++){var T=y[b];const H=encodeURIComponent(String(T)),ue=this.V(T);for(T=0;T<ue.length;T++){var U=H;ue[T]!==""&&(U+="="+encodeURIComponent(String(ue[T]))),c.push(U)}}return this.i=c.join("&")};function Ir(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Gc(c,y){y&&!c.j&&(Qn(c),c.i=null,c.g.forEach(function(b,T){var U=T.toLowerCase();T!=U&&(ti(this,T),jl(this,U,b))},c)),c.j=y}function Ho(c,y){const b=new Hn;if(f.Image){const T=new Image;T.onload=I(Gn,b,"TestLoadImage: loaded",!0,y,T),T.onerror=I(Gn,b,"TestLoadImage: error",!1,y,T),T.onabort=I(Gn,b,"TestLoadImage: abort",!1,y,T),T.ontimeout=I(Gn,b,"TestLoadImage: timeout",!1,y,T),f.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=c}else y(!1)}function ur(c,y){const b=new Hn,T=new AbortController,U=setTimeout(()=>{T.abort(),Gn(b,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:T.signal}).then(H=>{clearTimeout(U),H.ok?Gn(b,"TestPingServer: ok",!0,y):Gn(b,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),Gn(b,"TestPingServer: error",!1,y)})}function Gn(c,y,b,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(b)}catch{}}function Xo(){this.g=new jo}function Dr(c,y,b){const T=b||"";try{Ol(c,function(U,H){let ue=U;g(U)&&(ue=ar(U)),y.push(T+H+"="+encodeURIComponent(ue))})}catch(U){throw y.push(T+"type="+encodeURIComponent("_badmap")),U}}function Gi(c){this.l=c.Ub||null,this.j=c.eb||!1}V(Gi,Al),Gi.prototype.g=function(){return new ri(this.l,this.j)},Gi.prototype.i=(function(c){return function(){return c}})({});function ri(c,y){ct.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(ri,ct),n=ri.prototype,n.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Pr(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||f).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_r(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Pr(this)),this.g&&(this.readyState=3,Pr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ul(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ul(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?_r(this):Pr(this),this.readyState==3&&Ul(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,_r(this))},n.Qa=function(c){this.g&&(this.response=c,_r(this))},n.ga=function(){this.g&&_r(this)};function _r(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Pr(c)}n.setRequestHeader=function(c,y){this.u.append(c,y)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var b=y.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=y.next();return c.join(`\r
`)};function Pr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ri.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function zl(c){let y="";return ye(c,function(b,T){y+=T,y+=":",y+=b,y+=`\r
`}),y}function Wt(c,y,b){e:{for(T in b){var T=!1;break e}T=!0}T||(b=zl(b),typeof c=="string"?b!=null&&encodeURIComponent(String(b)):tt(c,y,b))}function Ye(c){ct.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(Ye,ct);var Ys=/^https?$/i,Qo=["POST","PUT"];n=Ye.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,y,b,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Tr.g(),this.v=this.o?Il(this.o):Il(Tr),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(H){Yc(this,H);return}if(c=b||"",b=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)b.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())b.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(b.keys()).find(H=>H.toLowerCase()=="content-type"),U=f.FormData&&c instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Qo,y,void 0))||T||U||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ue]of b)this.g.setRequestHeader(H,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Go(this),this.u=!0,this.g.send(c),this.u=!1}catch(H){Yc(this,H)}};function Yc(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Zs(c),Nr(c)}function Zs(c){c.A||(c.A=!0,He(c,"complete"),He(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,He(this,"complete"),He(this,"abort"),Nr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nr(this,!0)),Ye.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Js(this):this.bb())},n.bb=function(){Js(this)};function Js(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Yn(c)!=4||c.Z()!=2)){if(c.u&&Yn(c)==4)Vt(c.Ea,0,c);else if(He(c,"readystatechange"),Yn(c)==4){c.h=!1;try{const ue=c.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var b;if(!(b=y)){var T;if(T=ue===0){var U=String(c.D).match(Bo)[1]||null;!U&&f.self&&f.self.location&&(U=f.self.location.protocol.slice(0,-1)),T=!Ys.test(U?U.toLowerCase():"")}b=T}if(b)He(c,"complete"),He(c,"success");else{c.m=6;try{var H=2<Yn(c)?c.g.statusText:""}catch{H=""}c.l=H+" ["+c.Z()+"]",Zs(c)}}finally{Nr(c)}}}}function Nr(c,y){if(c.g){Go(c);const b=c.g,T=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||He(c,"ready");try{b.onreadystatechange=T}catch{}}}function Go(c){c.I&&(f.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Yn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Yn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Bs(y)}};function Zc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function tm(c){const y={};c=(c.g&&2<=Yn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<c.length;T++){if(te(c[T]))continue;var b=L(c[T]);const U=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const H=y[U]||[];y[U]=H,H.push(b)}M(y,function(T){return T.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yo(c,y,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||y}function ea(c){this.Aa=0,this.i=[],this.j=new Hn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yo("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yo("baseRetryDelayMs",5e3,c),this.cb=Yo("retryDelaySeedMs",1e4,c),this.Wa=Yo("forwardChannelMaxRetries",2,c),this.wa=Yo("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Zr(c&&c.concurrentRequestLimit),this.Da=new Xo,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ea.prototype,n.la=8,n.G=1,n.connect=function(c,y,b,T){ft(0),this.W=c,this.H=y||{},b&&T!==void 0&&(this.H.OSID=b,this.H.OAID=T),this.F=this.X,this.I=oh(this,null,this.W),na(this)};function ql(c){if(Jc(c),c.G==3){var y=c.U++,b=Ln(c.I);if(tt(b,"SID",c.K),tt(b,"RID",y),tt(b,"TYPE","terminate"),Zo(c,b),y=new yn(c,c.j,y),y.L=2,y.v=Wo(Ln(b)),b=!1,f.navigator&&f.navigator.sendBeacon)try{b=f.navigator.sendBeacon(y.v.toString(),"")}catch{}!b&&f.Image&&(new Image().src=y.v,b=!0),b||(y.g=sh(y.j,null),y.g.ea(y.v)),y.F=Date.now(),zo(y)}ih(c)}function ta(c){c.g&&(Jo(c),c.g.cancel(),c.g=null)}function Jc(c){ta(c),c.u&&(f.clearTimeout(c.u),c.u=null),ra(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&f.clearTimeout(c.s),c.s=null)}function na(c){if(!Ks(c.h)&&!c.s){c.s=!0;var y=c.Ga;re||k(),de||(re(),de=!0),Ne.add(y,c),c.B=0}}function nm(c,y){return Hs(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Mt(x(c.Ga,c,y),Wl(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new yn(this,this.j,c);let H=this.o;if(this.S&&(H?(H=A(H),N(H,this.S)):H=this.S),this.m!==null||this.O||(U.H=H,H=null),this.P)e:{for(var y=0,b=0;b<this.i.length;b++){t:{var T=this.i[b];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(y+=T,4096<y){y=b;break e}if(y===4096||b===this.i.length-1){y=b+1;break e}}y=1e3}else y=1e3;y=eh(this,U,y),b=Ln(this.I),tt(b,"RID",c),tt(b,"CVER",22),this.D&&tt(b,"X-HTTP-Session-Id",this.D),Zo(this,b),H&&(this.O?y="headers="+encodeURIComponent(String(zl(H)))+"&"+y:this.m&&Wt(b,this.m,H)),Xs(this.h,U),this.Ua&&tt(b,"TYPE","init"),this.P?(tt(b,"$req",y),tt(b,"SID","null"),U.T=!0,lr(U,b,null)):lr(U,b,y),this.G=2}}else this.G==3&&(c?Bl(this,c):this.i.length==0||Ks(this.h)||Bl(this))};function Bl(c,y){var b;y?b=y.l:b=c.U++;const T=Ln(c.I);tt(T,"SID",c.K),tt(T,"RID",b),tt(T,"AID",c.T),Zo(c,T),c.m&&c.o&&Wt(T,c.m,c.o),b=new yn(c,c.j,b,c.B+1),c.m===null&&(b.H=c.o),y&&(c.i=y.D.concat(c.i)),y=eh(c,b,1e3),b.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Xs(c.h,b),lr(b,T,y)}function Zo(c,y){c.H&&ye(c.H,function(b,T){tt(y,T,b)}),c.l&&Ol({},function(b,T){tt(y,T,b)})}function eh(c,y,b){b=Math.min(c.i.length,b);var T=c.l?x(c.l.Na,c.l,c):null;e:{var U=c.i;let H=-1;for(;;){const ue=["count="+b];H==-1?0<b?(H=U[0].g,ue.push("ofs="+H)):H=0:ue.push("ofs="+H);let We=!0;for(let zt=0;zt<b;zt++){let Xe=U[zt].g;const Kt=U[zt].map;if(Xe-=H,0>Xe)H=Math.max(0,U[zt].g-100),We=!1;else try{Dr(Kt,ue,"req"+Xe+"_")}catch{T&&T(Kt)}}if(We){T=ue.join("&");break e}}}return c=c.i.splice(0,b),y.D=c,T}function th(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;re||k(),de||(re(),de=!0),Ne.add(y,c),c.v=0}}function $l(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Mt(x(c.Fa,c),Wl(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,nh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Mt(x(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),ta(this),nh(this))};function Jo(c){c.A!=null&&(f.clearTimeout(c.A),c.A=null)}function nh(c){c.g=new yn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Ln(c.qa);tt(y,"RID","rpc"),tt(y,"SID",c.K),tt(y,"AID",c.T),tt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&tt(y,"TO",c.ja),tt(y,"TYPE","xmlhttp"),Zo(c,y),c.m&&c.o&&Wt(y,c.m,c.o),c.L&&(c.g.I=c.L);var b=c.g;c=c.ia,b.L=1,b.v=Wo(Ln(y)),b.m=null,b.P=!0,Yr(b,c)}n.Za=function(){this.C!=null&&(this.C=null,ta(this),$l(this),ft(19))};function ra(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function rh(c,y){var b=null;if(c.g==y){ra(c),Jo(c),c.g=null;var T=2}else if(Ll(c.h,y))b=y.D,vn(c.h,y),T=1;else return;if(c.G!=0){if(y.o)if(T==1){b=y.m?y.m.length:0,y=Date.now()-y.F;var U=c.B;T=$i(),He(T,new jt(T,b)),na(c)}else th(c);else if(U=y.s,U==3||U==0&&0<y.X||!(T==1&&nm(c,y)||T==2&&$l(c)))switch(b&&0<b.length&&(y=c.h,y.i=y.i.concat(b)),U){case 1:ii(c,5);break;case 4:ii(c,10);break;case 3:ii(c,6);break;default:ii(c,2)}}}function Wl(c,y){let b=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(b*=2),b*y}function ii(c,y){if(c.j.info("Error code "+y),y==2){var b=x(c.fb,c),T=c.Xa;const U=!T;T=new Ut(T||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||$o(T,"https"),Wo(T),U?Ho(T.toString(),b):ur(T.toString(),b)}else ft(2);c.G=0,c.l&&c.l.sa(y),ih(c),Jc(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function ih(c){if(c.G=0,c.ka=[],c.l){const y=Rl(c.h);(y.length!=0||c.i.length!=0)&&(j(c.ka,y),j(c.ka,c.i),c.h.i.length=0,B(c.i),c.i.length=0),c.l.ra()}}function oh(c,y,b){var T=b instanceof Ut?Ln(b):new Ut(b);if(T.g!="")y&&(T.g=y+"."+T.g),Qi(T,T.s);else{var U=f.location;T=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;var H=new Ut(null);T&&$o(H,T),y&&(H.g=y),U&&Qi(H,U),b&&(H.l=b),T=H}return b=c.D,y=c.ya,b&&y&&tt(T,b,y),tt(T,"VER",c.la),Zo(c,T),T}function sh(c,y,b){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ye(new Gi({eb:b})):new Ye(c.pa),y.Ha(c.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ah(){}n=ah.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ia(){}ia.prototype.g=function(c,y){return new bn(c,y)};function bn(c,y){ct.call(this),this.g=new ea(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!te(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!te(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Mr(this)}V(bn,ct),bn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){ql(this.g)},bn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.u&&(b={},b.__data__=ar(c),c=b);y.i.push(new Xc(y.Ya++,c)),y.G==3&&na(y)},bn.prototype.N=function(){this.g.l=null,delete this.j,ql(this.g),delete this.g,bn.aa.N.call(this)};function lh(c){Qr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const b in y){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}V(lh,Qr);function uh(){_l.call(this),this.status=1}V(uh,_l);function Mr(c){this.g=c}V(Mr,ah),Mr.prototype.ua=function(){He(this.g,"a")},Mr.prototype.ta=function(c){He(this.g,new lh(c))},Mr.prototype.sa=function(c){He(this.g,new uh)},Mr.prototype.ra=function(){He(this.g,"b")},ia.prototype.createWebChannel=ia.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,dv=function(){return new ia},hv=function(){return $i()},cv=xr,Vd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Hi.NO_ERROR=0,Hi.TIMEOUT=8,Hi.HTTP_ERROR=6,zu=Hi,Gr.COMPLETE="complete",uv=Gr,Dl.EventType=Xr,Xr.OPEN="a",Xr.CLOSE="b",Xr.ERROR="c",Xr.MESSAGE="d",ct.prototype.listen=ct.prototype.K,za=Dl,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,lv=Ye}).apply(typeof Uu<"u"?Uu:typeof self<"u"?self:typeof window<"u"?window:{});const fv="@firebase/firestore",pv="4.8.0";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let ms="11.10.0";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ko=new vd("@firebase/firestore");function gs(){return ko.logLevel}function he(n,...e){if(ko.logLevel<=ze.DEBUG){const r=e.map(jd);ko.debug(`Firestore (${ms}): ${n}`,...r)}}function zr(n,...e){if(ko.logLevel<=ze.ERROR){const r=e.map(jd);ko.error(`Firestore (${ms}): ${n}`,...r)}}function Ci(n,...e){if(ko.logLevel<=ze.WARN){const r=e.map(jd);ko.warn(`Firestore (${ms}): ${n}`,...r)}}function jd(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(n)}catch{return n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function xe(n,e,r){let o="Unexpected state";typeof e=="string"?o=e:r=e,mv(n,o,r)}function mv(n,e,r){let o=`FIRESTORE (${ms}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(r!==void 0)try{o+=" CONTEXT: "+JSON.stringify(r)}catch{o+=" CONTEXT: "+r}throw zr(o),new Error(o)}function Ge(n,e,r,o){let a="Unexpected state";typeof r=="string"?a=r:o=r,n||mv(e,a,o)}function Ie(n,e){return n}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends Ei{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xo{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class gv{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(un.UNAUTHENTICATED)))}shutdown(){}}class nA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class rA{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Ge(this.o===void 0,42304);let o=this.i;const a=m=>this.i!==o?(o=this.i,r(m)):Promise.resolve();let u=new xo;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new xo,e.enqueueRetryable((()=>a(this.currentUser)))};const h=()=>{const m=u;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},f=m=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new xo)}}),0),h()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((o=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Ge(typeof o.accessToken=="string",31837,{l:o}),new gv(o.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new un(e)}}class iA{constructor(e,r,o){this.P=e,this.T=r,this.I=o,this.type="FirstParty",this.user=un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class oA{constructor(e,r,o){this.P=e,this.T=r,this.I=o}getToken(){return Promise.resolve(new iA(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable((()=>r(un.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class yv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sA{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wT(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){Ge(this.o===void 0,3512);const o=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,he("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?r(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>o(u)))};const a=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>a(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?a(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new yv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(Ge(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new yv(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function aA(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let o=0;o<n;o++)r[o]=Math.floor(256*Math.random());return r}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function vv(){return new TextEncoder}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ud{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let o="";for(;o.length<20;){const a=aA(40);for(let u=0;u<a.length;++u)o.length<20&&a[u]<r&&(o+=e.charAt(a[u]%62))}return o}}function Me(n,e){return n<e?-1:n>e?1:0}function zd(n,e){let r=0;for(;r<n.length&&r<e.length;){const o=n.codePointAt(r),a=e.codePointAt(r);if(o!==a){if(o<128&&a<128)return Me(o,a);{const u=vv(),h=lA(u.encode(bv(n,r)),u.encode(bv(e,r)));return h!==0?h:Me(o,a)}}r+=o>65535?2:1}return Me(n.length,e.length)}function bv(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function lA(n,e){for(let r=0;r<n.length&&r<e.length;++r)if(n[r]!==e[r])return Me(n[r],e[r]);return Me(n.length,e.length)}function ys(n,e,r){return n.length===e.length&&n.every(((o,a)=>r(o,e[a])))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const wv="__name__";class pr{constructor(e,r,o){r===void 0?r=0:r>e.length&&xe(637,{offset:r,range:e.length}),o===void 0?o=e.length-r:o>e.length-r&&xe(1746,{length:o,range:e.length-r}),this.segments=e,this.offset=r,this.len=o}get length(){return this.len}isEqual(e){return pr.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof pr?e.forEach((o=>{r.push(o)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,o=this.limit();r<o;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const o=Math.min(e.length,r.length);for(let a=0;a<o;a++){const u=pr.compareSegments(e.get(a),r.get(a));if(u!==0)return u}return Me(e.length,r.length)}static compareSegments(e,r){const o=pr.isNumericId(e),a=pr.isNumericId(r);return o&&!a?-1:!o&&a?1:o&&a?pr.extractNumericId(e).compare(pr.extractNumericId(r)):zd(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ti.fromString(e.substring(4,e.length-2))}}class lt extends pr{construct(e,r,o){return new lt(e,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const o of e){if(o.indexOf("//")>=0)throw new be(ne.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter((a=>a.length>0)))}return new lt(r)}static emptyPath(){return new lt([])}}const uA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends pr{construct(e,r,o){return new Gt(e,r,o)}static isValidIdentifier(e){return uA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wv}static keyField(){return new Gt([wv])}static fromServerFormat(e){const r=[];let o="",a=0;const u=()=>{if(o.length===0)throw new be(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let h=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new be(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new be(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=m,a+=2}else f==="`"?(h=!h,a++):f!=="."||h?(o+=f,a++):(u(),a++)}if(u(),h)throw new be(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(r)}static emptyPath(){return new Gt([])}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(lt.fromString(e))}static fromName(e){return new Ee(lt.fromString(e).popFirst(5))}static empty(){return new Ee(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return lt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new lt(e.slice()))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ev(n,e,r){if(!r)throw new be(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function cA(n,e,r,o){if(e===!0&&o===!0)throw new be(ne.INVALID_ARGUMENT,`${n} and ${r} cannot be used together.`)}function Sv(n){if(!Ee.isDocumentKey(n))throw new be(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function kv(n){if(Ee.isDocumentKey(n))throw new be(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function xv(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function qd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":xe(12329,{type:typeof n})}function Ai(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new be(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=qd(n);throw new be(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return n}/**
* @license
* Copyright 2025 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function It(n,e){const r={typeString:n};return e&&(r.value=e),r}function qa(n,e){if(!xv(n))throw new be(ne.INVALID_ARGUMENT,"JSON must be an object");let r;for(const o in e)if(e[o]){const a=e[o].typeString,u="value"in e[o]?{value:e[o].value}:void 0;if(!(o in n)){r=`JSON missing required field: '${o}'`;break}const h=n[o];if(a&&typeof h!==a){r=`JSON field '${o}' must be a ${a}.`;break}if(u!==void 0&&h!==u.value){r=`Expected '${o}' field to equal '${u.value}'`;break}}if(r)throw new be(ne.INVALID_ARGUMENT,r);return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Tv=-62135596800,Cv=1e6;class ut{static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),o=Math.floor((e-1e3*r)*Cv);return new ut(r,o)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new be(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new be(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<Tv)throw new be(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Cv}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ut._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(qa(e,ut._jsonSchema))return new ut(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Tv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ut._jsonSchemaVersion="firestore/timestamp/1.0",ut._jsonSchema={type:It("string",ut._jsonSchemaVersion),seconds:It("number"),nanoseconds:It("number")};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new ut(0,0))}static max(){return new Ae(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ba=-1;function hA(n,e){const r=n.toTimestamp().seconds,o=n.toTimestamp().nanoseconds+1,a=Ae.fromTimestamp(o===1e9?new ut(r+1,0):new ut(r,o));return new Ii(a,Ee.empty(),e)}function dA(n){return new Ii(n.readTime,n.key,Ba)}class Ii{constructor(e,r,o){this.readTime=e,this.documentKey=r,this.largestBatchId=o}static min(){return new Ii(Ae.min(),Ee.empty(),Ba)}static max(){return new Ii(Ae.max(),Ee.empty(),Ba)}}function fA(n,e){let r=n.readTime.compareTo(e.readTime);return r!==0?r:(r=Ee.comparator(n.documentKey,e.documentKey),r!==0?r:Me(n.largestBatchId,e.largestBatchId))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const pA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function vs(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==pA)throw n;he("LocalStore","Unexpectedly lost primary lease")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new J(((o,a)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(o,a)},this.catchCallback=u=>{this.wrapFailure(r,u).next(o,a)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof J?r:J.resolve(r)}catch(r){return J.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):J.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):J.reject(r)}static resolve(e){return new J(((r,o)=>{r(e)}))}static reject(e){return new J(((r,o)=>{o(e)}))}static waitFor(e){return new J(((r,o)=>{let a=0,u=0,h=!1;e.forEach((f=>{++a,f.next((()=>{++u,h&&u===a&&r()}),(m=>o(m)))})),h=!0,u===a&&r()}))}static or(e){let r=J.resolve(!1);for(const o of e)r=r.next((a=>a?J.resolve(a):o()));return r}static forEach(e,r){const o=[];return e.forEach(((a,u)=>{o.push(r.call(this,a,u))})),this.waitFor(o)}static mapArray(e,r){return new J(((o,a)=>{const u=e.length,h=new Array(u);let f=0;for(let m=0;m<u;m++){const g=m;r(e[g]).next((v=>{h[g]=v,++f,f===u&&o(h)}),(v=>a(v)))}}))}static doWhile(e,r){return new J(((o,a)=>{const u=()=>{e()===!0?r().next((()=>{u()}),a):o()};u()}))}}function gA(n){const e=n.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function bs(n){return n.name==="IndexedDbTransactionError"}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qu{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=o=>this._e(o),this.ae=o=>r.writeSequenceNumber(o))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}qu.ue=-1;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Bd=-1;function Bu(n){return n==null}function $u(n){return n===0&&1/n==-1/0}function yA(n){return typeof n=="number"&&Number.isInteger(n)&&!$u(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Av="";function vA(n){let e="";for(let r=0;r<n.length;r++)e.length>0&&(e=Iv(e)),e=bA(n.get(r),e);return Iv(e)}function bA(n,e){let r=e;const o=n.length;for(let a=0;a<o;a++){const u=n.charAt(a);switch(u){case"\0":r+="";break;case Av:r+="";break;default:r+=u}}return r}function Iv(n){return n+Av+""}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Dv(n){let e=0;for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&e++;return e}function Di(n,e){for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&e(r,n[r])}function _v(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class mt{constructor(e,r){this.comparator=e,this.root=r||Yt.EMPTY}insert(e,r){return new mt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(e){let r=0,o=this.root;for(;!o.isEmpty();){const a=this.comparator(e,o.key);if(a===0)return r+o.left.size;a<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,o)=>(e(r,o),!1)))}toString(){const e=[];return this.inorderTraversal(((r,o)=>(e.push(`${r}:${o}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wu(this.root,e,this.comparator,!0)}}class Wu{constructor(e,r,o,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=r?o(e.key,r):1,r&&a&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,r,o,a,u){this.key=e,this.value=r,this.color=o??Yt.RED,this.left=a??Yt.EMPTY,this.right=u??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,o,a,u){return new Yt(e??this.key,r??this.value,o??this.color,a??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,o){let a=this;const u=o(e,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(e,r,o),null):u===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(e,r,o)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let o,a=this;if(r(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(e,a.key)===0){if(a.right.isEmpty())return Yt.EMPTY;o=a.right.min(),a=a.copy(o.key,o.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1,Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(n,e,r,o,a){return this}insert(n,e,r){return new Yt(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ot{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,o)=>(e(r),!1)))}forEachInRange(e,r){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const a=o.getNext();if(this.comparator(a.key,e[1])>=0)return;r(a.key)}}forEachWhile(e,r){let o;for(o=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Pv(this.data.getIterator())}getIteratorFrom(e){return new Pv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((o=>{r=r.add(o)})),r}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const r=this.data.getIterator(),o=e.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,u=o.getNext().key;if(this.comparator(a,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new Ot(this.comparator);return r.data=e,r}}class Pv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _n{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new _n([])}unionWith(e){let r=new Ot(Gt.comparator);for(const o of this.fields)r=r.add(o);for(const o of e)r=r.add(o);return new _n(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return ys(this.fields,e.fields,((r,o)=>r.isEqual(o)))}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Nv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Nv("Invalid base64 string: "+a):a}})(e);return new Zt(r)}static fromUint8Array(e){const r=(function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a})(e);return new Zt(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const wA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _i(n){if(Ge(!!n,39018),typeof n=="string"){let e=0;const r=wA.exec(n);if(Ge(!!r,46558,{timestamp:n}),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),e=Number(a)}const o=new Date(n);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:kt(n.seconds),nanos:kt(n.nanos)}}function kt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Pi(n){return typeof n=="string"?Zt.fromBase64String(n):Zt.fromUint8Array(n)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Mv="server_timestamp",Lv="__type__",Rv="__previous_value__",Ov="__local_write_time__";function $d(n){var e,r;return((r=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Lv])===null||r===void 0?void 0:r.stringValue)===Mv}function Ku(n){const e=n.mapValue.fields[Rv];return $d(e)?Ku(e):e}function $a(n){const e=_i(n.mapValue.fields[Ov].timestampValue);return new ut(e.seconds,e.nanos)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class EA{constructor(e,r,o,a,u,h,f,m,g,v){this.databaseId=e,this.appId=r,this.persistenceKey=o,this.host=a,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=v}}const Hu="(default)";class Wa{constructor(e,r){this.projectId=e,this.database=r||Hu}static empty(){return new Wa("","")}get isDefaultDatabase(){return this.database===Hu}isEqual(e){return e instanceof Wa&&e.projectId===this.projectId&&e.database===this.database}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Fv="__type__",SA="__max__",Xu={mapValue:{}},Vv="__vector__",Qu="value";function Ni(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?$d(n)?4:xA(n)?9007199254740991:kA(n)?10:11:xe(28295,{value:n})}function mr(n,e){if(n===e)return!0;const r=Ni(n);if(r!==Ni(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return $a(n).isEqual($a(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=_i(o.timestampValue),h=_i(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,a){return Pi(o.bytesValue).isEqual(Pi(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,a){return kt(o.geoPointValue.latitude)===kt(a.geoPointValue.latitude)&&kt(o.geoPointValue.longitude)===kt(a.geoPointValue.longitude)})(n,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return kt(o.integerValue)===kt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=kt(o.doubleValue),h=kt(a.doubleValue);return u===h?$u(u)===$u(h):isNaN(u)&&isNaN(h)}return!1})(n,e);case 9:return ys(n.arrayValue.values||[],e.arrayValue.values||[],mr);case 10:case 11:return(function(o,a){const u=o.mapValue.fields||{},h=a.mapValue.fields||{};if(Dv(u)!==Dv(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!mr(u[f],h[f])))return!1;return!0})(n,e);default:return xe(52216,{left:n})}}function Ka(n,e){return(n.values||[]).find((r=>mr(r,e)))!==void 0}function ws(n,e){if(n===e)return 0;const r=Ni(n),o=Ni(e);if(r!==o)return Me(r,o);switch(r){case 0:case 9007199254740991:return 0;case 1:return Me(n.booleanValue,e.booleanValue);case 2:return(function(a,u){const h=kt(a.integerValue||a.doubleValue),f=kt(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,e);case 3:return jv(n.timestampValue,e.timestampValue);case 4:return jv($a(n),$a(e));case 5:return zd(n.stringValue,e.stringValue);case 6:return(function(a,u){const h=Pi(a),f=Pi(u);return h.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(a,u){const h=a.split("/"),f=u.split("/");for(let m=0;m<h.length&&m<f.length;m++){const g=Me(h[m],f[m]);if(g!==0)return g}return Me(h.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,u){const h=Me(kt(a.latitude),kt(u.latitude));return h!==0?h:Me(kt(a.longitude),kt(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Uv(n.arrayValue,e.arrayValue);case 10:return(function(a,u){var h,f,m,g;const v=a.fields||{},E=u.fields||{},x=(h=v[Qu])===null||h===void 0?void 0:h.arrayValue,I=(f=E[Qu])===null||f===void 0?void 0:f.arrayValue,V=Me(((m=x==null?void 0:x.values)===null||m===void 0?void 0:m.length)||0,((g=I==null?void 0:I.values)===null||g===void 0?void 0:g.length)||0);return V!==0?V:Uv(x,I)})(n.mapValue,e.mapValue);case 11:return(function(a,u){if(a===Xu.mapValue&&u===Xu.mapValue)return 0;if(a===Xu.mapValue)return 1;if(u===Xu.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),m=u.fields||{},g=Object.keys(m);f.sort(),g.sort();for(let v=0;v<f.length&&v<g.length;++v){const E=zd(f[v],g[v]);if(E!==0)return E;const x=ws(h[f[v]],m[g[v]]);if(x!==0)return x}return Me(f.length,g.length)})(n.mapValue,e.mapValue);default:throw xe(23264,{le:r})}}function jv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Me(n,e);const r=_i(n),o=_i(e),a=Me(r.seconds,o.seconds);return a!==0?a:Me(r.nanos,o.nanos)}function Uv(n,e){const r=n.values||[],o=e.values||[];for(let a=0;a<r.length&&a<o.length;++a){const u=ws(r[a],o[a]);if(u)return u}return Me(r.length,o.length)}function Es(n){return Wd(n)}function Wd(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const r=_i(e);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return Pi(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return Ee.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let r="[",o=!0;for(const a of e.values||[])o?o=!1:r+=",",r+=Wd(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(e){const r=Object.keys(e.fields||{}).sort();let o="{",a=!0;for(const u of r)a?a=!1:o+=",",o+=`${u}:${Wd(e.fields[u])}`;return o+"}"})(n.mapValue):xe(61005,{value:n})}function Gu(n){switch(Ni(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ku(n);return e?16+Gu(e):16;case 5:return 2*n.stringValue.length;case 6:return Pi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,a)=>o+Gu(a)),0)})(n.arrayValue);case 10:case 11:return(function(r){let o=0;return Di(r.fields,((a,u)=>{o+=a.length+Gu(u)})),o})(n.mapValue);default:throw xe(13486,{value:n})}}function Kd(n){return!!n&&"integerValue"in n}function Hd(n){return!!n&&"arrayValue"in n}function zv(n){return!!n&&"nullValue"in n}function qv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Yu(n){return!!n&&"mapValue"in n}function kA(n){var e,r;return((r=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Fv])===null||r===void 0?void 0:r.stringValue)===Vv}function Ha(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Di(n.mapValue.fields,((r,o)=>e.mapValue.fields[r]=Ha(o))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(n.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Ha(n.arrayValue.values[r]);return e}return Object.assign({},n)}function xA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===SA}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class kn{constructor(e){this.value=e}static empty(){return new kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let o=0;o<e.length-1;++o)if(r=(r.mapValue.fields||{})[e.get(o)],!Yu(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ha(r)}setAll(e){let r=Gt.emptyPath(),o={},a=[];e.forEach(((h,f)=>{if(!r.isImmediateParentOf(f)){const m=this.getFieldsMap(r);this.applyChanges(m,o,a),o={},a=[],r=f.popLast()}h?o[f.lastSegment()]=Ha(h):a.push(f.lastSegment())}));const u=this.getFieldsMap(r);this.applyChanges(u,o,a)}delete(e){const r=this.field(e.popLast());Yu(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return mr(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<e.length;++o){let a=r.mapValue.fields[e.get(o)];Yu(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[e.get(o)]=a),r=a}return r.mapValue.fields}applyChanges(e,r,o){Di(r,((a,u)=>e[a]=u));for(const a of o)delete e[a]}clone(){return new kn(Ha(this.value))}}function Bv(n){const e=[];return Di(n.fields,((r,o)=>{const a=new Gt([r]);if(Yu(o)){const u=Bv(o.mapValue).fields;if(u.length===0)e.push(a);else for(const h of u)e.push(a.child(h))}else e.push(a)})),new _n(e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class cn{constructor(e,r,o,a,u,h,f){this.key=e,this.documentType=r,this.version=o,this.readTime=a,this.createTime=u,this.data=h,this.documentState=f}static newInvalidDocument(e){return new cn(e,0,Ae.min(),Ae.min(),Ae.min(),kn.empty(),0)}static newFoundDocument(e,r,o,a){return new cn(e,1,r,Ae.min(),o,a,0)}static newNoDocument(e,r){return new cn(e,2,r,Ae.min(),Ae.min(),kn.empty(),0)}static newUnknownDocument(e,r){return new cn(e,3,r,Ae.min(),Ae.min(),kn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Zu{constructor(e,r){this.position=e,this.inclusive=r}}function $v(n,e,r){let o=0;for(let a=0;a<n.position.length;a++){const u=e[a],h=n.position[a];if(u.field.isKeyField()?o=Ee.comparator(Ee.fromName(h.referenceValue),r.key):o=ws(h,r.data.field(u.field)),u.dir==="desc"&&(o*=-1),o!==0)break}return o}function Wv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let r=0;r<n.position.length;r++)if(!mr(n.position[r],e.position[r]))return!1;return!0}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ju{constructor(e,r="asc"){this.field=e,this.dir=r}}function TA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Kv{}class Ft extends Kv{constructor(e,r,o){super(),this.field=e,this.op=r,this.value=o}static create(e,r,o){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,o):new AA(e,r,o):r==="array-contains"?new _A(e,o):r==="in"?new PA(e,o):r==="not-in"?new NA(e,o):r==="array-contains-any"?new MA(e,o):new Ft(e,r,o)}static createKeyFieldInFilter(e,r,o){return r==="in"?new IA(e,o):new DA(e,o)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(ws(r,this.value)):r!==null&&Ni(this.value)===Ni(r)&&this.matchesComparison(ws(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gr extends Kv{constructor(e,r){super(),this.filters=e,this.op=r,this.he=null}static create(e,r){return new gr(e,r)}matches(e){return Hv(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Hv(n){return n.op==="and"}function Xv(n){return CA(n)&&Hv(n)}function CA(n){for(const e of n.filters)if(e instanceof gr)return!1;return!0}function Xd(n){if(n instanceof Ft)return n.field.canonicalString()+n.op.toString()+Es(n.value);if(Xv(n))return n.filters.map((e=>Xd(e))).join(",");{const e=n.filters.map((r=>Xd(r))).join(",");return`${n.op}(${e})`}}function Qv(n,e){return n instanceof Ft?(function(r,o){return o instanceof Ft&&r.op===o.op&&r.field.isEqual(o.field)&&mr(r.value,o.value)})(n,e):n instanceof gr?(function(r,o){return o instanceof gr&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((a,u,h)=>a&&Qv(u,o.filters[h])),!0):!1})(n,e):void xe(19439)}function Gv(n){return n instanceof Ft?(function(e){return`${e.field.canonicalString()} ${e.op} ${Es(e.value)}`})(n):n instanceof gr?(function(e){return e.op.toString()+" {"+e.getFilters().map(Gv).join(" ,")+"}"})(n):"Filter"}class AA extends Ft{constructor(e,r,o){super(e,r,o),this.key=Ee.fromName(o.referenceValue)}matches(e){const r=Ee.comparator(e.key,this.key);return this.matchesComparison(r)}}class IA extends Ft{constructor(e,r){super(e,"in",r),this.keys=Yv("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class DA extends Ft{constructor(e,r){super(e,"not-in",r),this.keys=Yv("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function Yv(n,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map((o=>Ee.fromName(o.referenceValue)))}class _A extends Ft{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Hd(r)&&Ka(r.arrayValue,this.value)}}class PA extends Ft{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Ka(this.value.arrayValue,r)}}class NA extends Ft{constructor(e,r){super(e,"not-in",r)}matches(e){if(Ka(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Ka(this.value.arrayValue,r)}}class MA extends Ft{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Hd(r)||!r.arrayValue.values)&&r.arrayValue.values.some((o=>Ka(this.value.arrayValue,o)))}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class LA{constructor(e,r=null,o=[],a=[],u=null,h=null,f=null){this.path=e,this.collectionGroup=r,this.orderBy=o,this.filters=a,this.limit=u,this.startAt=h,this.endAt=f,this.Pe=null}}function Zv(n,e=null,r=[],o=[],a=null,u=null,h=null){return new LA(n,e,r,o,a,u,h)}function Qd(n){const e=Ie(n);if(e.Pe===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((o=>Xd(o))).join(","),r+="|ob:",r+=e.orderBy.map((o=>(function(a){return a.field.canonicalString()+a.dir})(o))).join(","),Bu(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((o=>Es(o))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((o=>Es(o))).join(",")),e.Pe=r}return e.Pe}function Gd(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!TA(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if(!Qv(n.filters[r],e.filters[r]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Wv(n.startAt,e.startAt)&&Wv(n.endAt,e.endAt)}function Yd(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ec{constructor(e,r=null,o=[],a=[],u=null,h="F",f=null,m=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=a,this.limit=u,this.limitType=h,this.startAt=f,this.endAt=m,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function RA(n,e,r,o,a,u,h,f){return new ec(n,e,r,o,a,u,h,f)}function Zd(n){return new ec(n)}function Jv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function OA(n){return n.collectionGroup!==null}function Xa(n){const e=Ie(n);if(e.Te===null){e.Te=[];const r=new Set;for(const a of e.explicitOrderBy)e.Te.push(a),r.add(a.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let u=new Ot(Gt.comparator);return a.filters.forEach((h=>{h.getFlattenedFilters().forEach((f=>{f.isInequality()&&(u=u.add(f.field))}))})),u})(e).forEach((a=>{r.has(a.canonicalString())||a.isKeyField()||e.Te.push(new Ju(a,o))})),r.has(Gt.keyField().canonicalString())||e.Te.push(new Ju(Gt.keyField(),o))}return e.Te}function yr(n){const e=Ie(n);return e.Ie||(e.Ie=FA(e,Xa(n))),e.Ie}function FA(n,e){if(n.limitType==="F")return Zv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const u=a.dir==="desc"?"asc":"desc";return new Ju(a.field,u)}));const r=n.endAt?new Zu(n.endAt.position,n.endAt.inclusive):null,o=n.startAt?new Zu(n.startAt.position,n.startAt.inclusive):null;return Zv(n.path,n.collectionGroup,e,n.filters,n.limit,r,o)}}function Jd(n,e,r){return new ec(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,r,n.startAt,n.endAt)}function tc(n,e){return Gd(yr(n),yr(e))&&n.limitType===e.limitType}function e0(n){return`${Qd(yr(n))}|lt:${n.limitType}`}function Ss(n){return`Query(target=${(function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map((o=>Gv(o))).join(", ")}]`),Bu(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map((o=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(o))).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((o=>Es(o))).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((o=>Es(o))).join(",")),`Target(${r})`})(yr(n))}; limitType=${n.limitType})`}function nc(n,e){return e.isFoundDocument()&&(function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ee.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,o){for(const a of Xa(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0})(n,e)&&(function(r,o){return!(r.startAt&&!(function(a,u,h){const f=$v(a,u,h);return a.inclusive?f<=0:f<0})(r.startAt,Xa(r),o)||r.endAt&&!(function(a,u,h){const f=$v(a,u,h);return a.inclusive?f>=0:f>0})(r.endAt,Xa(r),o))})(n,e)}function VA(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function t0(n){return(e,r)=>{let o=!1;for(const a of Xa(n)){const u=jA(a,e,r);if(u!==0)return u;o=o||a.field.isKeyField()}return 0}}function jA(n,e,r){const o=n.field.isKeyField()?Ee.comparator(e.key,r.key):(function(a,u,h){const f=u.data.field(a),m=h.data.field(a);return f!==null&&m!==null?ws(f,m):xe(42886)})(n.field,e,r);switch(n.dir){case"asc":return o;case"desc":return-1*o;default:return xe(19790,{direction:n.dir})}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class To{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),o=this.inner[r];if(o!==void 0){for(const[a,u]of o)if(this.equalsFn(a,e))return u}}has(e){return this.get(e)!==void 0}set(e,r){const o=this.mapKeyFn(e),a=this.inner[o];if(a===void 0)return this.inner[o]=[[e,r]],void this.innerSize++;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return void(a[u]=[e,r]);a.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return!1;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return o.length===1?delete this.inner[r]:o.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Di(this.inner,((r,o)=>{for(const[a,u]of o)e(a,u)}))}isEmpty(){return _v(this.inner)}size(){return this.innerSize}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const UA=new mt(Ee.comparator);function qr(){return UA}const n0=new mt(Ee.comparator);function Qa(...n){let e=n0;for(const r of n)e=e.insert(r.key,r);return e}function r0(n){let e=n0;return n.forEach(((r,o)=>e=e.insert(r,o.overlayedDocument))),e}function Co(){return Ga()}function i0(){return Ga()}function Ga(){return new To((n=>n.toString()),((n,e)=>n.isEqual(e)))}const zA=new mt(Ee.comparator),qA=new Ot(Ee.comparator);function je(...n){let e=qA;for(const r of n)e=e.add(r);return e}const BA=new Ot(Me);function $A(){return BA}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ef(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$u(e)?"-0":e}}function o0(n){return{integerValue:""+n}}function s0(n,e){return yA(e)?o0(e):ef(n,e)}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rc{constructor(){this._=void 0}}function WA(n,e,r){return n instanceof ic?(function(o,a){const u={fields:{[Lv]:{stringValue:Mv},[Ov]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&$d(a)&&(a=Ku(a)),a&&(u.fields[Rv]=a),{mapValue:u}})(r,e):n instanceof Ya?l0(n,e):n instanceof Za?u0(n,e):(function(o,a){const u=a0(o,a),h=c0(u)+c0(o.Ee);return Kd(u)&&Kd(o.Ee)?o0(h):ef(o.serializer,h)})(n,e)}function KA(n,e,r){return n instanceof Ya?l0(n,e):n instanceof Za?u0(n,e):r}function a0(n,e){return n instanceof Ja?(function(r){return Kd(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class ic extends rc{}class Ya extends rc{constructor(e){super(),this.elements=e}}function l0(n,e){const r=h0(e);for(const o of n.elements)r.some((a=>mr(a,o)))||r.push(o);return{arrayValue:{values:r}}}class Za extends rc{constructor(e){super(),this.elements=e}}function u0(n,e){let r=h0(e);for(const o of n.elements)r=r.filter((a=>!mr(a,o)));return{arrayValue:{values:r}}}class Ja extends rc{constructor(e,r){super(),this.serializer=e,this.Ee=r}}function c0(n){return kt(n.integerValue||n.doubleValue)}function h0(n){return Hd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class HA{constructor(e,r){this.field=e,this.transform=r}}function XA(n,e){return n.field.isEqual(e.field)&&(function(r,o){return r instanceof Ya&&o instanceof Ya||r instanceof Za&&o instanceof Za?ys(r.elements,o.elements,mr):r instanceof Ja&&o instanceof Ja?mr(r.Ee,o.Ee):r instanceof ic&&o instanceof ic})(n.transform,e.transform)}class QA{constructor(e,r){this.version=e,this.transformResults=r}}class vr{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new vr}static exists(e){return new vr(void 0,e)}static updateTime(e){return new vr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function oc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class sc{}function d0(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new y0(n.key,vr.none()):new tl(n.key,n.data,vr.none());{const r=n.data,o=kn.empty();let a=new Ot(Gt.comparator);for(let u of e.fields)if(!a.has(u)){let h=r.field(u);h===null&&u.length>1&&(u=u.popLast(),h=r.field(u)),h===null?o.delete(u):o.set(u,h),a=a.add(u)}return new Mi(n.key,o,new _n(a.toArray()),vr.none())}}function GA(n,e,r){n instanceof tl?(function(o,a,u){const h=o.value.clone(),f=m0(o.fieldTransforms,a,u.transformResults);h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,e,r):n instanceof Mi?(function(o,a,u){if(!oc(o.precondition,a))return void a.convertToUnknownDocument(u.version);const h=m0(o.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(p0(o)),f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,r):(function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,r)}function el(n,e,r,o){return n instanceof tl?(function(a,u,h,f){if(!oc(a.precondition,u))return h;const m=a.value.clone(),g=g0(a.fieldTransforms,f,u);return m.setAll(g),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(n,e,r,o):n instanceof Mi?(function(a,u,h,f){if(!oc(a.precondition,u))return h;const m=g0(a.fieldTransforms,f,u),g=u.data;return g.setAll(p0(a)),g.setAll(m),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((v=>v.field)))})(n,e,r,o):(function(a,u,h){return oc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(n,e,r)}function YA(n,e){let r=null;for(const o of n.fieldTransforms){const a=e.data.field(o.field),u=a0(o.transform,a||null);u!=null&&(r===null&&(r=kn.empty()),r.set(o.field,u))}return r||null}function f0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&ys(r,o,((a,u)=>XA(a,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class tl extends sc{constructor(e,r,o,a=[]){super(),this.key=e,this.value=r,this.precondition=o,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Mi extends sc{constructor(e,r,o,a,u=[]){super(),this.key=e,this.data=r,this.fieldMask=o,this.precondition=a,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function p0(n){const e=new Map;return n.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const o=n.data.field(r);e.set(r,o)}})),e}function m0(n,e,r){const o=new Map;Ge(n.length===r.length,32656,{Ae:r.length,Re:n.length});for(let a=0;a<r.length;a++){const u=n[a],h=u.transform,f=e.data.field(u.field);o.set(u.field,KA(h,f,r[a]))}return o}function g0(n,e,r){const o=new Map;for(const a of n){const u=a.transform,h=r.data.field(a.field);o.set(a.field,WA(u,h,e))}return o}class y0 extends sc{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZA extends sc{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class JA{constructor(e,r,o,a){this.batchId=e,this.localWriteTime=r,this.baseMutations=o,this.mutations=a}applyToRemoteDocument(e,r){const o=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(e.key)&&GA(u,e,o[a])}}applyToLocalView(e,r){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(r=el(o,e,r,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(r=el(o,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const o=i0();return this.mutations.forEach((a=>{const u=e.get(a.key),h=u.overlayedDocument;let f=this.applyToLocalView(h,u.mutatedFields);f=r.has(a.key)?null:f;const m=d0(h,f);m!==null&&o.set(a.key,m),h.isValidDocument()||h.convertToNoDocument(Ae.min())})),o}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),je())}isEqual(e){return this.batchId===e.batchId&&ys(this.mutations,e.mutations,((r,o)=>f0(r,o)))&&ys(this.baseMutations,e.baseMutations,((r,o)=>f0(r,o)))}}class tf{constructor(e,r,o,a){this.batch=e,this.commitVersion=r,this.mutationResults=o,this.docVersions=a}static from(e,r,o){Ge(e.mutations.length===o.length,58842,{Ve:e.mutations.length,me:o.length});let a=(function(){return zA})();const u=e.mutations;for(let h=0;h<u.length;h++)a=a.insert(u[h].key,o[h].version);return new tf(e,r,o,a)}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class eI{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tI{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Dt,qe;function nI(n){switch(n){case ne.OK:return xe(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return xe(15467,{code:n})}}function v0(n){if(n===void 0)return zr("GRPC error has no .code"),ne.UNKNOWN;switch(n){case Dt.OK:return ne.OK;case Dt.CANCELLED:return ne.CANCELLED;case Dt.UNKNOWN:return ne.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return ne.INTERNAL;case Dt.UNAVAILABLE:return ne.UNAVAILABLE;case Dt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Dt.NOT_FOUND:return ne.NOT_FOUND;case Dt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Dt.ABORTED:return ne.ABORTED;case Dt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Dt.DATA_LOSS:return ne.DATA_LOSS;default:return xe(39323,{code:n})}}(qe=Dt||(Dt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const rI=new Ti([4294967295,4294967295],0);function b0(n){const e=vv().encode(n),r=new av;return r.update(e),new Uint8Array(r.digest())}function w0(n){const e=new DataView(n.buffer),r=e.getUint32(0,!0),o=e.getUint32(4,!0),a=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ti([r,o],0),new Ti([a,u],0)]}class nf{constructor(e,r,o){if(this.bitmap=e,this.padding=r,this.hashCount=o,r<0||r>=8)throw new nl(`Invalid padding: ${r}`);if(o<0)throw new nl(`Invalid hash count: ${o}`);if(e.length>0&&this.hashCount===0)throw new nl(`Invalid hash count: ${o}`);if(e.length===0&&r!==0)throw new nl(`Invalid padding when bitmap length is 0: ${r}`);this.fe=8*e.length-r,this.ge=Ti.fromNumber(this.fe)}pe(e,r,o){let a=e.add(r.multiply(Ti.fromNumber(o)));return a.compare(rI)===1&&(a=new Ti([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const r=b0(e),[o,a]=w0(r);for(let u=0;u<this.hashCount;u++){const h=this.pe(o,a,u);if(!this.ye(h))return!1}return!0}static create(e,r,o){const a=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new nf(u,a,r);return o.forEach((f=>h.insert(f))),h}insert(e){if(this.fe===0)return;const r=b0(e),[o,a]=w0(r);for(let u=0;u<this.hashCount;u++){const h=this.pe(o,a,u);this.we(h)}}we(e){const r=Math.floor(e/8),o=e%8;this.bitmap[r]|=1<<o}}class nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ac{constructor(e,r,o,a,u){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,r,o){const a=new Map;return a.set(e,rl.createSynthesizedTargetChangeForCurrentChange(e,r,o)),new ac(Ae.min(),a,new mt(Me),qr(),je())}}class rl{constructor(e,r,o,a,u){this.resumeToken=e,this.current=r,this.addedDocuments=o,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,r,o){return new rl(o,r,je(),je(),je())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class lc{constructor(e,r,o,a){this.Se=e,this.removedTargetIds=r,this.key=o,this.be=a}}class E0{constructor(e,r){this.targetId=e,this.De=r}}class S0{constructor(e,r,o=Zt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=r,this.resumeToken=o,this.cause=a}}class k0{constructor(){this.ve=0,this.Ce=x0(),this.Fe=Zt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=je(),r=je(),o=je();return this.Ce.forEach(((a,u)=>{switch(u){case 0:e=e.add(a);break;case 2:r=r.add(a);break;case 1:o=o.add(a);break;default:xe(38017,{changeType:u})}})),new rl(this.Fe,this.Me,e,r,o)}ke(){this.xe=!1,this.Ce=x0()}qe(e,r){this.xe=!0,this.Ce=this.Ce.insert(e,r)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class iI{constructor(e){this.We=e,this.Ge=new Map,this.ze=qr(),this.je=uc(),this.Je=uc(),this.He=new mt(Me)}Ye(e){for(const r of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(r,e.be):this.Xe(r,e.key,e.be);for(const r of e.removedTargetIds)this.Xe(r,e.key,e.be)}et(e){this.forEachTarget(e,(r=>{const o=this.tt(r);switch(e.state){case 0:this.nt(r)&&o.Be(e.resumeToken);break;case 1:o.Ue(),o.Oe||o.ke(),o.Be(e.resumeToken);break;case 2:o.Ue(),o.Oe||this.removeTarget(r);break;case 3:this.nt(r)&&(o.Ke(),o.Be(e.resumeToken));break;case 4:this.nt(r)&&(this.rt(r),o.Be(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Ge.forEach(((o,a)=>{this.nt(a)&&r(a)}))}it(e){const r=e.targetId,o=e.De.count,a=this.st(r);if(a){const u=a.target;if(Yd(u))if(o===0){const h=new Ee(u.path);this.Xe(r,h,cn.newNoDocument(h,Ae.min()))}else Ge(o===1,20013,{expectedCount:o});else{const h=this.ot(r);if(h!==o){const f=this._t(e),m=f?this.ut(f,e,h):1;if(m!==0){this.rt(r);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(r,g)}}}}}_t(e){const r=e.De.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:o="",padding:a=0},hashCount:u=0}=r;let h,f;try{h=Pi(o).toUint8Array()}catch(m){if(m instanceof Nv)return Ci("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new nf(h,a,u)}catch(m){return Ci(m instanceof nl?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.fe===0?null:f}ut(e,r,o){return r.De.count===o-this.ht(e,r.targetId)?0:2}ht(e,r){const o=this.We.getRemoteKeysForTarget(r);let a=0;return o.forEach((u=>{const h=this.We.lt(),f=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(f)||(this.Xe(r,u,null),a++)})),a}Pt(e){const r=new Map;this.Ge.forEach(((u,h)=>{const f=this.st(h);if(f){if(u.current&&Yd(f.target)){const m=new Ee(f.target.path);this.Tt(m).has(h)||this.It(h,m)||this.Xe(h,m,cn.newNoDocument(m,e))}u.Ne&&(r.set(h,u.Le()),u.ke())}}));let o=je();this.Je.forEach(((u,h)=>{let f=!0;h.forEachWhile((m=>{const g=this.st(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(o=o.add(u))})),this.ze.forEach(((u,h)=>h.setReadTime(e)));const a=new ac(e,r,this.He,this.ze,o);return this.ze=qr(),this.je=uc(),this.Je=uc(),this.He=new mt(Me),a}Ze(e,r){if(!this.nt(e))return;const o=this.It(e,r.key)?2:0;this.tt(e).qe(r.key,o),this.ze=this.ze.insert(r.key,r),this.je=this.je.insert(r.key,this.Tt(r.key).add(e)),this.Je=this.Je.insert(r.key,this.dt(r.key).add(e))}Xe(e,r,o){if(!this.nt(e))return;const a=this.tt(e);this.It(e,r)?a.qe(r,1):a.Qe(r),this.Je=this.Je.insert(r,this.dt(r).delete(e)),this.Je=this.Je.insert(r,this.dt(r).add(e)),o&&(this.ze=this.ze.insert(r,o))}removeTarget(e){this.Ge.delete(e)}ot(e){const r=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let r=this.Ge.get(e);return r||(r=new k0,this.Ge.set(e,r)),r}dt(e){let r=this.Je.get(e);return r||(r=new Ot(Me),this.Je=this.Je.insert(e,r)),r}Tt(e){let r=this.je.get(e);return r||(r=new Ot(Me),this.je=this.je.insert(e,r)),r}nt(e){const r=this.st(e)!==null;return r||he("WatchChangeAggregator","Detected inactive target",e),r}st(e){const r=this.Ge.get(e);return r&&r.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new k0),this.We.getRemoteKeysForTarget(e).forEach((r=>{this.Xe(e,r,null)}))}It(e,r){return this.We.getRemoteKeysForTarget(e).has(r)}}function uc(){return new mt(Ee.comparator)}function x0(){return new mt(Ee.comparator)}const oI={asc:"ASCENDING",desc:"DESCENDING"},sI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aI={and:"AND",or:"OR"};class lI{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function rf(n,e){return n.useProto3Json||Bu(e)?e:{value:e}}function cc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function T0(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function uI(n,e){return cc(n,e.toTimestamp())}function br(n){return Ge(!!n,49232),Ae.fromTimestamp((function(e){const r=_i(e);return new ut(r.seconds,r.nanos)})(n))}function of(n,e){return sf(n,e).canonicalString()}function sf(n,e){const r=(function(o){return new lt(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?r:r.child(e)}function C0(n){const e=lt.fromString(n);return Ge(N0(e),10190,{key:e.toString()}),e}function af(n,e){return of(n.databaseId,e.path)}function lf(n,e){const r=C0(e);if(r.get(1)!==n.databaseId.projectId)throw new be(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+n.databaseId.projectId);if(r.get(3)!==n.databaseId.database)throw new be(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+n.databaseId.database);return new Ee(I0(r))}function A0(n,e){return of(n.databaseId,e)}function cI(n){const e=C0(n);return e.length===4?lt.emptyPath():I0(e)}function uf(n){return new lt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function I0(n){return Ge(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function D0(n,e,r){return{name:af(n,e),fields:r.value.mapValue.fields}}function hI(n,e){let r;if("targetChange"in e){e.targetChange;const o=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:xe(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],u=(function(m,g){return m.useProto3Json?(Ge(g===void 0||typeof g=="string",58123),Zt.fromBase64String(g||"")):(Ge(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Zt.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),h=e.targetChange.cause,f=h&&(function(m){const g=m.code===void 0?ne.UNKNOWN:v0(m.code);return new be(g,m.message||"")})(h);r=new S0(o,a,u,f||null)}else if("documentChange"in e){e.documentChange;const o=e.documentChange;o.document,o.document.name,o.document.updateTime;const a=lf(n,o.document.name),u=br(o.document.updateTime),h=o.document.createTime?br(o.document.createTime):Ae.min(),f=new kn({mapValue:{fields:o.document.fields}}),m=cn.newFoundDocument(a,u,h,f),g=o.targetIds||[],v=o.removedTargetIds||[];r=new lc(g,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const o=e.documentDelete;o.document;const a=lf(n,o.document),u=o.readTime?br(o.readTime):Ae.min(),h=cn.newNoDocument(a,u),f=o.removedTargetIds||[];r=new lc([],f,h.key,h)}else if("documentRemove"in e){e.documentRemove;const o=e.documentRemove;o.document;const a=lf(n,o.document),u=o.removedTargetIds||[];r=new lc([],u,a,null)}else{if(!("filter"in e))return xe(11601,{At:e});{e.filter;const o=e.filter;o.targetId;const{count:a=0,unchangedNames:u}=o,h=new tI(a,u),f=o.targetId;r=new E0(f,h)}}return r}function dI(n,e){let r;if(e instanceof tl)r={update:D0(n,e.key,e.value)};else if(e instanceof y0)r={delete:af(n,e.key)};else if(e instanceof Mi)r={update:D0(n,e.key,e.data),updateMask:EI(e.fieldMask)};else{if(!(e instanceof ZA))return xe(16599,{Rt:e.type});r={verify:af(n,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((o=>(function(a,u){const h=u.transform;if(h instanceof ic)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Ya)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Za)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Ja)return{fieldPath:u.field.canonicalString(),increment:h.Ee};throw xe(20930,{transform:u.transform})})(0,o)))),e.precondition.isNone||(r.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:uI(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:xe(27497)})(n,e.precondition)),r}function fI(n,e){return n&&n.length>0?(Ge(e!==void 0,14353),n.map((r=>(function(o,a){let u=o.updateTime?br(o.updateTime):br(a);return u.isEqual(Ae.min())&&(u=br(a)),new QA(u,o.transformResults||[])})(r,e)))):[]}function pI(n,e){return{documents:[A0(n,e.path)]}}function mI(n,e){const r={structuredQuery:{}},o=e.path;let a;e.collectionGroup!==null?(a=o,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=o.popLast(),r.structuredQuery.from=[{collectionId:o.lastSegment()}]),r.parent=A0(n,a);const u=(function(m){if(m.length!==0)return P0(gr.create(m,"and"))})(e.filters);u&&(r.structuredQuery.where=u);const h=(function(m){if(m.length!==0)return m.map((g=>(function(v){return{field:ks(v.field),direction:vI(v.dir)}})(g)))})(e.orderBy);h&&(r.structuredQuery.orderBy=h);const f=rf(n,e.limit);return f!==null&&(r.structuredQuery.limit=f),e.startAt&&(r.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{Vt:r,parent:a}}function gI(n){let e=cI(n.parent);const r=n.structuredQuery,o=r.from?r.from.length:0;let a=null;if(o>0){Ge(o===1,65062);const v=r.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let u=[];r.where&&(u=(function(v){const E=_0(v);return E instanceof gr&&Xv(E)?E.getFilters():[E]})(r.where));let h=[];r.orderBy&&(h=(function(v){return v.map((E=>(function(x){return new Ju(xs(x.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(x.direction))})(E)))})(r.orderBy));let f=null;r.limit&&(f=(function(v){let E;return E=typeof v=="object"?v.value:v,Bu(E)?null:E})(r.limit));let m=null;r.startAt&&(m=(function(v){const E=!!v.before,x=v.values||[];return new Zu(x,E)})(r.startAt));let g=null;return r.endAt&&(g=(function(v){const E=!v.before,x=v.values||[];return new Zu(x,E)})(r.endAt)),RA(e,a,h,u,f,"F",m,g)}function yI(n,e){const r=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:o})}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function _0(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=xs(e.unaryFilter.field);return Ft.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=xs(e.unaryFilter.field);return Ft.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=xs(e.unaryFilter.field);return Ft.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=xs(e.unaryFilter.field);return Ft.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(n):n.fieldFilter!==void 0?(function(e){return Ft.create(xs(e.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return gr.create(e.compositeFilter.filters.map((r=>_0(r))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(e.compositeFilter.op))})(n):xe(30097,{filter:n})}function vI(n){return oI[n]}function bI(n){return sI[n]}function wI(n){return aI[n]}function ks(n){return{fieldPath:n.canonicalString()}}function xs(n){return Gt.fromServerFormat(n.fieldPath)}function P0(n){return n instanceof Ft?(function(e){if(e.op==="=="){if(qv(e.value))return{unaryFilter:{field:ks(e.field),op:"IS_NAN"}};if(zv(e.value))return{unaryFilter:{field:ks(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(qv(e.value))return{unaryFilter:{field:ks(e.field),op:"IS_NOT_NAN"}};if(zv(e.value))return{unaryFilter:{field:ks(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ks(e.field),op:bI(e.op),value:e.value}}})(n):n instanceof gr?(function(e){const r=e.getFilters().map((o=>P0(o)));return r.length===1?r[0]:{compositeFilter:{op:wI(e.op),filters:r}}})(n):xe(54877,{filter:n})}function EI(n){const e=[];return n.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function N0(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Li{constructor(e,r,o,a,u=Ae.min(),h=Ae.min(),f=Zt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=r,this.purpose=o,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new Li(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class SI{constructor(e){this.gt=e}}function kI(n){const e=gI({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Jd(e,e.limit,"L"):e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xI{constructor(){this.Dn=new TI}addToCollectionParentIndex(e,r){return this.Dn.add(r),J.resolve()}getCollectionParents(e,r){return J.resolve(this.Dn.getEntries(r))}addFieldIndex(e,r){return J.resolve()}deleteFieldIndex(e,r){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,r){return J.resolve()}getDocumentsMatchingTarget(e,r){return J.resolve(null)}getIndexType(e,r){return J.resolve(0)}getFieldIndexes(e,r){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,r){return J.resolve(Ii.min())}getMinOffsetFromCollectionGroup(e,r){return J.resolve(Ii.min())}updateCollectionGroup(e,r,o){return J.resolve()}updateIndexEntries(e,r){return J.resolve()}}class TI{constructor(){this.index={}}add(e){const r=e.lastSegment(),o=e.popLast(),a=this.index[r]||new Ot(lt.comparator),u=!a.has(o);return this.index[r]=a.add(o),u}has(e){const r=e.lastSegment(),o=e.popLast(),a=this.index[r];return a&&a.has(o)}getEntries(e){return(this.index[e]||new Ot(lt.comparator)).toArray()}}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const M0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},L0=41943040;class xn{static withCacheSize(e){return new xn(e,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=o}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(L0,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ts{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Ts(0)}static ur(){return new Ts(-1)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const R0="LruGarbageCollector",CI=1048576;function O0([n,e],[r,o]){const a=Me(n,r);return a===0?Me(e,o):a}class AI{constructor(e){this.Tr=e,this.buffer=new Ot(O0),this.Ir=0}dr(){return++this.Ir}Er(e){const r=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(r);else{const o=this.buffer.last();O0(r,o)<0&&(this.buffer=this.buffer.delete(o).add(r))}}get maxValue(){return this.buffer.last()[0]}}class II{constructor(e,r,o){this.garbageCollector=e,this.asyncQueue=r,this.localStore=o,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){he(R0,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){bs(r)?he(R0,"Ignoring IndexedDB error during garbage collection: ",r):await vs(r)}await this.Rr(3e5)}))}}class DI{constructor(e,r){this.Vr=e,this.params=r}calculateTargetCount(e,r){return this.Vr.mr(e).next((o=>Math.floor(r/100*o)))}nthSequenceNumber(e,r){if(r===0)return J.resolve(qu.ue);const o=new AI(r);return this.Vr.forEachTarget(e,(a=>o.Er(a.sequenceNumber))).next((()=>this.Vr.gr(e,(a=>o.Er(a))))).next((()=>o.maxValue))}removeTargets(e,r,o){return this.Vr.removeTargets(e,r,o)}removeOrphanedDocuments(e,r){return this.Vr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(M0)):this.getCacheSize(e).next((o=>o<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),M0):this.pr(e,r)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,r){let o,a,u,h,f,m,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),a=this.params.maximumSequenceNumbersToCollect):a=E,h=Date.now(),this.nthSequenceNumber(e,a)))).next((E=>(o=E,f=Date.now(),this.removeTargets(e,o,r)))).next((E=>(u=E,m=Date.now(),this.removeOrphanedDocuments(e,o)))).next((E=>(g=Date.now(),gs()<=ze.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${a} in `+(f-h)+`ms
	Removed ${u} targets in `+(m-f)+`ms
	Removed ${E} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:u,documentsRemoved:E}))))}}function _I(n,e){return new DI(n,e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class PI{constructor(){this.changes=new To((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const o=this.changes.get(r);return o!==void 0?J.resolve(o):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class NI{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class MI{constructor(e,r,o,a){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=o,this.indexManager=a}getDocument(e,r){let o=null;return this.documentOverlayCache.getOverlay(e,r).next((a=>(o=a,this.remoteDocumentCache.getEntry(e,r)))).next((a=>(o!==null&&el(o.mutation,a,_n.empty(),ut.now()),a)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((o=>this.getLocalViewOfDocuments(e,o,je()).next((()=>o))))}getLocalViewOfDocuments(e,r,o=je()){const a=Co();return this.populateOverlays(e,a,r).next((()=>this.computeViews(e,r,a,o).next((u=>{let h=Qa();return u.forEach(((f,m)=>{h=h.insert(f,m.overlayedDocument)})),h}))))}getOverlayedDocuments(e,r){const o=Co();return this.populateOverlays(e,o,r).next((()=>this.computeViews(e,r,o,je())))}populateOverlays(e,r,o){const a=[];return o.forEach((u=>{r.has(u)||a.push(u)})),this.documentOverlayCache.getOverlays(e,a).next((u=>{u.forEach(((h,f)=>{r.set(h,f)}))}))}computeViews(e,r,o,a){let u=qr();const h=Ga(),f=(function(){return Ga()})();return r.forEach(((m,g)=>{const v=o.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof Mi)?u=u.insert(g.key,g):v!==void 0?(h.set(g.key,v.mutation.getFieldMask()),el(v.mutation,g,v.mutation.getFieldMask(),ut.now())):h.set(g.key,_n.empty())})),this.recalculateAndSaveOverlays(e,u).next((m=>(m.forEach(((g,v)=>h.set(g,v))),r.forEach(((g,v)=>{var E;return f.set(g,new NI(v,(E=h.get(g))!==null&&E!==void 0?E:null))})),f)))}recalculateAndSaveOverlays(e,r){const o=Ga();let a=new mt(((h,f)=>h-f)),u=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((h=>{for(const f of h)f.keys().forEach((m=>{const g=r.get(m);if(g===null)return;let v=o.get(m)||_n.empty();v=f.applyToLocalView(g,v),o.set(m,v);const E=(a.get(f.batchId)||je()).add(m);a=a.insert(f.batchId,E)}))})).next((()=>{const h=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),g=m.key,v=m.value,E=i0();v.forEach((x=>{if(!u.has(x)){const I=d0(r.get(x),o.get(x));I!==null&&E.set(x,I),u=u.add(x)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,E))}return J.waitFor(h)})).next((()=>o))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((o=>this.recalculateAndSaveOverlays(e,o)))}getDocumentsMatchingQuery(e,r,o,a){return(function(u){return Ee.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):OA(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,o,a):this.getDocumentsMatchingCollectionQuery(e,r,o,a)}getNextDocuments(e,r,o,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,o,a).next((u=>{const h=a-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,o.largestBatchId,a-u.size):J.resolve(Co());let f=Ba,m=u;return h.next((g=>J.forEach(g,((v,E)=>(f<E.largestBatchId&&(f=E.largestBatchId),u.get(v)?J.resolve():this.remoteDocumentCache.getEntry(e,v).next((x=>{m=m.insert(v,x)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,m,g,je()))).next((v=>({batchId:f,changes:r0(v)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ee(r)).next((o=>{let a=Qa();return o.isFoundDocument()&&(a=a.insert(o.key,o)),a}))}getDocumentsMatchingCollectionGroupQuery(e,r,o,a){const u=r.collectionGroup;let h=Qa();return this.indexManager.getCollectionParents(e,u).next((f=>J.forEach(f,(m=>{const g=(function(v,E){return new ec(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(r,m.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,o,a).next((v=>{v.forEach(((E,x)=>{h=h.insert(E,x)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,r,o,a){let u;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,o.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,o,u,a)))).next((h=>{u.forEach(((m,g)=>{const v=g.getKey();h.get(v)===null&&(h=h.insert(v,cn.newInvalidDocument(v)))}));let f=Qa();return h.forEach(((m,g)=>{const v=u.get(m);v!==void 0&&el(v.mutation,g,_n.empty(),ut.now()),nc(r,g)&&(f=f.insert(m,g))})),f}))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class LI{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,r){return J.resolve(this.Br.get(r))}saveBundleMetadata(e,r){return this.Br.set(r.id,(function(o){return{id:o.id,version:o.version,createTime:br(o.createTime)}})(r)),J.resolve()}getNamedQuery(e,r){return J.resolve(this.Lr.get(r))}saveNamedQuery(e,r){return this.Lr.set(r.name,(function(o){return{name:o.name,query:kI(o.bundledQuery),readTime:br(o.readTime)}})(r)),J.resolve()}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class RI{constructor(){this.overlays=new mt(Ee.comparator),this.kr=new Map}getOverlay(e,r){return J.resolve(this.overlays.get(r))}getOverlays(e,r){const o=Co();return J.forEach(r,(a=>this.getOverlay(e,a).next((u=>{u!==null&&o.set(a,u)})))).next((()=>o))}saveOverlays(e,r,o){return o.forEach(((a,u)=>{this.wt(e,r,u)})),J.resolve()}removeOverlaysForBatchId(e,r,o){const a=this.kr.get(o);return a!==void 0&&(a.forEach((u=>this.overlays=this.overlays.remove(u))),this.kr.delete(o)),J.resolve()}getOverlaysForCollection(e,r,o){const a=Co(),u=r.length+1,h=new Ee(r.child("")),f=this.overlays.getIteratorFrom(h);for(;f.hasNext();){const m=f.getNext().value,g=m.getKey();if(!r.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>o&&a.set(m.getKey(),m)}return J.resolve(a)}getOverlaysForCollectionGroup(e,r,o,a){let u=new mt(((g,v)=>g-v));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===r&&g.largestBatchId>o){let v=u.get(g.largestBatchId);v===null&&(v=Co(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const f=Co(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,v)=>f.set(g,v))),!(f.size()>=a)););return J.resolve(f)}wt(e,r,o){const a=this.overlays.get(o.key);if(a!==null){const h=this.kr.get(a.largestBatchId).delete(o.key);this.kr.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(o.key,new eI(r,o));let u=this.kr.get(r);u===void 0&&(u=je(),this.kr.set(r,u)),this.kr.set(r,u.add(o.key))}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class OI{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,J.resolve()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class cf{constructor(){this.qr=new Ot($t.Qr),this.$r=new Ot($t.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,r){const o=new $t(e,r);this.qr=this.qr.add(o),this.$r=this.$r.add(o)}Kr(e,r){e.forEach((o=>this.addReference(o,r)))}removeReference(e,r){this.Wr(new $t(e,r))}Gr(e,r){e.forEach((o=>this.removeReference(o,r)))}zr(e){const r=new Ee(new lt([])),o=new $t(r,e),a=new $t(r,e+1),u=[];return this.$r.forEachInRange([o,a],(h=>{this.Wr(h),u.push(h.key)})),u}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const r=new Ee(new lt([])),o=new $t(r,e),a=new $t(r,e+1);let u=je();return this.$r.forEachInRange([o,a],(h=>{u=u.add(h.key)})),u}containsKey(e){const r=new $t(e,0),o=this.qr.firstAfterOrEqual(r);return o!==null&&e.isEqual(o.key)}}class $t{constructor(e,r){this.key=e,this.Hr=r}static Qr(e,r){return Ee.comparator(e.key,r.key)||Me(e.Hr,r.Hr)}static Ur(e,r){return Me(e.Hr,r.Hr)||Ee.comparator(e.key,r.key)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class FI{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.er=1,this.Yr=new Ot($t.Qr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,o,a){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new JA(u,r,o,a);this.mutationQueue.push(h);for(const f of a)this.Yr=this.Yr.add(new $t(f.key,u)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return J.resolve(h)}lookupMutationBatch(e,r){return J.resolve(this.Zr(r))}getNextMutationBatchAfterBatchId(e,r){const o=r+1,a=this.Xr(o),u=a<0?0:a;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Bd:this.er-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const o=new $t(r,0),a=new $t(r,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([o,a],(h=>{const f=this.Zr(h.Hr);u.push(f)})),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new Ot(Me);return r.forEach((a=>{const u=new $t(a,0),h=new $t(a,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,h],(f=>{o=o.add(f.Hr)}))})),J.resolve(this.ei(o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,a=o.length+1;let u=o;Ee.isDocumentKey(u)||(u=u.child(""));const h=new $t(new Ee(u),0);let f=new Ot(Me);return this.Yr.forEachWhile((m=>{const g=m.key.path;return!!o.isPrefixOf(g)&&(g.length===a&&(f=f.add(m.Hr)),!0)}),h),J.resolve(this.ei(f))}ei(e){const r=[];return e.forEach((o=>{const a=this.Zr(o);a!==null&&r.push(a)})),r}removeMutationBatch(e,r){Ge(this.ti(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let o=this.Yr;return J.forEach(r.mutations,(a=>{const u=new $t(a.key,r.batchId);return o=o.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Yr=o}))}rr(e){}containsKey(e,r){const o=new $t(r,0),a=this.Yr.firstAfterOrEqual(o);return J.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ti(e,r){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const r=this.Xr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class VI{constructor(e){this.ni=e,this.docs=(function(){return new mt(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const o=r.key,a=this.docs.get(o),u=a?a.size:0,h=this.ni(r);return this.docs=this.docs.insert(o,{document:r.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const o=this.docs.get(r);return J.resolve(o?o.document.mutableCopy():cn.newInvalidDocument(r))}getEntries(e,r){let o=qr();return r.forEach((a=>{const u=this.docs.get(a);o=o.insert(a,u?u.document.mutableCopy():cn.newInvalidDocument(a))})),J.resolve(o)}getDocumentsMatchingQuery(e,r,o,a){let u=qr();const h=r.path,f=new Ee(h.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||fA(dA(v),o)<=0||(a.has(v.key)||nc(r,v))&&(u=u.insert(v.key,v.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,r,o,a){xe(9500)}ri(e,r){return J.forEach(this.docs,(o=>r(o)))}newChangeBuffer(e){return new jI(this)}getSize(e){return J.resolve(this.size)}}class jI extends PI{constructor(e){super(),this.Or=e}applyChanges(e){const r=[];return this.changes.forEach(((o,a)=>{a.isValidDocument()?r.push(this.Or.addEntry(e,a)):this.Or.removeEntry(o)})),J.waitFor(r)}getFromCache(e,r){return this.Or.getEntry(e,r)}getAllFromCache(e,r){return this.Or.getEntries(e,r)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class UI{constructor(e){this.persistence=e,this.ii=new To((r=>Qd(r)),Gd),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.si=0,this.oi=new cf,this.targetCount=0,this._i=Ts.ar()}forEachTarget(e,r){return this.ii.forEach(((o,a)=>r(a))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.si&&(this.si=r),J.resolve()}hr(e){this.ii.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this._i=new Ts(r),this.highestTargetId=r),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,r){return this.hr(r),this.targetCount+=1,J.resolve()}updateTargetData(e,r){return this.hr(r),J.resolve()}removeTargetData(e,r){return this.ii.delete(r.target),this.oi.zr(r.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,r,o){let a=0;const u=[];return this.ii.forEach(((h,f)=>{f.sequenceNumber<=r&&o.get(f.targetId)===null&&(this.ii.delete(h),u.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),J.waitFor(u).next((()=>a))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,r){const o=this.ii.get(r)||null;return J.resolve(o)}addMatchingKeys(e,r,o){return this.oi.Kr(r,o),J.resolve()}removeMatchingKeys(e,r,o){this.oi.Gr(r,o);const a=this.persistence.referenceDelegate,u=[];return a&&r.forEach((h=>{u.push(a.markPotentiallyOrphaned(e,h))})),J.waitFor(u)}removeMatchingKeysForTargetId(e,r){return this.oi.zr(r),J.resolve()}getMatchingKeysForTargetId(e,r){const o=this.oi.Jr(r);return J.resolve(o)}containsKey(e,r){return J.resolve(this.oi.containsKey(r))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class F0{constructor(e,r){this.ai={},this.overlays={},this.ui=new qu(0),this.ci=!1,this.ci=!0,this.li=new OI,this.referenceDelegate=e(this),this.hi=new UI(this),this.indexManager=new xI,this.remoteDocumentCache=(function(o){return new VI(o)})((o=>this.referenceDelegate.Pi(o))),this.serializer=new SI(r),this.Ti=new LI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new RI,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let o=this.ai[e.toKey()];return o||(o=new FI(r,this.referenceDelegate),this.ai[e.toKey()]=o),o}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,r,o){he("MemoryPersistence","Starting transaction:",e);const a=new zI(this.ui.next());return this.referenceDelegate.Ii(),o(a).next((u=>this.referenceDelegate.di(a).next((()=>u)))).toPromise().then((u=>(a.raiseOnCommittedEvent(),u)))}Ei(e,r){return J.or(Object.values(this.ai).map((o=>()=>o.containsKey(e,r))))}}class zI extends mA{constructor(e){super(),this.currentSequenceNumber=e}}class hf{constructor(e){this.persistence=e,this.Ai=new cf,this.Ri=null}static Vi(e){return new hf(e)}get mi(){if(this.Ri)return this.Ri;throw xe(60996)}addReference(e,r,o){return this.Ai.addReference(o,r),this.mi.delete(o.toString()),J.resolve()}removeReference(e,r,o){return this.Ai.removeReference(o,r),this.mi.add(o.toString()),J.resolve()}markPotentiallyOrphaned(e,r){return this.mi.add(r.toString()),J.resolve()}removeTarget(e,r){this.Ai.zr(r.targetId).forEach((a=>this.mi.add(a.toString())));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,r.targetId).next((a=>{a.forEach((u=>this.mi.add(u.toString())))})).next((()=>o.removeTargetData(e,r)))}Ii(){this.Ri=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.mi,(o=>{const a=Ee.fromPath(o);return this.fi(e,a).next((u=>{u||r.removeEntry(a,Ae.min())}))})).next((()=>(this.Ri=null,r.apply(e))))}updateLimboDocument(e,r){return this.fi(e,r).next((o=>{o?this.mi.delete(r.toString()):this.mi.add(r.toString())}))}Pi(e){return 0}fi(e,r){return J.or([()=>J.resolve(this.Ai.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ei(e,r)])}}class hc{constructor(e,r){this.persistence=e,this.gi=new To((o=>vA(o.path)),((o,a)=>o.isEqual(a))),this.garbageCollector=_I(this,r)}static Vi(e,r){return new hc(e,r)}Ii(){}di(e){return J.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}mr(e){const r=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((o=>r.next((a=>o+a))))}yr(e){let r=0;return this.gr(e,(o=>{r++})).next((()=>r))}gr(e,r){return J.forEach(this.gi,((o,a)=>this.Sr(e,o,a).next((u=>u?J.resolve():r(a)))))}removeTargets(e,r,o){return this.persistence.getTargetCache().removeTargets(e,r,o)}removeOrphanedDocuments(e,r){let o=0;const a=this.persistence.getRemoteDocumentCache(),u=a.newChangeBuffer();return a.ri(e,(h=>this.Sr(e,h,r).next((f=>{f||(o++,u.removeEntry(h,Ae.min()))})))).next((()=>u.apply(e))).next((()=>o))}markPotentiallyOrphaned(e,r){return this.gi.set(r,e.currentSequenceNumber),J.resolve()}removeTarget(e,r){const o=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,o)}addReference(e,r,o){return this.gi.set(o,e.currentSequenceNumber),J.resolve()}removeReference(e,r,o){return this.gi.set(o,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,r){return this.gi.set(r,e.currentSequenceNumber),J.resolve()}Pi(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Gu(e.data.value)),r}Sr(e,r,o){return J.or([()=>this.persistence.Ei(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const a=this.gi.get(r);return J.resolve(a!==void 0&&a>o)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class df{constructor(e,r,o,a){this.targetId=e,this.fromCache=r,this.Is=o,this.ds=a}static Es(e,r){let o=je(),a=je();for(const u of r.docChanges)switch(u.type){case 0:o=o.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new df(e,r.fromCache,o,a)}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class BI{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return yx()?8:gA(mx())>0?6:4})()}initialize(e,r){this.gs=e,this.indexManager=r,this.As=!0}getDocumentsMatchingQuery(e,r,o,a){const u={result:null};return this.ps(e,r).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ys(e,r,a,o).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new qI;return this.ws(e,r,h).next((f=>{if(u.result=f,this.Rs)return this.Ss(e,r,h,f.size)}))})).next((()=>u.result))}Ss(e,r,o,a){return o.documentReadCount<this.Vs?(gs()<=ze.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Ss(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(gs()<=ze.DEBUG&&he("QueryEngine","Query:",Ss(r),"scans",o.documentReadCount,"local documents and returns",a,"documents as results."),o.documentReadCount>this.fs*a?(gs()<=ze.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Ss(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yr(r))):J.resolve())}ps(e,r){if(Jv(r))return J.resolve(null);let o=yr(r);return this.indexManager.getIndexType(e,o).next((a=>a===0?null:(r.limit!==null&&a===1&&(r=Jd(r,null,"F"),o=yr(r)),this.indexManager.getDocumentsMatchingTarget(e,o).next((u=>{const h=je(...u);return this.gs.getDocuments(e,h).next((f=>this.indexManager.getMinOffset(e,o).next((m=>{const g=this.bs(r,f);return this.Ds(r,g,h,m.readTime)?this.ps(e,Jd(r,null,"F")):this.vs(e,g,r,m)}))))})))))}ys(e,r,o,a){return Jv(r)||a.isEqual(Ae.min())?J.resolve(null):this.gs.getDocuments(e,o).next((u=>{const h=this.bs(r,u);return this.Ds(r,h,o,a)?J.resolve(null):(gs()<=ze.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ss(r)),this.vs(e,h,r,hA(a,Ba)).next((f=>f)))}))}bs(e,r){let o=new Ot(t0(e));return r.forEach(((a,u)=>{nc(e,u)&&(o=o.add(u))})),o}Ds(e,r,o,a){if(e.limit===null)return!1;if(o.size!==r.size)return!0;const u=e.limitType==="F"?r.last():r.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}ws(e,r,o){return gs()<=ze.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Ss(r)),this.gs.getDocumentsMatchingQuery(e,r,Ii.min(),o)}vs(e,r,o,a){return this.gs.getDocumentsMatchingQuery(e,o,a).next((u=>(r.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ff="LocalStore",$I=3e8;class WI{constructor(e,r,o,a){this.persistence=e,this.Cs=r,this.serializer=a,this.Fs=new mt(Me),this.Ms=new To((u=>Qd(u)),Gd),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(o)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new MI(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.Fs)))}}function KI(n,e,r,o){return new WI(n,e,r,o)}async function V0(n,e){const r=Ie(n);return await r.persistence.runTransaction("Handle user change","readonly",(o=>{let a;return r.mutationQueue.getAllMutationBatches(o).next((u=>(a=u,r.Ns(e),r.mutationQueue.getAllMutationBatches(o)))).next((u=>{const h=[],f=[];let m=je();for(const g of a){h.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of u){f.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return r.localDocuments.getDocuments(o,m).next((g=>({Bs:g,removedBatchIds:h,addedBatchIds:f})))}))}))}function HI(n,e){const r=Ie(n);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(o=>{const a=e.batch.keys(),u=r.Os.newChangeBuffer({trackRemovals:!0});return(function(h,f,m,g){const v=m.batch,E=v.keys();let x=J.resolve();return E.forEach((I=>{x=x.next((()=>g.getEntry(f,I))).next((V=>{const B=m.docVersions.get(I);Ge(B!==null,48541),V.version.compareTo(B)<0&&(v.applyToRemoteDocument(V,m),V.isValidDocument()&&(V.setReadTime(m.commitVersion),g.addEntry(V)))}))})),x.next((()=>h.mutationQueue.removeMutationBatch(f,v)))})(r,o,e,u).next((()=>u.apply(o))).next((()=>r.mutationQueue.performConsistencyCheck(o))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(o,a,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,(function(h){let f=je();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(f=f.add(h.batch.mutations[m].key));return f})(e)))).next((()=>r.localDocuments.getDocuments(o,a)))}))}function j0(n){const e=Ie(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.hi.getLastRemoteSnapshotVersion(r)))}function XI(n,e){const r=Ie(n),o=e.snapshotVersion;let a=r.Fs;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=r.Os.newChangeBuffer({trackRemovals:!0});a=r.Fs;const f=[];e.targetChanges.forEach(((v,E)=>{const x=a.get(E);if(!x)return;f.push(r.hi.removeMatchingKeys(u,v.removedDocuments,E).next((()=>r.hi.addMatchingKeys(u,v.addedDocuments,E))));let I=x.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(E)!==null?I=I.withResumeToken(Zt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):v.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(v.resumeToken,o)),a=a.insert(E,I),(function(V,B,j){return V.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=$I?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(x,I,v)&&f.push(r.hi.updateTargetData(u,I))}));let m=qr(),g=je();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&f.push(r.persistence.referenceDelegate.updateLimboDocument(u,v))})),f.push(QI(u,h,e.documentUpdates).next((v=>{m=v.Ls,g=v.ks}))),!o.isEqual(Ae.min())){const v=r.hi.getLastRemoteSnapshotVersion(u).next((E=>r.hi.setTargetsMetadata(u,u.currentSequenceNumber,o)));f.push(v)}return J.waitFor(f).next((()=>h.apply(u))).next((()=>r.localDocuments.getLocalViewOfDocuments(u,m,g))).next((()=>m))})).then((u=>(r.Fs=a,u)))}function QI(n,e,r){let o=je(),a=je();return r.forEach((u=>o=o.add(u))),e.getEntries(n,o).next((u=>{let h=qr();return r.forEach(((f,m)=>{const g=u.get(f);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Ae.min())?(e.removeEntry(f,m.readTime),h=h.insert(f,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),h=h.insert(f,m)):he(ff,"Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",m.version)})),{Ls:h,ks:a}}))}function GI(n,e){const r=Ie(n);return r.persistence.runTransaction("Get next mutation batch","readonly",(o=>(e===void 0&&(e=Bd),r.mutationQueue.getNextMutationBatchAfterBatchId(o,e))))}function YI(n,e){const r=Ie(n);return r.persistence.runTransaction("Allocate target","readwrite",(o=>{let a;return r.hi.getTargetData(o,e).next((u=>u?(a=u,J.resolve(a)):r.hi.allocateTargetId(o).next((h=>(a=new Li(e,h,"TargetPurposeListen",o.currentSequenceNumber),r.hi.addTargetData(o,a).next((()=>a)))))))})).then((o=>{const a=r.Fs.get(o.targetId);return(a===null||o.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(r.Fs=r.Fs.insert(o.targetId,o),r.Ms.set(e,o.targetId)),o}))}async function pf(n,e,r){const o=Ie(n),a=o.Fs.get(e),u=r?"readwrite":"readwrite-primary";try{r||await o.persistence.runTransaction("Release target",u,(h=>o.persistence.referenceDelegate.removeTarget(h,a)))}catch(h){if(!bs(h))throw h;he(ff,`Failed to update sequence numbers for target ${e}: ${h}`)}o.Fs=o.Fs.remove(e),o.Ms.delete(a.target)}function U0(n,e,r){const o=Ie(n);let a=Ae.min(),u=je();return o.persistence.runTransaction("Execute query","readwrite",(h=>(function(f,m,g){const v=Ie(f),E=v.Ms.get(g);return E!==void 0?J.resolve(v.Fs.get(E)):v.hi.getTargetData(m,g)})(o,h,yr(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,o.hi.getMatchingKeysForTargetId(h,f.targetId).next((m=>{u=m}))})).next((()=>o.Cs.getDocumentsMatchingQuery(h,e,r?a:Ae.min(),r?u:je()))).next((f=>(ZI(o,VA(e),f),{documents:f,qs:u})))))}function ZI(n,e,r){let o=n.xs.get(e)||Ae.min();r.forEach(((a,u)=>{u.readTime.compareTo(o)>0&&(o=u.readTime)})),n.xs.set(e,o)}class z0{constructor(){this.activeTargetIds=$A()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JI{constructor(){this.Fo=new z0,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,o){}addLocalQueryTarget(e,r=!0){return r&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,r,o){this.Mo[e]=r}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new z0,Promise.resolve()}handleUserChange(e,r,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class eD{xo(e){}shutdown(){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const q0="ConnectivityMonitor";class B0{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){he(q0,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){he(q0,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let dc=null;function mf(){return dc===null?dc=(function(){return 268435456+Math.round(2147483648*Math.random())})():dc++,"0x"+dc.toString(16)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const gf="RestConnection",tD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nD{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.$o=r+"://"+e.host,this.Uo=`projects/${o}/databases/${a}`,this.Ko=this.databaseId.database===Hu?`project_id=${o}`:`project_id=${o}&database_id=${a}`}Wo(e,r,o,a,u){const h=mf(),f=this.Go(e,r.toUriEncodedString());he(gf,`Sending RPC '${e}' ${h}:`,f,o);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(m,a,u);const{host:g}=new URL(f),v=md(g);return this.jo(e,f,m,o,v).then((E=>(he(gf,`Received RPC '${e}' ${h}: `,E),E)),(E=>{throw Ci(gf,`RPC '${e}' ${h} failed with error: `,E,"url: ",f,"request:",o),E}))}Jo(e,r,o,a,u,h){return this.Wo(e,r,o,a,u)}zo(e,r,o){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ms})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((a,u)=>e[u]=a)),o&&o.headers.forEach(((a,u)=>e[u]=a))}Go(e,r){const o=tD[e];return`${this.$o}/v1/${r}:${o}`}terminate(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rD{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const hn="WebChannelConnection";class iD extends nD{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,r,o,a,u){const h=mf();return new Promise(((f,m)=>{const g=new lv;g.setWithCredentials(!0),g.listenOnce(uv.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case zu.NO_ERROR:const E=g.getResponseJson();he(hn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(E)),f(E);break;case zu.TIMEOUT:he(hn,`RPC '${e}' ${h} timed out`),m(new be(ne.DEADLINE_EXCEEDED,"Request time out"));break;case zu.HTTP_ERROR:const x=g.getStatus();if(he(hn,`RPC '${e}' ${h} failed with status:`,x,"response text:",g.getResponseText()),x>0){let I=g.getResponseJson();Array.isArray(I)&&(I=I[0]);const V=I==null?void 0:I.error;if(V&&V.status&&V.message){const B=(function(j){const Q=j.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(Q)>=0?Q:ne.UNKNOWN})(V.status);m(new be(B,V.message))}else m(new be(ne.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new be(ne.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{c_:e,streamId:h,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{he(hn,`RPC '${e}' ${h} completed.`)}}));const v=JSON.stringify(a);he(hn,`RPC '${e}' ${h} sending request:`,a),g.send(r,"POST",v,o,15)}))}P_(e,r,o){const a=mf(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=dv(),f=hv(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.zo(m.initMessageHeaders,r,o),m.encodeInitMessageHeaders=!0;const v=u.join("");he(hn,`Creating RPC '${e}' stream ${a}: ${v}`,m);const E=h.createWebChannel(v,m);this.T_(E);let x=!1,I=!1;const V=new rD({Ho:j=>{I?he(hn,`Not sending because RPC '${e}' stream ${a} is closed:`,j):(x||(he(hn,`Opening RPC '${e}' stream ${a} transport.`),E.open(),x=!0),he(hn,`RPC '${e}' stream ${a} sending:`,j),E.send(j))},Yo:()=>E.close()}),B=(j,Q,te)=>{j.listen(Q,(oe=>{try{te(oe)}catch(pe){setTimeout((()=>{throw pe}),0)}}))};return B(E,za.EventType.OPEN,(()=>{I||(he(hn,`RPC '${e}' stream ${a} transport opened.`),V.s_())})),B(E,za.EventType.CLOSE,(()=>{I||(I=!0,he(hn,`RPC '${e}' stream ${a} transport closed`),V.__(),this.I_(E))})),B(E,za.EventType.ERROR,(j=>{I||(I=!0,Ci(hn,`RPC '${e}' stream ${a} transport errored. Name:`,j.name,"Message:",j.message),V.__(new be(ne.UNAVAILABLE,"The operation could not be completed")))})),B(E,za.EventType.MESSAGE,(j=>{var Q;if(!I){const te=j.data[0];Ge(!!te,16349);const oe=te,pe=(oe==null?void 0:oe.error)||((Q=oe[0])===null||Q===void 0?void 0:Q.error);if(pe){he(hn,`RPC '${e}' stream ${a} received error:`,pe);const le=pe.status;let ye=(function(A){const D=Dt[A];if(D!==void 0)return v0(D)})(le),M=pe.message;ye===void 0&&(ye=ne.INTERNAL,M="Unknown error status: "+le+" with message "+pe.message),I=!0,V.__(new be(ye,M)),E.close()}else he(hn,`RPC '${e}' stream ${a} received:`,te),V.a_(te)}})),B(f,cv.STAT_EVENT,(j=>{j.stat===Vd.PROXY?he(hn,`RPC '${e}' stream ${a} detected buffering proxy`):j.stat===Vd.NOPROXY&&he(hn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{V.o_()}),0),V}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((r=>r===e))}}function yf(){return typeof document<"u"?document:null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function fc(n){return new lI(n,!0)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $0{constructor(e,r,o=1e3,a=1.5,u=6e4){this.Fi=e,this.timerId=r,this.d_=o,this.E_=a,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const r=Math.floor(this.R_+this.p_()),o=Math.max(0,Date.now()-this.m_),a=Math.max(0,r-o);a>0&&he("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.R_} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,a,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const W0="PersistentStream";class K0{constructor(e,r,o,a,u,h,f,m){this.Fi=e,this.w_=o,this.S_=a,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new $0(e,r)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():r&&r.code===ne.RESOURCE_EXHAUSTED?(zr(r.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):r&&r.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(r)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),r=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([o,a])=>{this.b_===r&&this.W_(o,a)}),(o=>{e((()=>{const a=new be(ne.UNKNOWN,"Fetching auth token failed: "+o.message);return this.G_(a)}))}))}W_(e,r){const o=this.K_(this.b_);this.stream=this.z_(e,r),this.stream.Zo((()=>{o((()=>this.listener.Zo()))})),this.stream.e_((()=>{o((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((a=>{o((()=>this.G_(a)))})),this.stream.onMessage((a=>{o((()=>++this.C_==1?this.j_(a):this.onNext(a)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return he(W0,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return r=>{this.Fi.enqueueAndForget((()=>this.b_===e?r():(he(W0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class oD extends K0{constructor(e,r,o,a,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,o,a,h),this.serializer=u}z_(e,r){return this.connection.P_("Listen",e,r)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const r=hI(this.serializer,e),o=(function(a){if(!("targetChange"in a))return Ae.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Ae.min():u.readTime?br(u.readTime):Ae.min()})(e);return this.listener.J_(r,o)}H_(e){const r={};r.database=uf(this.serializer),r.addTarget=(function(a,u){let h;const f=u.target;if(h=Yd(f)?{documents:pI(a,f)}:{query:mI(a,f).Vt},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=T0(a,u.resumeToken);const m=rf(a,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(Ae.min())>0){h.readTime=cc(a,u.snapshotVersion.toTimestamp());const m=rf(a,u.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,e);const o=yI(this.serializer,e);o&&(r.labels=o),this.k_(r)}Y_(e){const r={};r.database=uf(this.serializer),r.removeTarget=e,this.k_(r)}}class sD extends K0{constructor(e,r,o,a,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,o,a,h),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,r){return this.connection.P_("Write",e,r)}j_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const r=fI(e.writeResults,e.commitTime),o=br(e.commitTime);return this.listener.ta(o,r)}na(){const e={};e.database=uf(this.serializer),this.k_(e)}X_(e){const r={streamToken:this.lastStreamToken,writes:e.map((o=>dI(this.serializer,o)))};this.k_(r)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class aD{}class lD extends aD{constructor(e,r,o,a){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=o,this.serializer=a,this.ra=!1}ia(){if(this.ra)throw new be(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,r,o,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Wo(e,sf(r,o),a,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new be(ne.UNKNOWN,u.toString())}))}Jo(e,r,o,a,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,f])=>this.connection.Jo(e,sf(r,o),a,h,f,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new be(ne.UNKNOWN,h.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class uD{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(zr(r),this._a=!1):he("OnlineStateTracker",r)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ao="RemoteStore";class cD{constructor(e,r,o,a,u){this.localStore=e,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo((h=>{o.enqueueAndForget((async()=>{Io(this)&&(he(Ao,"Restarting streams for network reachability change."),await(async function(f){const m=Ie(f);m.Ia.add(4),await il(m),m.Aa.set("Unknown"),m.Ia.delete(4),await pc(m)})(this))}))})),this.Aa=new uD(o,a)}}async function pc(n){if(Io(n))for(const e of n.da)await e(!0)}async function il(n){for(const e of n.da)await e(!1)}function H0(n,e){const r=Ie(n);r.Ta.has(e.targetId)||(r.Ta.set(e.targetId,e),Ef(r)?wf(r):Cs(r).x_()&&bf(r,e))}function vf(n,e){const r=Ie(n),o=Cs(r);r.Ta.delete(e),o.x_()&&X0(r,e),r.Ta.size===0&&(o.x_()?o.B_():Io(r)&&r.Aa.set("Unknown"))}function bf(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const r=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Cs(n).H_(e)}function X0(n,e){n.Ra.$e(e),Cs(n).Y_(e)}function wf(n){n.Ra=new iI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Cs(n).start(),n.Aa.aa()}function Ef(n){return Io(n)&&!Cs(n).M_()&&n.Ta.size>0}function Io(n){return Ie(n).Ia.size===0}function Q0(n){n.Ra=void 0}async function hD(n){n.Aa.set("Online")}async function dD(n){n.Ta.forEach(((e,r)=>{bf(n,e)}))}async function fD(n,e){Q0(n),Ef(n)?(n.Aa.la(e),wf(n)):n.Aa.set("Unknown")}async function pD(n,e,r){if(n.Aa.set("Online"),e instanceof S0&&e.state===2&&e.cause)try{await(async function(o,a){const u=a.cause;for(const h of a.targetIds)o.Ta.has(h)&&(await o.remoteSyncer.rejectListen(h,u),o.Ta.delete(h),o.Ra.removeTarget(h))})(n,e)}catch(o){he(Ao,"Failed to remove targets %s: %s ",e.targetIds.join(","),o),await mc(n,o)}else if(e instanceof lc?n.Ra.Ye(e):e instanceof E0?n.Ra.it(e):n.Ra.et(e),!r.isEqual(Ae.min()))try{const o=await j0(n.localStore);r.compareTo(o)>=0&&await(function(a,u){const h=a.Ra.Pt(u);return h.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const g=a.Ta.get(m);g&&a.Ta.set(m,g.withResumeToken(f.resumeToken,u))}})),h.targetMismatches.forEach(((f,m)=>{const g=a.Ta.get(f);if(!g)return;a.Ta.set(f,g.withResumeToken(Zt.EMPTY_BYTE_STRING,g.snapshotVersion)),X0(a,f);const v=new Li(g.target,f,m,g.sequenceNumber);bf(a,v)})),a.remoteSyncer.applyRemoteEvent(h)})(n,r)}catch(o){he(Ao,"Failed to raise snapshot:",o),await mc(n,o)}}async function mc(n,e,r){if(!bs(e))throw e;n.Ia.add(1),await il(n),n.Aa.set("Offline"),r||(r=()=>j0(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{he(Ao,"Retrying IndexedDB access"),await r(),n.Ia.delete(1),await pc(n)}))}function G0(n,e){return e().catch((r=>mc(n,r,e)))}async function gc(n){const e=Ie(n),r=Ri(e);let o=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Bd;for(;mD(e);)try{const a=await GI(e.localStore,o);if(a===null){e.Pa.length===0&&r.B_();break}o=a.batchId,gD(e,a)}catch(a){await mc(e,a)}Y0(e)&&Z0(e)}function mD(n){return Io(n)&&n.Pa.length<10}function gD(n,e){n.Pa.push(e);const r=Ri(n);r.x_()&&r.Z_&&r.X_(e.mutations)}function Y0(n){return Io(n)&&!Ri(n).M_()&&n.Pa.length>0}function Z0(n){Ri(n).start()}async function yD(n){Ri(n).na()}async function vD(n){const e=Ri(n);for(const r of n.Pa)e.X_(r.mutations)}async function bD(n,e,r){const o=n.Pa.shift(),a=tf.from(o,e,r);await G0(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await gc(n)}async function wD(n,e){e&&Ri(n).Z_&&await(async function(r,o){if((function(a){return nI(a)&&a!==ne.ABORTED})(o.code)){const a=r.Pa.shift();Ri(r).N_(),await G0(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o))),await gc(r)}})(n,e),Y0(n)&&Z0(n)}async function J0(n,e){const r=Ie(n);r.asyncQueue.verifyOperationInProgress(),he(Ao,"RemoteStore received new credentials");const o=Io(r);r.Ia.add(3),await il(r),o&&r.Aa.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ia.delete(3),await pc(r)}async function ED(n,e){const r=Ie(n);e?(r.Ia.delete(2),await pc(r)):e||(r.Ia.add(2),await il(r),r.Aa.set("Unknown"))}function Cs(n){return n.Va||(n.Va=(function(e,r,o){const a=Ie(e);return a.ia(),new oD(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Zo:hD.bind(null,n),e_:dD.bind(null,n),n_:fD.bind(null,n),J_:pD.bind(null,n)}),n.da.push((async e=>{e?(n.Va.N_(),Ef(n)?wf(n):n.Aa.set("Unknown")):(await n.Va.stop(),Q0(n))}))),n.Va}function Ri(n){return n.ma||(n.ma=(function(e,r,o){const a=Ie(e);return a.ia(),new sD(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:yD.bind(null,n),n_:wD.bind(null,n),ea:vD.bind(null,n),ta:bD.bind(null,n)}),n.da.push((async e=>{e?(n.ma.N_(),await gc(n)):(await n.ma.stop(),n.Pa.length>0&&(he(Ao,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Sf{constructor(e,r,o,a,u){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=o,this.op=a,this.removalCallback=u,this.deferred=new xo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,o,a,u){const h=Date.now()+o,f=new Sf(e,r,h,a,u);return f.start(o),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kf(n,e){if(zr("AsyncQueue",`${e}: ${n}`),bs(n))return new be(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class As{static emptySet(e){return new As(e.comparator)}constructor(e){this.comparator=e?(r,o)=>e(r,o)||Ee.comparator(r.key,o.key):(r,o)=>Ee.comparator(r.key,o.key),this.keyedMap=Qa(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,o)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof As)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;r.hasNext();){const a=r.getNext().key,u=o.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const o=new As;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=r,o}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class eb{constructor(){this.fa=new mt(Ee.comparator)}track(e){const r=e.doc.key,o=this.fa.get(r);o?e.type!==0&&o.type===3?this.fa=this.fa.insert(r,e):e.type===3&&o.type!==1?this.fa=this.fa.insert(r,{type:o.type,doc:e.doc}):e.type===2&&o.type===2?this.fa=this.fa.insert(r,{type:2,doc:e.doc}):e.type===2&&o.type===0?this.fa=this.fa.insert(r,{type:0,doc:e.doc}):e.type===1&&o.type===0?this.fa=this.fa.remove(r):e.type===1&&o.type===2?this.fa=this.fa.insert(r,{type:1,doc:o.doc}):e.type===0&&o.type===1?this.fa=this.fa.insert(r,{type:2,doc:e.doc}):xe(63341,{At:e,ga:o}):this.fa=this.fa.insert(r,e)}pa(){const e=[];return this.fa.inorderTraversal(((r,o)=>{e.push(o)})),e}}class Is{constructor(e,r,o,a,u,h,f,m,g){this.query=e,this.docs=r,this.oldDocs=o,this.docChanges=a,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,r,o,a,u){const h=[];return r.forEach((f=>{h.push({type:0,doc:f})})),new Is(e,r,As.emptySet(r),h,o,a,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,o=e.docChanges;if(r.length!==o.length)return!1;for(let a=0;a<r.length;a++)if(r[a].type!==o[a].type||!r[a].doc.isEqual(o[a].doc))return!1;return!0}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class SD{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class kD{constructor(){this.queries=tb(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(e,r){const o=Ie(e),a=o.queries;o.queries=tb(),a.forEach(((u,h)=>{for(const f of h.wa)f.onError(r)}))})(this,new be(ne.ABORTED,"Firestore shutting down"))}}function tb(){return new To((n=>e0(n)),tc)}async function xD(n,e){const r=Ie(n);let o=3;const a=e.query;let u=r.queries.get(a);u?!u.Sa()&&e.ba()&&(o=2):(u=new SD,o=e.ba()?0:1);try{switch(o){case 0:u.ya=await r.onListen(a,!0);break;case 1:u.ya=await r.onListen(a,!1);break;case 2:await r.onFirstRemoteStoreListen(a)}}catch(h){const f=kf(h,`Initialization of query '${Ss(e.query)}' failed`);return void e.onError(f)}r.queries.set(a,u),u.wa.push(e),e.va(r.onlineState),u.ya&&e.Ca(u.ya)&&xf(r)}async function TD(n,e){const r=Ie(n),o=e.query;let a=3;const u=r.queries.get(o);if(u){const h=u.wa.indexOf(e);h>=0&&(u.wa.splice(h,1),u.wa.length===0?a=e.ba()?0:1:!u.Sa()&&e.ba()&&(a=2))}switch(a){case 0:return r.queries.delete(o),r.onUnlisten(o,!0);case 1:return r.queries.delete(o),r.onUnlisten(o,!1);case 2:return r.onLastRemoteStoreUnlisten(o);default:return}}function CD(n,e){const r=Ie(n);let o=!1;for(const a of e){const u=a.query,h=r.queries.get(u);if(h){for(const f of h.wa)f.Ca(a)&&(o=!0);h.ya=a}}o&&xf(r)}function AD(n,e,r){const o=Ie(n),a=o.queries.get(e);if(a)for(const u of a.wa)u.onError(r);o.queries.delete(e)}function xf(n){n.Da.forEach((e=>{e.next()}))}var Tf,nb;(nb=Tf||(Tf={})).Fa="default",nb.Cache="cache";class ID{constructor(e,r,o){this.query=e,this.Ma=r,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=o||{}}Ca(e){if(!this.options.includeMetadataChanges){const o=[];for(const a of e.docChanges)a.type!==3&&o.push(a);e=new Is(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),r=!0):this.Ba(e,this.onlineState)&&(this.La(e),r=!0),this.Oa=e,r}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let r=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),r=!0),r}Ba(e,r){if(!e.fromCache||!this.ba())return!0;const o=r!=="Offline";return(!this.options.ka||!o)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const r=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}La(e){e=Is.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Tf.Cache}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rb{constructor(e){this.key=e}}class ib{constructor(e){this.key=e}}class DD{constructor(e,r){this.query=e,this.Ha=r,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=je(),this.mutatedKeys=je(),this.Xa=t0(e),this.eu=new As(this.Xa)}get tu(){return this.Ha}nu(e,r){const o=r?r.ru:new eb,a=r?r.eu:this.eu;let u=r?r.mutatedKeys:this.mutatedKeys,h=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,E)=>{const x=a.get(v),I=nc(this.query,E)?E:null,V=!!x&&this.mutatedKeys.has(x.key),B=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let j=!1;x&&I?x.data.isEqual(I.data)?V!==B&&(o.track({type:3,doc:I}),j=!0):this.iu(x,I)||(o.track({type:2,doc:I}),j=!0,(m&&this.Xa(I,m)>0||g&&this.Xa(I,g)<0)&&(f=!0)):!x&&I?(o.track({type:0,doc:I}),j=!0):x&&!I&&(o.track({type:1,doc:x}),j=!0,(m||g)&&(f=!0)),j&&(I?(h=h.add(I),u=B?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),o.track({type:1,doc:v})}return{eu:h,ru:o,Ds:f,mutatedKeys:u}}iu(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,o,a){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const h=e.ru.pa();h.sort(((v,E)=>(function(x,I){const V=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{At:B})}};return V(x)-V(I)})(v.type,E.type)||this.Xa(v.doc,E.doc))),this.su(o),a=a!=null&&a;const f=r&&!a?this.ou():[],m=this.Za.size===0&&this.current&&!a?1:0,g=m!==this.Ya;return this.Ya=m,h.length!==0||g?{snapshot:new Is(this.query,e.eu,u,h,e.mutatedKeys,m===0,g,!1,!!o&&o.resumeToken.approximateByteSize()>0),_u:f}:{_u:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new eb,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((r=>this.Ha=this.Ha.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ha=this.Ha.delete(r))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=je(),this.eu.forEach((o=>{this.au(o.key)&&(this.Za=this.Za.add(o.key))}));const r=[];return e.forEach((o=>{this.Za.has(o)||r.push(new ib(o))})),this.Za.forEach((o=>{e.has(o)||r.push(new rb(o))})),r}uu(e){this.Ha=e.qs,this.Za=je();const r=this.nu(e.documents);return this.applyChanges(r,!0)}cu(){return Is.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Cf="SyncEngine";class _D{constructor(e,r,o){this.query=e,this.targetId=r,this.view=o}}class PD{constructor(e){this.key=e,this.lu=!1}}class ND{constructor(e,r,o,a,u,h){this.localStore=e,this.remoteStore=r,this.eventManager=o,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.hu={},this.Pu=new To((f=>e0(f)),tc),this.Tu=new Map,this.Iu=new Set,this.du=new mt(Ee.comparator),this.Eu=new Map,this.Au=new cf,this.Ru={},this.Vu=new Map,this.mu=Ts.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function MD(n,e,r=!0){const o=db(n);let a;const u=o.Pu.get(e);return u?(o.sharedClientState.addLocalQueryTarget(u.targetId),a=u.view.cu()):a=await ob(o,e,r,!0),a}async function LD(n,e){const r=db(n);await ob(r,e,!0,!1)}async function ob(n,e,r,o){const a=await YI(n.localStore,yr(e)),u=a.targetId,h=n.sharedClientState.addLocalQueryTarget(u,r);let f;return o&&(f=await RD(n,e,u,h==="current",a.resumeToken)),n.isPrimaryClient&&r&&H0(n.remoteStore,a),f}async function RD(n,e,r,o,a){n.gu=(E,x,I)=>(async function(V,B,j,Q){let te=B.view.nu(j);te.Ds&&(te=await U0(V.localStore,B.query,!1).then((({documents:ye})=>B.view.nu(ye,te))));const oe=Q&&Q.targetChanges.get(B.targetId),pe=Q&&Q.targetMismatches.get(B.targetId)!=null,le=B.view.applyChanges(te,V.isPrimaryClient,oe,pe);return hb(V,B.targetId,le._u),le.snapshot})(n,E,x,I);const u=await U0(n.localStore,e,!0),h=new DD(e,u.qs),f=h.nu(u.documents),m=rl.createSynthesizedTargetChangeForCurrentChange(r,o&&n.onlineState!=="Offline",a),g=h.applyChanges(f,n.isPrimaryClient,m);hb(n,r,g._u);const v=new _D(e,r,h);return n.Pu.set(e,v),n.Tu.has(r)?n.Tu.get(r).push(e):n.Tu.set(r,[e]),g.snapshot}async function OD(n,e,r){const o=Ie(n),a=o.Pu.get(e),u=o.Tu.get(a.targetId);if(u.length>1)return o.Tu.set(a.targetId,u.filter((h=>!tc(h,e)))),void o.Pu.delete(e);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(a.targetId),o.sharedClientState.isActiveQueryTarget(a.targetId)||await pf(o.localStore,a.targetId,!1).then((()=>{o.sharedClientState.clearQueryState(a.targetId),r&&vf(o.remoteStore,a.targetId),Af(o,a.targetId)})).catch(vs)):(Af(o,a.targetId),await pf(o.localStore,a.targetId,!0))}async function FD(n,e){const r=Ie(n),o=r.Pu.get(e),a=r.Tu.get(o.targetId);r.isPrimaryClient&&a.length===1&&(r.sharedClientState.removeLocalQueryTarget(o.targetId),vf(r.remoteStore,o.targetId))}async function VD(n,e,r){const o=WD(n);try{const a=await(function(u,h){const f=Ie(u),m=ut.now(),g=h.reduce(((x,I)=>x.add(I.key)),je());let v,E;return f.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let I=qr(),V=je();return f.Os.getEntries(x,g).next((B=>{I=B,I.forEach(((j,Q)=>{Q.isValidDocument()||(V=V.add(j))}))})).next((()=>f.localDocuments.getOverlayedDocuments(x,I))).next((B=>{v=B;const j=[];for(const Q of h){const te=YA(Q,v.get(Q.key).overlayedDocument);te!=null&&j.push(new Mi(Q.key,te,Bv(te.value.mapValue),vr.exists(!0)))}return f.mutationQueue.addMutationBatch(x,m,j,h)})).next((B=>{E=B;const j=B.applyToLocalDocumentSet(v,V);return f.documentOverlayCache.saveOverlays(x,B.batchId,j)}))})).then((()=>({batchId:E.batchId,changes:r0(v)})))})(o.localStore,e);o.sharedClientState.addPendingMutation(a.batchId),(function(u,h,f){let m=u.Ru[u.currentUser.toKey()];m||(m=new mt(Me)),m=m.insert(h,f),u.Ru[u.currentUser.toKey()]=m})(o,a.batchId,r),await ol(o,a.changes),await gc(o.remoteStore)}catch(a){const u=kf(a,"Failed to persist write");r.reject(u)}}async function sb(n,e){const r=Ie(n);try{const o=await XI(r.localStore,e);e.targetChanges.forEach(((a,u)=>{const h=r.Eu.get(u);h&&(Ge(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?h.lu=!0:a.modifiedDocuments.size>0?Ge(h.lu,14607):a.removedDocuments.size>0&&(Ge(h.lu,42227),h.lu=!1))})),await ol(r,o,e)}catch(o){await vs(o)}}function ab(n,e,r){const o=Ie(n);if(o.isPrimaryClient&&r===0||!o.isPrimaryClient&&r===1){const a=[];o.Pu.forEach(((u,h)=>{const f=h.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(u,h){const f=Ie(u);f.onlineState=h;let m=!1;f.queries.forEach(((g,v)=>{for(const E of v.wa)E.va(h)&&(m=!0)})),m&&xf(f)})(o.eventManager,e),a.length&&o.hu.J_(a),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}async function jD(n,e,r){const o=Ie(n);o.sharedClientState.updateQueryState(e,"rejected",r);const a=o.Eu.get(e),u=a&&a.key;if(u){let h=new mt(Ee.comparator);h=h.insert(u,cn.newNoDocument(u,Ae.min()));const f=je().add(u),m=new ac(Ae.min(),new Map,new mt(Me),h,f);await sb(o,m),o.du=o.du.remove(u),o.Eu.delete(e),If(o)}else await pf(o.localStore,e,!1).then((()=>Af(o,e,r))).catch(vs)}async function UD(n,e){const r=Ie(n),o=e.batch.batchId;try{const a=await HI(r.localStore,e);ub(r,o,null),lb(r,o),r.sharedClientState.updateMutationState(o,"acknowledged"),await ol(r,a)}catch(a){await vs(a)}}async function zD(n,e,r){const o=Ie(n);try{const a=await(function(u,h){const f=Ie(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let g;return f.mutationQueue.lookupMutationBatch(m,h).next((v=>(Ge(v!==null,37113),g=v.keys(),f.mutationQueue.removeMutationBatch(m,v)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,g,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g))).next((()=>f.localDocuments.getDocuments(m,g)))}))})(o.localStore,e);ub(o,e,r),lb(o,e),o.sharedClientState.updateMutationState(e,"rejected",r),await ol(o,a)}catch(a){await vs(a)}}function lb(n,e){(n.Vu.get(e)||[]).forEach((r=>{r.resolve()})),n.Vu.delete(e)}function ub(n,e,r){const o=Ie(n);let a=o.Ru[o.currentUser.toKey()];if(a){const u=a.get(e);u&&(r?u.reject(r):u.resolve(),a=a.remove(e)),o.Ru[o.currentUser.toKey()]=a}}function Af(n,e,r=null){n.sharedClientState.removeLocalQueryTarget(e);for(const o of n.Tu.get(e))n.Pu.delete(o),r&&n.hu.pu(o,r);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach((o=>{n.Au.containsKey(o)||cb(n,o)}))}function cb(n,e){n.Iu.delete(e.path.canonicalString());const r=n.du.get(e);r!==null&&(vf(n.remoteStore,r),n.du=n.du.remove(e),n.Eu.delete(r),If(n))}function hb(n,e,r){for(const o of r)o instanceof rb?(n.Au.addReference(o.key,e),qD(n,o)):o instanceof ib?(he(Cf,"Document no longer in limbo: "+o.key),n.Au.removeReference(o.key,e),n.Au.containsKey(o.key)||cb(n,o.key)):xe(19791,{yu:o})}function qD(n,e){const r=e.key,o=r.path.canonicalString();n.du.get(r)||n.Iu.has(o)||(he(Cf,"New document in limbo: "+r),n.Iu.add(o),If(n))}function If(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const r=new Ee(lt.fromString(e)),o=n.mu.next();n.Eu.set(o,new PD(r)),n.du=n.du.insert(r,o),H0(n.remoteStore,new Li(yr(Zd(r.path)),o,"TargetPurposeLimboResolution",qu.ue))}}async function ol(n,e,r){const o=Ie(n),a=[],u=[],h=[];o.Pu.isEmpty()||(o.Pu.forEach(((f,m)=>{h.push(o.gu(m,e,r).then((g=>{var v;if((g||r)&&o.isPrimaryClient){const E=g?!g.fromCache:(v=r==null?void 0:r.targetChanges.get(m.targetId))===null||v===void 0?void 0:v.current;o.sharedClientState.updateQueryState(m.targetId,E?"current":"not-current")}if(g){a.push(g);const E=df.Es(m.targetId,g);u.push(E)}})))})),await Promise.all(h),o.hu.J_(a),await(async function(f,m){const g=Ie(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>J.forEach(m,(E=>J.forEach(E.Is,(x=>g.persistence.referenceDelegate.addReference(v,E.targetId,x))).next((()=>J.forEach(E.ds,(x=>g.persistence.referenceDelegate.removeReference(v,E.targetId,x)))))))))}catch(v){if(!bs(v))throw v;he(ff,"Failed to update sequence numbers: "+v)}for(const v of m){const E=v.targetId;if(!v.fromCache){const x=g.Fs.get(E),I=x.snapshotVersion,V=x.withLastLimboFreeSnapshotVersion(I);g.Fs=g.Fs.insert(E,V)}}})(o.localStore,u))}async function BD(n,e){const r=Ie(n);if(!r.currentUser.isEqual(e)){he(Cf,"User change. New user:",e.toKey());const o=await V0(r.localStore,e);r.currentUser=e,(function(a,u){a.Vu.forEach((h=>{h.forEach((f=>{f.reject(new be(ne.CANCELLED,u))}))})),a.Vu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),await ol(r,o.Bs)}}function $D(n,e){const r=Ie(n),o=r.Eu.get(e);if(o&&o.lu)return je().add(o.key);{let a=je();const u=r.Tu.get(e);if(!u)return a;for(const h of u){const f=r.Pu.get(h);a=a.unionWith(f.view.tu)}return a}}function db(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=sb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$D.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jD.bind(null,e),e.hu.J_=CD.bind(null,e.eventManager),e.hu.pu=AD.bind(null,e.eventManager),e}function WD(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zD.bind(null,e),e}class yc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=fc(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,r){return null}Fu(e,r){return null}vu(e){return KI(this.persistence,new BI,e.initialUser,this.serializer)}Du(e){return new F0(hf.Vi,this.serializer)}bu(e){return new JI}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yc.provider={build:()=>new yc};class KD extends yc{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,r){Ge(this.persistence.referenceDelegate instanceof hc,46915);const o=this.persistence.referenceDelegate.garbageCollector;return new II(o,e.asyncQueue,r)}Du(e){const r=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new F0((o=>hc.Vi(o,r)),this.serializer)}}class Df{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=o=>ab(this.syncEngine,o,1),this.remoteStore.remoteSyncer.handleCredentialChange=BD.bind(null,this.syncEngine),await ED(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new kD})()}createDatastore(e){const r=fc(e.databaseInfo.databaseId),o=(function(a){return new iD(a)})(e.databaseInfo);return(function(a,u,h,f){return new lD(a,u,h,f)})(e.authCredentials,e.appCheckCredentials,o,r)}createRemoteStore(e){return(function(r,o,a,u,h){return new cD(r,o,a,u,h)})(this.localStore,this.datastore,e.asyncQueue,(r=>ab(this.syncEngine,r,0)),(function(){return B0.C()?new B0:new eD})())}createSyncEngine(e,r){return(function(o,a,u,h,f,m,g){const v=new ND(o,a,u,h,f,m);return g&&(v.fu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await(async function(o){const a=Ie(o);he(Ao,"RemoteStore shutting down."),a.Ia.add(5),await il(a),a.Ea.shutdown(),a.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Df.provider={build:()=>new Df};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class HD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):zr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Oi="FirestoreClient";class XD{constructor(e,r,o,a,u){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=a,this.user=un.UNAUTHENTICATED,this.clientId=Ud.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(o,(async h=>{he(Oi,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(o,(h=>(he(Oi,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const o=kf(r,"Failed to shutdown persistence");e.reject(o)}})),e.promise}}async function _f(n,e){n.asyncQueue.verifyOperationInProgress(),he(Oi,"Initializing OfflineComponentProvider");const r=n.configuration;await e.initialize(r);let o=r.initialUser;n.setCredentialChangeListener((async a=>{o.isEqual(a)||(await V0(e.localStore,a),o=a)})),e.persistence.setDatabaseDeletedListener((()=>{Ci("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then((()=>{he("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((a=>{Ci("Terminating Firestore due to IndexedDb database deletion failed",a)}))})),n._offlineComponents=e}async function fb(n,e){n.asyncQueue.verifyOperationInProgress();const r=await QD(n);he(Oi,"Initializing OnlineComponentProvider"),await e.initialize(r,n.configuration),n.setCredentialChangeListener((o=>J0(e.remoteStore,o))),n.setAppCheckTokenChangeListener(((o,a)=>J0(e.remoteStore,a))),n._onlineComponents=e}async function QD(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){he(Oi,"Using user provided OfflineComponentProvider");try{await _f(n,n._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(r))throw r;Ci("Error using user provided cache. Falling back to memory cache: "+r),await _f(n,new yc)}}else he(Oi,"Using default OfflineComponentProvider"),await _f(n,new KD(void 0));return n._offlineComponents}async function pb(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(he(Oi,"Using user provided OnlineComponentProvider"),await fb(n,n._uninitializedComponentsProvider._online)):(he(Oi,"Using default OnlineComponentProvider"),await fb(n,new Df))),n._onlineComponents}function GD(n){return pb(n).then((e=>e.syncEngine))}async function mb(n){const e=await pb(n),r=e.eventManager;return r.onListen=MD.bind(null,e.syncEngine),r.onUnlisten=OD.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=LD.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=FD.bind(null,e.syncEngine),r}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function gb(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const yb=new Map;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const vb="firestore.googleapis.com",bb=!0;class wb{constructor(e){var r,o;if(e.host===void 0){if(e.ssl!==void 0)throw new be(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vb,this.ssl=bb}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:bb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=L0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<CI)throw new be(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gb((o=e.experimentalLongPollingOptions)!==null&&o!==void 0?o:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new be(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new be(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new be(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vc{constructor(e,r,o,a){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=o,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new tA;switch(r.type){case"firstParty":return new oA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new be(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const r=yb.get(e);r&&(he("ComponentProvider","Removing Datastore"),yb.delete(e),r.terminate())})(this),Promise.resolve()}}function YD(n,e,r,o={}){var a;n=Ai(n,vc);const u=md(e),h=n._getSettings(),f=Object.assign(Object.assign({},h),{emulatorOptions:n._getEmulatorOptions()}),m=`${e}:${r}`;u&&(cx(`https://${m}`),px("Firestore",!0)),h.host!==vb&&h.host!==m&&Ci("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},h),{host:m,ssl:u,emulatorOptions:o});if(!Fa(g,f)&&(n._setSettings(g),o.mockUserToken)){let v,E;if(typeof o.mockUserToken=="string")v=o.mockUserToken,E=un.MOCK_USER;else{v=hx(o.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const x=o.mockUserToken.sub||o.mockUserToken.user_id;if(!x)throw new be(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new un(x)}n._authCredentials=new nA(new gv(v,E))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class bc{constructor(e,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new bc(this.firestore,e,this._query)}}class _t{constructor(e,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _t(this.firestore,e,this._key)}toJSON(){return{type:_t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,o){if(qa(r,_t._jsonSchema))return new _t(e,o||null,new Ee(lt.fromString(r.referencePath)))}}_t._jsonSchemaVersion="firestore/documentReference/1.0",_t._jsonSchema={type:It("string",_t._jsonSchemaVersion),referencePath:It("string")};class Fi extends bc{constructor(e,r,o){super(e,r,Zd(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _t(this.firestore,null,new Ee(e))}withConverter(e){return new Fi(this.firestore,e,this._path)}}function ZD(n,e,...r){if(n=or(n),Ev("collection","path",e),n instanceof vc){const o=lt.fromString(e,...r);return kv(o),new Fi(n,null,o)}{if(!(n instanceof _t||n instanceof Fi))throw new be(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=n._path.child(lt.fromString(e,...r));return kv(o),new Fi(n.firestore,null,o)}}function wc(n,e,...r){if(n=or(n),arguments.length===1&&(e=Ud.newId()),Ev("doc","path",e),n instanceof vc){const o=lt.fromString(e,...r);return Sv(o),new _t(n,null,new Ee(o))}{if(!(n instanceof _t||n instanceof Fi))throw new be(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=n._path.child(lt.fromString(e,...r));return Sv(o),new _t(n.firestore,n instanceof Fi?n.converter:null,new Ee(o))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Eb="AsyncQueue";class Sb{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new $0(this,"async_queue_retry"),this.oc=()=>{const o=yf();o&&he(Eb,"Visibility state changed to "+o.visibilityState),this.F_.y_()},this._c=e;const r=yf();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const r=yf();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const r=new xo;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!bs(e))throw e;he(Eb,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const r=this._c.then((()=>(this.nc=!0,e().catch((o=>{throw this.tc=o,this.nc=!1,zr("INTERNAL UNHANDLED ERROR: ",kb(o)),o})).then((o=>(this.nc=!1,o))))));return this._c=r,r}enqueueAfterDelay(e,r,o){this.ac(),this.sc.indexOf(e)>-1&&(r=0);const a=Sf.createAndSchedule(this,e,r,o,(u=>this.lc(u)));return this.ec.push(a),a}ac(){this.tc&&xe(47125,{hc:kb(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const r of this.ec)if(r.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((r,o)=>r.targetTimeMs-o.targetTimeMs));for(const r of this.ec)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const r=this.ec.indexOf(e);this.ec.splice(r,1)}}function kb(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function xb(n){return(function(e,r){if(typeof e!="object"||e===null)return!1;const o=e;for(const a of r)if(a in o&&typeof o[a]=="function")return!0;return!1})(n,["next","error","complete"])}class sl extends vc{constructor(e,r,o,a){super(e,r,o,a),this.type="firestore",this._queue=new Sb,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Sb(e),this._firestoreClient=void 0,await e}}}function JD(n,e){const r=typeof n=="object"?n:ky(),o=typeof n=="string"?n:Hu,a=Va(r,"firestore").getImmediate({identifier:o});if(!a._initialized){const u=lx("firestore");u&&YD(a,...u)}return a}function Tb(n){if(n._terminated)throw new be(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||e_(n),n._firestoreClient}function e_(n){var e,r,o;const a=n._freezeSettings(),u=(function(h,f,m,g){return new EA(h,f,m,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,gb(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((r=a.localCache)===null||r===void 0)&&r._offlineComponentProvider&&!((o=a.localCache)===null||o===void 0)&&o._onlineComponentProvider&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new XD(n._authCredentials,n._appCheckCredentials,n._queue,u,n._componentsProvider&&(function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}})(n._componentsProvider))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qn(Zt.fromBase64String(e))}catch(r){throw new be(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new qn(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(qa(e,qn._jsonSchema))return qn.fromBase64String(e.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:It("string",qn._jsonSchemaVersion),bytes:It("string")};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ec{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new be(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Sc{constructor(e){this._methodName=e}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class wr{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new be(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new be(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wr._jsonSchemaVersion}}static fromJSON(e){if(qa(e,wr._jsonSchema))return new wr(e.latitude,e.longitude)}}wr._jsonSchemaVersion="firestore/geoPoint/1.0",wr._jsonSchema={type:It("string",wr._jsonSchemaVersion),latitude:It("number"),longitude:It("number")};/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Er{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Er._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(qa(e,Er._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((r=>typeof r=="number")))return new Er(e.vectorValues);throw new be(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Er._jsonSchemaVersion="firestore/vectorValue/1.0",Er._jsonSchema={type:It("string",Er._jsonSchemaVersion),vectorValues:It("object")};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const t_=/^__.*__$/;class n_{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return this.fieldMask!==null?new Mi(e,this.data,this.fieldMask,r,this.fieldTransforms):new tl(e,this.data,r,this.fieldTransforms)}}class Cb{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return new Mi(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function Ab(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ec:n})}}class Pf{constructor(e,r,o,a,u,h){this.settings=e,this.databaseId=r,this.serializer=o,this.ignoreUndefinedProperties=a,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Pf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var r;const o=(r=this.path)===null||r===void 0?void 0:r.child(e),a=this.Rc({path:o,mc:!1});return a.fc(e),a}gc(e){var r;const o=(r=this.path)===null||r===void 0?void 0:r.child(e),a=this.Rc({path:o,mc:!1});return a.Ac(),a}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Tc(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(Ab(this.Ec)&&t_.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class r_{constructor(e,r,o){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=o||fc(e)}Dc(e,r,o,a=!1){return new Pf({Ec:e,methodName:r,bc:o,path:Gt.emptyPath(),mc:!1,Sc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ib(n){const e=n._freezeSettings(),r=fc(n._databaseId);return new r_(n._databaseId,!!e.ignoreUndefinedProperties,r)}function i_(n,e,r,o,a,u={}){const h=n.Dc(u.merge||u.mergeFields?2:0,e,r,a);Mf("Data must be an object, but it was:",h,o);const f=Db(o,h);let m,g;if(u.merge)m=new _n(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const v=[];for(const E of u.mergeFields){const x=Lf(e,E,r);if(!h.contains(x))throw new be(ne.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);Pb(v,x)||v.push(x)}m=new _n(v),g=h.fieldTransforms.filter((E=>m.covers(E.field)))}else m=null,g=h.fieldTransforms;return new n_(new kn(f),m,g)}class kc extends Sc{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kc}}class Nf extends Sc{constructor(e,r){super(e),this.Cc=r}_toFieldTransform(e){const r=new Ja(e.serializer,s0(e.serializer,this.Cc));return new HA(e.path,r)}isEqual(e){return e instanceof Nf&&this.Cc===e.Cc}}function o_(n,e,r,o){const a=n.Dc(1,e,r);Mf("Data must be an object, but it was:",a,o);const u=[],h=kn.empty();Di(o,((m,g)=>{const v=Rf(e,m,r);g=or(g);const E=a.gc(v);if(g instanceof kc)u.push(v);else{const x=xc(g,E);x!=null&&(u.push(v),h.set(v,x))}}));const f=new _n(u);return new Cb(h,f,a.fieldTransforms)}function s_(n,e,r,o,a,u){const h=n.Dc(1,e,r),f=[Lf(e,o,r)],m=[a];if(u.length%2!=0)throw new be(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<u.length;x+=2)f.push(Lf(e,u[x])),m.push(u[x+1]);const g=[],v=kn.empty();for(let x=f.length-1;x>=0;--x)if(!Pb(g,f[x])){const I=f[x];let V=m[x];V=or(V);const B=h.gc(I);if(V instanceof kc)g.push(I);else{const j=xc(V,B);j!=null&&(g.push(I),v.set(I,j))}}const E=new _n(g);return new Cb(v,E,h.fieldTransforms)}function xc(n,e){if(_b(n=or(n)))return Mf("Unsupported field value:",e,n),Db(n,e);if(n instanceof Sc)return(function(r,o){if(!Ab(o.Ec))throw o.wc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,o){const a=[];let u=0;for(const h of r){let f=xc(h,o.yc(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}})(n,e)}return(function(r,o){if((r=or(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return s0(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=ut.fromDate(r);return{timestampValue:cc(o.serializer,a)}}if(r instanceof ut){const a=new ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:cc(o.serializer,a)}}if(r instanceof wr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qn)return{bytesValue:T0(o.serializer,r._byteString)};if(r instanceof _t){const a=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw o.wc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:of(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Er)return(function(a,u){return{mapValue:{fields:{[Fv]:{stringValue:Vv},[Qu]:{arrayValue:{values:a.toArray().map((h=>{if(typeof h!="number")throw u.wc("VectorValues must only contain numeric values.");return ef(u.serializer,h)}))}}}}}})(r,o);throw o.wc(`Unsupported field value: ${qd(r)}`)})(n,e)}function Db(n,e){const r={};return _v(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Di(n,((o,a)=>{const u=xc(a,e.Vc(o));u!=null&&(r[o]=u)})),{mapValue:{fields:r}}}function _b(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ut||n instanceof wr||n instanceof qn||n instanceof _t||n instanceof Sc||n instanceof Er)}function Mf(n,e,r){if(!_b(r)||!xv(r)){const o=qd(r);throw o==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+o)}}function Lf(n,e,r){if((e=or(e))instanceof Ec)return e._internalPath;if(typeof e=="string")return Rf(n,e);throw Tc("Field path arguments must be of type string or ",n,!1,void 0,r)}const a_=new RegExp("[~\\*/\\[\\]]");function Rf(n,e,r){if(e.search(a_)>=0)throw Tc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,r);try{return new Ec(...e.split("."))._internalPath}catch{throw Tc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,r)}}function Tc(n,e,r,o,a){const u=o&&!o.isEmpty(),h=a!==void 0;let f=`Function ${e}() called with invalid data`;r&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(u||h)&&(m+=" (found",u&&(m+=` in field ${o}`),h&&(m+=` in document ${a}`),m+=")"),new be(ne.INVALID_ARGUMENT,f+n+m)}function Pb(n,e){return n.some((r=>r.isEqual(e)))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Nb{constructor(e,r,o,a,u){this._firestore=e,this._userDataWriter=r,this._key=o,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new _t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new l_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Mb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class l_ extends Nb{data(){return super.data()}}function Mb(n,e){return typeof e=="string"?Rf(n,e):e instanceof Ec?e._internalPath:e._delegate._internalPath}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function u_(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new be(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class c_{convertValue(e,r="none"){switch(Ni(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Pi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const o={};return Di(e,((a,u)=>{o[a]=this.convertValue(u,r)})),o}convertVectorValue(e){var r,o,a;const u=(a=(o=(r=e.fields)===null||r===void 0?void 0:r[Qu].arrayValue)===null||o===void 0?void 0:o.values)===null||a===void 0?void 0:a.map((h=>kt(h.doubleValue)));return new Er(u)}convertGeoPoint(e){return new wr(kt(e.latitude),kt(e.longitude))}convertArray(e,r){return(e.values||[]).map((o=>this.convertValue(o,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const o=Ku(e);return o==null?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp($a(e));default:return null}}convertTimestamp(e){const r=_i(e);return new ut(r.seconds,r.nanos)}convertDocumentKey(e,r){const o=lt.fromString(e);Ge(N0(o),9688,{name:e});const a=new Wa(o.get(1),o.get(3)),u=new Ee(o.popFirst(5));return a.isEqual(r)||zr(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),u}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function h_(n,e,r){let o;return o=n?n.toFirestore(e):e,o}class al{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Do extends Nb{constructor(e,r,o,a,u,h){super(e,r,o,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Cc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const o=this._document.data.field(Mb("DocumentSnapshot.get",e));if(o!==null)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new be(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=Do._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()||(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED")),r}}Do._jsonSchemaVersion="firestore/documentSnapshot/1.0",Do._jsonSchema={type:It("string",Do._jsonSchemaVersion),bundleSource:It("string","DocumentSnapshot"),bundleName:It("string"),bundle:It("string")};class Cc extends Do{data(e={}){return super.data(e)}}class Ds{constructor(e,r,o,a){this._firestore=e,this._userDataWriter=r,this._snapshot=a,this.metadata=new al(a.hasPendingWrites,a.fromCache),this.query=o}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((o=>{e.call(r,new Cc(this._firestore,this._userDataWriter,o.key,o,new al(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new be(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((h=>{const f=new Cc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new al(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((h=>a||h.type!==3)).map((h=>{const f=new Cc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new al(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,g=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),g=u.indexOf(h.doc.key)),{type:d_(h.type),doc:f,oldIndex:m,newIndex:g}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new be(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ds._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ud.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],o=[],a=[];return this.docs.forEach((u=>{u._document!==null&&(r.push(u._document),o.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),a.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function d_(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:n})}}Ds._jsonSchemaVersion="firestore/querySnapshot/1.0",Ds._jsonSchema={type:It("string",Ds._jsonSchemaVersion),bundleSource:It("string","QuerySnapshot"),bundleName:It("string"),bundle:It("string")};class Lb extends c_{constructor(e){super(),this.firestore=e}convertBytes(e){return new qn(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,r)}}function Rb(n,e,r){n=Ai(n,_t);const o=Ai(n.firestore,sl),a=h_(n.converter,e);return Fb(o,[i_(Ib(o),"setDoc",n._key,a,n.converter!==null,r).toMutation(n._key,vr.none())])}function Ob(n,e,r,...o){n=Ai(n,_t);const a=Ai(n.firestore,sl),u=Ib(a);let h;return h=typeof(e=or(e))=="string"||e instanceof Ec?s_(u,"updateDoc",n._key,e,r,o):o_(u,"updateDoc",n._key,e),Fb(a,[h.toMutation(n._key,vr.exists(!0))])}function f_(n,...e){var r,o,a;n=or(n);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||xb(e[h])||(u=e[h++]);const f={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(xb(e[h])){const E=e[h];e[h]=(r=E.next)===null||r===void 0?void 0:r.bind(E),e[h+1]=(o=E.error)===null||o===void 0?void 0:o.bind(E),e[h+2]=(a=E.complete)===null||a===void 0?void 0:a.bind(E)}let m,g,v;if(n instanceof _t)g=Ai(n.firestore,sl),v=Zd(n._key.path),m={next:E=>{e[h]&&e[h](p_(g,n,E))},error:e[h+1],complete:e[h+2]};else{const E=Ai(n,bc);g=Ai(E.firestore,sl),v=E._query;const x=new Lb(g);m={next:I=>{e[h]&&e[h](new Ds(g,x,E,I))},error:e[h+1],complete:e[h+2]},u_(n._query)}return(function(E,x,I,V){const B=new HD(V),j=new ID(x,B,I);return E.asyncQueue.enqueueAndForget((async()=>xD(await mb(E),j))),()=>{B.Ou(),E.asyncQueue.enqueueAndForget((async()=>TD(await mb(E),j)))}})(Tb(g),v,f,m)}function Fb(n,e){return(function(r,o){const a=new xo;return r.asyncQueue.enqueueAndForget((async()=>VD(await GD(r),o,a))),a.promise})(Tb(n),e)}function p_(n,e,r){const o=r.docs.get(e._key),a=new Lb(n);return new Do(n,a,e._key,o,new al(r.hasPendingWrites,r.fromCache),e.converter)}function _s(n){return new Nf("increment",n)}(function(n,e=!0){(function(r){ms=r})(kT),ki(new jr("firestore",((r,{instanceIdentifier:o,options:a})=>{const u=r.getProvider("app").getImmediate(),h=new sl(new rA(r.getProvider("auth-internal")),new sA(u,r.getProvider("app-check-internal")),(function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new be(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wa(f.options.projectId,m)})(u,o),u);return a=Object.assign({useFetchStreams:e},a),h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),fr(fv,pv,n),fr(fv,pv,"esm2017")})();const Vb={apiKey:"AIzaSyBDD29_0DyHGF2J6804sOothQileESrLuA",authDomain:"fragen-katalog.firebaseapp.com",projectId:"fragen-katalog",storageBucket:"fragen-katalog.firebasestorage.app",messagingSenderId:"208859056966",appId:"1:208859056966:web:039f86d0b8722e4395f347",measurementId:"G-STMLG4PCQ1"},jb=Sy(Vb),ll=JD(jb),m_=()=>YC().then(n=>{if(n){let e=function(){window.dataLayer.push(arguments)};const r=QC(jb);return window.dataLayer=window.dataLayer||[],e("js",new Date),e("config",Vb.measurementId,{debug_mode:!0}),console.log("📈 Firebase Analytics initialized with debug_mode"),r}else return console.warn("⚠️ Firebase Analytics not supported on this device."),null});function g_({question:n,answers:e,correctIndex:r,selectedAnswer:o,onSelectAnswer:a,id:u,imageId:h}){const[f,m]=ge.useState(!1);if(ge.useEffect(()=>{const v=E=>{E.key==="Escape"&&m(!1)};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[]),!n||!e||e.length===0)return ie.jsx("p",{className:"text-base",children:"Loading question..."});const g=h?`/images/${h}.png`:null;return ie.jsxs(ie.Fragment,{children:[ie.jsxs("div",{className:"flashcard",children:[ie.jsxs("div",{className:"question-section",children:[g&&ie.jsx("img",{src:g,alt:`Bild zur Frage ${u}`,className:"question-image",onClick:()=>m(!0)}),ie.jsx("p",{className:"question-text text-base font-medium mb-4 mt-2",children:n}),ie.jsx("div",{className:"answer-list",children:e.map((v,E)=>{const x=o!==null,I=E===r,V=E===o;let B="answer-button text-base";return x&&(I?B+=" correct":V&&(B+=" wrong")),ie.jsx("button",{className:B,onClick:j=>{j.preventDefault(),a(E)},disabled:x,children:v},E)})})]}),ie.jsxs("div",{className:"question-meta text-sm text-muted-light",children:["Frage #",u]})]}),f&&g&&ie.jsx("div",{className:"lightbox-overlay",onClick:()=>m(!1),children:ie.jsx("img",{src:g,alt:`Frage ${u} groß`,className:"lightbox-image",onClick:v=>v.stopPropagation()})})]})}function Pn(n,e={}){m_().then(r=>{r?(rv(r,n,e),console.log(`📊 Logged: ${n}`,e)):console.warn(`⚠️ Analytics not initialized – could not log ${n}`)})}function Ub({variant:n="soft",style:e={},className:r="",fullWidth:o=!1}){const a=()=>{Pn("support_this_project_clicked"),window.open("https://www.buymeacoffee.com/roiesh","_blank")},u={padding:"12px 20px",borderRadius:"12px",fontWeight:"500",fontSize:"15px",border:"none",cursor:"pointer",display:"inline-block",padding:"12px 20px",maxWidth:"90vw",whiteSpace:"nowrap",textAlign:"center",transition:"all 0.2s ease",zindex:1e3,...e},h=n==="modal"?{backgroundColor:"var(--color-primary)",color:"white"}:{backgroundColor:"#f2f7fc",color:"var(--color-primary)",boxShadow:"0 2px 6px rgba(0,0,0,0.08)"};return ie.jsx("button",{onClick:a,className:`support-button ${r}`,style:{...u,...h},children:ie.jsxs("span",{style:{display:"inline-block",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:"15px"},children:[ie.jsx("span",{role:"img","aria-label":"heart",children:"❤️"})," Support this project"]})})}function y_({onClose:n}){const[e,r]=ge.useState("de"),o=h=>{h.target.classList.contains("about-modal-overlay")&&(Pn("modal_closed_without_click",{modal:"about"}),u())},a=h=>{r(h)},u=()=>{Pn("about_language_read",{language:e}),n()};return ie.jsx("div",{className:"about-modal-overlay",onClick:o,children:ie.jsxs("div",{className:"about-modal overflow-y-auto max-h-[90vh] flex flex-col relative pb-[180px]",children:[ie.jsxs("div",{className:"w-full flex justify-between items-center px-4 mb-4",children:[ie.jsxs("h2",{className:"text-xl font-bold flex items-center gap-4",children:["Über",ie.jsxs("span",{className:"flex gap-2",children:[ie.jsx("button",{onClick:()=>a("de"),style:{fontSize:"18px",background:"none",border:"none",cursor:"pointer",opacity:e==="de"?1:.4},"aria-label":"Deutsch",children:"🇩🇪"}),ie.jsx("button",{onClick:()=>a("en"),style:{fontSize:"18px",background:"none",border:"none",cursor:"pointer",opacity:e==="en"?1:.4},"aria-label":"English",children:"🇬🇧"})]})]}),ie.jsx("button",{className:"close-button",onClick:u,children:"×"})]}),ie.jsx("div",{className:"max-w-prose w-full px-4 text-center",children:e==="de"?ie.jsxs("p",{className:"text-base",children:[ie.jsx("span",{className:"text-base font-semibold",children:"Diese Seite enthält alle offiziellen Fragen und Antworten für den Einbürgerungstest in Berlin."}),ie.jsx("br",{}),"Ich habe diese Website als Lernhilfe für den Einbürgerungstest „Leben in Deutschland“ erstellt. Die Fragen basieren auf dem offiziellen Fragenkatalog der Bundeszentrale für politische Bildung – inklusive des landesspezifischen Teils für Berlin. Ich übernehme keine Gewähr für Richtigkeit oder Aktualität. Dies ist ein rein privates Nebenprojekt – keine Anmeldung, keine Werbung, keine Verbindung zu staatlichen Stellen.",ie.jsx("br",{}),"Diese Website verwendet Google Analytics, um anonyme Nutzungsstatistiken zu erfassen. Es werden keine persönlichen Daten gespeichert oder weitergegeben."]}):ie.jsxs("p",{className:"text-base",children:[ie.jsx("span",{className:"text-base font-semibold",children:"This site includes all official questions and answers for the Berlin naturalization test."}),ie.jsx("br",{}),ie.jsx("br",{}),"I built this website as a personal study tool for the “Leben in Deutschland” naturalization test. The questions are based on the official public catalog — including the state-specific questions for Berlin. Some states have different regional questions. I can’t guarantee accuracy or updates. This is a private side project — no login, no ads, no government affiliation.",ie.jsx("br",{}),ie.jsx("br",{}),"This site uses Google Analytics to collect anonymous usage data. No personal data is stored or shared."]})}),ie.jsxs("div",{style:{position:"absolute",bottom:"40px",left:"50%",transform:"translateX(-50%)",display:"flex",flexDirection:"column",alignItems:"center",width:"90%",gap:"30px"},children:[ie.jsx("a",{href:"mailto:fragen@fragen-katalog.com",className:"text-base text-center",style:{textDecoration:"underline",color:"var(--color-primary)",fontWeight:500},children:"fragen@fragen-katalog.com"}),ie.jsx(Ub,{fullWidth:!0,variant:"modal",style:{whiteSpace:"nowrap"}})]})]})})}const zb=ge.createContext({});function v_(n){const e=ge.useRef(null);return e.current===null&&(e.current=n()),e.current}const Of=typeof window<"u",b_=Of?ge.useLayoutEffect:ge.useEffect,Ff=ge.createContext(null);function Vf(n,e){n.indexOf(e)===-1&&n.push(e)}function jf(n,e){const r=n.indexOf(e);r>-1&&n.splice(r,1)}const Br=(n,e,r)=>r>e?e:r<n?n:r;let Uf=()=>{};const $r={},qb=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function Bb(n){return typeof n=="object"&&n!==null}const $b=n=>/^0[^.\s]+$/u.test(n);function zf(n){let e;return()=>(e===void 0&&(e=n()),e)}const Bn=n=>n,w_=(n,e)=>r=>e(n(r)),ul=(...n)=>n.reduce(w_),cl=(n,e,r)=>{const o=e-n;return o===0?1:(r-n)/o};class qf{constructor(){this.subscriptions=[]}add(e){return Vf(this.subscriptions,e),()=>jf(this.subscriptions,e)}notify(e,r,o){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,r,o);else for(let u=0;u<a;u++){const h=this.subscriptions[u];h&&h(e,r,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Sr=n=>n*1e3,$n=n=>n/1e3;function Wb(n,e){return e?n*(1e3/e):0}const Kb=(n,e,r)=>(((1-3*r+3*e)*n+(3*r-6*e))*n+3*e)*n,E_=1e-7,S_=12;function k_(n,e,r,o,a){let u,h,f=0;do h=e+(r-e)/2,u=Kb(h,o,a)-n,u>0?r=h:e=h;while(Math.abs(u)>E_&&++f<S_);return h}function hl(n,e,r,o){if(n===e&&r===o)return Bn;const a=u=>k_(u,0,1,n,r);return u=>u===0||u===1?u:Kb(a(u),e,o)}const Hb=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,Xb=n=>e=>1-n(1-e),Qb=hl(.33,1.53,.69,.99),Bf=Xb(Qb),Gb=Hb(Bf),Yb=n=>(n*=2)<1?.5*Bf(n):.5*(2-Math.pow(2,-10*(n-1))),$f=n=>1-Math.sin(Math.acos(n)),Zb=Xb($f),Jb=Hb($f),x_=hl(.42,0,1,1),T_=hl(0,0,.58,1),ew=hl(.42,0,.58,1),C_=n=>Array.isArray(n)&&typeof n[0]!="number",tw=n=>Array.isArray(n)&&typeof n[0]=="number",A_={linear:Bn,easeIn:x_,easeInOut:ew,easeOut:T_,circIn:$f,circInOut:Jb,circOut:Zb,backIn:Bf,backInOut:Gb,backOut:Qb,anticipate:Yb},I_=n=>typeof n=="string",nw=n=>{if(tw(n)){Uf(n.length===4);const[e,r,o,a]=n;return hl(e,r,o,a)}else if(I_(n))return A_[n];return n},Ac=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function D_(n,e){let r=new Set,o=new Set,a=!1,u=!1;const h=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(v){h.has(v)&&(g.schedule(v),n()),v(f)}const g={schedule:(v,E=!1,x=!1)=>{const I=x&&a?r:o;return E&&h.add(v),I.has(v)||I.add(v),v},cancel:v=>{o.delete(v),h.delete(v)},process:v=>{if(f=v,a){u=!0;return}a=!0,[r,o]=[o,r],r.forEach(m),r.clear(),a=!1,u&&(u=!1,g.process(v))}};return g}const __=40;function rw(n,e){let r=!1,o=!0;const a={delta:0,timestamp:0,isProcessing:!1},u=()=>r=!0,h=Ac.reduce((Q,te)=>(Q[te]=D_(u),Q),{}),{setup:f,read:m,resolveKeyframes:g,preUpdate:v,update:E,preRender:x,render:I,postRender:V}=h,B=()=>{const Q=$r.useManualTiming?a.timestamp:performance.now();r=!1,$r.useManualTiming||(a.delta=o?1e3/60:Math.max(Math.min(Q-a.timestamp,__),1)),a.timestamp=Q,a.isProcessing=!0,f.process(a),m.process(a),g.process(a),v.process(a),E.process(a),x.process(a),I.process(a),V.process(a),a.isProcessing=!1,r&&e&&(o=!1,n(B))},j=()=>{r=!0,o=!0,a.isProcessing||n(B)};return{schedule:Ac.reduce((Q,te)=>{const oe=h[te];return Q[te]=(pe,le=!1,ye=!1)=>(r||j(),oe.schedule(pe,le,ye)),Q},{}),cancel:Q=>{for(let te=0;te<Ac.length;te++)h[Ac[te]].cancel(Q)},state:a,steps:h}}const{schedule:ht,cancel:Vi,state:Jt,steps:Wf}=rw(typeof requestAnimationFrame<"u"?requestAnimationFrame:Bn,!0);let Ic;function P_(){Ic=void 0}const Tn={now:()=>(Ic===void 0&&Tn.set(Jt.isProcessing||$r.useManualTiming?Jt.timestamp:performance.now()),Ic),set:n=>{Ic=n,queueMicrotask(P_)}},iw=n=>e=>typeof e=="string"&&e.startsWith(n),Kf=iw("--"),N_=iw("var(--"),Hf=n=>N_(n)?M_.test(n.split("/*")[0].trim()):!1,M_=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ps={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},dl={...Ps,transform:n=>Br(0,1,n)},Dc={...Ps,default:1},fl=n=>Math.round(n*1e5)/1e5,Xf=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function L_(n){return n==null}const R_=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Qf=(n,e)=>r=>!!(typeof r=="string"&&R_.test(r)&&r.startsWith(n)||e&&!L_(r)&&Object.prototype.hasOwnProperty.call(r,e)),ow=(n,e,r)=>o=>{if(typeof o!="string")return o;const[a,u,h,f]=o.match(Xf);return{[n]:parseFloat(a),[e]:parseFloat(u),[r]:parseFloat(h),alpha:f!==void 0?parseFloat(f):1}},O_=n=>Br(0,255,n),Gf={...Ps,transform:n=>Math.round(O_(n))},_o={test:Qf("rgb","red"),parse:ow("red","green","blue"),transform:({red:n,green:e,blue:r,alpha:o=1})=>"rgba("+Gf.transform(n)+", "+Gf.transform(e)+", "+Gf.transform(r)+", "+fl(dl.transform(o))+")"};function F_(n){let e="",r="",o="",a="";return n.length>5?(e=n.substring(1,3),r=n.substring(3,5),o=n.substring(5,7),a=n.substring(7,9)):(e=n.substring(1,2),r=n.substring(2,3),o=n.substring(3,4),a=n.substring(4,5),e+=e,r+=r,o+=o,a+=a),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(o,16),alpha:a?parseInt(a,16)/255:1}}const Yf={test:Qf("#"),parse:F_,transform:_o.transform},pl=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),ji=pl("deg"),kr=pl("%"),Te=pl("px"),V_=pl("vh"),j_=pl("vw"),sw={...kr,parse:n=>kr.parse(n)/100,transform:n=>kr.transform(n*100)},Ns={test:Qf("hsl","hue"),parse:ow("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:r,alpha:o=1})=>"hsla("+Math.round(n)+", "+kr.transform(fl(e))+", "+kr.transform(fl(r))+", "+fl(dl.transform(o))+")"},Pt={test:n=>_o.test(n)||Yf.test(n)||Ns.test(n),parse:n=>_o.test(n)?_o.parse(n):Ns.test(n)?Ns.parse(n):Yf.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?_o.transform(n):Ns.transform(n),getAnimatableNone:n=>{const e=Pt.parse(n);return e.alpha=0,Pt.transform(e)}},U_=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function z_(n){var e,r;return isNaN(n)&&typeof n=="string"&&(((e=n.match(Xf))==null?void 0:e.length)||0)+(((r=n.match(U_))==null?void 0:r.length)||0)>0}const aw="number",lw="color",q_="var",B_="var(",uw="${}",$_=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ml(n){const e=n.toString(),r=[],o={color:[],number:[],var:[]},a=[];let u=0;const h=e.replace($_,f=>(Pt.test(f)?(o.color.push(u),a.push(lw),r.push(Pt.parse(f))):f.startsWith(B_)?(o.var.push(u),a.push(q_),r.push(f)):(o.number.push(u),a.push(aw),r.push(parseFloat(f))),++u,uw)).split(uw);return{values:r,split:h,indexes:o,types:a}}function cw(n){return ml(n).values}function hw(n){const{split:e,types:r}=ml(n),o=e.length;return a=>{let u="";for(let h=0;h<o;h++)if(u+=e[h],a[h]!==void 0){const f=r[h];f===aw?u+=fl(a[h]):f===lw?u+=Pt.transform(a[h]):u+=a[h]}return u}}const W_=n=>typeof n=="number"?0:Pt.test(n)?Pt.getAnimatableNone(n):n;function K_(n){const e=cw(n);return hw(n)(e.map(W_))}const Ui={test:z_,parse:cw,createTransformer:hw,getAnimatableNone:K_};function Zf(n,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?n+(e-n)*6*r:r<1/2?e:r<2/3?n+(e-n)*(2/3-r)*6:n}function H_({hue:n,saturation:e,lightness:r,alpha:o}){n/=360,e/=100,r/=100;let a=0,u=0,h=0;if(!e)a=u=h=r;else{const f=r<.5?r*(1+e):r+e-r*e,m=2*r-f;a=Zf(m,f,n+1/3),u=Zf(m,f,n),h=Zf(m,f,n-1/3)}return{red:Math.round(a*255),green:Math.round(u*255),blue:Math.round(h*255),alpha:o}}function _c(n,e){return r=>r>0?e:n}const gt=(n,e,r)=>n+(e-n)*r,Jf=(n,e,r)=>{const o=n*n,a=r*(e*e-o)+o;return a<0?0:Math.sqrt(a)},X_=[Yf,_o,Ns],Q_=n=>X_.find(e=>e.test(n));function dw(n){const e=Q_(n);if(!e)return!1;let r=e.parse(n);return e===Ns&&(r=H_(r)),r}const fw=(n,e)=>{const r=dw(n),o=dw(e);if(!r||!o)return _c(n,e);const a={...r};return u=>(a.red=Jf(r.red,o.red,u),a.green=Jf(r.green,o.green,u),a.blue=Jf(r.blue,o.blue,u),a.alpha=gt(r.alpha,o.alpha,u),_o.transform(a))},ep=new Set(["none","hidden"]);function G_(n,e){return ep.has(n)?r=>r<=0?n:e:r=>r>=1?e:n}function Y_(n,e){return r=>gt(n,e,r)}function tp(n){return typeof n=="number"?Y_:typeof n=="string"?Hf(n)?_c:Pt.test(n)?fw:e4:Array.isArray(n)?pw:typeof n=="object"?Pt.test(n)?fw:Z_:_c}function pw(n,e){const r=[...n],o=r.length,a=n.map((u,h)=>tp(u)(u,e[h]));return u=>{for(let h=0;h<o;h++)r[h]=a[h](u);return r}}function Z_(n,e){const r={...n,...e},o={};for(const a in r)n[a]!==void 0&&e[a]!==void 0&&(o[a]=tp(n[a])(n[a],e[a]));return a=>{for(const u in o)r[u]=o[u](a);return r}}function J_(n,e){const r=[],o={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const u=e.types[a],h=n.indexes[u][o[u]],f=n.values[h]??0;r[a]=f,o[u]++}return r}const e4=(n,e)=>{const r=Ui.createTransformer(e),o=ml(n),a=ml(e);return o.indexes.var.length===a.indexes.var.length&&o.indexes.color.length===a.indexes.color.length&&o.indexes.number.length>=a.indexes.number.length?ep.has(n)&&!a.values.length||ep.has(e)&&!o.values.length?G_(n,e):ul(pw(J_(o,a),a.values),r):_c(n,e)};function mw(n,e,r){return typeof n=="number"&&typeof e=="number"&&typeof r=="number"?gt(n,e,r):tp(n)(n,e)}const t4=n=>{const e=({timestamp:r})=>n(r);return{start:(r=!0)=>ht.update(e,r),stop:()=>Vi(e),now:()=>Jt.isProcessing?Jt.timestamp:Tn.now()}},gw=(n,e,r=10)=>{let o="";const a=Math.max(Math.round(e/r),2);for(let u=0;u<a;u++)o+=Math.round(n(u/(a-1))*1e4)/1e4+", ";return`linear(${o.substring(0,o.length-2)})`},Pc=2e4;function np(n){let e=0;const r=50;let o=n.next(e);for(;!o.done&&e<Pc;)e+=r,o=n.next(e);return e>=Pc?1/0:e}function n4(n,e=100,r){const o=r({...n,keyframes:[0,e]}),a=Math.min(np(o),Pc);return{type:"keyframes",ease:u=>o.next(a*u).value/e,duration:$n(a)}}const r4=5;function yw(n,e,r){const o=Math.max(e-r4,0);return Wb(r-n(o),e-o)}const bt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},rp=.001;function i4({duration:n=bt.duration,bounce:e=bt.bounce,velocity:r=bt.velocity,mass:o=bt.mass}){let a,u,h=1-e;h=Br(bt.minDamping,bt.maxDamping,h),n=Br(bt.minDuration,bt.maxDuration,$n(n)),h<1?(a=g=>{const v=g*h,E=v*n,x=v-r,I=ip(g,h),V=Math.exp(-E);return rp-x/I*V},u=g=>{const v=g*h*n,E=v*r+r,x=Math.pow(h,2)*Math.pow(g,2)*n,I=Math.exp(-v),V=ip(Math.pow(g,2),h);return(-a(g)+rp>0?-1:1)*((E-x)*I)/V}):(a=g=>{const v=Math.exp(-g*n),E=(g-r)*n+1;return-rp+v*E},u=g=>{const v=Math.exp(-g*n),E=(r-g)*(n*n);return v*E});const f=5/n,m=s4(a,u,f);if(n=Sr(n),isNaN(m))return{stiffness:bt.stiffness,damping:bt.damping,duration:n};{const g=Math.pow(m,2)*o;return{stiffness:g,damping:h*2*Math.sqrt(o*g),duration:n}}}const o4=12;function s4(n,e,r){let o=r;for(let a=1;a<o4;a++)o=o-n(o)/e(o);return o}function ip(n,e){return n*Math.sqrt(1-e*e)}const a4=["duration","bounce"],l4=["stiffness","damping","mass"];function vw(n,e){return e.some(r=>n[r]!==void 0)}function u4(n){let e={velocity:bt.velocity,stiffness:bt.stiffness,damping:bt.damping,mass:bt.mass,isResolvedFromDuration:!1,...n};if(!vw(n,l4)&&vw(n,a4))if(n.visualDuration){const r=n.visualDuration,o=2*Math.PI/(r*1.2),a=o*o,u=2*Br(.05,1,1-(n.bounce||0))*Math.sqrt(a);e={...e,mass:bt.mass,stiffness:a,damping:u}}else{const r=i4(n);e={...e,...r,mass:bt.mass},e.isResolvedFromDuration=!0}return e}function Nc(n=bt.visualDuration,e=bt.bounce){const r=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:o,restDelta:a}=r;const u=r.keyframes[0],h=r.keyframes[r.keyframes.length-1],f={done:!1,value:u},{stiffness:m,damping:g,mass:v,duration:E,velocity:x,isResolvedFromDuration:I}=u4({...r,velocity:-$n(r.velocity||0)}),V=x||0,B=g/(2*Math.sqrt(m*v)),j=h-u,Q=$n(Math.sqrt(m/v)),te=Math.abs(j)<5;o||(o=te?bt.restSpeed.granular:bt.restSpeed.default),a||(a=te?bt.restDelta.granular:bt.restDelta.default);let oe;if(B<1){const le=ip(Q,B);oe=ye=>{const M=Math.exp(-B*Q*ye);return h-M*((V+B*Q*j)/le*Math.sin(le*ye)+j*Math.cos(le*ye))}}else if(B===1)oe=le=>h-Math.exp(-Q*le)*(j+(V+Q*j)*le);else{const le=Q*Math.sqrt(B*B-1);oe=ye=>{const M=Math.exp(-B*Q*ye),A=Math.min(le*ye,300);return h-M*((V+B*Q*j)*Math.sinh(A)+le*j*Math.cosh(A))/le}}const pe={calculatedDuration:I&&E||null,next:le=>{const ye=oe(le);if(I)f.done=le>=E;else{let M=le===0?V:0;B<1&&(M=le===0?Sr(V):yw(oe,le,ye));const A=Math.abs(M)<=o,D=Math.abs(h-ye)<=a;f.done=A&&D}return f.value=f.done?h:ye,f},toString:()=>{const le=Math.min(np(pe),Pc),ye=gw(M=>pe.next(le*M).value,le,30);return le+"ms "+ye},toTransition:()=>{}};return pe}Nc.applyToOptions=n=>{const e=n4(n,100,Nc);return n.ease=e.ease,n.duration=Sr(e.duration),n.type="keyframes",n};function op({keyframes:n,velocity:e=0,power:r=.8,timeConstant:o=325,bounceDamping:a=10,bounceStiffness:u=500,modifyTarget:h,min:f,max:m,restDelta:g=.5,restSpeed:v}){const E=n[0],x={done:!1,value:E},I=A=>f!==void 0&&A<f||m!==void 0&&A>m,V=A=>f===void 0?m:m===void 0||Math.abs(f-A)<Math.abs(m-A)?f:m;let B=r*e;const j=E+B,Q=h===void 0?j:h(j);Q!==j&&(B=Q-E);const te=A=>-B*Math.exp(-A/o),oe=A=>Q+te(A),pe=A=>{const D=te(A),N=oe(A);x.done=Math.abs(D)<=g,x.value=x.done?Q:N};let le,ye;const M=A=>{I(x.value)&&(le=A,ye=Nc({keyframes:[x.value,V(x.value)],velocity:yw(oe,A,x.value),damping:a,stiffness:u,restDelta:g,restSpeed:v}))};return M(0),{calculatedDuration:null,next:A=>{let D=!1;return!ye&&le===void 0&&(D=!0,pe(A),M(A)),le!==void 0&&A>=le?ye.next(A-le):(!D&&pe(A),x)}}}function c4(n,e,r){const o=[],a=r||$r.mix||mw,u=n.length-1;for(let h=0;h<u;h++){let f=a(n[h],n[h+1]);if(e){const m=Array.isArray(e)?e[h]||Bn:e;f=ul(m,f)}o.push(f)}return o}function h4(n,e,{clamp:r=!0,ease:o,mixer:a}={}){const u=n.length;if(Uf(u===e.length),u===1)return()=>e[0];if(u===2&&e[0]===e[1])return()=>e[1];const h=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),e=[...e].reverse());const f=c4(e,o,a),m=f.length,g=v=>{if(h&&v<n[0])return e[0];let E=0;if(m>1)for(;E<n.length-2&&!(v<n[E+1]);E++);const x=cl(n[E],n[E+1],v);return f[E](x)};return r?v=>g(Br(n[0],n[u-1],v)):g}function d4(n,e){const r=n[n.length-1];for(let o=1;o<=e;o++){const a=cl(0,e,o);n.push(gt(r,1,a))}}function f4(n){const e=[0];return d4(e,n.length-1),e}function p4(n,e){return n.map(r=>r*e)}function m4(n,e){return n.map(()=>e||ew).splice(0,n.length-1)}function gl({duration:n=300,keyframes:e,times:r,ease:o="easeInOut"}){const a=C_(o)?o.map(nw):nw(o),u={done:!1,value:e[0]},h=p4(r&&r.length===e.length?r:f4(e),n),f=h4(h,e,{ease:Array.isArray(a)?a:m4(e,a)});return{calculatedDuration:n,next:m=>(u.value=f(m),u.done=m>=n,u)}}const g4=n=>n!==null;function sp(n,{repeat:e,repeatType:r="loop"},o,a=1){const u=n.filter(g4),h=a<0||e&&r!=="loop"&&e%2===1?0:u.length-1;return!h||o===void 0?u[h]:o}const y4={decay:op,inertia:op,tween:gl,keyframes:gl,spring:Nc};function bw(n){typeof n.type=="string"&&(n.type=y4[n.type])}class ap{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const v4=n=>n/100;class lp extends ap{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,o;const{motionValue:a}=this.options;a&&a.updatedAt!==Tn.now()&&this.tick(Tn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(r=this.options).onStop)==null||o.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;bw(e);const{type:r=gl,repeat:o=0,repeatDelay:a=0,repeatType:u,velocity:h=0}=e;let{keyframes:f}=e;const m=r||gl;m!==gl&&typeof f[0]!="number"&&(this.mixKeyframes=ul(v4,mw(f[0],f[1])),f=[0,100]);const g=m({...e,keyframes:f});u==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...f].reverse(),velocity:-h})),g.calculatedDuration===null&&(g.calculatedDuration=np(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+a,this.totalDuration=this.resolvedDuration*(o+1)-a,this.generator=g}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:o,totalDuration:a,mixKeyframes:u,mirroredGenerator:h,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return o.next(0);const{delay:g=0,keyframes:v,repeat:E,repeatType:x,repeatDelay:I,type:V,onUpdate:B,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const Q=this.currentTime-g*(this.playbackSpeed>=0?1:-1),te=this.playbackSpeed>=0?Q<0:Q>a;this.currentTime=Math.max(Q,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let oe=this.currentTime,pe=o;if(E){const A=Math.min(this.currentTime,a)/f;let D=Math.floor(A),N=A%1;!N&&A>=1&&(N=1),N===1&&D--,D=Math.min(D,E+1),D%2&&(x==="reverse"?(N=1-N,I&&(N-=I/f)):x==="mirror"&&(pe=h)),oe=Br(0,1,N)*f}const le=te?{done:!1,value:v[0]}:pe.next(oe);u&&(le.value=u(le.value));let{done:ye}=le;!te&&m!==null&&(ye=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ye);return M&&V!==op&&(le.value=sp(v,this.options,j,this.speed)),B&&B(le.value),M&&this.finish(),le}then(e,r){return this.finished.then(e,r)}get duration(){return $n(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+$n(e)}get time(){return $n(this.currentTime)}set time(e){var r;e=Sr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Tn.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=$n(this.currentTime))}play(){var e,r;if(this.isStopped)return;const{driver:o=t4,startTime:a}=this.options;this.driver||(this.driver=o(h=>this.tick(h))),(r=(e=this.options).onPlay)==null||r.call(e);const u=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=u):this.holdTime!==null?this.startTime=u-this.holdTime:this.startTime||(this.startTime=a??u),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Tn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(e=this.options).onComplete)==null||r.call(e)}cancel(){var e,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(e=this.options).onCancel)==null||r.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),e.observe(this)}}function b4(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Po=n=>n*180/Math.PI,up=n=>{const e=Po(Math.atan2(n[1],n[0]));return cp(e)},w4={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:up,rotateZ:up,skewX:n=>Po(Math.atan(n[1])),skewY:n=>Po(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},cp=n=>(n=n%360,n<0&&(n+=360),n),ww=up,Ew=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),Sw=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),E4={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ew,scaleY:Sw,scale:n=>(Ew(n)+Sw(n))/2,rotateX:n=>cp(Po(Math.atan2(n[6],n[5]))),rotateY:n=>cp(Po(Math.atan2(-n[2],n[0]))),rotateZ:ww,rotate:ww,skewX:n=>Po(Math.atan(n[4])),skewY:n=>Po(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function hp(n){return n.includes("scale")?1:0}function dp(n,e){if(!n||n==="none")return hp(e);const r=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let o,a;if(r)o=E4,a=r;else{const f=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);o=w4,a=f}if(!a)return hp(e);const u=o[e],h=a[1].split(",").map(k4);return typeof u=="function"?u(h):h[u]}const S4=(n,e)=>{const{transform:r="none"}=getComputedStyle(n);return dp(r,e)};function k4(n){return parseFloat(n.trim())}const Ms=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ls=new Set(Ms),kw=n=>n===Ps||n===Te,x4=new Set(["x","y","z"]),T4=Ms.filter(n=>!x4.has(n));function C4(n){const e=[];return T4.forEach(r=>{const o=n.getValue(r);o!==void 0&&(e.push([r,o.get()]),o.set(r.startsWith("scale")?1:0))}),e}const No={width:({x:n},{paddingLeft:e="0",paddingRight:r="0"})=>n.max-n.min-parseFloat(e)-parseFloat(r),height:({y:n},{paddingTop:e="0",paddingBottom:r="0"})=>n.max-n.min-parseFloat(e)-parseFloat(r),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>dp(e,"x"),y:(n,{transform:e})=>dp(e,"y")};No.translateX=No.x,No.translateY=No.y;const Mo=new Set;let fp=!1,pp=!1,mp=!1;function xw(){if(pp){const n=Array.from(Mo).filter(o=>o.needsMeasurement),e=new Set(n.map(o=>o.element)),r=new Map;e.forEach(o=>{const a=C4(o);a.length&&(r.set(o,a),o.render())}),n.forEach(o=>o.measureInitialState()),e.forEach(o=>{o.render();const a=r.get(o);a&&a.forEach(([u,h])=>{var f;(f=o.getValue(u))==null||f.set(h)})}),n.forEach(o=>o.measureEndState()),n.forEach(o=>{o.suspendedScrollY!==void 0&&window.scrollTo(0,o.suspendedScrollY)})}pp=!1,fp=!1,Mo.forEach(n=>n.complete(mp)),Mo.clear()}function Tw(){Mo.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(pp=!0)})}function A4(){mp=!0,Tw(),xw(),mp=!1}class gp{constructor(e,r,o,a,u,h=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=o,this.motionValue=a,this.element=u,this.isAsync=h}scheduleResolve(){this.state="scheduled",this.isAsync?(Mo.add(this),fp||(fp=!0,ht.read(Tw),ht.resolveKeyframes(xw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:o,motionValue:a}=this;if(e[0]===null){const u=a==null?void 0:a.get(),h=e[e.length-1];if(u!==void 0)e[0]=u;else if(o&&r){const f=o.readValue(r,h);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=h),a&&u===void 0&&a.set(e[0])}b4(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Mo.delete(this)}cancel(){this.state==="scheduled"&&(Mo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const I4=n=>n.startsWith("--");function D4(n,e,r){I4(e)?n.style.setProperty(e,r):n.style[e]=r}const _4=zf(()=>window.ScrollTimeline!==void 0),P4={};function N4(n,e){const r=zf(n);return()=>P4[e]??r()}const Cw=N4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),yl=([n,e,r,o])=>`cubic-bezier(${n}, ${e}, ${r}, ${o})`,Aw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:yl([0,.65,.55,1]),circOut:yl([.55,0,1,.45]),backIn:yl([.31,.01,.66,-.59]),backOut:yl([.33,1.53,.69,.99])};function Iw(n,e){if(n)return typeof n=="function"?Cw()?gw(n,e):"ease-out":tw(n)?yl(n):Array.isArray(n)?n.map(r=>Iw(r,e)||Aw.easeOut):Aw[n]}function M4(n,e,r,{delay:o=0,duration:a=300,repeat:u=0,repeatType:h="loop",ease:f="easeOut",times:m}={},g=void 0){const v={[e]:r};m&&(v.offset=m);const E=Iw(f,a);Array.isArray(E)&&(v.easing=E);const x={delay:o,duration:a,easing:Array.isArray(E)?"linear":E,fill:"both",iterations:u+1,direction:h==="reverse"?"alternate":"normal"};return g&&(x.pseudoElement=g),n.animate(v,x)}function Dw(n){return typeof n=="function"&&"applyToOptions"in n}function L4({type:n,...e}){return Dw(n)&&Cw()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class R4 extends ap{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:o,keyframes:a,pseudoElement:u,allowFlatten:h=!1,finalKeyframe:f,onComplete:m}=e;this.isPseudoElement=!!u,this.allowFlatten=h,this.options=e,Uf(typeof e.type!="string");const g=L4(e);this.animation=M4(r,o,a,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const v=sp(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(v):D4(r,o,v),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var e,r;const o=((r=(e=this.animation.effect)==null?void 0:e.getComputedTiming)==null?void 0:r.call(e).duration)||0;return $n(Number(o))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+$n(e)}get time(){return $n(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Sr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var o;return this.allowFlatten&&((o=this.animation.effect)==null||o.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&_4()?(this.animation.timeline=e,Bn):r(this)}}const _w={anticipate:Yb,backInOut:Gb,circInOut:Jb};function O4(n){return n in _w}function F4(n){typeof n.ease=="string"&&O4(n.ease)&&(n.ease=_w[n.ease])}const Pw=10;class V4 extends R4{constructor(e){F4(e),bw(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:o,onComplete:a,element:u,...h}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const f=new lp({...h,autoplay:!1}),m=Sr(this.finishedTime??this.time);r.setWithVelocity(f.sample(m-Pw).value,f.sample(m).value,Pw),f.stop()}}const Nw=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Ui.test(n)||n==="0")&&!n.startsWith("url("));function j4(n){const e=n[0];if(n.length===1)return!0;for(let r=0;r<n.length;r++)if(n[r]!==e)return!0}function U4(n,e,r,o){const a=n[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const u=n[n.length-1],h=Nw(a,e),f=Nw(u,e);return!h||!f?!1:j4(n)||(r==="spring"||Dw(r))&&o}function yp(n){n.duration=0,n.type="keyframes"}const z4=new Set(["opacity","clipPath","filter","transform"]),q4=zf(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function B4(n){var e;const{motionValue:r,name:o,repeatDelay:a,repeatType:u,damping:h,type:f}=n;if(!(((e=r==null?void 0:r.owner)==null?void 0:e.current)instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=r.owner.getProps();return q4()&&o&&z4.has(o)&&(o!=="transform"||!g)&&!m&&!a&&u!=="mirror"&&h!==0&&f!=="inertia"}const $4=40;class W4 extends ap{constructor({autoplay:e=!0,delay:r=0,type:o="keyframes",repeat:a=0,repeatDelay:u=0,repeatType:h="loop",keyframes:f,name:m,motionValue:g,element:v,...E}){var x;super(),this.stop=()=>{var B,j;this._animation&&(this._animation.stop(),(B=this.stopTimeline)==null||B.call(this)),(j=this.keyframeResolver)==null||j.cancel()},this.createdAt=Tn.now();const I={autoplay:e,delay:r,type:o,repeat:a,repeatDelay:u,repeatType:h,name:m,motionValue:g,element:v,...E},V=(v==null?void 0:v.KeyframeResolver)||gp;this.keyframeResolver=new V(f,(B,j,Q)=>this.onKeyframesResolved(B,j,I,!Q),m,g,v),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(e,r,o,a){this.keyframeResolver=void 0;const{name:u,type:h,velocity:f,delay:m,isHandoff:g,onUpdate:v}=o;this.resolvedAt=Tn.now(),U4(e,u,h,f)||(($r.instantAnimations||!m)&&(v==null||v(sp(e,o,r))),e[0]=e[e.length-1],yp(o),o.repeat=0);const E={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>$4?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...o,keyframes:e},x=!g&&B4(E)?new V4({...E,element:E.motionValue.owner.current}):new lp(E);x.finished.then(()=>this.notifyFinished()).catch(Bn),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),A4()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const K4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function H4(n){const e=K4.exec(n);if(!e)return[,];const[,r,o,a]=e;return[`--${r??o}`,a]}function Mw(n,e,r=1){const[o,a]=H4(n);if(!o)return;const u=window.getComputedStyle(e).getPropertyValue(o);if(u){const h=u.trim();return qb(h)?parseFloat(h):h}return Hf(a)?Mw(a,e,r+1):a}function vp(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const Lw=new Set(["width","height","top","left","right","bottom",...Ms]),X4={test:n=>n==="auto",parse:n=>n},Rw=n=>e=>e.test(n),Ow=[Ps,Te,kr,ji,j_,V_,X4],Fw=n=>Ow.find(Rw(n));function Q4(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||$b(n):!0}const G4=new Set(["brightness","contrast","saturate","opacity"]);function Y4(n){const[e,r]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[o]=r.match(Xf)||[];if(!o)return n;const a=r.replace(o,"");let u=G4.has(e)?1:0;return o!==r&&(u*=100),e+"("+u+a+")"}const Z4=/\b([a-z-]*)\(.*?\)/gu,bp={...Ui,getAnimatableNone:n=>{const e=n.match(Z4);return e?e.map(Y4).join(" "):n}},Vw={...Ps,transform:Math.round},J4={rotate:ji,rotateX:ji,rotateY:ji,rotateZ:ji,scale:Dc,scaleX:Dc,scaleY:Dc,scaleZ:Dc,skew:ji,skewX:ji,skewY:ji,distance:Te,translateX:Te,translateY:Te,translateZ:Te,x:Te,y:Te,z:Te,perspective:Te,transformPerspective:Te,opacity:dl,originX:sw,originY:sw,originZ:Te},wp={borderWidth:Te,borderTopWidth:Te,borderRightWidth:Te,borderBottomWidth:Te,borderLeftWidth:Te,borderRadius:Te,radius:Te,borderTopLeftRadius:Te,borderTopRightRadius:Te,borderBottomRightRadius:Te,borderBottomLeftRadius:Te,width:Te,maxWidth:Te,height:Te,maxHeight:Te,top:Te,right:Te,bottom:Te,left:Te,padding:Te,paddingTop:Te,paddingRight:Te,paddingBottom:Te,paddingLeft:Te,margin:Te,marginTop:Te,marginRight:Te,marginBottom:Te,marginLeft:Te,backgroundPositionX:Te,backgroundPositionY:Te,...J4,zIndex:Vw,fillOpacity:dl,strokeOpacity:dl,numOctaves:Vw},eP={...wp,color:Pt,backgroundColor:Pt,outlineColor:Pt,fill:Pt,stroke:Pt,borderColor:Pt,borderTopColor:Pt,borderRightColor:Pt,borderBottomColor:Pt,borderLeftColor:Pt,filter:bp,WebkitFilter:bp},jw=n=>eP[n];function Uw(n,e){let r=jw(n);return r!==bp&&(r=Ui),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const tP=new Set(["auto","none","0"]);function nP(n,e,r){let o=0,a;for(;o<n.length&&!a;){const u=n[o];typeof u=="string"&&!tP.has(u)&&ml(u).values.length&&(a=n[o]),o++}if(a&&r)for(const u of e)n[u]=Uw(r,a)}class rP extends gp{constructor(e,r,o,a,u){super(e,r,o,a,u,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:o}=this;if(!r||!r.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let g=e[m];if(typeof g=="string"&&(g=g.trim(),Hf(g))){const v=Mw(g,r.current);v!==void 0&&(e[m]=v),m===e.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!Lw.has(o)||e.length!==2)return;const[a,u]=e,h=Fw(a),f=Fw(u);if(h!==f)if(kw(h)&&kw(f))for(let m=0;m<e.length;m++){const g=e[m];typeof g=="string"&&(e[m]=parseFloat(g))}else No[o]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,o=[];for(let a=0;a<e.length;a++)(e[a]===null||Q4(e[a]))&&o.push(a);o.length&&nP(e,o,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:o}=this;if(!e||!e.current)return;o==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=No[o](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&e.getValue(o,a).jump(a,!1)}measureEndState(){var e;const{element:r,name:o,unresolvedKeyframes:a}=this;if(!r||!r.current)return;const u=r.getValue(o);u&&u.jump(this.measuredOrigin,!1);const h=a.length-1,f=a[h];a[h]=No[o](r.measureViewportBox(),window.getComputedStyle(r.current)),f!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=f),(e=this.removedTransforms)!=null&&e.length&&this.removedTransforms.forEach(([m,g])=>{r.getValue(m).set(g)}),this.resolveNoneKeyframes()}}function iP(n,e,r){if(n instanceof EventTarget)return[n];if(typeof n=="string"){const a=document.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}const zw=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function oP(n){return Bb(n)&&"offsetHeight"in n}const qw=30,sP=n=>!isNaN(parseFloat(n));class aP{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=o=>{var a;const u=Tn.now();if(this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(o),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const h of this.dependents)h.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Tn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=sP(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new qf);const o=this.events[e].add(r);return e==="change"?()=>{o(),ht.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,o){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-o}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Tn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>qw)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,qw);return Wb(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Rs(n,e){return new aP(n,e)}const{schedule:Ep}=rw(queueMicrotask,!1),sr={x:!1,y:!1};function Bw(){return sr.x||sr.y}function lP(n){return n==="x"||n==="y"?sr[n]?null:(sr[n]=!0,()=>{sr[n]=!1}):sr.x||sr.y?null:(sr.x=sr.y=!0,()=>{sr.x=sr.y=!1})}function $w(n,e){const r=iP(n),o=new AbortController,a={passive:!0,...e,signal:o.signal};return[r,a,()=>o.abort()]}function Ww(n){return!(n.pointerType==="touch"||Bw())}function uP(n,e,r={}){const[o,a,u]=$w(n,r),h=f=>{if(!Ww(f))return;const{target:m}=f,g=e(m,f);if(typeof g!="function"||!m)return;const v=E=>{Ww(E)&&(g(E),m.removeEventListener("pointerleave",v))};m.addEventListener("pointerleave",v,a)};return o.forEach(f=>{f.addEventListener("pointerenter",h,a)}),u}const Kw=(n,e)=>e?n===e?!0:Kw(n,e.parentElement):!1,Sp=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,cP=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function hP(n){return cP.has(n.tagName)||n.tabIndex!==-1}const Mc=new WeakSet;function Hw(n){return e=>{e.key==="Enter"&&n(e)}}function kp(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const dP=(n,e)=>{const r=n.currentTarget;if(!r)return;const o=Hw(()=>{if(Mc.has(r))return;kp(r,"down");const a=Hw(()=>{kp(r,"up")}),u=()=>kp(r,"cancel");r.addEventListener("keyup",a,e),r.addEventListener("blur",u,e)});r.addEventListener("keydown",o,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",o),e)};function Xw(n){return Sp(n)&&!Bw()}function fP(n,e,r={}){const[o,a,u]=$w(n,r),h=f=>{const m=f.currentTarget;if(!Xw(f))return;Mc.add(m);const g=e(m,f),v=(I,V)=>{window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",x),Mc.has(m)&&Mc.delete(m),Xw(I)&&typeof g=="function"&&g(I,{success:V})},E=I=>{v(I,m===window||m===document||r.useGlobalTarget||Kw(m,I.target))},x=I=>{v(I,!1)};window.addEventListener("pointerup",E,a),window.addEventListener("pointercancel",x,a)};return o.forEach(f=>{(r.useGlobalTarget?window:f).addEventListener("pointerdown",h,a),oP(f)&&(f.addEventListener("focus",m=>dP(m,a)),!hP(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),u}function Qw(n){return Bb(n)&&"ownerSVGElement"in n}function pP(n){return Qw(n)&&n.tagName==="svg"}const dn=n=>!!(n&&n.getVelocity),mP=[...Ow,Pt,Ui],gP=n=>mP.find(Rw(n)),Gw=ge.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function yP(n=!0){const e=ge.useContext(Ff);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:o,register:a}=e,u=ge.useId();ge.useEffect(()=>{if(n)return a(u)},[n]);const h=ge.useCallback(()=>n&&o&&o(u),[u,o,n]);return!r&&o?[!1,h]:[!0]}const Yw=ge.createContext({strict:!1}),Zw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Os={};for(const n in Zw)Os[n]={isEnabled:e=>Zw[n].some(r=>!!e[r])};function vP(n){for(const e in n)Os[e]={...Os[e],...n[e]}}const bP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Lc(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||bP.has(n)}let Jw=n=>!Lc(n);function wP(n){typeof n=="function"&&(Jw=e=>e.startsWith("on")?!Lc(e):n(e))}try{wP(require("@emotion/is-prop-valid").default)}catch{}function EP(n,e,r){const o={};for(const a in n)a==="values"&&typeof n.values=="object"||(Jw(a)||r===!0&&Lc(a)||!e&&!Lc(a)||n.draggable&&a.startsWith("onDrag"))&&(o[a]=n[a]);return o}const Rc=ge.createContext({});function Oc(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function vl(n){return typeof n=="string"||Array.isArray(n)}const xp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Tp=["initial",...xp];function Fc(n){return Oc(n.animate)||Tp.some(e=>vl(n[e]))}function e1(n){return!!(Fc(n)||n.variants)}function SP(n,e){if(Fc(n)){const{initial:r,animate:o}=n;return{initial:r===!1||vl(r)?r:void 0,animate:vl(o)?o:void 0}}return n.inherit!==!1?e:{}}function kP(n){const{initial:e,animate:r}=SP(n,ge.useContext(Rc));return ge.useMemo(()=>({initial:e,animate:r}),[t1(e),t1(r)])}function t1(n){return Array.isArray(n)?n.join(" "):n}const bl={};function xP(n){for(const e in n)bl[e]=n[e],Kf(e)&&(bl[e].isCSSVariable=!0)}function n1(n,{layout:e,layoutId:r}){return Ls.has(n)||n.startsWith("origin")||(e||r!==void 0)&&(!!bl[n]||n==="opacity")}const TP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},CP=Ms.length;function AP(n,e,r){let o="",a=!0;for(let u=0;u<CP;u++){const h=Ms[u],f=n[h];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(h.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||r){const g=zw(f,wp[h]);if(!m){a=!1;const v=TP[h]||h;o+=`${v}(${g}) `}r&&(e[h]=g)}}return o=o.trim(),r?o=r(e,a?"":o):a&&(o="none"),o}function Cp(n,e,r){const{style:o,vars:a,transformOrigin:u}=n;let h=!1,f=!1;for(const m in e){const g=e[m];if(Ls.has(m)){h=!0;continue}else if(Kf(m)){a[m]=g;continue}else{const v=zw(g,wp[m]);m.startsWith("origin")?(f=!0,u[m]=v):o[m]=v}}if(e.transform||(h||r?o.transform=AP(e,n.transform,r):o.transform&&(o.transform="none")),f){const{originX:m="50%",originY:g="50%",originZ:v=0}=u;o.transformOrigin=`${m} ${g} ${v}`}}const Ap=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function r1(n,e,r){for(const o in e)!dn(e[o])&&!n1(o,r)&&(n[o]=e[o])}function IP({transformTemplate:n},e){return ge.useMemo(()=>{const r=Ap();return Cp(r,e,n),Object.assign({},r.vars,r.style)},[e])}function DP(n,e){const r=n.style||{},o={};return r1(o,r,n),Object.assign(o,IP(n,e)),o}function _P(n,e){const r={},o=DP(n,e);return n.drag&&n.dragListener!==!1&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(r.tabIndex=0),r.style=o,r}const PP={offset:"stroke-dashoffset",array:"stroke-dasharray"},NP={offset:"strokeDashoffset",array:"strokeDasharray"};function MP(n,e,r=1,o=0,a=!0){n.pathLength=1;const u=a?PP:NP;n[u.offset]=Te.transform(-o);const h=Te.transform(e),f=Te.transform(r);n[u.array]=`${h} ${f}`}function i1(n,{attrX:e,attrY:r,attrScale:o,pathLength:a,pathSpacing:u=1,pathOffset:h=0,...f},m,g,v){if(Cp(n,f,g),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:E,style:x}=n;E.transform&&(x.transform=E.transform,delete E.transform),(x.transform||E.transformOrigin)&&(x.transformOrigin=E.transformOrigin??"50% 50%",delete E.transformOrigin),x.transform&&(x.transformBox=(v==null?void 0:v.transformBox)??"fill-box",delete E.transformBox),e!==void 0&&(E.x=e),r!==void 0&&(E.y=r),o!==void 0&&(E.scale=o),a!==void 0&&MP(E,a,u,h,!1)}const o1=()=>({...Ap(),attrs:{}}),s1=n=>typeof n=="string"&&n.toLowerCase()==="svg";function LP(n,e,r,o){const a=ge.useMemo(()=>{const u=o1();return i1(u,e,s1(o),n.transformTemplate,n.style),{...u.attrs,style:{...u.style}}},[e]);if(n.style){const u={};r1(u,n.style,n),a.style={...u,...a.style}}return a}const RP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ip(n){return typeof n!="string"||n.includes("-")?!1:!!(RP.indexOf(n)>-1||/[A-Z]/u.test(n))}function OP(n,e,r,{latestValues:o},a,u=!1){const h=(Ip(n)?LP:_P)(e,o,a,n),f=EP(e,typeof n=="string",u),m=n!==ge.Fragment?{...f,...h,ref:r}:{},{children:g}=e,v=ge.useMemo(()=>dn(g)?g.get():g,[g]);return ge.createElement(n,{...m,children:v})}function a1(n){const e=[{},{}];return n==null||n.values.forEach((r,o)=>{e[0][o]=r.get(),e[1][o]=r.getVelocity()}),e}function Dp(n,e,r,o){if(typeof e=="function"){const[a,u]=a1(o);e=e(r!==void 0?r:n.custom,a,u)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[a,u]=a1(o);e=e(r!==void 0?r:n.custom,a,u)}return e}function Vc(n){return dn(n)?n.get():n}function FP({scrapeMotionValuesFromProps:n,createRenderState:e},r,o,a){return{latestValues:VP(r,o,a,n),renderState:e()}}function VP(n,e,r,o){const a={},u=o(n,{});for(const x in u)a[x]=Vc(u[x]);let{initial:h,animate:f}=n;const m=Fc(n),g=e1(n);e&&g&&!m&&n.inherit!==!1&&(h===void 0&&(h=e.initial),f===void 0&&(f=e.animate));let v=r?r.initial===!1:!1;v=v||h===!1;const E=v?f:h;if(E&&typeof E!="boolean"&&!Oc(E)){const x=Array.isArray(E)?E:[E];for(let I=0;I<x.length;I++){const V=Dp(n,x[I]);if(V){const{transitionEnd:B,transition:j,...Q}=V;for(const te in Q){let oe=Q[te];if(Array.isArray(oe)){const pe=v?oe.length-1:0;oe=oe[pe]}oe!==null&&(a[te]=oe)}for(const te in B)a[te]=B[te]}}}return a}const l1=n=>(e,r)=>{const o=ge.useContext(Rc),a=ge.useContext(Ff),u=()=>FP(n,e,o,a);return r?u():v_(u)};function _p(n,e,r){var o;const{style:a}=n,u={};for(const h in a)(dn(a[h])||e.style&&dn(e.style[h])||n1(h,n)||((o=r==null?void 0:r.getValue(h))==null?void 0:o.liveStyle)!==void 0)&&(u[h]=a[h]);return u}const jP=l1({scrapeMotionValuesFromProps:_p,createRenderState:Ap});function u1(n,e,r){const o=_p(n,e,r);for(const a in n)if(dn(n[a])||dn(e[a])){const u=Ms.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;o[u]=n[a]}return o}const UP=l1({scrapeMotionValuesFromProps:u1,createRenderState:o1}),zP=Symbol.for("motionComponentSymbol");function Fs(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function qP(n,e,r){return ge.useCallback(o=>{o&&n.onMount&&n.onMount(o),e&&(o?e.mount(o):e.unmount()),r&&(typeof r=="function"?r(o):Fs(r)&&(r.current=o))},[e])}const Pp=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),BP="framerAppearId",c1="data-"+Pp(BP),h1=ge.createContext({});function $P(n,e,r,o,a){var u,h;const{visualElement:f}=ge.useContext(Rc),m=ge.useContext(Yw),g=ge.useContext(Ff),v=ge.useContext(Gw).reducedMotion,E=ge.useRef(null);o=o||m.renderer,!E.current&&o&&(E.current=o(n,{visualState:e,parent:f,props:r,presenceContext:g,blockInitialAnimation:g?g.initial===!1:!1,reducedMotionConfig:v}));const x=E.current,I=ge.useContext(h1);x&&!x.projection&&a&&(x.type==="html"||x.type==="svg")&&WP(E.current,r,a,I);const V=ge.useRef(!1);ge.useInsertionEffect(()=>{x&&V.current&&x.update(r,g)});const B=r[c1],j=ge.useRef(!!B&&!((u=window.MotionHandoffIsComplete)!=null&&u.call(window,B))&&((h=window.MotionHasOptimisedAnimation)==null?void 0:h.call(window,B)));return b_(()=>{x&&(V.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),x.scheduleRenderMicrotask(),j.current&&x.animationState&&x.animationState.animateChanges())}),ge.useEffect(()=>{x&&(!j.current&&x.animationState&&x.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{var Q;(Q=window.MotionHandoffMarkAsComplete)==null||Q.call(window,B)}),j.current=!1),x.enteringChildren=void 0)}),x}function WP(n,e,r,o){const{layoutId:a,layout:u,drag:h,dragConstraints:f,layoutScroll:m,layoutRoot:g,layoutCrossfade:v}=e;n.projection=new r(n.latestValues,e["data-framer-portal-id"]?void 0:d1(n.parent)),n.projection.setOptions({layoutId:a,layout:u,alwaysMeasureLayout:!!h||f&&Fs(f),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,crossfade:v,layoutScroll:m,layoutRoot:g})}function d1(n){if(n)return n.options.allowProjection!==!1?n.projection:d1(n.parent)}function Np(n,{forwardMotionProps:e=!1}={},r,o){r&&vP(r);const a=Ip(n)?UP:jP;function u(f,m){let g;const v={...ge.useContext(Gw),...f,layoutId:KP(f)},{isStatic:E}=v,x=kP(f),I=a(f,E);if(!E&&Of){HP();const V=XP(v);g=V.MeasureLayout,x.visualElement=$P(n,I,v,o,V.ProjectionNode)}return ie.jsxs(Rc.Provider,{value:x,children:[g&&x.visualElement?ie.jsx(g,{visualElement:x.visualElement,...v}):null,OP(n,f,qP(I,x.visualElement,m),I,E,e)]})}u.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const h=ge.forwardRef(u);return h[zP]=n,h}function KP({layoutId:n}){const e=ge.useContext(zb).id;return e&&n!==void 0?e+"-"+n:n}function HP(n,e){ge.useContext(Yw).strict}function XP(n){const{drag:e,layout:r}=Os;if(!e&&!r)return{};const o={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(n)||r!=null&&r.isEnabled(n)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function QP(n,e){if(typeof Proxy>"u")return Np;const r=new Map,o=(u,h)=>Np(u,h,n,e),a=(u,h)=>o(u,h);return new Proxy(a,{get:(u,h)=>h==="create"?o:(r.has(h)||r.set(h,Np(h,void 0,n,e)),r.get(h))})}function f1({top:n,left:e,right:r,bottom:o}){return{x:{min:e,max:r},y:{min:n,max:o}}}function GP({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function YP(n,e){if(!e)return n;const r=e({x:n.left,y:n.top}),o=e({x:n.right,y:n.bottom});return{top:r.y,left:r.x,bottom:o.y,right:o.x}}function Mp(n){return n===void 0||n===1}function Lp({scale:n,scaleX:e,scaleY:r}){return!Mp(n)||!Mp(e)||!Mp(r)}function Lo(n){return Lp(n)||p1(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function p1(n){return m1(n.x)||m1(n.y)}function m1(n){return n&&n!=="0%"}function jc(n,e,r){const o=n-r,a=e*o;return r+a}function g1(n,e,r,o,a){return a!==void 0&&(n=jc(n,a,o)),jc(n,r,o)+e}function Rp(n,e=0,r=1,o,a){n.min=g1(n.min,e,r,o,a),n.max=g1(n.max,e,r,o,a)}function y1(n,{x:e,y:r}){Rp(n.x,e.translate,e.scale,e.originPoint),Rp(n.y,r.translate,r.scale,r.originPoint)}const v1=.999999999999,b1=1.0000000000001;function ZP(n,e,r,o=!1){const a=r.length;if(!a)return;e.x=e.y=1;let u,h;for(let f=0;f<a;f++){u=r[f],h=u.projectionDelta;const{visualElement:m}=u.options;m&&m.props.style&&m.props.style.display==="contents"||(o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&js(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),h&&(e.x*=h.x.scale,e.y*=h.y.scale,y1(n,h)),o&&Lo(u.latestValues)&&js(n,u.latestValues))}e.x<b1&&e.x>v1&&(e.x=1),e.y<b1&&e.y>v1&&(e.y=1)}function Vs(n,e){n.min=n.min+e,n.max=n.max+e}function w1(n,e,r,o,a=.5){const u=gt(n.min,n.max,a);Rp(n,e,r,u,o)}function js(n,e){w1(n.x,e.x,e.scaleX,e.scale,e.originX),w1(n.y,e.y,e.scaleY,e.scale,e.originY)}function E1(n,e){return f1(YP(n.getBoundingClientRect(),e))}function JP(n,e,r){const o=E1(n,r),{scroll:a}=e;return a&&(Vs(o.x,a.offset.x),Vs(o.y,a.offset.y)),o}const S1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Us=()=>({x:S1(),y:S1()}),k1=()=>({min:0,max:0}),xt=()=>({x:k1(),y:k1()}),Op={current:null},x1={current:!1};function eN(){if(x1.current=!0,!!Of)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Op.current=n.matches;n.addEventListener("change",e),e()}else Op.current=!1}const tN=new WeakMap;function nN(n,e,r){for(const o in e){const a=e[o],u=r[o];if(dn(a))n.addValue(o,a);else if(dn(u))n.addValue(o,Rs(a,{owner:n}));else if(u!==a)if(n.hasValue(o)){const h=n.getValue(o);h.liveStyle===!0?h.jump(a):h.hasAnimated||h.set(a)}else{const h=n.getStaticValue(o);n.addValue(o,Rs(h!==void 0?h:a,{owner:n}))}}for(const o in r)e[o]===void 0&&n.removeValue(o);return e}const T1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class rN{scrapeMotionValuesFromProps(e,r,o){return{}}constructor({parent:e,props:r,presenceContext:o,reducedMotionConfig:a,blockInitialAnimation:u,visualState:h},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=gp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Tn.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,ht.render(this.render,!1,!0))};const{latestValues:m,renderState:g}=h;this.latestValues=m,this.baseTarget={...m},this.initialValues=r.initial?{...m}:{},this.renderState=g,this.parent=e,this.props=r,this.presenceContext=o,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!u,this.isControllingVariants=Fc(r),this.isVariantNode=e1(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...E}=this.scrapeMotionValuesFromProps(r,{},this);for(const x in E){const I=E[x];m[x]!==void 0&&dn(I)&&I.set(m[x])}}mount(e){var r;this.current=e,tN.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((o,a)=>this.bindToMotionValue(a,o)),x1.current||eN(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Op.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Vi(this.notifyUpdate),Vi(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const o=this.features[r];o&&(o.unmount(),o.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const o=Ls.has(e);o&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&ht.preRender(this.notifyUpdate),o&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{a(),u&&u(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Os){const r=Os[e];if(!r)continue;const{isEnabled:o,Feature:a}=r;if(!this.features[e]&&a&&o(this.props)&&(this.features[e]=new a(this)),this.features[e]){const u=this.features[e];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):xt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let o=0;o<T1.length;o++){const a=T1[o];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const u="on"+a,h=e[u];h&&(this.propEventSubscriptions[a]=this.on(a,h))}this.prevMotionValues=nN(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const o=this.values.get(e);r!==o&&(o&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let o=this.values.get(e);return o===void 0&&r!==void 0&&(o=Rs(r===null?void 0:r,{owner:this}),this.addValue(e,o)),o}readValue(e,r){let o=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return o!=null&&(typeof o=="string"&&(qb(o)||$b(o))?o=parseFloat(o):!gP(o)&&Ui.test(r)&&(o=Uw(e,r)),this.setBaseTarget(e,dn(o)?o.get():o)),dn(o)?o.get():o}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:o}=this.props;let a;if(typeof o=="string"||typeof o=="object"){const h=Dp(this.props,o,(r=this.presenceContext)==null?void 0:r.custom);h&&(a=h[e])}if(o&&a!==void 0)return a;const u=this.getBaseTargetFromProps(this.props,e);return u!==void 0&&!dn(u)?u:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new qf),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){Ep.render(this.render)}}class C1 extends rN{constructor(){super(...arguments),this.KeyframeResolver=rP}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:o}){delete r[e],delete o[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;dn(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function A1(n,{style:e,vars:r},o,a){const u=n.style;let h;for(h in e)u[h]=e[h];a==null||a.applyProjectionStyles(u,o);for(h in r)u.setProperty(h,r[h])}function iN(n){return window.getComputedStyle(n)}class oN extends C1{constructor(){super(...arguments),this.type="html",this.renderInstance=A1}readValueFromInstance(e,r){var o;if(Ls.has(r))return(o=this.projection)!=null&&o.isProjecting?hp(r):S4(e,r);{const a=iN(e),u=(Kf(r)?a.getPropertyValue(r):a[r])||0;return typeof u=="string"?u.trim():u}}measureInstanceViewportBox(e,{transformPagePoint:r}){return E1(e,r)}build(e,r,o){Cp(e,r,o.transformTemplate)}scrapeMotionValuesFromProps(e,r,o){return _p(e,r,o)}}const I1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function sN(n,e,r,o){A1(n,e,void 0,o);for(const a in e.attrs)n.setAttribute(I1.has(a)?a:Pp(a),e.attrs[a])}class aN extends C1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=xt}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Ls.has(r)){const o=jw(r);return o&&o.default||0}return r=I1.has(r)?r:Pp(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,o){return u1(e,r,o)}build(e,r,o){i1(e,r,this.isSVGTag,o.transformTemplate,o.style)}renderInstance(e,r,o,a){sN(e,r,o,a)}mount(e){this.isSVGTag=s1(e.tagName),super.mount(e)}}const lN=(n,e)=>Ip(n)?new aN(e):new oN(e,{allowProjection:n!==ge.Fragment});function zs(n,e,r){const o=n.getProps();return Dp(o,e,r!==void 0?r:o.custom,n)}const Fp=n=>Array.isArray(n);function uN(n,e,r){n.hasValue(e)?n.getValue(e).set(r):n.addValue(e,Rs(r))}function cN(n){return Fp(n)?n[n.length-1]||0:n}function hN(n,e){const r=zs(n,e);let{transitionEnd:o={},transition:a={},...u}=r||{};u={...u,...o};for(const h in u){const f=cN(u[h]);uN(n,h,f)}}function dN(n){return!!(dn(n)&&n.add)}function Vp(n,e){const r=n.getValue("willChange");if(dN(r))return r.add(e);if(!r&&$r.WillChange){const o=new $r.WillChange("auto");n.addValue("willChange",o),o.add(e)}}function D1(n){return n.props[c1]}const fN=n=>n!==null;function pN(n,{repeat:e,repeatType:r="loop"},o){const a=n.filter(fN),u=e&&r!=="loop"&&e%2===1?0:a.length-1;return a[u]}const mN={type:"spring",stiffness:500,damping:25,restSpeed:10},gN=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),yN={type:"keyframes",duration:.8},vN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},bN=(n,{keyframes:e})=>e.length>2?yN:Ls.has(n)?n.startsWith("scale")?gN(e[1]):mN:vN;function wN({when:n,delay:e,delayChildren:r,staggerChildren:o,staggerDirection:a,repeat:u,repeatType:h,repeatDelay:f,from:m,elapsed:g,...v}){return!!Object.keys(v).length}const jp=(n,e,r,o={},a,u)=>h=>{const f=vp(o,n)||{},m=f.delay||o.delay||0;let{elapsed:g=0}=o;g=g-Sr(m);const v={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-g,onUpdate:x=>{e.set(x),f.onUpdate&&f.onUpdate(x)},onComplete:()=>{h(),f.onComplete&&f.onComplete()},name:n,motionValue:e,element:u?void 0:a};wN(f)||Object.assign(v,bN(n,v)),v.duration&&(v.duration=Sr(v.duration)),v.repeatDelay&&(v.repeatDelay=Sr(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let E=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(yp(v),v.delay===0&&(E=!0)),($r.instantAnimations||$r.skipAnimations)&&(E=!0,yp(v),v.delay=0),v.allowFlatten=!f.type&&!f.ease,E&&!u&&e.get()!==void 0){const x=pN(v.keyframes,f);if(x!==void 0){ht.update(()=>{v.onUpdate(x),v.onComplete()});return}}return f.isSync?new lp(v):new W4(v)};function EN({protectedKeys:n,needsAnimating:e},r){const o=n.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,o}function _1(n,e,{delay:r=0,transitionOverride:o,type:a}={}){let{transition:u=n.getDefaultTransition(),transitionEnd:h,...f}=e;o&&(u=o);const m=[],g=a&&n.animationState&&n.animationState.getState()[a];for(const v in f){const E=n.getValue(v,n.latestValues[v]??null),x=f[v];if(x===void 0||g&&EN(g,v))continue;const I={delay:r,...vp(u||{},v)},V=E.get();if(V!==void 0&&!E.isAnimating&&!Array.isArray(x)&&x===V&&!I.velocity)continue;let B=!1;if(window.MotionHandoffAnimation){const Q=D1(n);if(Q){const te=window.MotionHandoffAnimation(Q,v,ht);te!==null&&(I.startTime=te,B=!0)}}Vp(n,v),E.start(jp(v,E,x,n.shouldReduceMotion&&Lw.has(v)?{type:!1}:I,n,B));const j=E.animation;j&&m.push(j)}return h&&Promise.all(m).then(()=>{ht.update(()=>{h&&hN(n,h)})}),m}function P1(n,e,r,o=0,a=1){const u=Array.from(n).sort((m,g)=>m.sortNodePosition(g)).indexOf(e),h=n.size,f=(h-1)*o;return typeof r=="function"?r(u,h):a===1?u*o:f-u*o}function Up(n,e,r={}){var o;const a=zs(n,e,r.type==="exit"?(o=n.presenceContext)==null?void 0:o.custom:void 0);let{transition:u=n.getDefaultTransition()||{}}=a||{};r.transitionOverride&&(u=r.transitionOverride);const h=a?()=>Promise.all(_1(n,a,r)):()=>Promise.resolve(),f=n.variantChildren&&n.variantChildren.size?(g=0)=>{const{delayChildren:v=0,staggerChildren:E,staggerDirection:x}=u;return SN(n,e,g,v,E,x,r)}:()=>Promise.resolve(),{when:m}=u;if(m){const[g,v]=m==="beforeChildren"?[h,f]:[f,h];return g().then(()=>v())}else return Promise.all([h(),f(r.delay)])}function SN(n,e,r=0,o=0,a=0,u=1,h){const f=[];for(const m of n.variantChildren)m.notify("AnimationStart",e),f.push(Up(m,e,{...h,delay:r+(typeof o=="function"?0:o)+P1(n.variantChildren,m,o,a,u)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(f)}function kN(n,e,r={}){n.notify("AnimationStart",e);let o;if(Array.isArray(e)){const a=e.map(u=>Up(n,u,r));o=Promise.all(a)}else if(typeof e=="string")o=Up(n,e,r);else{const a=typeof e=="function"?zs(n,e,r.custom):e;o=Promise.all(_1(n,a,r))}return o.then(()=>{n.notify("AnimationComplete",e)})}function N1(n,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==n.length)return!1;for(let o=0;o<r;o++)if(e[o]!==n[o])return!1;return!0}const xN=Tp.length;function M1(n){if(!n)return;if(!n.isControllingVariants){const r=n.parent?M1(n.parent)||{}:{};return n.props.initial!==void 0&&(r.initial=n.props.initial),r}const e={};for(let r=0;r<xN;r++){const o=Tp[r],a=n.props[o];(vl(a)||a===!1)&&(e[o]=a)}return e}const TN=[...xp].reverse(),CN=xp.length;function AN(n){return e=>Promise.all(e.map(({animation:r,options:o})=>kN(n,r,o)))}function IN(n){let e=AN(n),r=L1(),o=!0;const a=m=>(g,v)=>{var E;const x=zs(n,v,m==="exit"?(E=n.presenceContext)==null?void 0:E.custom:void 0);if(x){const{transition:I,transitionEnd:V,...B}=x;g={...g,...B,...V}}return g};function u(m){e=m(n)}function h(m){const{props:g}=n,v=M1(n.parent)||{},E=[],x=new Set;let I={},V=1/0;for(let j=0;j<CN;j++){const Q=TN[j],te=r[Q],oe=g[Q]!==void 0?g[Q]:v[Q],pe=vl(oe),le=Q===m?te.isActive:null;le===!1&&(V=j);let ye=oe===v[Q]&&oe!==g[Q]&&pe;if(ye&&o&&n.manuallyAnimateOnMount&&(ye=!1),te.protectedKeys={...I},!te.isActive&&le===null||!oe&&!te.prevProp||Oc(oe)||typeof oe=="boolean")continue;const M=DN(te.prevProp,oe);let A=M||Q===m&&te.isActive&&!ye&&pe||j>V&&pe,D=!1;const N=Array.isArray(oe)?oe:[oe];let L=N.reduce(a(Q),{});le===!1&&(L={});const{prevResolvedValues:O={}}=te,_={...O,...L},$e=W=>{A=!0,x.has(W)&&(D=!0,x.delete(W)),te.needsAnimating[W]=!0;const re=n.getValue(W);re&&(re.liveStyle=!1)};for(const W in _){const re=L[W],de=O[W];if(I.hasOwnProperty(W))continue;let Ne=!1;Fp(re)&&Fp(de)?Ne=!N1(re,de):Ne=re!==de,Ne?re!=null?$e(W):x.add(W):re!==void 0&&x.has(W)?$e(W):te.protectedKeys[W]=!0}te.prevProp=oe,te.prevResolvedValues=L,te.isActive&&(I={...I,...L}),o&&n.blockInitialAnimation&&(A=!1);const Ue=ye&&M;A&&(!Ue||D)&&E.push(...N.map(W=>{const re={type:Q};if(typeof W=="string"&&o&&!Ue&&n.manuallyAnimateOnMount&&n.parent){const{parent:de}=n,Ne=zs(de,W);if(de.enteringChildren&&Ne){const{delayChildren:k}=Ne.transition||{};re.delay=P1(de.enteringChildren,n,k)}}return{animation:W,options:re}}))}if(x.size){const j={};if(typeof g.initial!="boolean"){const Q=zs(n,Array.isArray(g.initial)?g.initial[0]:g.initial);Q&&Q.transition&&(j.transition=Q.transition)}x.forEach(Q=>{const te=n.getBaseTarget(Q),oe=n.getValue(Q);oe&&(oe.liveStyle=!0),j[Q]=te??null}),E.push({animation:j})}let B=!!E.length;return o&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(B=!1),o=!1,B?e(E):Promise.resolve()}function f(m,g){var v;if(r[m].isActive===g)return Promise.resolve();(v=n.variantChildren)==null||v.forEach(x=>{var I;return(I=x.animationState)==null?void 0:I.setActive(m,g)}),r[m].isActive=g;const E=h(m);for(const x in r)r[x].protectedKeys={};return E}return{animateChanges:h,setActive:f,setAnimateFunction:u,getState:()=>r,reset:()=>{r=L1(),o=!0}}}function DN(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!N1(e,n):!1}function Ro(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function L1(){return{animate:Ro(!0),whileInView:Ro(),whileHover:Ro(),whileTap:Ro(),whileDrag:Ro(),whileFocus:Ro(),exit:Ro()}}class zi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class _N extends zi{constructor(e){super(e),e.animationState||(e.animationState=IN(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Oc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let PN=0;class NN extends zi{constructor(){super(...arguments),this.id=PN++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===o)return;const a=this.node.animationState.setActive("exit",!e);r&&!e&&a.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const MN={animation:{Feature:_N},exit:{Feature:NN}};function wl(n,e,r,o={passive:!0}){return n.addEventListener(e,r,o),()=>n.removeEventListener(e,r)}function El(n){return{point:{x:n.pageX,y:n.pageY}}}const LN=n=>e=>Sp(e)&&n(e,El(e));function Sl(n,e,r,o){return wl(n,e,LN(r),o)}const R1=1e-4,RN=1-R1,ON=1+R1,O1=.01,FN=0-O1,VN=0+O1;function mn(n){return n.max-n.min}function jN(n,e,r){return Math.abs(n-e)<=r}function F1(n,e,r,o=.5){n.origin=o,n.originPoint=gt(e.min,e.max,n.origin),n.scale=mn(r)/mn(e),n.translate=gt(r.min,r.max,n.origin)-n.originPoint,(n.scale>=RN&&n.scale<=ON||isNaN(n.scale))&&(n.scale=1),(n.translate>=FN&&n.translate<=VN||isNaN(n.translate))&&(n.translate=0)}function kl(n,e,r,o){F1(n.x,e.x,r.x,o?o.originX:void 0),F1(n.y,e.y,r.y,o?o.originY:void 0)}function V1(n,e,r){n.min=r.min+e.min,n.max=n.min+mn(e)}function UN(n,e,r){V1(n.x,e.x,r.x),V1(n.y,e.y,r.y)}function j1(n,e,r){n.min=e.min-r.min,n.max=n.min+mn(e)}function xl(n,e,r){j1(n.x,e.x,r.x),j1(n.y,e.y,r.y)}function Wn(n){return[n("x"),n("y")]}const U1=({current:n})=>n?n.ownerDocument.defaultView:null,z1=(n,e)=>Math.abs(n-e);function zN(n,e){const r=z1(n.x,e.x),o=z1(n.y,e.y);return Math.sqrt(r**2+o**2)}class q1{constructor(e,r,{transformPagePoint:o,contextWindow:a=window,dragSnapToOrigin:u=!1,distanceThreshold:h=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=qp(this.lastMoveEventInfo,this.history),I=this.startEvent!==null,V=zN(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!I&&!V)return;const{point:B}=x,{timestamp:j}=Jt;this.history.push({...B,timestamp:j});const{onStart:Q,onMove:te}=this.handlers;I||(Q&&Q(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),te&&te(this.lastMoveEvent,x)},this.handlePointerMove=(x,I)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=zp(I,this.transformPagePoint),ht.update(this.updatePoint,!0)},this.handlePointerUp=(x,I)=>{this.end();const{onEnd:V,onSessionEnd:B,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Q=qp(x.type==="pointercancel"?this.lastMoveEventInfo:zp(I,this.transformPagePoint),this.history);this.startEvent&&V&&V(x,Q),B&&B(x,Q)},!Sp(e))return;this.dragSnapToOrigin=u,this.handlers=r,this.transformPagePoint=o,this.distanceThreshold=h,this.contextWindow=a||window;const f=El(e),m=zp(f,this.transformPagePoint),{point:g}=m,{timestamp:v}=Jt;this.history=[{...g,timestamp:v}];const{onSessionStart:E}=r;E&&E(e,qp(m,this.history)),this.removeListeners=ul(Sl(this.contextWindow,"pointermove",this.handlePointerMove),Sl(this.contextWindow,"pointerup",this.handlePointerUp),Sl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Vi(this.updatePoint)}}function zp(n,e){return e?{point:e(n.point)}:n}function B1(n,e){return{x:n.x-e.x,y:n.y-e.y}}function qp({point:n},e){return{point:n,delta:B1(n,$1(e)),offset:B1(n,qN(e)),velocity:BN(e,.1)}}function qN(n){return n[0]}function $1(n){return n[n.length-1]}function BN(n,e){if(n.length<2)return{x:0,y:0};let r=n.length-1,o=null;const a=$1(n);for(;r>=0&&(o=n[r],!(a.timestamp-o.timestamp>Sr(e)));)r--;if(!o)return{x:0,y:0};const u=$n(a.timestamp-o.timestamp);if(u===0)return{x:0,y:0};const h={x:(a.x-o.x)/u,y:(a.y-o.y)/u};return h.x===1/0&&(h.x=0),h.y===1/0&&(h.y=0),h}function $N(n,{min:e,max:r},o){return e!==void 0&&n<e?n=o?gt(e,n,o.min):Math.max(n,e):r!==void 0&&n>r&&(n=o?gt(r,n,o.max):Math.min(n,r)),n}function W1(n,e,r){return{min:e!==void 0?n.min+e:void 0,max:r!==void 0?n.max+r-(n.max-n.min):void 0}}function WN(n,{top:e,left:r,bottom:o,right:a}){return{x:W1(n.x,r,a),y:W1(n.y,e,o)}}function K1(n,e){let r=e.min-n.min,o=e.max-n.max;return e.max-e.min<n.max-n.min&&([r,o]=[o,r]),{min:r,max:o}}function KN(n,e){return{x:K1(n.x,e.x),y:K1(n.y,e.y)}}function HN(n,e){let r=.5;const o=mn(n),a=mn(e);return a>o?r=cl(e.min,e.max-o,n.min):o>a&&(r=cl(n.min,n.max-a,e.min)),Br(0,1,r)}function XN(n,e){const r={};return e.min!==void 0&&(r.min=e.min-n.min),e.max!==void 0&&(r.max=e.max-n.min),r}const Bp=.35;function QN(n=Bp){return n===!1?n=0:n===!0&&(n=Bp),{x:H1(n,"left","right"),y:H1(n,"top","bottom")}}function H1(n,e,r){return{min:X1(n,e),max:X1(n,r)}}function X1(n,e){return typeof n=="number"?n:n[e]||0}const GN=new WeakMap;class YN{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=xt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:o}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const u=E=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(El(E).point)},h=(E,x)=>{const{drag:I,dragPropagation:V,onDragStart:B}=this.getProps();if(I&&!V&&(this.openDragLock&&this.openDragLock(),this.openDragLock=lP(I),!this.openDragLock))return;this.latestPointerEvent=E,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Wn(Q=>{let te=this.getAxisMotionValue(Q).get()||0;if(kr.test(te)){const{projection:oe}=this.visualElement;if(oe&&oe.layout){const pe=oe.layout.layoutBox[Q];pe&&(te=mn(pe)*(parseFloat(te)/100))}}this.originPoint[Q]=te}),B&&ht.postRender(()=>B(E,x)),Vp(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},f=(E,x)=>{this.latestPointerEvent=E,this.latestPanInfo=x;const{dragPropagation:I,dragDirectionLock:V,onDirectionLock:B,onDrag:j}=this.getProps();if(!I&&!this.openDragLock)return;const{offset:Q}=x;if(V&&this.currentDirection===null){this.currentDirection=ZN(Q),this.currentDirection!==null&&B&&B(this.currentDirection);return}this.updateAxis("x",x.point,Q),this.updateAxis("y",x.point,Q),this.visualElement.render(),j&&j(E,x)},m=(E,x)=>{this.latestPointerEvent=E,this.latestPanInfo=x,this.stop(E,x),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Wn(E=>{var x;return this.getAnimationState(E)==="paused"&&((x=this.getAxisMotionValue(E).animation)==null?void 0:x.play())}),{dragSnapToOrigin:v}=this.getProps();this.panSession=new q1(e,{onSessionStart:u,onStart:h,onMove:f,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:o,contextWindow:U1(this.visualElement)})}stop(e,r){const o=e||this.latestPointerEvent,a=r||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!a||!o)return;const{velocity:h}=a;this.startAnimation(h);const{onDragEnd:f}=this.getProps();f&&ht.postRender(()=>f(o,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,o){const{drag:a}=this.getProps();if(!o||!Uc(e,a,this.currentDirection))return;const u=this.getAxisMotionValue(e);let h=this.originPoint[e]+o[e];this.constraints&&this.constraints[e]&&(h=$N(h,this.constraints[e],this.elastic[e])),u.set(h)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:o}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)==null?void 0:e.layout,u=this.constraints;r&&Fs(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&a?this.constraints=WN(a.layoutBox,r):this.constraints=!1,this.elastic=QN(o),u!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Wn(h=>{this.constraints!==!1&&this.getAxisMotionValue(h)&&(this.constraints[h]=XN(a.layoutBox[h],this.constraints[h]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Fs(e))return!1;const o=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const u=JP(o,a.root,this.visualElement.getTransformPagePoint());let h=KN(a.layout.layoutBox,u);if(r){const f=r(GP(h));this.hasMutatedConstraints=!!f,f&&(h=f1(f))}return h}startAnimation(e){const{drag:r,dragMomentum:o,dragElastic:a,dragTransition:u,dragSnapToOrigin:h,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},g=Wn(v=>{if(!Uc(v,r,this.currentDirection))return;let E=m&&m[v]||{};h&&(E={min:0,max:0});const x=a?200:1e6,I=a?40:1e7,V={type:"inertia",velocity:o?e[v]:0,bounceStiffness:x,bounceDamping:I,timeConstant:750,restDelta:1,restSpeed:10,...u,...E};return this.startAxisValueAnimation(v,V)});return Promise.all(g).then(f)}startAxisValueAnimation(e,r){const o=this.getAxisMotionValue(e);return Vp(this.visualElement,e),o.start(jp(e,o,0,r,this.visualElement,!1))}stopAnimation(){Wn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Wn(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,o=this.visualElement.getProps();return o[r]||this.visualElement.getValue(e,(o.initial?o.initial[e]:void 0)||0)}snapToCursor(e){Wn(r=>{const{drag:o}=this.getProps();if(!Uc(r,o,this.currentDirection))return;const{projection:a}=this.visualElement,u=this.getAxisMotionValue(r);if(a&&a.layout){const{min:h,max:f}=a.layout.layoutBox[r];u.set(e[r]-gt(h,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:o}=this.visualElement;if(!Fs(r)||!o||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Wn(h=>{const f=this.getAxisMotionValue(h);if(f&&this.constraints!==!1){const m=f.get();a[h]=HN({min:m,max:m},this.constraints[h])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),Wn(h=>{if(!Uc(h,e,null))return;const f=this.getAxisMotionValue(h),{min:m,max:g}=this.constraints[h];f.set(gt(m,g,a[h]))})}addListeners(){if(!this.visualElement.current)return;GN.set(this.visualElement,this);const e=this.visualElement.current,r=Sl(e,"pointerdown",m=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(m)}),o=()=>{const{dragConstraints:m}=this.getProps();Fs(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,u=a.addEventListener("measure",o);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ht.read(o);const h=wl(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(Wn(v=>{const E=this.getAxisMotionValue(v);E&&(this.originPoint[v]+=m[v].translate,E.set(E.get()+m[v].translate))}),this.visualElement.render())}));return()=>{h(),r(),u(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:o=!1,dragPropagation:a=!1,dragConstraints:u=!1,dragElastic:h=Bp,dragMomentum:f=!0}=e;return{...e,drag:r,dragDirectionLock:o,dragPropagation:a,dragConstraints:u,dragElastic:h,dragMomentum:f}}}function Uc(n,e,r){return(e===!0||e===n)&&(r===null||r===n)}function ZN(n,e=10){let r=null;return Math.abs(n.y)>e?r="y":Math.abs(n.x)>e&&(r="x"),r}class JN extends zi{constructor(e){super(e),this.removeGroupControls=Bn,this.removeListeners=Bn,this.controls=new YN(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Bn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Q1=n=>(e,r)=>{n&&ht.postRender(()=>n(e,r))};class eM extends zi{constructor(){super(...arguments),this.removePointerDownListener=Bn}onPointerDown(e){this.session=new q1(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:U1(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:o,onPanEnd:a}=this.node.getProps();return{onSessionStart:Q1(e),onStart:Q1(r),onMove:o,onEnd:(u,h)=>{delete this.session,a&&ht.postRender(()=>a(u,h))}}}mount(){this.removePointerDownListener=Sl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const zc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function G1(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Tl={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Te.test(n))n=parseFloat(n);else return n;const r=G1(n,e.target.x),o=G1(n,e.target.y);return`${r}% ${o}%`}},tM={correct:(n,{treeScale:e,projectionDelta:r})=>{const o=n,a=Ui.parse(n);if(a.length>5)return o;const u=Ui.createTransformer(n),h=typeof a[0]!="number"?1:0,f=r.x.scale*e.x,m=r.y.scale*e.y;a[0+h]/=f,a[1+h]/=m;const g=gt(f,m,.5);return typeof a[2+h]=="number"&&(a[2+h]/=g),typeof a[3+h]=="number"&&(a[3+h]/=g),u(a)}};let $p=!1;class nM extends ge.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:o,layoutId:a}=this.props,{projection:u}=e;xP(rM),u&&(r.group&&r.group.add(u),o&&o.register&&a&&o.register(u),$p&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),zc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:o,drag:a,isPresent:u}=this.props,{projection:h}=o;return h&&(h.isPresent=u,$p=!0,a||e.layoutDependency!==r||r===void 0||e.isPresent!==u?h.willUpdate():this.safeToRemove(),e.isPresent!==u&&(u?h.promote():h.relegate()||ht.postRender(()=>{const f=h.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ep.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:o}=this.props,{projection:a}=e;$p=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),o&&o.deregister&&o.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Y1(n){const[e,r]=yP(),o=ge.useContext(zb);return ie.jsx(nM,{...n,layoutGroup:o,switchLayoutGroup:ge.useContext(h1),isPresent:e,safeToRemove:r})}const rM={borderRadius:{...Tl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Tl,borderTopRightRadius:Tl,borderBottomLeftRadius:Tl,borderBottomRightRadius:Tl,boxShadow:tM};function iM(n,e,r){const o=dn(n)?n:Rs(n);return o.start(jp("",o,e,r)),o.animation}const oM=(n,e)=>n.depth-e.depth;class sM{constructor(){this.children=[],this.isDirty=!1}add(e){Vf(this.children,e),this.isDirty=!0}remove(e){jf(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(oM),this.isDirty=!1,this.children.forEach(e)}}function aM(n,e){const r=Tn.now(),o=({timestamp:a})=>{const u=a-r;u>=e&&(Vi(o),n(u-e))};return ht.setup(o,!0),()=>Vi(o)}const Z1=["TopLeft","TopRight","BottomLeft","BottomRight"],lM=Z1.length,J1=n=>typeof n=="string"?parseFloat(n):n,eE=n=>typeof n=="number"||Te.test(n);function uM(n,e,r,o,a,u){a?(n.opacity=gt(0,r.opacity??1,cM(o)),n.opacityExit=gt(e.opacity??1,0,hM(o))):u&&(n.opacity=gt(e.opacity??1,r.opacity??1,o));for(let h=0;h<lM;h++){const f=`border${Z1[h]}Radius`;let m=tE(e,f),g=tE(r,f);m===void 0&&g===void 0||(m||(m=0),g||(g=0),m===0||g===0||eE(m)===eE(g)?(n[f]=Math.max(gt(J1(m),J1(g),o),0),(kr.test(g)||kr.test(m))&&(n[f]+="%")):n[f]=g)}(e.rotate||r.rotate)&&(n.rotate=gt(e.rotate||0,r.rotate||0,o))}function tE(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const cM=nE(0,.5,Zb),hM=nE(.5,.95,Bn);function nE(n,e,r){return o=>o<n?0:o>e?1:r(cl(n,e,o))}function rE(n,e){n.min=e.min,n.max=e.max}function Kn(n,e){rE(n.x,e.x),rE(n.y,e.y)}function iE(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function oE(n,e,r,o,a){return n-=e,n=jc(n,1/r,o),a!==void 0&&(n=jc(n,1/a,o)),n}function dM(n,e=0,r=1,o=.5,a,u=n,h=n){if(kr.test(e)&&(e=parseFloat(e),e=gt(h.min,h.max,e/100)-h.min),typeof e!="number")return;let f=gt(u.min,u.max,o);n===u&&(f-=e),n.min=oE(n.min,e,r,f,a),n.max=oE(n.max,e,r,f,a)}function sE(n,e,[r,o,a],u,h){dM(n,e[r],e[o],e[a],e.scale,u,h)}const fM=["x","scaleX","originX"],pM=["y","scaleY","originY"];function aE(n,e,r,o){sE(n.x,e,fM,r?r.x:void 0,o?o.x:void 0),sE(n.y,e,pM,r?r.y:void 0,o?o.y:void 0)}function lE(n){return n.translate===0&&n.scale===1}function uE(n){return lE(n.x)&&lE(n.y)}function cE(n,e){return n.min===e.min&&n.max===e.max}function mM(n,e){return cE(n.x,e.x)&&cE(n.y,e.y)}function hE(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function dE(n,e){return hE(n.x,e.x)&&hE(n.y,e.y)}function fE(n){return mn(n.x)/mn(n.y)}function pE(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class gM{constructor(){this.members=[]}add(e){Vf(this.members,e),e.scheduleRender()}remove(e){if(jf(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(a=>e===a);if(r===0)return!1;let o;for(let a=r;a>=0;a--){const u=this.members[a];if(u.isPresent!==!1){o=u;break}}return o?(this.promote(o),!0):!1}promote(e,r){const o=this.lead;if(e!==o&&(this.prevLead=o,this.lead=e,e.show(),o)){o.instance&&o.scheduleRender(),e.scheduleRender(),e.resumeFrom=o,r&&(e.resumeFrom.preserveOpacity=!0),o.snapshot&&(e.snapshot=o.snapshot,e.snapshot.latestValues=o.animationValues||o.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:o}=e;r.onExitComplete&&r.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function yM(n,e,r){let o="";const a=n.x.translate/e.x,u=n.y.translate/e.y,h=(r==null?void 0:r.z)||0;if((a||u||h)&&(o=`translate3d(${a}px, ${u}px, ${h}px) `),(e.x!==1||e.y!==1)&&(o+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:g,rotate:v,rotateX:E,rotateY:x,skewX:I,skewY:V}=r;g&&(o=`perspective(${g}px) ${o}`),v&&(o+=`rotate(${v}deg) `),E&&(o+=`rotateX(${E}deg) `),x&&(o+=`rotateY(${x}deg) `),I&&(o+=`skewX(${I}deg) `),V&&(o+=`skewY(${V}deg) `)}const f=n.x.scale*e.x,m=n.y.scale*e.y;return(f!==1||m!==1)&&(o+=`scale(${f}, ${m})`),o||"none"}const Wp=["","X","Y","Z"],vM=1e3;let bM=0;function Kp(n,e,r,o){const{latestValues:a}=e;a[n]&&(r[n]=a[n],e.setStaticValue(n,0),o&&(o[n]=0))}function mE(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const r=D1(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(r,"transform",ht,!(a||u))}const{parent:o}=n;o&&!o.hasCheckedOptimisedAppear&&mE(o)}function gE({attachResizeListener:n,defaultParent:e,measureScroll:r,checkIsScrollRoot:o,resetTransform:a}){return class{constructor(u={},h=e==null?void 0:e()){this.id=bM++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(SM),this.nodes.forEach(CM),this.nodes.forEach(AM),this.nodes.forEach(kM)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new sM)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new qf),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const f=this.eventHandlers.get(u);f&&f.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=Qw(u)&&!pP(u),this.instance=u;const{layoutId:h,layout:f,visualElement:m}=this.options;if(m&&!m.current&&m.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||h)&&(this.isLayoutDirty=!0),n){let g,v=0;const E=()=>this.root.updateBlockedByResize=!1;ht.read(()=>{v=window.innerWidth}),n(u,()=>{const x=window.innerWidth;x!==v&&(v=x,this.root.updateBlockedByResize=!0,g&&g(),g=aM(E,250),zc.hasAnimatedSinceResize&&(zc.hasAnimatedSinceResize=!1,this.nodes.forEach(bE)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||f)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:E,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||m.getDefaultTransition()||NM,{onLayoutAnimationStart:V,onLayoutAnimationComplete:B}=m.getProps(),j=!this.targetLayout||!dE(this.targetLayout,x),Q=!v&&E;if(this.options.layoutRoot||this.resumeFrom||Q||v&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const te={...vp(I,"layout"),onPlay:V,onComplete:B};(m.shouldReduceMotion||this.options.layoutRoot)&&(te.delay=0,te.type=!1),this.startAnimation(te),this.setAnimationOrigin(g,Q)}else v||bE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Vi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(IM),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&mE(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(yE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(vE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(TM),this.nodes.forEach(wM),this.nodes.forEach(EM)):this.nodes.forEach(vE),this.clearAllSnapshots();const u=Tn.now();Jt.delta=Br(0,1e3/60,u-Jt.timestamp),Jt.timestamp=u,Jt.isProcessing=!0,Wf.update.process(Jt),Wf.preRender.process(Jt),Wf.render.process(Jt),Jt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ep.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(xM),this.sharedNodes.forEach(DM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ht.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ht.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!mn(this.snapshot.measuredBox.x)&&!mn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=xt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const f=o(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!uE(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;u&&this.instance&&(h||Lo(this.latestValues)||g)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return u&&(f=this.removeTransform(f)),MM(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:h}=this.options;if(!h)return xt();const f=h.measureViewportBox();if(!((u=this.scroll)!=null&&u.wasRoot||this.path.some(LM))){const{scroll:m}=this.root;m&&(Vs(f.x,m.offset.x),Vs(f.y,m.offset.y))}return f}removeElementScroll(u){var h;const f=xt();if(Kn(f,u),(h=this.scroll)!=null&&h.wasRoot)return f;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:v,options:E}=g;g!==this.root&&v&&E.layoutScroll&&(v.wasRoot&&Kn(f,u),Vs(f.x,v.offset.x),Vs(f.y,v.offset.y))}return f}applyTransform(u,h=!1){const f=xt();Kn(f,u);for(let m=0;m<this.path.length;m++){const g=this.path[m];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&js(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Lo(g.latestValues)&&js(f,g.latestValues)}return Lo(this.latestValues)&&js(f,this.latestValues),f}removeTransform(u){const h=xt();Kn(h,u);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!Lo(m.latestValues))continue;Lp(m.latestValues)&&m.updateSnapshot();const g=xt(),v=m.measurePageBox();Kn(g,v),aE(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return Lo(this.latestValues)&&aE(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Jt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var h;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=Jt.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xt(),this.relativeTargetOrigin=xt(),xl(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),Kn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=xt(),this.targetWithTransforms=xt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),UN(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Kn(this.target,this.layout.layoutBox),y1(this.target,this.targetDelta)):Kn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xt(),this.relativeTargetOrigin=xt(),xl(this.relativeTargetOrigin,this.target,E.target),Kn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Lp(this.parent.latestValues)||p1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const h=this.getLead(),f=!!this.resumingFrom||this!==h;let m=!0;if((this.isProjectionDirty||(u=this.parent)!=null&&u.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Jt.timestamp&&(m=!1),m)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;Kn(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,x=this.treeScale.y;ZP(this.layoutCorrected,this.treeScale,this.path,f),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=xt());const{target:I}=h;if(!I){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(iE(this.prevProjectionDelta.x,this.projectionDelta.x),iE(this.prevProjectionDelta.y,this.projectionDelta.y)),kl(this.projectionDelta,this.layoutCorrected,I,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==x||!pE(this.projectionDelta.x,this.prevProjectionDelta.x)||!pE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",I))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Us(),this.projectionDelta=Us(),this.projectionDeltaWithTransform=Us()}setAnimationOrigin(u,h=!1){const f=this.snapshot,m=f?f.latestValues:{},g={...this.latestValues},v=Us();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const E=xt(),x=f?f.source:void 0,I=this.layout?this.layout.source:void 0,V=x!==I,B=this.getStack(),j=!B||B.members.length<=1,Q=!!(V&&!j&&this.options.crossfade===!0&&!this.path.some(PM));this.animationProgress=0;let te;this.mixTargetDelta=oe=>{const pe=oe/1e3;wE(v.x,u.x,pe),wE(v.y,u.y,pe),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xl(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),_M(this.relativeTarget,this.relativeTargetOrigin,E,pe),te&&mM(this.relativeTarget,te)&&(this.isProjectionDirty=!1),te||(te=xt()),Kn(te,this.relativeTarget)),V&&(this.animationValues=g,uM(g,m,this.latestValues,pe,Q,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=pe},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var h,f,m;this.notifyListeners("animationStart"),(h=this.currentAnimation)==null||h.stop(),(m=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||m.stop(),this.pendingAnimation&&(Vi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ht.update(()=>{zc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Rs(0)),this.currentAnimation=iM(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),u.onUpdate&&u.onUpdate(g)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(vM),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:f,layout:m,latestValues:g}=u;if(!(!h||!f||!m)){if(this!==u&&this.layout&&m&&TE(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||xt();const v=mn(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+v;const E=mn(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+E}Kn(h,f),js(h,g),kl(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new gM),this.sharedNodes.get(u).add(h);const f=h.options.initialPromotionConfig;h.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:h}=this.options;return h?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:h}=this.options;return h?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const m={};f.z&&Kp("z",u,m,this.animationValues);for(let g=0;g<Wp.length;g++)Kp(`rotate${Wp[g]}`,u,m,this.animationValues),Kp(`skew${Wp[g]}`,u,m,this.animationValues);u.render();for(const g in m)u.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Vc(h==null?void 0:h.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Vc(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!Lo(this.latestValues)&&(u.transform=f?f({},""):"none",this.hasProjected=!1);return}u.visibility="";const g=m.animationValues||m.latestValues;this.applyTransformsToTarget();let v=yM(this.projectionDeltaWithTransform,this.treeScale,g);f&&(v=f(g,v)),u.transform=v;const{x:E,y:x}=this.projectionDelta;u.transformOrigin=`${E.origin*100}% ${x.origin*100}% 0`,m.animationValues?u.opacity=m===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const I in bl){if(g[I]===void 0)continue;const{correct:V,applyTo:B,isCSSVariable:j}=bl[I],Q=v==="none"?g[I]:V(g[I],m);if(B){const te=B.length;for(let oe=0;oe<te;oe++)u[B[oe]]=Q}else j?this.options.visualElement.renderState.vars[I]=Q:u[I]=Q}this.options.layoutId&&(u.pointerEvents=m===this?Vc(h==null?void 0:h.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var h;return(h=u.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(yE),this.root.sharedNodes.clear()}}}function wM(n){n.updateLayout()}function EM(n){var e;const r=((e=n.resumeFrom)==null?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&r&&n.hasListeners("didUpdate")){const{layoutBox:o,measuredBox:a}=n.layout,{animationType:u}=n.options,h=r.source!==n.layout.source;u==="size"?Wn(E=>{const x=h?r.measuredBox[E]:r.layoutBox[E],I=mn(x);x.min=o[E].min,x.max=x.min+I}):TE(u,r.layoutBox,o)&&Wn(E=>{const x=h?r.measuredBox[E]:r.layoutBox[E],I=mn(o[E]);x.max=x.min+I,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[E].max=n.relativeTarget[E].min+I)});const f=Us();kl(f,o,r.layoutBox);const m=Us();h?kl(m,n.applyTransform(a,!0),r.measuredBox):kl(m,o,r.layoutBox);const g=!uE(f);let v=!1;if(!n.resumeFrom){const E=n.getClosestProjectingParent();if(E&&!E.resumeFrom){const{snapshot:x,layout:I}=E;if(x&&I){const V=xt();xl(V,r.layoutBox,x.layoutBox);const B=xt();xl(B,o,I.layoutBox),dE(V,B)||(v=!0),E.options.layoutRoot&&(n.relativeTarget=B,n.relativeTargetOrigin=V,n.relativeParent=E)}}}n.notifyListeners("didUpdate",{layout:o,snapshot:r,delta:m,layoutDelta:f,hasLayoutChanged:g,hasRelativeLayoutChanged:v})}else if(n.isLead()){const{onExitComplete:o}=n.options;o&&o()}n.options.transition=void 0}function SM(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function kM(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function xM(n){n.clearSnapshot()}function yE(n){n.clearMeasurements()}function vE(n){n.isLayoutDirty=!1}function TM(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function bE(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function CM(n){n.resolveTargetDelta()}function AM(n){n.calcProjection()}function IM(n){n.resetSkewAndRotation()}function DM(n){n.removeLeadSnapshot()}function wE(n,e,r){n.translate=gt(e.translate,0,r),n.scale=gt(e.scale,1,r),n.origin=e.origin,n.originPoint=e.originPoint}function EE(n,e,r,o){n.min=gt(e.min,r.min,o),n.max=gt(e.max,r.max,o)}function _M(n,e,r,o){EE(n.x,e.x,r.x,o),EE(n.y,e.y,r.y,o)}function PM(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const NM={duration:.45,ease:[.4,0,.1,1]},SE=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),kE=SE("applewebkit/")&&!SE("chrome/")?Math.round:Bn;function xE(n){n.min=kE(n.min),n.max=kE(n.max)}function MM(n){xE(n.x),xE(n.y)}function TE(n,e,r){return n==="position"||n==="preserve-aspect"&&!jN(fE(e),fE(r),.2)}function LM(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const RM=gE({attachResizeListener:(n,e)=>wl(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Hp={current:void 0},CE=gE({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Hp.current){const n=new RM({});n.mount(window),n.setOptions({layoutScroll:!0}),Hp.current=n}return Hp.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),OM={pan:{Feature:eM},drag:{Feature:JN,ProjectionNode:CE,MeasureLayout:Y1}};function AE(n,e,r){const{props:o}=n;n.animationState&&o.whileHover&&n.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,u=o[a];u&&ht.postRender(()=>u(e,El(e)))}class FM extends zi{mount(){const{current:e}=this.node;e&&(this.unmount=uP(e,(r,o)=>(AE(this.node,o,"Start"),a=>AE(this.node,a,"End"))))}unmount(){}}class VM extends zi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ul(wl(this.node.current,"focus",()=>this.onFocus()),wl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function IE(n,e,r){const{props:o}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&o.whileTap&&n.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),u=o[a];u&&ht.postRender(()=>u(e,El(e)))}class jM extends zi{mount(){const{current:e}=this.node;e&&(this.unmount=fP(e,(r,o)=>(IE(this.node,o,"Start"),(a,{success:u})=>IE(this.node,a,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Xp=new WeakMap,Qp=new WeakMap,UM=n=>{const e=Xp.get(n.target);e&&e(n)},zM=n=>{n.forEach(UM)};function qM({root:n,...e}){const r=n||document;Qp.has(r)||Qp.set(r,{});const o=Qp.get(r),a=JSON.stringify(e);return o[a]||(o[a]=new IntersectionObserver(zM,{root:n,...e})),o[a]}function BM(n,e,r){const o=qM(e);return Xp.set(n,r),o.observe(n),()=>{Xp.delete(n),o.unobserve(n)}}const $M={some:0,all:1};class WM extends zi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:o,amount:a="some",once:u}=e,h={root:r?r.current:void 0,rootMargin:o,threshold:typeof a=="number"?a:$M[a]},f=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:E}=this.node.getProps(),x=g?v:E;x&&x(m)};return BM(this.node.current,h,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(KM(e,r))&&this.startObserver()}unmount(){}}function KM({viewport:n={}},{viewport:e={}}={}){return r=>n[r]!==e[r]}const HM={inView:{Feature:WM},tap:{Feature:jM},focus:{Feature:VM},hover:{Feature:FM}},XM={layout:{ProjectionNode:CE,MeasureLayout:Y1}},QM={...MN,...HM,...OM,...XM},GM=QP(QM,lN);var qc={};(function n(e,r,o,a){var u=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),h=typeof Path2D=="function"&&typeof DOMMatrix=="function",f=(function(){if(!e.OffscreenCanvas)return!1;var k=new OffscreenCanvas(1,1),C=k.getContext("2d");C.fillRect(0,0,1,1);var G=k.transferToImageBitmap();try{C.createPattern(G,"no-repeat")}catch{return!1}return!0})();function m(){}function g(k){var C=r.exports.Promise,G=C!==void 0?C:e.Promise;return typeof G=="function"?new G(k):(k(m,m),null)}var v=(function(k,C){return{transform:function(G){if(k)return G;if(C.has(G))return C.get(G);var X=new OffscreenCanvas(G.width,G.height),se=X.getContext("2d");return se.drawImage(G,0,0),C.set(G,X),X},clear:function(){C.clear()}}})(f,new Map),E=(function(){var k=Math.floor(16.666666666666668),C,G,X={},se=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(C=function(ce){var ae=Math.random();return X[ae]=requestAnimationFrame(function me(ve){se===ve||se+k-1<ve?(se=ve,delete X[ae],ce()):X[ae]=requestAnimationFrame(me)}),ae},G=function(ce){X[ce]&&cancelAnimationFrame(X[ce])}):(C=function(ce){return setTimeout(ce,k)},G=function(ce){return clearTimeout(ce)}),{frame:C,cancel:G}})(),x=(function(){var k,C,G={};function X(se){function ce(ae,me){se.postMessage({options:ae||{},callback:me})}se.init=function(ae){var me=ae.transferControlToOffscreen();se.postMessage({canvas:me},[me])},se.fire=function(ae,me,ve){if(C)return ce(ae,null),C;var _e=Math.random().toString(36).slice(2);return C=g(function(ot){function Oe(et){et.data.callback===_e&&(delete G[_e],se.removeEventListener("message",Oe),C=null,v.clear(),ve(),ot())}se.addEventListener("message",Oe),ce(ae,_e),G[_e]=Oe.bind(null,{data:{callback:_e}})}),C},se.reset=function(){se.postMessage({reset:!0});for(var ae in G)G[ae](),delete G[ae]}}return function(){if(k)return k;if(!o&&u){var se=["var CONFETTI, SIZE = {}, module = {};","("+n.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{k=new Worker(URL.createObjectURL(new Blob([se])))}catch(ce){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",ce),null}X(k)}return k}})(),I={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function V(k,C){return C?C(k):k}function B(k){return k!=null}function j(k,C,G){return V(k&&B(k[C])?k[C]:I[C],G)}function Q(k){return k<0?0:Math.floor(k)}function te(k,C){return Math.floor(Math.random()*(C-k))+k}function oe(k){return parseInt(k,16)}function pe(k){return k.map(le)}function le(k){var C=String(k).replace(/[^0-9a-f]/gi,"");return C.length<6&&(C=C[0]+C[0]+C[1]+C[1]+C[2]+C[2]),{r:oe(C.substring(0,2)),g:oe(C.substring(2,4)),b:oe(C.substring(4,6))}}function ye(k){var C=j(k,"origin",Object);return C.x=j(C,"x",Number),C.y=j(C,"y",Number),C}function M(k){k.width=document.documentElement.clientWidth,k.height=document.documentElement.clientHeight}function A(k){var C=k.getBoundingClientRect();k.width=C.width,k.height=C.height}function D(k){var C=document.createElement("canvas");return C.style.position="fixed",C.style.top="0px",C.style.left="0px",C.style.pointerEvents="none",C.style.zIndex=k,C}function N(k,C,G,X,se,ce,ae,me,ve){k.save(),k.translate(C,G),k.rotate(ce),k.scale(X,se),k.arc(0,0,1,ae,me,ve),k.restore()}function L(k){var C=k.angle*(Math.PI/180),G=k.spread*(Math.PI/180);return{x:k.x,y:k.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:k.startVelocity*.5+Math.random()*k.startVelocity,angle2D:-C+(.5*G-Math.random()*G),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:k.color,shape:k.shape,tick:0,totalTicks:k.ticks,decay:k.decay,drift:k.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:k.gravity*3,ovalScalar:.6,scalar:k.scalar,flat:k.flat}}function O(k,C){C.x+=Math.cos(C.angle2D)*C.velocity+C.drift,C.y+=Math.sin(C.angle2D)*C.velocity+C.gravity,C.velocity*=C.decay,C.flat?(C.wobble=0,C.wobbleX=C.x+10*C.scalar,C.wobbleY=C.y+10*C.scalar,C.tiltSin=0,C.tiltCos=0,C.random=1):(C.wobble+=C.wobbleSpeed,C.wobbleX=C.x+10*C.scalar*Math.cos(C.wobble),C.wobbleY=C.y+10*C.scalar*Math.sin(C.wobble),C.tiltAngle+=.1,C.tiltSin=Math.sin(C.tiltAngle),C.tiltCos=Math.cos(C.tiltAngle),C.random=Math.random()+2);var G=C.tick++/C.totalTicks,X=C.x+C.random*C.tiltCos,se=C.y+C.random*C.tiltSin,ce=C.wobbleX+C.random*C.tiltCos,ae=C.wobbleY+C.random*C.tiltSin;if(k.fillStyle="rgba("+C.color.r+", "+C.color.g+", "+C.color.b+", "+(1-G)+")",k.beginPath(),h&&C.shape.type==="path"&&typeof C.shape.path=="string"&&Array.isArray(C.shape.matrix))k.fill(re(C.shape.path,C.shape.matrix,C.x,C.y,Math.abs(ce-X)*.1,Math.abs(ae-se)*.1,Math.PI/10*C.wobble));else if(C.shape.type==="bitmap"){var me=Math.PI/10*C.wobble,ve=Math.abs(ce-X)*.1,_e=Math.abs(ae-se)*.1,ot=C.shape.bitmap.width*C.scalar,Oe=C.shape.bitmap.height*C.scalar,et=new DOMMatrix([Math.cos(me)*ve,Math.sin(me)*ve,-Math.sin(me)*_e,Math.cos(me)*_e,C.x,C.y]);et.multiplySelf(new DOMMatrix(C.shape.matrix));var yt=k.createPattern(v.transform(C.shape.bitmap),"no-repeat");yt.setTransform(et),k.globalAlpha=1-G,k.fillStyle=yt,k.fillRect(C.x-ot/2,C.y-Oe/2,ot,Oe),k.globalAlpha=1}else if(C.shape==="circle")k.ellipse?k.ellipse(C.x,C.y,Math.abs(ce-X)*C.ovalScalar,Math.abs(ae-se)*C.ovalScalar,Math.PI/10*C.wobble,0,2*Math.PI):N(k,C.x,C.y,Math.abs(ce-X)*C.ovalScalar,Math.abs(ae-se)*C.ovalScalar,Math.PI/10*C.wobble,0,2*Math.PI);else if(C.shape==="star")for(var Pe=Math.PI/2*3,Nt=4*C.scalar,fn=8*C.scalar,dt=C.x,Nn=C.y,Mn=5,en=Math.PI/Mn;Mn--;)dt=C.x+Math.cos(Pe)*fn,Nn=C.y+Math.sin(Pe)*fn,k.lineTo(dt,Nn),Pe+=en,dt=C.x+Math.cos(Pe)*Nt,Nn=C.y+Math.sin(Pe)*Nt,k.lineTo(dt,Nn),Pe+=en;else k.moveTo(Math.floor(C.x),Math.floor(C.y)),k.lineTo(Math.floor(C.wobbleX),Math.floor(se)),k.lineTo(Math.floor(ce),Math.floor(ae)),k.lineTo(Math.floor(X),Math.floor(C.wobbleY));return k.closePath(),k.fill(),C.tick<C.totalTicks}function _(k,C,G,X,se){var ce=C.slice(),ae=k.getContext("2d"),me,ve,_e=g(function(ot){function Oe(){me=ve=null,ae.clearRect(0,0,X.width,X.height),v.clear(),se(),ot()}function et(){o&&!(X.width===a.width&&X.height===a.height)&&(X.width=k.width=a.width,X.height=k.height=a.height),!X.width&&!X.height&&(G(k),X.width=k.width,X.height=k.height),ae.clearRect(0,0,X.width,X.height),ce=ce.filter(function(yt){return O(ae,yt)}),ce.length?me=E.frame(et):Oe()}me=E.frame(et),ve=Oe});return{addFettis:function(ot){return ce=ce.concat(ot),_e},canvas:k,promise:_e,reset:function(){me&&E.cancel(me),ve&&ve()}}}function $e(k,C){var G=!k,X=!!j(C||{},"resize"),se=!1,ce=j(C,"disableForReducedMotion",Boolean),ae=u&&!!j(C||{},"useWorker"),me=ae?x():null,ve=G?M:A,_e=k&&me?!!k.__confetti_initialized:!1,ot=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Oe;function et(Pe,Nt,fn){for(var dt=j(Pe,"particleCount",Q),Nn=j(Pe,"angle",Number),Mn=j(Pe,"spread",Number),en=j(Pe,"startVelocity",Number),Wr=j(Pe,"decay",Number),Cl=j(Pe,"gravity",Number),qi=j(Pe,"drift",Number),Bi=j(Pe,"colors",pe),qs=j(Pe,"ticks",Number),ct=j(Pe,"shapes"),He=j(Pe,"scalar"),gn=!!j(Pe,"flat"),Vt=ye(Pe),Oo=dt,Fo=[],Kr=k.width*Vt.x,Hr=k.height*Vt.y;Oo--;)Fo.push(L({x:Kr,y:Hr,angle:Nn,spread:Mn,startVelocity:en,color:Bi[Oo%Bi.length],shape:ct[te(0,ct.length)],ticks:qs,decay:Wr,gravity:Cl,drift:qi,scalar:He,flat:gn}));return Oe?Oe.addFettis(Fo):(Oe=_(k,Fo,ve,Nt,fn),Oe.promise)}function yt(Pe){var Nt=ce||j(Pe,"disableForReducedMotion",Boolean),fn=j(Pe,"zIndex",Number);if(Nt&&ot)return g(function(en){en()});G&&Oe?k=Oe.canvas:G&&!k&&(k=D(fn),document.body.appendChild(k)),X&&!_e&&ve(k);var dt={width:k.width,height:k.height};me&&!_e&&me.init(k),_e=!0,me&&(k.__confetti_initialized=!0);function Nn(){if(me){var en={getBoundingClientRect:function(){if(!G)return k.getBoundingClientRect()}};ve(en),me.postMessage({resize:{width:en.width,height:en.height}});return}dt.width=dt.height=null}function Mn(){Oe=null,X&&(se=!1,e.removeEventListener("resize",Nn)),G&&k&&(document.body.contains(k)&&document.body.removeChild(k),k=null,_e=!1)}return X&&!se&&(se=!0,e.addEventListener("resize",Nn,!1)),me?me.fire(Pe,dt,Mn):et(Pe,dt,Mn)}return yt.reset=function(){me&&me.reset(),Oe&&Oe.reset()},yt}var Ue;function W(){return Ue||(Ue=$e(null,{useWorker:!0,resize:!0})),Ue}function re(k,C,G,X,se,ce,ae){var me=new Path2D(k),ve=new Path2D;ve.addPath(me,new DOMMatrix(C));var _e=new Path2D;return _e.addPath(ve,new DOMMatrix([Math.cos(ae)*se,Math.sin(ae)*se,-Math.sin(ae)*ce,Math.cos(ae)*ce,G,X])),_e}function de(k){if(!h)throw new Error("path confetti are not supported in this browser");var C,G;typeof k=="string"?C=k:(C=k.path,G=k.matrix);var X=new Path2D(C),se=document.createElement("canvas"),ce=se.getContext("2d");if(!G){for(var ae=1e3,me=ae,ve=ae,_e=0,ot=0,Oe,et,yt=0;yt<ae;yt+=2)for(var Pe=0;Pe<ae;Pe+=2)ce.isPointInPath(X,yt,Pe,"nonzero")&&(me=Math.min(me,yt),ve=Math.min(ve,Pe),_e=Math.max(_e,yt),ot=Math.max(ot,Pe));Oe=_e-me,et=ot-ve;var Nt=10,fn=Math.min(Nt/Oe,Nt/et);G=[fn,0,0,fn,-Math.round(Oe/2+me)*fn,-Math.round(et/2+ve)*fn]}return{type:"path",path:C,matrix:G}}function Ne(k){var C,G=1,X="#000000",se='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof k=="string"?C=k:(C=k.text,G="scalar"in k?k.scalar:G,se="fontFamily"in k?k.fontFamily:se,X="color"in k?k.color:X);var ce=10*G,ae=""+ce+"px "+se,me=new OffscreenCanvas(ce,ce),ve=me.getContext("2d");ve.font=ae;var _e=ve.measureText(C),ot=Math.ceil(_e.actualBoundingBoxRight+_e.actualBoundingBoxLeft),Oe=Math.ceil(_e.actualBoundingBoxAscent+_e.actualBoundingBoxDescent),et=2,yt=_e.actualBoundingBoxLeft+et,Pe=_e.actualBoundingBoxAscent+et;ot+=et+et,Oe+=et+et,me=new OffscreenCanvas(ot,Oe),ve=me.getContext("2d"),ve.font=ae,ve.fillStyle=X,ve.fillText(C,yt,Pe);var Nt=1/G;return{type:"bitmap",bitmap:me.transferToImageBitmap(),matrix:[Nt,0,0,Nt,-ot*Nt/2,-Oe*Nt/2]}}r.exports=function(){return W().apply(this,arguments)},r.exports.reset=function(){W().reset()},r.exports.create=$e,r.exports.shapeFromPath=de,r.exports.shapeFromText=Ne})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),qc,!1);const DE=qc.exports;qc.exports.create;const _E=17;function YM({streak:n,triggerCelebration:e,onResetStreak:r}){const o=Math.min(n/_E*100,100),a=n===_E;return ge.useEffect(()=>{a&&(DE({particleCount:500,startVelocity:60,spread:90,angle:90,gravity:.5,origin:{y:1.2}}),setTimeout(()=>{DE({particleCount:500,startVelocity:60,spread:90,angle:90,gravity:.5,origin:{y:1.2}})},500))},[a]),ie.jsx("div",{className:"streak-wrapper",children:ie.jsxs("div",{className:"streak-bar-background",children:[ie.jsx(GM.div,{className:"streak-bar-fill",initial:{width:0},animate:{width:`${o}%`},transition:{duration:.4}}),ie.jsxs("div",{className:"streak-bar-content",children:[ie.jsx("span",{className:"streak-text",children:"17 richtige Fragen"}),a&&ie.jsx("button",{className:"streak-reset-inline",onClick:r,children:"Reset"})]})]})})}function ZM({onClose:n,questions:e}){const[r,o]=ge.useState([]),[a,u]=ge.useState(0),[h,f]=ge.useState(0);ge.useEffect(()=>{Pn("stats_modal_opened");const I=f_(ZD(ll,"questionStats"),V=>{const B=[];let j=0,Q=0;V.forEach(te=>{const oe=te.data();B.push({id:te.id,...oe}),j+=oe.total||0,Q+=oe.correct||0}),o(B),u(j),f(Q)});return()=>I()},[]);const m=a?Math.round(h/a*100):0,g=[...r].filter(I=>I.correct>0).sort((I,V)=>V.correct-I.correct).slice(0,3),v=[...r].filter(I=>I.wrong>0).sort((I,V)=>V.wrong-I.wrong).slice(0,3),E=I=>{if(!Array.isArray(e))return`Frage #${I}`;const V=e.find(B=>String(B.id)===String(I));return(V==null?void 0:V.question)||`Frage #${I}`},x=(I,V)=>{Pn("stats_question_clicked",{question_id:I,type:V});const B=e.findIndex(j=>String(j.id)===String(I));B!==-1&&n(B)};return ie.jsx("div",{className:"about-modal-overlay",onClick:I=>{I.target.classList.contains("about-modal-overlay")&&n()},children:ie.jsxs("div",{className:"about-modal",children:[ie.jsx("button",{className:"close-button",onClick:()=>n(),children:"×"}),ie.jsx("h2",{className:"text-xl font-bold mb-4",children:"Globale Statistiken"}),ie.jsxs("div",{className:"modal-content",children:[ie.jsxs("div",{className:"stats-summary",children:[ie.jsxs("div",{className:"stats-summary-box",children:[ie.jsxs("p",{className:"text-sm",children:["Beantwortete",ie.jsx("br",{}),"Fragen"]}),ie.jsx("p",{className:"big-number",children:a})]}),ie.jsxs("div",{className:"stats-summary-box",children:[ie.jsxs("p",{className:"text-sm",children:["Richtig",ie.jsx("br",{}),"beantwortet"]}),ie.jsxs("p",{className:"big-number",children:[m,"%"]})]})]}),ie.jsxs("h3",{className:"modal-subtitle text-lg font-semibold mb-2",children:["Top 3 ",ie.jsx("span",{className:"green-text",children:"Richtig"})," beantwortete Fragen"]}),ie.jsx("div",{className:"answer-list mb-4",children:g.map(I=>ie.jsx("div",{className:"answer-button text-sm",onClick:()=>x(I.id,"correct"),children:E(I.id)},I.id))}),ie.jsxs("h3",{className:"modal-subtitle text-lg font-semibold mb-2",children:["Top 3 ",ie.jsx("span",{className:"red-text",children:"Falsch"})," beantwortete Fragen"]}),ie.jsx("div",{className:"answer-list",children:v.map(I=>ie.jsx("div",{className:"answer-button text-sm",onClick:()=>x(I.id,"wrong"),children:E(I.id)},I.id))})]})]})})}function JM(){const[n,e]=ge.useState(()=>localStorage.getItem("user_consent")==="true");ge.useEffect(()=>{var o;n||(o=window.gtag)==null||o.call(window,"consent","default",{ad_storage:"denied",analytics_storage:"granted"})},[n]);const r=()=>{var o;localStorage.setItem("user_consent","true"),e(!0),(o=window.gtag)==null||o.call(window,"consent","update",{ad_storage:"granted",analytics_storage:"granted"}),console.log("✅ User accepted cookies")};return n?null:ie.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(255, 255, 255, 0.5)",zIndex:9999,display:"flex",justifyContent:"center",alignItems:"center",padding:"1rem"},children:ie.jsxs("div",{style:{background:"white",color:"#222",borderRadius:"12px",padding:"24px",maxWidth:"300px",textAlign:"center",boxShadow:"0 6px 16px rgba(0,0,0,0.1)"},children:[ie.jsx("p",{style:{marginBottom:"16px",fontSize:"15px",lineHeight:1.5},children:"Diese Website verwendet Google Analytics, um anonyme Nutzungsdaten zu sammeln. Keine persönlichen Daten werden gespeichert oder weitergegeben."}),ie.jsx("button",{onClick:r,style:{fontSize:"15px",padding:"10px 16px",fontWeight:"500",backgroundColor:"var(--color-primary)",color:"white",borderRadius:"8px",border:"none",cursor:"pointer"},children:"OK, verstanden"})]})})}function eL(){var n,e,r,o,a;const[u,h]=ge.useState([]),[f,m]=ge.useState(0),[g,v]=ge.useState(null),[E,x]=ge.useState(!0),[I,V]=ge.useState(!1),[B,j]=ge.useState(!1),[Q,te]=ge.useState(0),[oe,pe]=ge.useState(!1),le=new Set([21,55,70,130,176,181,187,209,216,226,235,301,308]);ge.useEffect(()=>{const N=setInterval(()=>{var L;(window.gtag||(L=window.firebase)!=null&&L.analytics)&&(Pn("session_start"),clearInterval(N))},100);return fetch("/data/questions.json").then(L=>L.json()).then(L=>{const O=L.map($e=>{var Ue;const W=$e.question_number;return{id:W??"N/A",question:$e.question??"No question provided",answers:$e.options??[],correct:((Ue=$e.options)==null?void 0:Ue.indexOf($e.correct_answer))??-1,imageId:le.has(W)?W:null}});h(O);const _=Math.floor(Math.random()*O.length);m(_),x(!1)}).catch(L=>{console.error("❌ Failed to load questions:",L),x(!1)}),()=>clearInterval(N)},[]);const ye=async N=>{var L,O;const _=N===((L=u[f])==null?void 0:L.correct);v(N);const $e=_?Q+1:0;te($e),$e===17&&(Pn("completed_streak_17"),pe(!0),setTimeout(()=>pe(!1),3e3));const Ue=String((O=u[f])==null?void 0:O.id);Pn("question_answered",{question_id:Ue,correct:_});let W=Number(sessionStorage.getItem("answered_count")||0)+1;sessionStorage.setItem("answered_count",W),W===3&&(Pn("answered_3_in_session"),console.log("🎯 Logged: answered_3_in_session"));try{const re=wc(ll,"questionStats",Ue);await Ob(re,{total:_s(1),correct:_s(_?1:0),wrong:_s(_?0:1)})}catch(re){re.code==="not-found"?await Rb(wc(ll,"questionStats",Ue),{total:1,correct:_?1:0,wrong:_?0:1}):console.error("❌ Firestore update failed:",re)}try{const re=wc(ll,"metrics","totals");await Ob(re,{total:_s(1),correct:_s(_?1:0),wrong:_s(_?0:1)})}catch(re){re.code==="not-found"?await Rb(wc(ll,"metrics","totals"),{total:1,correct:_?1:0,wrong:_?0:1}):console.error("❌ Failed to update global totals:",re)}},M=()=>{v(null),m(Math.floor(Math.random()*u.length)),Pn("random_question_clicked")},A=()=>{j(!1),V(!0),Pn("about_modal_opened")},D=()=>{V(!1),j(!0),Pn("stats_modal_opened")};return ie.jsxs("div",{className:"app-wrapper",children:[ie.jsx("header",{className:"app-header",children:ie.jsxs("div",{className:"header-inner",children:[ie.jsx("div",{className:"header-titles",children:ie.jsx("h1",{className:"app-title",children:"Fragen Katalog"})}),ie.jsxs("div",{className:"header-links",children:[ie.jsx("a",{href:"#",className:"about-link",onClick:N=>{N.preventDefault(),D()},children:"Statistiken"}),ie.jsx("a",{href:"#",className:"about-link",onClick:N=>{N.preventDefault(),A()},children:"Über"})]})]})}),ie.jsx("main",{className:"main-content",children:E?ie.jsx("p",{className:"loading-text",children:"Loading questions..."}):ie.jsxs(ie.Fragment,{children:[ie.jsx(YM,{streak:Q,triggerCelebration:oe,onResetStreak:()=>te(0)}),ie.jsx(g_,{id:(n=u[f])==null?void 0:n.id,question:(e=u[f])==null?void 0:e.question,answers:(r=u[f])==null?void 0:r.answers,correctIndex:(o=u[f])==null?void 0:o.correct,selectedAnswer:g,onSelectAnswer:ye,imageId:(a=u[f])==null?void 0:a.imageId}),ie.jsx("div",{className:"controls",children:ie.jsx("button",{className:"controls-button",onClick:()=>{Pn("next_question_clicked"),M()},children:"Nächste Frage"})}),ie.jsx("div",{style:{height:"10px"}})]})}),I&&!B&&ie.jsx(y_,{onClose:()=>V(!1)}),B&&!I&&ie.jsx(ZM,{onClose:N=>{j(!1),typeof N=="number"&&m(N)},questions:u}),ie.jsx(JM,{}),!I&&!B&&ie.jsx("div",{style:{position:"fixed",bottom:16,right:16,zIndex:1e3,width:"100%",maxWidth:"200px"},children:ie.jsx(Ub,{})})]})}(function(n,e,r,o,a,u,h){n[r]=n[r]||function(){(n[r].q=n[r].q||[]).push(arguments)},u=e.createElement(o),u.async=1,u.src="https://www.clarity.ms/tag/qyg3chkjg3",h=e.getElementsByTagName(o)[0],h.parentNode.insertBefore(u,h)})(window,document,"clarity","script"),Y2.createRoot(document.getElementById("root")).render(ie.jsx(B2.StrictMode,{children:ie.jsx(eL,{})}))});C6();
