var lR=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports);var SP=lR((DP,Du)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function GE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var im={exports:{}},Ll={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function uR(){if(e_)return Ll;e_=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:n,type:r,key:h,ref:o!==void 0?o:null,props:u}}return Ll.Fragment=t,Ll.jsx=i,Ll.jsxs=i,Ll}var n_;function cR(){return n_||(n_=1,im.exports=uR()),im.exports}var rt=cR(),sm={exports:{}},It={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i_;function hR(){if(i_)return It;i_=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function A(b){return b===null||typeof b!="object"?null:(b=E&&b[E]||b["@@iterator"],typeof b=="function"?b:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,q={};function U(b,R,X){this.props=b,this.context=R,this.refs=q,this.updater=X||D}U.prototype.isReactComponent={},U.prototype.setState=function(b,R){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,R,"setState")},U.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function W(){}W.prototype=U.prototype;function it(b,R,X){this.props=b,this.context=R,this.refs=q,this.updater=X||D}var Z=it.prototype=new W;Z.constructor=it,L(Z,U.prototype),Z.isPureReactComponent=!0;var ht=Array.isArray,at={H:null,A:null,T:null,S:null,V:null},gt=Object.prototype.hasOwnProperty;function N(b,R,X,Y,ot,ct){return X=ct.ref,{$$typeof:n,type:b,key:R,ref:X!==void 0?X:null,props:ct}}function C(b,R){return N(b.type,R,void 0,void 0,void 0,b.props)}function x(b){return typeof b=="object"&&b!==null&&b.$$typeof===n}function M(b){var R={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(X){return R[X]})}var O=/\/+/g;function k(b,R){return typeof b=="object"&&b!==null&&b.key!=null?M(""+b.key):R.toString(36)}function I(){}function Kt(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(I,I):(b.status="pending",b.then(function(R){b.status==="pending"&&(b.status="fulfilled",b.value=R)},function(R){b.status==="pending"&&(b.status="rejected",b.reason=R)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function Ut(b,R,X,Y,ot){var ct=typeof b;(ct==="undefined"||ct==="boolean")&&(b=null);var ut=!1;if(b===null)ut=!0;else switch(ct){case"bigint":case"string":case"number":ut=!0;break;case"object":switch(b.$$typeof){case n:case t:ut=!0;break;case v:return ut=b._init,Ut(ut(b._payload),R,X,Y,ot)}}if(ut)return ot=ot(b),ut=Y===""?"."+k(b,0):Y,ht(ot)?(X="",ut!=null&&(X=ut.replace(O,"$&/")+"/"),Ut(ot,R,X,"",function(Pt){return Pt})):ot!=null&&(x(ot)&&(ot=C(ot,X+(ot.key==null||b&&b.key===ot.key?"":(""+ot.key).replace(O,"$&/")+"/")+ut)),R.push(ot)),1;ut=0;var mt=Y===""?".":Y+":";if(ht(b))for(var yt=0;yt<b.length;yt++)Y=b[yt],ct=mt+k(Y,yt),ut+=Ut(Y,R,X,ct,ot);else if(yt=A(b),typeof yt=="function")for(b=yt.call(b),yt=0;!(Y=b.next()).done;)Y=Y.value,ct=mt+k(Y,yt++),ut+=Ut(Y,R,X,ct,ot);else if(ct==="object"){if(typeof b.then=="function")return Ut(Kt(b),R,X,Y,ot);throw R=String(b),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.")}return ut}function Q(b,R,X){if(b==null)return b;var Y=[],ot=0;return Ut(b,Y,"","",function(ct){return R.call(X,ct,ot++)}),Y}function nt(b){if(b._status===-1){var R=b._result;R=R(),R.then(function(X){(b._status===0||b._status===-1)&&(b._status=1,b._result=X)},function(X){(b._status===0||b._status===-1)&&(b._status=2,b._result=X)}),b._status===-1&&(b._status=0,b._result=R)}if(b._status===1)return b._result.default;throw b._result}var ft=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var R=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(R))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)};function xt(){}return It.Children={map:Q,forEach:function(b,R,X){Q(b,function(){R.apply(this,arguments)},X)},count:function(b){var R=0;return Q(b,function(){R++}),R},toArray:function(b){return Q(b,function(R){return R})||[]},only:function(b){if(!x(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},It.Component=U,It.Fragment=i,It.Profiler=o,It.PureComponent=it,It.StrictMode=r,It.Suspense=p,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=at,It.__COMPILER_RUNTIME={__proto__:null,c:function(b){return at.H.useMemoCache(b)}},It.cache=function(b){return function(){return b.apply(null,arguments)}},It.cloneElement=function(b,R,X){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var Y=L({},b.props),ot=b.key,ct=void 0;if(R!=null)for(ut in R.ref!==void 0&&(ct=void 0),R.key!==void 0&&(ot=""+R.key),R)!gt.call(R,ut)||ut==="key"||ut==="__self"||ut==="__source"||ut==="ref"&&R.ref===void 0||(Y[ut]=R[ut]);var ut=arguments.length-2;if(ut===1)Y.children=X;else if(1<ut){for(var mt=Array(ut),yt=0;yt<ut;yt++)mt[yt]=arguments[yt+2];Y.children=mt}return N(b.type,ot,void 0,void 0,ct,Y)},It.createContext=function(b){return b={$$typeof:h,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:u,_context:b},b},It.createElement=function(b,R,X){var Y,ot={},ct=null;if(R!=null)for(Y in R.key!==void 0&&(ct=""+R.key),R)gt.call(R,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(ot[Y]=R[Y]);var ut=arguments.length-2;if(ut===1)ot.children=X;else if(1<ut){for(var mt=Array(ut),yt=0;yt<ut;yt++)mt[yt]=arguments[yt+2];ot.children=mt}if(b&&b.defaultProps)for(Y in ut=b.defaultProps,ut)ot[Y]===void 0&&(ot[Y]=ut[Y]);return N(b,ct,void 0,void 0,null,ot)},It.createRef=function(){return{current:null}},It.forwardRef=function(b){return{$$typeof:d,render:b}},It.isValidElement=x,It.lazy=function(b){return{$$typeof:v,_payload:{_status:-1,_result:b},_init:nt}},It.memo=function(b,R){return{$$typeof:g,type:b,compare:R===void 0?null:R}},It.startTransition=function(b){var R=at.T,X={};at.T=X;try{var Y=b(),ot=at.S;ot!==null&&ot(X,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(xt,ft)}catch(ct){ft(ct)}finally{at.T=R}},It.unstable_useCacheRefresh=function(){return at.H.useCacheRefresh()},It.use=function(b){return at.H.use(b)},It.useActionState=function(b,R,X){return at.H.useActionState(b,R,X)},It.useCallback=function(b,R){return at.H.useCallback(b,R)},It.useContext=function(b){return at.H.useContext(b)},It.useDebugValue=function(){},It.useDeferredValue=function(b,R){return at.H.useDeferredValue(b,R)},It.useEffect=function(b,R,X){var Y=at.H;if(typeof X=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Y.useEffect(b,R)},It.useId=function(){return at.H.useId()},It.useImperativeHandle=function(b,R,X){return at.H.useImperativeHandle(b,R,X)},It.useInsertionEffect=function(b,R){return at.H.useInsertionEffect(b,R)},It.useLayoutEffect=function(b,R){return at.H.useLayoutEffect(b,R)},It.useMemo=function(b,R){return at.H.useMemo(b,R)},It.useOptimistic=function(b,R){return at.H.useOptimistic(b,R)},It.useReducer=function(b,R,X){return at.H.useReducer(b,R,X)},It.useRef=function(b){return at.H.useRef(b)},It.useState=function(b){return at.H.useState(b)},It.useSyncExternalStore=function(b,R,X){return at.H.useSyncExternalStore(b,R,X)},It.useTransition=function(){return at.H.useTransition()},It.version="19.1.1",It}var s_;function wp(){return s_||(s_=1,sm.exports=hR()),sm.exports}var vt=wp();const fR=GE(vt);var rm={exports:{}},kl={},am={exports:{}},om={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r_;function dR(){return r_||(r_=1,(function(n){function t(Q,nt){var ft=Q.length;Q.push(nt);t:for(;0<ft;){var xt=ft-1>>>1,b=Q[xt];if(0<o(b,nt))Q[xt]=nt,Q[ft]=b,ft=xt;else break t}}function i(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var nt=Q[0],ft=Q.pop();if(ft!==nt){Q[0]=ft;t:for(var xt=0,b=Q.length,R=b>>>1;xt<R;){var X=2*(xt+1)-1,Y=Q[X],ot=X+1,ct=Q[ot];if(0>o(Y,ft))ot<b&&0>o(ct,Y)?(Q[xt]=ct,Q[ot]=ft,xt=ot):(Q[xt]=Y,Q[X]=ft,xt=X);else if(ot<b&&0>o(ct,ft))Q[xt]=ct,Q[ot]=ft,xt=ot;else break t}}return nt}function o(Q,nt){var ft=Q.sortIndex-nt.sortIndex;return ft!==0?ft:Q.id-nt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();n.unstable_now=function(){return h.now()-d}}var p=[],g=[],v=1,E=null,A=3,D=!1,L=!1,q=!1,U=!1,W=typeof setTimeout=="function"?setTimeout:null,it=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function ht(Q){for(var nt=i(g);nt!==null;){if(nt.callback===null)r(g);else if(nt.startTime<=Q)r(g),nt.sortIndex=nt.expirationTime,t(p,nt);else break;nt=i(g)}}function at(Q){if(q=!1,ht(Q),!L)if(i(p)!==null)L=!0,gt||(gt=!0,k());else{var nt=i(g);nt!==null&&Ut(at,nt.startTime-Q)}}var gt=!1,N=-1,C=5,x=-1;function M(){return U?!0:!(n.unstable_now()-x<C)}function O(){if(U=!1,gt){var Q=n.unstable_now();x=Q;var nt=!0;try{t:{L=!1,q&&(q=!1,it(N),N=-1),D=!0;var ft=A;try{e:{for(ht(Q),E=i(p);E!==null&&!(E.expirationTime>Q&&M());){var xt=E.callback;if(typeof xt=="function"){E.callback=null,A=E.priorityLevel;var b=xt(E.expirationTime<=Q);if(Q=n.unstable_now(),typeof b=="function"){E.callback=b,ht(Q),nt=!0;break e}E===i(p)&&r(p),ht(Q)}else r(p);E=i(p)}if(E!==null)nt=!0;else{var R=i(g);R!==null&&Ut(at,R.startTime-Q),nt=!1}}break t}finally{E=null,A=ft,D=!1}nt=void 0}}finally{nt?k():gt=!1}}}var k;if(typeof Z=="function")k=function(){Z(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Kt=I.port2;I.port1.onmessage=O,k=function(){Kt.postMessage(null)}}else k=function(){W(O,0)};function Ut(Q,nt){N=W(function(){Q(n.unstable_now())},nt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return A},n.unstable_next=function(Q){switch(A){case 1:case 2:case 3:var nt=3;break;default:nt=A}var ft=A;A=nt;try{return Q()}finally{A=ft}},n.unstable_requestPaint=function(){U=!0},n.unstable_runWithPriority=function(Q,nt){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ft=A;A=Q;try{return nt()}finally{A=ft}},n.unstable_scheduleCallback=function(Q,nt,ft){var xt=n.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?xt+ft:xt):ft=xt,Q){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=ft+b,Q={id:v++,callback:nt,priorityLevel:Q,startTime:ft,expirationTime:b,sortIndex:-1},ft>xt?(Q.sortIndex=ft,t(g,Q),i(p)===null&&Q===i(g)&&(q?(it(N),N=-1):q=!0,Ut(at,ft-xt))):(Q.sortIndex=b,t(p,Q),L||D||(L=!0,gt||(gt=!0,k()))),Q},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(Q){var nt=A;return function(){var ft=A;A=nt;try{return Q.apply(this,arguments)}finally{A=ft}}}})(om)),om}var a_;function mR(){return a_||(a_=1,am.exports=dR()),am.exports}var lm={exports:{}},un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o_;function pR(){if(o_)return un;o_=1;var n=wp();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:p,containerInfo:g,implementation:v}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,un.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,v)},un.flushSync=function(p){var g=h.T,v=r.p;try{if(h.T=null,r.p=2,p)return p()}finally{h.T=g,r.p=v,r.d.f()}},un.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},un.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},un.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:A,fetchPriority:D}):v==="script"&&r.d.X(p,{crossOrigin:E,integrity:A,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},un.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},un.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin);r.d.L(p,v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},un.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=d(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},un.requestFormReset=function(p){r.d.r(p)},un.unstable_batchedUpdates=function(p,g){return p(g)},un.useFormState=function(p,g,v){return h.H.useFormState(p,g,v)},un.useFormStatus=function(){return h.H.useHostTransitionStatus()},un.version="19.1.1",un}var l_;function gR(){if(l_)return lm.exports;l_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),lm.exports=pR(),lm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u_;function yR(){if(u_)return kl;u_=1;var n=mR(),t=wp(),i=gR();function r(e){var s="https://react.dev/errors/"+e;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var s=e,a=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,(s.flags&4098)!==0&&(a=s.return),e=s.return;while(e)}return s.tag===3?a:null}function h(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function d(e){if(u(e)!==e)throw Error(r(188))}function p(e){var s=e.alternate;if(!s){if(s=u(e),s===null)throw Error(r(188));return s!==e?null:e}for(var a=e,l=s;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return d(f),e;if(m===l)return d(f),s;m=m.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=m;else{for(var T=!1,S=f.child;S;){if(S===a){T=!0,a=f,l=m;break}if(S===l){T=!0,l=f,a=m;break}S=S.sibling}if(!T){for(S=m.child;S;){if(S===a){T=!0,a=m,l=f;break}if(S===l){T=!0,l=m,a=f;break}S=S.sibling}if(!T)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:s}function g(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e;for(e=e.child;e!==null;){if(s=g(e),s!==null)return s;e=e.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),it=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),ht=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),gt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function Kt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case L:return"Fragment";case U:return"Profiler";case q:return"StrictMode";case at:return"Suspense";case gt:return"SuspenseList";case x:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case D:return"Portal";case Z:return(e.displayName||"Context")+".Provider";case it:return(e._context.displayName||"Context")+".Consumer";case ht:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return s=e.displayName||null,s!==null?s:Kt(e.type)||"Memo";case C:s=e._payload,e=e._init;try{return Kt(e(s))}catch{}}return null}var Ut=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},xt=[],b=-1;function R(e){return{current:e}}function X(e){0>b||(e.current=xt[b],xt[b]=null,b--)}function Y(e,s){b++,xt[b]=e.current,e.current=s}var ot=R(null),ct=R(null),ut=R(null),mt=R(null);function yt(e,s){switch(Y(ut,s),Y(ct,e),Y(ot,null),s.nodeType){case 9:case 11:e=(e=s.documentElement)&&(e=e.namespaceURI)?x0(e):0;break;default:if(e=s.tagName,s=s.namespaceURI)s=x0(s),e=V0(s,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(ot),Y(ot,e)}function Pt(){X(ot),X(ct),X(ut)}function Qt(e){e.memoizedState!==null&&Y(mt,e);var s=ot.current,a=V0(s,e.type);s!==a&&(Y(ct,e),Y(ot,a))}function jt(e){ct.current===e&&(X(ot),X(ct)),mt.current===e&&(X(mt),Il._currentValue=ft)}var Zt=Object.prototype.hasOwnProperty,le=n.unstable_scheduleCallback,Vt=n.unstable_cancelCallback,Ce=n.unstable_shouldYield,on=n.unstable_requestPaint,fe=n.unstable_now,Cn=n.unstable_getCurrentPriorityLevel,Dn=n.unstable_ImmediatePriority,$e=n.unstable_UserBlockingPriority,Bi=n.unstable_NormalPriority,Vo=n.unstable_LowPriority,_s=n.unstable_IdlePriority,Ts=n.log,fa=n.unstable_setDisableYieldValue,ue=null,Xt=null;function mn(e){if(typeof Ts=="function"&&fa(e),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(ue,e)}catch{}}var Le=Math.clz32?Math.clz32:ji,gr=Math.log,yr=Math.LN2;function ji(e){return e>>>=0,e===0?32:31-(gr(e)/yr|0)|0}var zi=256,vr=4194304;function ii(e){var s=e&42;if(s!==0)return s;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function da(e,s,a){var l=e.pendingLanes;if(l===0)return 0;var f=0,m=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var S=l&134217727;return S!==0?(l=S&~m,l!==0?f=ii(l):(T&=S,T!==0?f=ii(T):a||(a=S&~e,a!==0&&(f=ii(a))))):(S=l&~m,S!==0?f=ii(S):T!==0?f=ii(T):a||(a=l&~e,a!==0&&(f=ii(a)))),f===0?0:s!==0&&s!==f&&(s&m)===0&&(m=f&-f,a=s&-s,m>=a||m===32&&(a&4194048)!==0)?s:f}function _r(e,s){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&s)===0}function Io(e,s){switch(e){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mo(){var e=zi;return zi<<=1,(zi&4194048)===0&&(zi=256),e}function Oo(){var e=vr;return vr<<=1,(vr&62914560)===0&&(vr=4194304),e}function Fi(e){for(var s=[],a=0;31>a;a++)s.push(e);return s}function qi(e,s){e.pendingLanes|=s,s!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function No(e,s,a,l,f,m){var T=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var S=e.entanglements,V=e.expirationTimes,F=e.hiddenUpdates;for(a=T&~a;0<a;){var $=31-Le(a),tt=1<<$;S[$]=0,V[$]=-1;var H=F[$];if(H!==null)for(F[$]=null,$=0;$<H.length;$++){var G=H[$];G!==null&&(G.lane&=-536870913)}a&=~tt}l!==0&&hi(e,l,0),m!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=m&~(T&~s))}function hi(e,s,a){e.pendingLanes|=s,e.suspendedLanes&=~s;var l=31-Le(s);e.entangledLanes|=s,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function Po(e,s){var a=e.entangledLanes|=s;for(e=e.entanglements;a;){var l=31-Le(a),f=1<<l;f&s|e[l]&s&&(e[l]|=s),a&=~f}}function Es(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ma(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function As(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:X0(e.type))}function xu(e,s){var a=nt.p;try{return nt.p=e,s()}finally{nt.p=a}}var de=Math.random().toString(36).slice(2),ke="__reactFiber$"+de,De="__reactProps$"+de,jn="__reactContainer$"+de,Lo="__reactEvents$"+de,af="__reactListeners$"+de,bs="__reactHandles$"+de,Vu="__reactResources$"+de,Tr="__reactMarker$"+de;function Ss(e){delete e[ke],delete e[De],delete e[Lo],delete e[af],delete e[bs]}function Hi(e){var s=e[ke];if(s)return s;for(var a=e.parentNode;a;){if(s=a[jn]||a[ke]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(e=N0(e);e!==null;){if(a=e[ke])return a;e=N0(e)}return s}e=a,a=e.parentNode}return null}function fi(e){if(e=e[ke]||e[jn]){var s=e.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return e}return null}function di(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e.stateNode;throw Error(r(33))}function pn(e){var s=e[Vu];return s||(s=e[Vu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ae(e){e[Tr]=!0}var ko=new Set,pa={};function si(e,s){Gi(e,s),Gi(e+"Capture",s)}function Gi(e,s){for(pa[e]=s,e=0;e<s.length;e++)ko.add(s[e])}var Iu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mu={},Er={};function Ou(e){return Zt.call(Er,e)?!0:Zt.call(Mu,e)?!1:Iu.test(e)?Er[e]=!0:(Mu[e]=!0,!1)}function ws(e,s,a){if(Ou(s))if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(s);return}}e.setAttribute(s,""+a)}}function mi(e,s,a){if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttribute(s,""+a)}}function Ze(e,s,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(s,a,""+l)}}var Ar,Nu;function Ki(e){if(Ar===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Ar=s&&s[1]||"",Nu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ar+e+Nu}var ga=!1;function ya(e,s){if(!e||ga)return"";ga=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(G){var H=G}Reflect.construct(e,[],tt)}else{try{tt.call()}catch(G){H=G}e.call(tt.prototype)}}else{try{throw Error()}catch(G){H=G}(tt=e())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),T=m[0],S=m[1];if(T&&S){var V=T.split(`
`),F=S.split(`
`);for(f=l=0;l<V.length&&!V[l].includes("DetermineComponentFrameRoot");)l++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(l===V.length||f===F.length)for(l=V.length-1,f=F.length-1;1<=l&&0<=f&&V[l]!==F[f];)f--;for(;1<=l&&0<=f;l--,f--)if(V[l]!==F[f]){if(l!==1||f!==1)do if(l--,f--,0>f||V[l]!==F[f]){var $=`
`+V[l].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=l&&0<=f);break}}}finally{ga=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ki(a):""}function Uo(e){switch(e.tag){case 26:case 27:case 5:return Ki(e.type);case 16:return Ki("Lazy");case 13:return Ki("Suspense");case 19:return Ki("SuspenseList");case 0:case 15:return ya(e.type,!1);case 11:return ya(e.type.render,!1);case 1:return ya(e.type,!0);case 31:return Ki("Activity");default:return""}}function va(e){try{var s="";do s+=Uo(e),e=e.return;while(e);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function gn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Bo(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function of(e){var s=Bo(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,s),l=""+e[s];if(!e.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return f.call(this)},set:function(T){l=""+T,m.call(this,T)}}),Object.defineProperty(e,s,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function _a(e){e._valueTracker||(e._valueTracker=of(e))}function jo(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return e&&(l=Bo(e)?e.checked?"true":"false":e.value),e=l,e!==a?(s.setValue(e),!0):!1}function br(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var lf=/[\n"\\]/g;function xe(e){return e.replace(lf,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function xn(e,s,a,l,f,m,T,S){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),s!=null?T==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+gn(s)):e.value!==""+gn(s)&&(e.value=""+gn(s)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),s!=null?Rs(e,T,gn(s)):a!=null?Rs(e,T,gn(a)):l!=null&&e.removeAttribute("value"),f==null&&m!=null&&(e.defaultChecked=!!m),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+gn(S):e.removeAttribute("name")}function Sr(e,s,a,l,f,m,T,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null))return;a=a!=null?""+gn(a):"",s=s!=null?""+gn(s):a,S||s===e.value||(e.value=s),e.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=S?e.checked:!!l,e.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T)}function Rs(e,s,a){s==="number"&&br(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Yi(e,s,a,l){if(e=e.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=s.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&l&&(e[a].defaultSelected=!0)}else{for(a=""+gn(a),s=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}s!==null||e[f].disabled||(s=e[f])}s!==null&&(s.selected=!0)}}function ne(e,s,a){if(s!=null&&(s=""+gn(s),s!==e.value&&(e.value=s),a==null)){e.defaultValue!==s&&(e.defaultValue=s);return}e.defaultValue=a!=null?""+gn(a):""}function wr(e,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(Ut(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=gn(s),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function zn(e,s){if(s){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=s;return}}e.textContent=s}var Rr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pu(e,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="":l?e.setProperty(s,a):typeof a!="number"||a===0||Rr.has(s)?s==="float"?e.cssFloat=a:e[s]=(""+a).trim():e[s]=a+"px"}function zo(e,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&Pu(e,f,l)}else for(var m in s)s.hasOwnProperty(m)&&Pu(e,m,s[m])}function Fo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ta(e){return cf.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Qi=null;function Fn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xi=null,$i=null;function qo(e){var s=fi(e);if(s&&(e=s.stateNode)){var a=e[De]||null;t:switch(e=s.stateNode,s.type){case"input":if(xn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+xe(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==e&&l.form===e.form){var f=l[De]||null;if(!f)throw Error(r(90));xn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===e.form&&jo(l)}break t;case"textarea":ne(e,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&Yi(e,!!a.multiple,s,!1)}}}var pi=!1;function Lu(e,s,a){if(pi)return e(s,a);pi=!0;try{var l=e(s);return l}finally{if(pi=!1,(Xi!==null||$i!==null)&&(xc(),Xi&&(s=Xi,e=$i,$i=Xi=null,qo(s),e)))for(s=0;s<e.length;s++)qo(e[s])}}function Cr(e,s){var a=e.stateNode;if(a===null)return null;var l=a[De]||null;if(l===null)return null;a=l[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qn=!1;if(ri)try{var Dr={};Object.defineProperty(Dr,"passive",{get:function(){qn=!0}}),window.addEventListener("test",Dr,Dr),window.removeEventListener("test",Dr,Dr)}catch{qn=!1}var gi=null,Cs=null,Zi=null;function Ho(){if(Zi)return Zi;var e,s=Cs,a=s.length,l,f="value"in gi?gi.value:gi.textContent,m=f.length;for(e=0;e<a&&s[e]===f[e];e++);var T=a-e;for(l=1;l<=T&&s[a-l]===f[m-l];l++);return Zi=f.slice(e,1<l?1-l:void 0)}function yi(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function vi(){return!0}function Go(){return!1}function He(e){function s(a,l,f,m,T){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(a=e[S],this[S]=a?a(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?vi:Go,this.isPropagationStopped=Go,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=vi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=vi)},persist:function(){},isPersistent:vi}),s}var Wt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ea=He(Wt),xr=v({},Wt,{view:0,detail:0}),ku=He(xr),Aa,ba,_i,Vr=v({},xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Or,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_i&&(_i&&e.type==="mousemove"?(Aa=e.screenX-_i.screenX,ba=e.screenY-_i.screenY):ba=Aa=0,_i=e),Aa)},movementY:function(e){return"movementY"in e?e.movementY:ba}}),Hn=He(Vr),Uu=v({},Vr,{dataTransfer:0}),hf=He(Uu),Ir=v({},xr,{relatedTarget:0}),Sa=He(Ir),Ko=v({},Wt,{animationName:0,elapsedTime:0,pseudoElement:0}),wa=He(Ko),Bu=v({},Wt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ra=He(Bu),ff=v({},Wt,{data:0}),Yo=He(ff),Mr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ju={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qo(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=zu[e])?!!s[e]:!1}function Or(){return Qo}var Fu=v({},xr,{key:function(e){if(e.key){var s=Mr[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=yi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ju[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Or,charCode:function(e){return e.type==="keypress"?yi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?yi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ca=He(Fu),qu=v({},Vr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xo=He(qu),Wi=v({},xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Or}),Hu=He(Wi),Gu=v({},Wt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ku=He(Gu),Yu=v({},Vr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Da=He(Yu),yn=v({},Wt,{newState:0,oldState:0}),Qu=He(yn),Xu=[9,13,27,32],Ti=ri&&"CompositionEvent"in window,c=null;ri&&"documentMode"in document&&(c=document.documentMode);var y=ri&&"TextEvent"in window&&!c,_=ri&&(!Ti||c&&8<c&&11>=c),w=" ",j=!1;function K(e,s){switch(e){case"keyup":return Xu.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zt=!1;function Ue(e,s){switch(e){case"compositionend":return lt(s);case"keypress":return s.which!==32?null:(j=!0,w);case"textInput":return e=s.data,e===w&&j?null:e;default:return null}}function Ft(e,s){if(zt)return e==="compositionend"||!Ti&&K(e,s)?(e=Ho(),Zi=Cs=gi=null,zt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return _&&s.locale!=="ko"?null:s.data;default:return null}}var Ge={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Be(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!Ge[e.type]:s==="textarea"}function Ji(e,s,a,l){Xi?$i?$i.push(l):$i=[l]:Xi=l,s=Pc(s,"onChange"),0<s.length&&(a=new Ea("onChange","change",null,a,l),e.push({event:a,listeners:s}))}var We=null,Ei=null;function $o(e){S0(e,0)}function $u(e){var s=di(e);if(jo(s))return e}function Gg(e,s){if(e==="change")return s}var Kg=!1;if(ri){var df;if(ri){var mf="oninput"in document;if(!mf){var Yg=document.createElement("div");Yg.setAttribute("oninput","return;"),mf=typeof Yg.oninput=="function"}df=mf}else df=!1;Kg=df&&(!document.documentMode||9<document.documentMode)}function Qg(){We&&(We.detachEvent("onpropertychange",Xg),Ei=We=null)}function Xg(e){if(e.propertyName==="value"&&$u(Ei)){var s=[];Ji(s,Ei,e,Fn(e)),Lu($o,s)}}function US(e,s,a){e==="focusin"?(Qg(),We=s,Ei=a,We.attachEvent("onpropertychange",Xg)):e==="focusout"&&Qg()}function BS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $u(Ei)}function jS(e,s){if(e==="click")return $u(s)}function zS(e,s){if(e==="input"||e==="change")return $u(s)}function FS(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var Vn=typeof Object.is=="function"?Object.is:FS;function Zo(e,s){if(Vn(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var a=Object.keys(e),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Zt.call(s,f)||!Vn(e[f],s[f]))return!1}return!0}function $g(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zg(e,s){var a=$g(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=s&&l>=s)return{node:a,offset:s-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=$g(a)}}function Wg(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?Wg(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function Jg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var s=br(e.document);s instanceof e.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)e=s.contentWindow;else break;s=br(e.document)}return s}function pf(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}var qS=ri&&"documentMode"in document&&11>=document.documentMode,xa=null,gf=null,Wo=null,yf=!1;function ty(e,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;yf||xa==null||xa!==br(l)||(l=xa,"selectionStart"in l&&pf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Wo&&Zo(Wo,l)||(Wo=l,l=Pc(gf,"onSelect"),0<l.length&&(s=new Ea("onSelect","select",null,s,a),e.push({event:s,listeners:l}),s.target=xa)))}function Nr(e,s){var a={};return a[e.toLowerCase()]=s.toLowerCase(),a["Webkit"+e]="webkit"+s,a["Moz"+e]="moz"+s,a}var Va={animationend:Nr("Animation","AnimationEnd"),animationiteration:Nr("Animation","AnimationIteration"),animationstart:Nr("Animation","AnimationStart"),transitionrun:Nr("Transition","TransitionRun"),transitionstart:Nr("Transition","TransitionStart"),transitioncancel:Nr("Transition","TransitionCancel"),transitionend:Nr("Transition","TransitionEnd")},vf={},ey={};ri&&(ey=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function Pr(e){if(vf[e])return vf[e];if(!Va[e])return e;var s=Va[e],a;for(a in s)if(s.hasOwnProperty(a)&&a in ey)return vf[e]=s[a];return e}var ny=Pr("animationend"),iy=Pr("animationiteration"),sy=Pr("animationstart"),HS=Pr("transitionrun"),GS=Pr("transitionstart"),KS=Pr("transitioncancel"),ry=Pr("transitionend"),ay=new Map,_f="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_f.push("scrollEnd");function ai(e,s){ay.set(e,s),si(s,[e])}var oy=new WeakMap;function Gn(e,s){if(typeof e=="object"&&e!==null){var a=oy.get(e);return a!==void 0?a:(s={value:e,source:s,stack:va(s)},oy.set(e,s),s)}return{value:e,source:s,stack:va(s)}}var Kn=[],Ia=0,Tf=0;function Zu(){for(var e=Ia,s=Tf=Ia=0;s<e;){var a=Kn[s];Kn[s++]=null;var l=Kn[s];Kn[s++]=null;var f=Kn[s];Kn[s++]=null;var m=Kn[s];if(Kn[s++]=null,l!==null&&f!==null){var T=l.pending;T===null?f.next=f:(f.next=T.next,T.next=f),l.pending=f}m!==0&&ly(a,f,m)}}function Wu(e,s,a,l){Kn[Ia++]=e,Kn[Ia++]=s,Kn[Ia++]=a,Kn[Ia++]=l,Tf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Ef(e,s,a,l){return Wu(e,s,a,l),Ju(e)}function Ma(e,s){return Wu(e,null,null,s),Ju(e)}function ly(e,s,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=e.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(f=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,f&&s!==null&&(f=31-Le(a),e=m.hiddenUpdates,l=e[f],l===null?e[f]=[s]:l.push(s),s.lane=a|536870912),m):null}function Ju(e){if(50<bl)throw bl=0,Cd=null,Error(r(185));for(var s=e.return;s!==null;)e=s,s=e.return;return e.tag===3?e.stateNode:null}var Oa={};function YS(e,s,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(e,s,a,l){return new YS(e,s,a,l)}function Af(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ts(e,s){var a=e.alternate;return a===null?(a=In(e.tag,s,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=s,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,s=e.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function uy(e,s){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=s,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,s=a.dependencies,e.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),e}function tc(e,s,a,l,f,m){var T=0;if(l=e,typeof e=="function")Af(e)&&(T=1);else if(typeof e=="string")T=Xw(e,a,ot.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case x:return e=In(31,a,s,f),e.elementType=x,e.lanes=m,e;case L:return Lr(a.children,f,m,s);case q:T=8,f|=24;break;case U:return e=In(12,a,s,f|2),e.elementType=U,e.lanes=m,e;case at:return e=In(13,a,s,f),e.elementType=at,e.lanes=m,e;case gt:return e=In(19,a,s,f),e.elementType=gt,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case W:case Z:T=10;break t;case it:T=9;break t;case ht:T=11;break t;case N:T=14;break t;case C:T=16,l=null;break t}T=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return s=In(T,a,s,f),s.elementType=e,s.type=l,s.lanes=m,s}function Lr(e,s,a,l){return e=In(7,e,l,s),e.lanes=a,e}function bf(e,s,a){return e=In(6,e,null,s),e.lanes=a,e}function Sf(e,s,a){return s=In(4,e.children!==null?e.children:[],e.key,s),s.lanes=a,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}var Na=[],Pa=0,ec=null,nc=0,Yn=[],Qn=0,kr=null,es=1,ns="";function Ur(e,s){Na[Pa++]=nc,Na[Pa++]=ec,ec=e,nc=s}function cy(e,s,a){Yn[Qn++]=es,Yn[Qn++]=ns,Yn[Qn++]=kr,kr=e;var l=es;e=ns;var f=32-Le(l)-1;l&=~(1<<f),a+=1;var m=32-Le(s)+f;if(30<m){var T=f-f%5;m=(l&(1<<T)-1).toString(32),l>>=T,f-=T,es=1<<32-Le(s)+f|a<<f|l,ns=m+e}else es=1<<m|a<<f|l,ns=e}function wf(e){e.return!==null&&(Ur(e,1),cy(e,1,0))}function Rf(e){for(;e===ec;)ec=Na[--Pa],Na[Pa]=null,nc=Na[--Pa],Na[Pa]=null;for(;e===kr;)kr=Yn[--Qn],Yn[Qn]=null,ns=Yn[--Qn],Yn[Qn]=null,es=Yn[--Qn],Yn[Qn]=null}var vn=null,_e=null,$t=!1,Br=null,Ai=!1,Cf=Error(r(519));function jr(e){var s=Error(r(418,""));throw el(Gn(s,e)),Cf}function hy(e){var s=e.stateNode,a=e.type,l=e.memoizedProps;switch(s[ke]=e,s[De]=l,a){case"dialog":kt("cancel",s),kt("close",s);break;case"iframe":case"object":case"embed":kt("load",s);break;case"video":case"audio":for(a=0;a<wl.length;a++)kt(wl[a],s);break;case"source":kt("error",s);break;case"img":case"image":case"link":kt("error",s),kt("load",s);break;case"details":kt("toggle",s);break;case"input":kt("invalid",s),Sr(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),_a(s);break;case"select":kt("invalid",s);break;case"textarea":kt("invalid",s),wr(s,l.value,l.defaultValue,l.children),_a(s)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||D0(s.textContent,a)?(l.popover!=null&&(kt("beforetoggle",s),kt("toggle",s)),l.onScroll!=null&&kt("scroll",s),l.onScrollEnd!=null&&kt("scrollend",s),l.onClick!=null&&(s.onclick=Lc),s=!0):s=!1,s||jr(e)}function fy(e){for(vn=e.return;vn;)switch(vn.tag){case 5:case 13:Ai=!1;return;case 27:case 3:Ai=!0;return;default:vn=vn.return}}function Jo(e){if(e!==vn)return!1;if(!$t)return fy(e),$t=!0,!1;var s=e.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||qd(e.type,e.memoizedProps)),a=!a),a&&_e&&jr(e),fy(e),s===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));t:{for(e=e.nextSibling,s=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(s===0){_e=li(e.nextSibling);break t}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;e=e.nextSibling}_e=null}}else s===27?(s=_e,qs(e.type)?(e=Yd,Yd=null,_e=e):_e=s):_e=vn?li(e.stateNode.nextSibling):null;return!0}function tl(){_e=vn=null,$t=!1}function dy(){var e=Br;return e!==null&&(An===null?An=e:An.push.apply(An,e),Br=null),e}function el(e){Br===null?Br=[e]:Br.push(e)}var Df=R(null),zr=null,is=null;function Ds(e,s,a){Y(Df,s._currentValue),s._currentValue=a}function ss(e){e._currentValue=Df.current,X(Df)}function xf(e,s,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),e===a)break;e=e.return}}function Vf(e,s,a,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var m=f.dependencies;if(m!==null){var T=f.child;m=m.firstContext;t:for(;m!==null;){var S=m;m=f;for(var V=0;V<s.length;V++)if(S.context===s[V]){m.lanes|=a,S=m.alternate,S!==null&&(S.lanes|=a),xf(m.return,a,e),l||(T=null);break t}m=S.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(r(341));T.lanes|=a,m=T.alternate,m!==null&&(m.lanes|=a),xf(T,a,e),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===e){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function nl(e,s,a,l){e=null;for(var f=s,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var S=f.type;Vn(f.pendingProps.value,T.value)||(e!==null?e.push(S):e=[S])}}else if(f===mt.current){if(T=f.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Il):e=[Il])}f=f.return}e!==null&&Vf(s,e,a,l),s.flags|=262144}function ic(e){for(e=e.firstContext;e!==null;){if(!Vn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Fr(e){zr=e,is=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ln(e){return my(zr,e)}function sc(e,s){return zr===null&&Fr(e),my(e,s)}function my(e,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},is===null){if(e===null)throw Error(r(308));is=s,e.dependencies={lanes:0,firstContext:s},e.flags|=524288}else is=is.next=s;return a}var QS=typeof AbortController<"u"?AbortController:function(){var e=[],s=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){s.aborted=!0,e.forEach(function(a){return a()})}},XS=n.unstable_scheduleCallback,$S=n.unstable_NormalPriority,je={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function If(){return{controller:new QS,data:new Map,refCount:0}}function il(e){e.refCount--,e.refCount===0&&XS($S,function(){e.controller.abort()})}var sl=null,Mf=0,La=0,ka=null;function ZS(e,s){if(sl===null){var a=sl=[];Mf=0,La=Nd(),ka={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Mf++,s.then(py,py),s}function py(){if(--Mf===0&&sl!==null){ka!==null&&(ka.status="fulfilled");var e=sl;sl=null,La=0,ka=null;for(var s=0;s<e.length;s++)(0,e[s])()}}function WS(e,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var gy=Q.S;Q.S=function(e,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&ZS(e,s),gy!==null&&gy(e,s)};var qr=R(null);function Of(){var e=qr.current;return e!==null?e:oe.pooledCache}function rc(e,s){s===null?Y(qr,qr.current):Y(qr,s.pool)}function yy(){var e=Of();return e===null?null:{parent:je._currentValue,pool:e}}var rl=Error(r(460)),vy=Error(r(474)),ac=Error(r(542)),Nf={then:function(){}};function _y(e){return e=e.status,e==="fulfilled"||e==="rejected"}function oc(){}function Ty(e,s,a){switch(a=e[a],a===void 0?e.push(s):a!==s&&(s.then(oc,oc),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,Ay(e),e;default:if(typeof s.status=="string")s.then(oc,oc);else{if(e=oe,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=s,e.status="pending",e.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,Ay(e),e}throw al=s,rl}}var al=null;function Ey(){if(al===null)throw Error(r(459));var e=al;return al=null,e}function Ay(e){if(e===rl||e===ac)throw Error(r(483))}var xs=!1;function Pf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lf(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Vs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Is(e,s,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(te&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=Ju(e),ly(e,null,a),s}return Wu(e,l,s,a),Ju(e)}function ol(e,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=e.pendingLanes,a|=l,s.lanes=a,Po(e,a)}}function kf(e,s){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=T:m=m.next=T,a=a.next}while(a!==null);m===null?f=m=s:m=m.next=s}else f=m=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=s:e.next=s,a.lastBaseUpdate=s}var Uf=!1;function ll(){if(Uf){var e=ka;if(e!==null)throw e}}function ul(e,s,a,l){Uf=!1;var f=e.updateQueue;xs=!1;var m=f.firstBaseUpdate,T=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var V=S,F=V.next;V.next=null,T===null?m=F:T.next=F,T=V;var $=e.alternate;$!==null&&($=$.updateQueue,S=$.lastBaseUpdate,S!==T&&(S===null?$.firstBaseUpdate=F:S.next=F,$.lastBaseUpdate=V))}if(m!==null){var tt=f.baseState;T=0,$=F=V=null,S=m;do{var H=S.lane&-536870913,G=H!==S.lane;if(G?(qt&H)===H:(l&H)===H){H!==0&&H===La&&(Uf=!0),$!==null&&($=$.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var wt=e,At=S;H=s;var re=a;switch(At.tag){case 1:if(wt=At.payload,typeof wt=="function"){tt=wt.call(re,tt,H);break t}tt=wt;break t;case 3:wt.flags=wt.flags&-65537|128;case 0:if(wt=At.payload,H=typeof wt=="function"?wt.call(re,tt,H):wt,H==null)break t;tt=v({},tt,H);break t;case 2:xs=!0}}H=S.callback,H!==null&&(e.flags|=64,G&&(e.flags|=8192),G=f.callbacks,G===null?f.callbacks=[H]:G.push(H))}else G={lane:H,tag:S.tag,payload:S.payload,callback:S.callback,next:null},$===null?(F=$=G,V=tt):$=$.next=G,T|=H;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;G=S,S=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);$===null&&(V=tt),f.baseState=V,f.firstBaseUpdate=F,f.lastBaseUpdate=$,m===null&&(f.shared.lanes=0),Bs|=T,e.lanes=T,e.memoizedState=tt}}function by(e,s){if(typeof e!="function")throw Error(r(191,e));e.call(s)}function Sy(e,s){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)by(a[e],s)}var Ua=R(null),lc=R(0);function wy(e,s){e=hs,Y(lc,e),Y(Ua,s),hs=e|s.baseLanes}function Bf(){Y(lc,hs),Y(Ua,Ua.current)}function jf(){hs=lc.current,X(Ua),X(lc)}var Ms=0,Mt=null,ie=null,Ve=null,uc=!1,Ba=!1,Hr=!1,cc=0,cl=0,ja=null,JS=0;function be(){throw Error(r(321))}function zf(e,s){if(s===null)return!1;for(var a=0;a<s.length&&a<e.length;a++)if(!Vn(e[a],s[a]))return!1;return!0}function Ff(e,s,a,l,f,m){return Ms=m,Mt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Q.H=e===null||e.memoizedState===null?lv:uv,Hr=!1,m=a(l,f),Hr=!1,Ba&&(m=Cy(s,a,l,f)),Ry(e),m}function Ry(e){Q.H=gc;var s=ie!==null&&ie.next!==null;if(Ms=0,Ve=ie=Mt=null,uc=!1,cl=0,ja=null,s)throw Error(r(300));e===null||Ke||(e=e.dependencies,e!==null&&ic(e)&&(Ke=!0))}function Cy(e,s,a,l){Mt=e;var f=0;do{if(Ba&&(ja=null),cl=0,Ba=!1,25<=f)throw Error(r(301));if(f+=1,Ve=ie=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Q.H=aw,m=s(a,l)}while(Ba);return m}function tw(){var e=Q.H,s=e.useState()[0];return s=typeof s.then=="function"?hl(s):s,e=e.useState()[0],(ie!==null?ie.memoizedState:null)!==e&&(Mt.flags|=1024),s}function qf(){var e=cc!==0;return cc=0,e}function Hf(e,s,a){s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~a}function Gf(e){if(uc){for(e=e.memoizedState;e!==null;){var s=e.queue;s!==null&&(s.pending=null),e=e.next}uc=!1}Ms=0,Ve=ie=Mt=null,Ba=!1,cl=cc=0,ja=null}function Tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?Mt.memoizedState=Ve=e:Ve=Ve.next=e,Ve}function Ie(){if(ie===null){var e=Mt.alternate;e=e!==null?e.memoizedState:null}else e=ie.next;var s=Ve===null?Mt.memoizedState:Ve.next;if(s!==null)Ve=s,ie=e;else{if(e===null)throw Mt.alternate===null?Error(r(467)):Error(r(310));ie=e,e={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},Ve===null?Mt.memoizedState=Ve=e:Ve=Ve.next=e}return Ve}function Kf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hl(e){var s=cl;return cl+=1,ja===null&&(ja=[]),e=Ty(ja,e,s),s=Mt,(Ve===null?s.memoizedState:Ve.next)===null&&(s=s.alternate,Q.H=s===null||s.memoizedState===null?lv:uv),e}function hc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return hl(e);if(e.$$typeof===Z)return ln(e)}throw Error(r(438,String(e)))}function Yf(e){var s=null,a=Mt.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Mt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Kf(),Mt.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(e),l=0;l<e;l++)a[l]=M;return s.index++,a}function rs(e,s){return typeof s=="function"?s(e):s}function fc(e){var s=Ie();return Qf(s,ie,e)}function Qf(e,s,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=e.baseQueue,m=l.pending;if(m!==null){if(f!==null){var T=f.next;f.next=m.next,m.next=T}s.baseQueue=f=m,l.pending=null}if(m=e.baseState,f===null)e.memoizedState=m;else{s=f.next;var S=T=null,V=null,F=s,$=!1;do{var tt=F.lane&-536870913;if(tt!==F.lane?(qt&tt)===tt:(Ms&tt)===tt){var H=F.revertLane;if(H===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),tt===La&&($=!0);else if((Ms&H)===H){F=F.next,H===La&&($=!0);continue}else tt={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},V===null?(S=V=tt,T=m):V=V.next=tt,Mt.lanes|=H,Bs|=H;tt=F.action,Hr&&a(m,tt),m=F.hasEagerState?F.eagerState:a(m,tt)}else H={lane:tt,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},V===null?(S=V=H,T=m):V=V.next=H,Mt.lanes|=tt,Bs|=tt;F=F.next}while(F!==null&&F!==s);if(V===null?T=m:V.next=S,!Vn(m,e.memoizedState)&&(Ke=!0,$&&(a=ka,a!==null)))throw a;e.memoizedState=m,e.baseState=T,e.baseQueue=V,l.lastRenderedState=m}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Xf(e){var s=Ie(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,f=a.pending,m=s.memoizedState;if(f!==null){a.pending=null;var T=f=f.next;do m=e(m,T.action),T=T.next;while(T!==f);Vn(m,s.memoizedState)||(Ke=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,l]}function Dy(e,s,a){var l=Mt,f=Ie(),m=$t;if(m){if(a===void 0)throw Error(r(407));a=a()}else a=s();var T=!Vn((ie||f).memoizedState,a);T&&(f.memoizedState=a,Ke=!0),f=f.queue;var S=Iy.bind(null,l,f,e);if(fl(2048,8,S,[e]),f.getSnapshot!==s||T||Ve!==null&&Ve.memoizedState.tag&1){if(l.flags|=2048,za(9,dc(),Vy.bind(null,l,f,a,s),null),oe===null)throw Error(r(349));m||(Ms&124)!==0||xy(l,s,a)}return a}function xy(e,s,a){e.flags|=16384,e={getSnapshot:s,value:a},s=Mt.updateQueue,s===null?(s=Kf(),Mt.updateQueue=s,s.stores=[e]):(a=s.stores,a===null?s.stores=[e]:a.push(e))}function Vy(e,s,a,l){s.value=a,s.getSnapshot=l,My(s)&&Oy(e)}function Iy(e,s,a){return a(function(){My(s)&&Oy(e)})}function My(e){var s=e.getSnapshot;e=e.value;try{var a=s();return!Vn(e,a)}catch{return!0}}function Oy(e){var s=Ma(e,2);s!==null&&Ln(s,e,2)}function $f(e){var s=Tn();if(typeof e=="function"){var a=e;if(e=a(),Hr){mn(!0);try{a()}finally{mn(!1)}}}return s.memoizedState=s.baseState=e,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:e},s}function Ny(e,s,a,l){return e.baseState=a,Qf(e,ie,typeof l=="function"?l:rs)}function ew(e,s,a,l,f){if(pc(e))throw Error(r(485));if(e=s.action,e!==null){var m={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};Q.T!==null?a(!0):m.isTransition=!1,l(m),a=s.pending,a===null?(m.next=s.pending=m,Py(s,m)):(m.next=a.next,s.pending=a.next=m)}}function Py(e,s){var a=s.action,l=s.payload,f=e.state;if(s.isTransition){var m=Q.T,T={};Q.T=T;try{var S=a(f,l),V=Q.S;V!==null&&V(T,S),Ly(e,s,S)}catch(F){Zf(e,s,F)}finally{Q.T=m}}else try{m=a(f,l),Ly(e,s,m)}catch(F){Zf(e,s,F)}}function Ly(e,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ky(e,s,l)},function(l){return Zf(e,s,l)}):ky(e,s,a)}function ky(e,s,a){s.status="fulfilled",s.value=a,Uy(s),e.state=a,s=e.pending,s!==null&&(a=s.next,a===s?e.pending=null:(a=a.next,s.next=a,Py(e,a)))}function Zf(e,s,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,Uy(s),s=s.next;while(s!==l)}e.action=null}function Uy(e){e=e.listeners;for(var s=0;s<e.length;s++)(0,e[s])()}function By(e,s){return s}function jy(e,s){if($t){var a=oe.formState;if(a!==null){t:{var l=Mt;if($t){if(_e){e:{for(var f=_e,m=Ai;f.nodeType!==8;){if(!m){f=null;break e}if(f=li(f.nextSibling),f===null){f=null;break e}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){_e=li(f.nextSibling),l=f.data==="F!";break t}}jr(l)}l=!1}l&&(s=a[0])}}return a=Tn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:By,lastRenderedState:s},a.queue=l,a=rv.bind(null,Mt,l),l.dispatch=a,l=$f(!1),m=nd.bind(null,Mt,!1,l.queue),l=Tn(),f={state:s,dispatch:null,action:e,pending:null},l.queue=f,a=ew.bind(null,Mt,f,m,a),f.dispatch=a,l.memoizedState=e,[s,a,!1]}function zy(e){var s=Ie();return Fy(s,ie,e)}function Fy(e,s,a){if(s=Qf(e,s,By)[0],e=fc(rs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=hl(s)}catch(T){throw T===rl?ac:T}else l=s;s=Ie();var f=s.queue,m=f.dispatch;return a!==s.memoizedState&&(Mt.flags|=2048,za(9,dc(),nw.bind(null,f,a),null)),[l,m,e]}function nw(e,s){e.action=s}function qy(e){var s=Ie(),a=ie;if(a!==null)return Fy(s,a,e);Ie(),s=s.memoizedState,a=Ie();var l=a.queue.dispatch;return a.memoizedState=e,[s,l,!1]}function za(e,s,a,l){return e={tag:e,create:a,deps:l,inst:s,next:null},s=Mt.updateQueue,s===null&&(s=Kf(),Mt.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,s.lastEffect=e),e}function dc(){return{destroy:void 0,resource:void 0}}function Hy(){return Ie().memoizedState}function mc(e,s,a,l){var f=Tn();l=l===void 0?null:l,Mt.flags|=e,f.memoizedState=za(1|s,dc(),a,l)}function fl(e,s,a,l){var f=Ie();l=l===void 0?null:l;var m=f.memoizedState.inst;ie!==null&&l!==null&&zf(l,ie.memoizedState.deps)?f.memoizedState=za(s,m,a,l):(Mt.flags|=e,f.memoizedState=za(1|s,m,a,l))}function Gy(e,s){mc(8390656,8,e,s)}function Ky(e,s){fl(2048,8,e,s)}function Yy(e,s){return fl(4,2,e,s)}function Qy(e,s){return fl(4,4,e,s)}function Xy(e,s){if(typeof s=="function"){e=e();var a=s(e);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function $y(e,s,a){a=a!=null?a.concat([e]):null,fl(4,4,Xy.bind(null,s,e),a)}function Wf(){}function Zy(e,s){var a=Ie();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&zf(s,l[1])?l[0]:(a.memoizedState=[e,s],e)}function Wy(e,s){var a=Ie();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&zf(s,l[1]))return l[0];if(l=e(),Hr){mn(!0);try{e()}finally{mn(!1)}}return a.memoizedState=[l,s],l}function Jf(e,s,a){return a===void 0||(Ms&1073741824)!==0?e.memoizedState=s:(e.memoizedState=a,e=e0(),Mt.lanes|=e,Bs|=e,a)}function Jy(e,s,a,l){return Vn(a,s)?a:Ua.current!==null?(e=Jf(e,a,l),Vn(e,s)||(Ke=!0),e):(Ms&42)===0?(Ke=!0,e.memoizedState=a):(e=e0(),Mt.lanes|=e,Bs|=e,s)}function tv(e,s,a,l,f){var m=nt.p;nt.p=m!==0&&8>m?m:8;var T=Q.T,S={};Q.T=S,nd(e,!1,s,a);try{var V=f(),F=Q.S;if(F!==null&&F(S,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var $=WS(V,l);dl(e,s,$,Pn(e))}else dl(e,s,l,Pn(e))}catch(tt){dl(e,s,{then:function(){},status:"rejected",reason:tt},Pn())}finally{nt.p=m,Q.T=T}}function iw(){}function td(e,s,a,l){if(e.tag!==5)throw Error(r(476));var f=ev(e).queue;tv(e,f,s,ft,a===null?iw:function(){return nv(e),a(l)})}function ev(e){var s=e.memoizedState;if(s!==null)return s;s={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:ft},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:a},next:null},e.memoizedState=s,e=e.alternate,e!==null&&(e.memoizedState=s),s}function nv(e){var s=ev(e).next.queue;dl(e,s,{},Pn())}function ed(){return ln(Il)}function iv(){return Ie().memoizedState}function sv(){return Ie().memoizedState}function sw(e){for(var s=e.return;s!==null;){switch(s.tag){case 24:case 3:var a=Pn();e=Vs(a);var l=Is(s,e,a);l!==null&&(Ln(l,s,a),ol(l,s,a)),s={cache:If()},e.payload=s;return}s=s.return}}function rw(e,s,a){var l=Pn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},pc(e)?av(s,a):(a=Ef(e,s,a,l),a!==null&&(Ln(a,e,l),ov(a,s,l)))}function rv(e,s,a){var l=Pn();dl(e,s,a,l)}function dl(e,s,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(pc(e))av(s,f);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var T=s.lastRenderedState,S=m(T,a);if(f.hasEagerState=!0,f.eagerState=S,Vn(S,T))return Wu(e,s,f,0),oe===null&&Zu(),!1}catch{}finally{}if(a=Ef(e,s,f,l),a!==null)return Ln(a,e,l),ov(a,s,l),!0}return!1}function nd(e,s,a,l){if(l={lane:2,revertLane:Nd(),action:l,hasEagerState:!1,eagerState:null,next:null},pc(e)){if(s)throw Error(r(479))}else s=Ef(e,a,l,2),s!==null&&Ln(s,e,2)}function pc(e){var s=e.alternate;return e===Mt||s!==null&&s===Mt}function av(e,s){Ba=uc=!0;var a=e.pending;a===null?s.next=s:(s.next=a.next,a.next=s),e.pending=s}function ov(e,s,a){if((a&4194048)!==0){var l=s.lanes;l&=e.pendingLanes,a|=l,s.lanes=a,Po(e,a)}}var gc={readContext:ln,use:hc,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useLayoutEffect:be,useInsertionEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useSyncExternalStore:be,useId:be,useHostTransitionStatus:be,useFormState:be,useActionState:be,useOptimistic:be,useMemoCache:be,useCacheRefresh:be},lv={readContext:ln,use:hc,useCallback:function(e,s){return Tn().memoizedState=[e,s===void 0?null:s],e},useContext:ln,useEffect:Gy,useImperativeHandle:function(e,s,a){a=a!=null?a.concat([e]):null,mc(4194308,4,Xy.bind(null,s,e),a)},useLayoutEffect:function(e,s){return mc(4194308,4,e,s)},useInsertionEffect:function(e,s){mc(4,2,e,s)},useMemo:function(e,s){var a=Tn();s=s===void 0?null:s;var l=e();if(Hr){mn(!0);try{e()}finally{mn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(e,s,a){var l=Tn();if(a!==void 0){var f=a(s);if(Hr){mn(!0);try{a(s)}finally{mn(!1)}}}else f=s;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=rw.bind(null,Mt,e),[l.memoizedState,e]},useRef:function(e){var s=Tn();return e={current:e},s.memoizedState=e},useState:function(e){e=$f(e);var s=e.queue,a=rv.bind(null,Mt,s);return s.dispatch=a,[e.memoizedState,a]},useDebugValue:Wf,useDeferredValue:function(e,s){var a=Tn();return Jf(a,e,s)},useTransition:function(){var e=$f(!1);return e=tv.bind(null,Mt,e.queue,!0,!1),Tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,s,a){var l=Mt,f=Tn();if($t){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),oe===null)throw Error(r(349));(qt&124)!==0||xy(l,s,a)}f.memoizedState=a;var m={value:a,getSnapshot:s};return f.queue=m,Gy(Iy.bind(null,l,m,e),[e]),l.flags|=2048,za(9,dc(),Vy.bind(null,l,m,a,s),null),a},useId:function(){var e=Tn(),s=oe.identifierPrefix;if($t){var a=ns,l=es;a=(l&~(1<<32-Le(l)-1)).toString(32)+a,s="«"+s+"R"+a,a=cc++,0<a&&(s+="H"+a.toString(32)),s+="»"}else a=JS++,s="«"+s+"r"+a.toString(32)+"»";return e.memoizedState=s},useHostTransitionStatus:ed,useFormState:jy,useActionState:jy,useOptimistic:function(e){var s=Tn();s.memoizedState=s.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=nd.bind(null,Mt,!0,a),a.dispatch=s,[e,s]},useMemoCache:Yf,useCacheRefresh:function(){return Tn().memoizedState=sw.bind(null,Mt)}},uv={readContext:ln,use:hc,useCallback:Zy,useContext:ln,useEffect:Ky,useImperativeHandle:$y,useInsertionEffect:Yy,useLayoutEffect:Qy,useMemo:Wy,useReducer:fc,useRef:Hy,useState:function(){return fc(rs)},useDebugValue:Wf,useDeferredValue:function(e,s){var a=Ie();return Jy(a,ie.memoizedState,e,s)},useTransition:function(){var e=fc(rs)[0],s=Ie().memoizedState;return[typeof e=="boolean"?e:hl(e),s]},useSyncExternalStore:Dy,useId:iv,useHostTransitionStatus:ed,useFormState:zy,useActionState:zy,useOptimistic:function(e,s){var a=Ie();return Ny(a,ie,e,s)},useMemoCache:Yf,useCacheRefresh:sv},aw={readContext:ln,use:hc,useCallback:Zy,useContext:ln,useEffect:Ky,useImperativeHandle:$y,useInsertionEffect:Yy,useLayoutEffect:Qy,useMemo:Wy,useReducer:Xf,useRef:Hy,useState:function(){return Xf(rs)},useDebugValue:Wf,useDeferredValue:function(e,s){var a=Ie();return ie===null?Jf(a,e,s):Jy(a,ie.memoizedState,e,s)},useTransition:function(){var e=Xf(rs)[0],s=Ie().memoizedState;return[typeof e=="boolean"?e:hl(e),s]},useSyncExternalStore:Dy,useId:iv,useHostTransitionStatus:ed,useFormState:qy,useActionState:qy,useOptimistic:function(e,s){var a=Ie();return ie!==null?Ny(a,ie,e,s):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Yf,useCacheRefresh:sv},Fa=null,ml=0;function yc(e){var s=ml;return ml+=1,Fa===null&&(Fa=[]),Ty(Fa,e,s)}function pl(e,s){s=s.props.ref,e.ref=s!==void 0?s:null}function vc(e,s){throw s.$$typeof===E?Error(r(525)):(e=Object.prototype.toString.call(s),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e)))}function cv(e){var s=e._init;return s(e._payload)}function hv(e){function s(B,P){if(e){var z=B.deletions;z===null?(B.deletions=[P],B.flags|=16):z.push(P)}}function a(B,P){if(!e)return null;for(;P!==null;)s(B,P),P=P.sibling;return null}function l(B){for(var P=new Map;B!==null;)B.key!==null?P.set(B.key,B):P.set(B.index,B),B=B.sibling;return P}function f(B,P){return B=ts(B,P),B.index=0,B.sibling=null,B}function m(B,P,z){return B.index=z,e?(z=B.alternate,z!==null?(z=z.index,z<P?(B.flags|=67108866,P):z):(B.flags|=67108866,P)):(B.flags|=1048576,P)}function T(B){return e&&B.alternate===null&&(B.flags|=67108866),B}function S(B,P,z,J){return P===null||P.tag!==6?(P=bf(z,B.mode,J),P.return=B,P):(P=f(P,z),P.return=B,P)}function V(B,P,z,J){var pt=z.type;return pt===L?$(B,P,z.props.children,J,z.key):P!==null&&(P.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===C&&cv(pt)===P.type)?(P=f(P,z.props),pl(P,z),P.return=B,P):(P=tc(z.type,z.key,z.props,null,B.mode,J),pl(P,z),P.return=B,P)}function F(B,P,z,J){return P===null||P.tag!==4||P.stateNode.containerInfo!==z.containerInfo||P.stateNode.implementation!==z.implementation?(P=Sf(z,B.mode,J),P.return=B,P):(P=f(P,z.children||[]),P.return=B,P)}function $(B,P,z,J,pt){return P===null||P.tag!==7?(P=Lr(z,B.mode,J,pt),P.return=B,P):(P=f(P,z),P.return=B,P)}function tt(B,P,z){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=bf(""+P,B.mode,z),P.return=B,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case A:return z=tc(P.type,P.key,P.props,null,B.mode,z),pl(z,P),z.return=B,z;case D:return P=Sf(P,B.mode,z),P.return=B,P;case C:var J=P._init;return P=J(P._payload),tt(B,P,z)}if(Ut(P)||k(P))return P=Lr(P,B.mode,z,null),P.return=B,P;if(typeof P.then=="function")return tt(B,yc(P),z);if(P.$$typeof===Z)return tt(B,sc(B,P),z);vc(B,P)}return null}function H(B,P,z,J){var pt=P!==null?P.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return pt!==null?null:S(B,P,""+z,J);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case A:return z.key===pt?V(B,P,z,J):null;case D:return z.key===pt?F(B,P,z,J):null;case C:return pt=z._init,z=pt(z._payload),H(B,P,z,J)}if(Ut(z)||k(z))return pt!==null?null:$(B,P,z,J,null);if(typeof z.then=="function")return H(B,P,yc(z),J);if(z.$$typeof===Z)return H(B,P,sc(B,z),J);vc(B,z)}return null}function G(B,P,z,J,pt){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return B=B.get(z)||null,S(P,B,""+J,pt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case A:return B=B.get(J.key===null?z:J.key)||null,V(P,B,J,pt);case D:return B=B.get(J.key===null?z:J.key)||null,F(P,B,J,pt);case C:var Nt=J._init;return J=Nt(J._payload),G(B,P,z,J,pt)}if(Ut(J)||k(J))return B=B.get(z)||null,$(P,B,J,pt,null);if(typeof J.then=="function")return G(B,P,z,yc(J),pt);if(J.$$typeof===Z)return G(B,P,z,sc(P,J),pt);vc(P,J)}return null}function wt(B,P,z,J){for(var pt=null,Nt=null,Tt=P,bt=P=0,Qe=null;Tt!==null&&bt<z.length;bt++){Tt.index>bt?(Qe=Tt,Tt=null):Qe=Tt.sibling;var Yt=H(B,Tt,z[bt],J);if(Yt===null){Tt===null&&(Tt=Qe);break}e&&Tt&&Yt.alternate===null&&s(B,Tt),P=m(Yt,P,bt),Nt===null?pt=Yt:Nt.sibling=Yt,Nt=Yt,Tt=Qe}if(bt===z.length)return a(B,Tt),$t&&Ur(B,bt),pt;if(Tt===null){for(;bt<z.length;bt++)Tt=tt(B,z[bt],J),Tt!==null&&(P=m(Tt,P,bt),Nt===null?pt=Tt:Nt.sibling=Tt,Nt=Tt);return $t&&Ur(B,bt),pt}for(Tt=l(Tt);bt<z.length;bt++)Qe=G(Tt,B,bt,z[bt],J),Qe!==null&&(e&&Qe.alternate!==null&&Tt.delete(Qe.key===null?bt:Qe.key),P=m(Qe,P,bt),Nt===null?pt=Qe:Nt.sibling=Qe,Nt=Qe);return e&&Tt.forEach(function(Qs){return s(B,Qs)}),$t&&Ur(B,bt),pt}function At(B,P,z,J){if(z==null)throw Error(r(151));for(var pt=null,Nt=null,Tt=P,bt=P=0,Qe=null,Yt=z.next();Tt!==null&&!Yt.done;bt++,Yt=z.next()){Tt.index>bt?(Qe=Tt,Tt=null):Qe=Tt.sibling;var Qs=H(B,Tt,Yt.value,J);if(Qs===null){Tt===null&&(Tt=Qe);break}e&&Tt&&Qs.alternate===null&&s(B,Tt),P=m(Qs,P,bt),Nt===null?pt=Qs:Nt.sibling=Qs,Nt=Qs,Tt=Qe}if(Yt.done)return a(B,Tt),$t&&Ur(B,bt),pt;if(Tt===null){for(;!Yt.done;bt++,Yt=z.next())Yt=tt(B,Yt.value,J),Yt!==null&&(P=m(Yt,P,bt),Nt===null?pt=Yt:Nt.sibling=Yt,Nt=Yt);return $t&&Ur(B,bt),pt}for(Tt=l(Tt);!Yt.done;bt++,Yt=z.next())Yt=G(Tt,B,bt,Yt.value,J),Yt!==null&&(e&&Yt.alternate!==null&&Tt.delete(Yt.key===null?bt:Yt.key),P=m(Yt,P,bt),Nt===null?pt=Yt:Nt.sibling=Yt,Nt=Yt);return e&&Tt.forEach(function(oR){return s(B,oR)}),$t&&Ur(B,bt),pt}function re(B,P,z,J){if(typeof z=="object"&&z!==null&&z.type===L&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case A:t:{for(var pt=z.key;P!==null;){if(P.key===pt){if(pt=z.type,pt===L){if(P.tag===7){a(B,P.sibling),J=f(P,z.props.children),J.return=B,B=J;break t}}else if(P.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===C&&cv(pt)===P.type){a(B,P.sibling),J=f(P,z.props),pl(J,z),J.return=B,B=J;break t}a(B,P);break}else s(B,P);P=P.sibling}z.type===L?(J=Lr(z.props.children,B.mode,J,z.key),J.return=B,B=J):(J=tc(z.type,z.key,z.props,null,B.mode,J),pl(J,z),J.return=B,B=J)}return T(B);case D:t:{for(pt=z.key;P!==null;){if(P.key===pt)if(P.tag===4&&P.stateNode.containerInfo===z.containerInfo&&P.stateNode.implementation===z.implementation){a(B,P.sibling),J=f(P,z.children||[]),J.return=B,B=J;break t}else{a(B,P);break}else s(B,P);P=P.sibling}J=Sf(z,B.mode,J),J.return=B,B=J}return T(B);case C:return pt=z._init,z=pt(z._payload),re(B,P,z,J)}if(Ut(z))return wt(B,P,z,J);if(k(z)){if(pt=k(z),typeof pt!="function")throw Error(r(150));return z=pt.call(z),At(B,P,z,J)}if(typeof z.then=="function")return re(B,P,yc(z),J);if(z.$$typeof===Z)return re(B,P,sc(B,z),J);vc(B,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,P!==null&&P.tag===6?(a(B,P.sibling),J=f(P,z),J.return=B,B=J):(a(B,P),J=bf(z,B.mode,J),J.return=B,B=J),T(B)):a(B,P)}return function(B,P,z,J){try{ml=0;var pt=re(B,P,z,J);return Fa=null,pt}catch(Tt){if(Tt===rl||Tt===ac)throw Tt;var Nt=In(29,Tt,null,B.mode);return Nt.lanes=J,Nt.return=B,Nt}finally{}}}var qa=hv(!0),fv=hv(!1),Xn=R(null),bi=null;function Os(e){var s=e.alternate;Y(ze,ze.current&1),Y(Xn,e),bi===null&&(s===null||Ua.current!==null||s.memoizedState!==null)&&(bi=e)}function dv(e){if(e.tag===22){if(Y(ze,ze.current),Y(Xn,e),bi===null){var s=e.alternate;s!==null&&s.memoizedState!==null&&(bi=e)}}else Ns()}function Ns(){Y(ze,ze.current),Y(Xn,Xn.current)}function as(e){X(Xn),bi===e&&(bi=null),X(ze)}var ze=R(0);function _c(e){for(var s=e;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Kd(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function id(e,s,a,l){s=e.memoizedState,a=a(l,s),a=a==null?s:v({},s,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var sd={enqueueSetState:function(e,s,a){e=e._reactInternals;var l=Pn(),f=Vs(l);f.payload=s,a!=null&&(f.callback=a),s=Is(e,f,l),s!==null&&(Ln(s,e,l),ol(s,e,l))},enqueueReplaceState:function(e,s,a){e=e._reactInternals;var l=Pn(),f=Vs(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=Is(e,f,l),s!==null&&(Ln(s,e,l),ol(s,e,l))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var a=Pn(),l=Vs(a);l.tag=2,s!=null&&(l.callback=s),s=Is(e,l,a),s!==null&&(Ln(s,e,a),ol(s,e,a))}};function mv(e,s,a,l,f,m,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,m,T):s.prototype&&s.prototype.isPureReactComponent?!Zo(a,l)||!Zo(f,m):!0}function pv(e,s,a,l){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==e&&sd.enqueueReplaceState(s,s.state,null)}function Gr(e,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(e=e.defaultProps){a===s&&(a=v({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}var Tc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function gv(e){Tc(e)}function yv(e){console.error(e)}function vv(e){Tc(e)}function Ec(e,s){try{var a=e.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function _v(e,s,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function rd(e,s,a){return a=Vs(a),a.tag=3,a.payload={element:null},a.callback=function(){Ec(e,s)},a}function Tv(e){return e=Vs(e),e.tag=3,e}function Ev(e,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;e.payload=function(){return f(m)},e.callback=function(){_v(s,a,l)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){_v(s,a,l),typeof f!="function"&&(js===null?js=new Set([this]):js.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function ow(e,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&nl(s,a,f,!0),a=Xn.current,a!==null){switch(a.tag){case 13:return bi===null?xd():a.alternate===null&&Te===0&&(Te=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Nf?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),Id(e,l,f)),!1;case 22:return a.flags|=65536,l===Nf?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),Id(e,l,f)),!1}throw Error(r(435,a.tag))}return Id(e,l,f),xd(),!1}if($t)return s=Xn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==Cf&&(e=Error(r(422),{cause:l}),el(Gn(e,a)))):(l!==Cf&&(s=Error(r(423),{cause:l}),el(Gn(s,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=Gn(l,a),f=rd(e.stateNode,l,f),kf(e,f),Te!==4&&(Te=2)),!1;var m=Error(r(520),{cause:l});if(m=Gn(m,a),Al===null?Al=[m]:Al.push(m),Te!==4&&(Te=2),s===null)return!0;l=Gn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=rd(a.stateNode,l,e),kf(a,e),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(js===null||!js.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Tv(f),Ev(f,e,a,l),kf(a,f),!1}a=a.return}while(a!==null);return!1}var Av=Error(r(461)),Ke=!1;function Je(e,s,a,l){s.child=e===null?fv(s,null,a,l):qa(s,e.child,a,l)}function bv(e,s,a,l,f){a=a.render;var m=s.ref;if("ref"in l){var T={};for(var S in l)S!=="ref"&&(T[S]=l[S])}else T=l;return Fr(s),l=Ff(e,s,a,T,m,f),S=qf(),e!==null&&!Ke?(Hf(e,s,f),os(e,s,f)):($t&&S&&wf(s),s.flags|=1,Je(e,s,l,f),s.child)}function Sv(e,s,a,l,f){if(e===null){var m=a.type;return typeof m=="function"&&!Af(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,wv(e,s,m,l,f)):(e=tc(a.type,null,l,s,s.mode,f),e.ref=s.ref,e.return=s,s.child=e)}if(m=e.child,!dd(e,f)){var T=m.memoizedProps;if(a=a.compare,a=a!==null?a:Zo,a(T,l)&&e.ref===s.ref)return os(e,s,f)}return s.flags|=1,e=ts(m,l),e.ref=s.ref,e.return=s,s.child=e}function wv(e,s,a,l,f){if(e!==null){var m=e.memoizedProps;if(Zo(m,l)&&e.ref===s.ref)if(Ke=!1,s.pendingProps=l=m,dd(e,f))(e.flags&131072)!==0&&(Ke=!0);else return s.lanes=e.lanes,os(e,s,f)}return ad(e,s,a,l,f)}function Rv(e,s,a){var l=s.pendingProps,f=l.children,m=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((s.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,e!==null){for(f=s.child=e.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;s.childLanes=m&~l}else s.childLanes=0,s.child=null;return Cv(e,s,l,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},e!==null&&rc(s,m!==null?m.cachePool:null),m!==null?wy(s,m):Bf(),dv(s);else return s.lanes=s.childLanes=536870912,Cv(e,s,m!==null?m.baseLanes|a:a,a)}else m!==null?(rc(s,m.cachePool),wy(s,m),Ns(),s.memoizedState=null):(e!==null&&rc(s,null),Bf(),Ns());return Je(e,s,f,a),s.child}function Cv(e,s,a,l){var f=Of();return f=f===null?null:{parent:je._currentValue,pool:f},s.memoizedState={baseLanes:a,cachePool:f},e!==null&&rc(s,null),Bf(),dv(s),e!==null&&nl(e,s,l,!0),null}function Ac(e,s){var a=s.ref;if(a===null)e!==null&&e.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(s.flags|=4194816)}}function ad(e,s,a,l,f){return Fr(s),a=Ff(e,s,a,l,void 0,f),l=qf(),e!==null&&!Ke?(Hf(e,s,f),os(e,s,f)):($t&&l&&wf(s),s.flags|=1,Je(e,s,a,f),s.child)}function Dv(e,s,a,l,f,m){return Fr(s),s.updateQueue=null,a=Cy(s,l,a,f),Ry(e),l=qf(),e!==null&&!Ke?(Hf(e,s,m),os(e,s,m)):($t&&l&&wf(s),s.flags|=1,Je(e,s,a,m),s.child)}function xv(e,s,a,l,f){if(Fr(s),s.stateNode===null){var m=Oa,T=a.contextType;typeof T=="object"&&T!==null&&(m=ln(T)),m=new a(l,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=sd,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=l,m.state=s.memoizedState,m.refs={},Pf(s),T=a.contextType,m.context=typeof T=="object"&&T!==null?ln(T):Oa,m.state=s.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(id(s,a,T,l),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&sd.enqueueReplaceState(m,m.state,null),ul(s,l,m,f),ll(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(e===null){m=s.stateNode;var S=s.memoizedProps,V=Gr(a,S);m.props=V;var F=m.context,$=a.contextType;T=Oa,typeof $=="object"&&$!==null&&(T=ln($));var tt=a.getDerivedStateFromProps;$=typeof tt=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,$||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||F!==T)&&pv(s,m,l,T),xs=!1;var H=s.memoizedState;m.state=H,ul(s,l,m,f),ll(),F=s.memoizedState,S||H!==F||xs?(typeof tt=="function"&&(id(s,a,tt,l),F=s.memoizedState),(V=xs||mv(s,a,V,l,H,F,T))?($||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=F),m.props=l,m.state=F,m.context=T,l=V):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{m=s.stateNode,Lf(e,s),T=s.memoizedProps,$=Gr(a,T),m.props=$,tt=s.pendingProps,H=m.context,F=a.contextType,V=Oa,typeof F=="object"&&F!==null&&(V=ln(F)),S=a.getDerivedStateFromProps,(F=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==tt||H!==V)&&pv(s,m,l,V),xs=!1,H=s.memoizedState,m.state=H,ul(s,l,m,f),ll();var G=s.memoizedState;T!==tt||H!==G||xs||e!==null&&e.dependencies!==null&&ic(e.dependencies)?(typeof S=="function"&&(id(s,a,S,l),G=s.memoizedState),($=xs||mv(s,a,$,l,H,G,V)||e!==null&&e.dependencies!==null&&ic(e.dependencies))?(F||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,G,V),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,G,V)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===e.memoizedProps&&H===e.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&H===e.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=G),m.props=l,m.state=G,m.context=V,l=$):(typeof m.componentDidUpdate!="function"||T===e.memoizedProps&&H===e.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&H===e.memoizedState||(s.flags|=1024),l=!1)}return m=l,Ac(e,s),l=(s.flags&128)!==0,m||l?(m=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,e!==null&&l?(s.child=qa(s,e.child,null,f),s.child=qa(s,null,a,f)):Je(e,s,a,f),s.memoizedState=m.state,e=s.child):e=os(e,s,f),e}function Vv(e,s,a,l){return tl(),s.flags|=256,Je(e,s,a,l),s.child}var od={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ld(e){return{baseLanes:e,cachePool:yy()}}function ud(e,s,a){return e=e!==null?e.childLanes&~a:0,s&&(e|=$n),e}function Iv(e,s,a){var l=s.pendingProps,f=!1,m=(s.flags&128)!==0,T;if((T=m)||(T=e!==null&&e.memoizedState===null?!1:(ze.current&2)!==0),T&&(f=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,e===null){if($t){if(f?Os(s):Ns(),$t){var S=_e,V;if(V=S){t:{for(V=S,S=Ai;V.nodeType!==8;){if(!S){S=null;break t}if(V=li(V.nextSibling),V===null){S=null;break t}}S=V}S!==null?(s.memoizedState={dehydrated:S,treeContext:kr!==null?{id:es,overflow:ns}:null,retryLane:536870912,hydrationErrors:null},V=In(18,null,null,0),V.stateNode=S,V.return=s,s.child=V,vn=s,_e=null,V=!0):V=!1}V||jr(s)}if(S=s.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Kd(S)?s.lanes=32:s.lanes=536870912,null;as(s)}return S=l.children,l=l.fallback,f?(Ns(),f=s.mode,S=bc({mode:"hidden",children:S},f),l=Lr(l,f,a,null),S.return=s,l.return=s,S.sibling=l,s.child=S,f=s.child,f.memoizedState=ld(a),f.childLanes=ud(e,T,a),s.memoizedState=od,l):(Os(s),cd(s,S))}if(V=e.memoizedState,V!==null&&(S=V.dehydrated,S!==null)){if(m)s.flags&256?(Os(s),s.flags&=-257,s=hd(e,s,a)):s.memoizedState!==null?(Ns(),s.child=e.child,s.flags|=128,s=null):(Ns(),f=l.fallback,S=s.mode,l=bc({mode:"visible",children:l.children},S),f=Lr(f,S,a,null),f.flags|=2,l.return=s,f.return=s,l.sibling=f,s.child=l,qa(s,e.child,null,a),l=s.child,l.memoizedState=ld(a),l.childLanes=ud(e,T,a),s.memoizedState=od,s=f);else if(Os(s),Kd(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var F=T.dgst;T=F,l=Error(r(419)),l.stack="",l.digest=T,el({value:l,source:null,stack:null}),s=hd(e,s,a)}else if(Ke||nl(e,s,a,!1),T=(a&e.childLanes)!==0,Ke||T){if(T=oe,T!==null&&(l=a&-a,l=(l&42)!==0?1:Es(l),l=(l&(T.suspendedLanes|a))!==0?0:l,l!==0&&l!==V.retryLane))throw V.retryLane=l,Ma(e,l),Ln(T,e,l),Av;S.data==="$?"||xd(),s=hd(e,s,a)}else S.data==="$?"?(s.flags|=192,s.child=e.child,s=null):(e=V.treeContext,_e=li(S.nextSibling),vn=s,$t=!0,Br=null,Ai=!1,e!==null&&(Yn[Qn++]=es,Yn[Qn++]=ns,Yn[Qn++]=kr,es=e.id,ns=e.overflow,kr=s),s=cd(s,l.children),s.flags|=4096);return s}return f?(Ns(),f=l.fallback,S=s.mode,V=e.child,F=V.sibling,l=ts(V,{mode:"hidden",children:l.children}),l.subtreeFlags=V.subtreeFlags&65011712,F!==null?f=ts(F,f):(f=Lr(f,S,a,null),f.flags|=2),f.return=s,l.return=s,l.sibling=f,s.child=l,l=f,f=s.child,S=e.child.memoizedState,S===null?S=ld(a):(V=S.cachePool,V!==null?(F=je._currentValue,V=V.parent!==F?{parent:F,pool:F}:V):V=yy(),S={baseLanes:S.baseLanes|a,cachePool:V}),f.memoizedState=S,f.childLanes=ud(e,T,a),s.memoizedState=od,l):(Os(s),a=e.child,e=a.sibling,a=ts(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,e!==null&&(T=s.deletions,T===null?(s.deletions=[e],s.flags|=16):T.push(e)),s.child=a,s.memoizedState=null,a)}function cd(e,s){return s=bc({mode:"visible",children:s},e.mode),s.return=e,e.child=s}function bc(e,s){return e=In(22,e,null,s),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function hd(e,s,a){return qa(s,e.child,null,a),e=cd(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function Mv(e,s,a){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s),xf(e.return,s,a)}function fd(e,s,a,l,f){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=f)}function Ov(e,s,a){var l=s.pendingProps,f=l.revealOrder,m=l.tail;if(Je(e,s,l.children,a),l=ze.current,(l&2)!==0)l=l&1|2,s.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mv(e,a,s);else if(e.tag===19)Mv(e,a,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break t;for(;e.sibling===null;){if(e.return===null||e.return===s)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(Y(ze,l),f){case"forwards":for(a=s.child,f=null;a!==null;)e=a.alternate,e!==null&&_c(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),fd(s,!1,f,a,m);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(e=f.alternate,e!==null&&_c(e)===null){s.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}fd(s,!0,a,null,m);break;case"together":fd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function os(e,s,a){if(e!==null&&(s.dependencies=e.dependencies),Bs|=s.lanes,(a&s.childLanes)===0)if(e!==null){if(nl(e,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(e!==null&&s.child!==e.child)throw Error(r(153));if(s.child!==null){for(e=s.child,a=ts(e,e.pendingProps),s.child=a,a.return=s;e.sibling!==null;)e=e.sibling,a=a.sibling=ts(e,e.pendingProps),a.return=s;a.sibling=null}return s.child}function dd(e,s){return(e.lanes&s)!==0?!0:(e=e.dependencies,!!(e!==null&&ic(e)))}function lw(e,s,a){switch(s.tag){case 3:yt(s,s.stateNode.containerInfo),Ds(s,je,e.memoizedState.cache),tl();break;case 27:case 5:Qt(s);break;case 4:yt(s,s.stateNode.containerInfo);break;case 10:Ds(s,s.type,s.memoizedProps.value);break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Os(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Iv(e,s,a):(Os(s),e=os(e,s,a),e!==null?e.sibling:null);Os(s);break;case 19:var f=(e.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(nl(e,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return Ov(e,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Y(ze,ze.current),l)break;return null;case 22:case 23:return s.lanes=0,Rv(e,s,a);case 24:Ds(s,je,e.memoizedState.cache)}return os(e,s,a)}function Nv(e,s,a){if(e!==null)if(e.memoizedProps!==s.pendingProps)Ke=!0;else{if(!dd(e,a)&&(s.flags&128)===0)return Ke=!1,lw(e,s,a);Ke=(e.flags&131072)!==0}else Ke=!1,$t&&(s.flags&1048576)!==0&&cy(s,nc,s.index);switch(s.lanes=0,s.tag){case 16:t:{e=s.pendingProps;var l=s.elementType,f=l._init;if(l=f(l._payload),s.type=l,typeof l=="function")Af(l)?(e=Gr(l,e),s.tag=1,s=xv(null,s,l,e,a)):(s.tag=0,s=ad(null,s,l,e,a));else{if(l!=null){if(f=l.$$typeof,f===ht){s.tag=11,s=bv(null,s,l,e,a);break t}else if(f===N){s.tag=14,s=Sv(null,s,l,e,a);break t}}throw s=Kt(l)||l,Error(r(306,s,""))}}return s;case 0:return ad(e,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=Gr(l,s.pendingProps),xv(e,s,l,f,a);case 3:t:{if(yt(s,s.stateNode.containerInfo),e===null)throw Error(r(387));l=s.pendingProps;var m=s.memoizedState;f=m.element,Lf(e,s),ul(s,l,null,a);var T=s.memoizedState;if(l=T.cache,Ds(s,je,l),l!==m.cache&&Vf(s,[je],a,!0),ll(),l=T.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=Vv(e,s,l,a);break t}else if(l!==f){f=Gn(Error(r(424)),s),el(f),s=Vv(e,s,l,a);break t}else{switch(e=s.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(_e=li(e.firstChild),vn=s,$t=!0,Br=null,Ai=!0,a=fv(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(tl(),l===f){s=os(e,s,a);break t}Je(e,s,l,a)}s=s.child}return s;case 26:return Ac(e,s),e===null?(a=U0(s.type,null,s.pendingProps,null))?s.memoizedState=a:$t||(a=s.type,e=s.pendingProps,l=kc(ut.current).createElement(a),l[ke]=s,l[De]=e,en(l,a,e),Ae(l),s.stateNode=l):s.memoizedState=U0(s.type,e.memoizedProps,s.pendingProps,e.memoizedState),null;case 27:return Qt(s),e===null&&$t&&(l=s.stateNode=P0(s.type,s.pendingProps,ut.current),vn=s,Ai=!0,f=_e,qs(s.type)?(Yd=f,_e=li(l.firstChild)):_e=f),Je(e,s,s.pendingProps.children,a),Ac(e,s),e===null&&(s.flags|=4194304),s.child;case 5:return e===null&&$t&&((f=l=_e)&&(l=Lw(l,s.type,s.pendingProps,Ai),l!==null?(s.stateNode=l,vn=s,_e=li(l.firstChild),Ai=!1,f=!0):f=!1),f||jr(s)),Qt(s),f=s.type,m=s.pendingProps,T=e!==null?e.memoizedProps:null,l=m.children,qd(f,m)?l=null:T!==null&&qd(f,T)&&(s.flags|=32),s.memoizedState!==null&&(f=Ff(e,s,tw,null,null,a),Il._currentValue=f),Ac(e,s),Je(e,s,l,a),s.child;case 6:return e===null&&$t&&((e=a=_e)&&(a=kw(a,s.pendingProps,Ai),a!==null?(s.stateNode=a,vn=s,_e=null,e=!0):e=!1),e||jr(s)),null;case 13:return Iv(e,s,a);case 4:return yt(s,s.stateNode.containerInfo),l=s.pendingProps,e===null?s.child=qa(s,null,l,a):Je(e,s,l,a),s.child;case 11:return bv(e,s,s.type,s.pendingProps,a);case 7:return Je(e,s,s.pendingProps,a),s.child;case 8:return Je(e,s,s.pendingProps.children,a),s.child;case 12:return Je(e,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Ds(s,s.type,l.value),Je(e,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,Fr(s),f=ln(f),l=l(f),s.flags|=1,Je(e,s,l,a),s.child;case 14:return Sv(e,s,s.type,s.pendingProps,a);case 15:return wv(e,s,s.type,s.pendingProps,a);case 19:return Ov(e,s,a);case 31:return l=s.pendingProps,a=s.mode,l={mode:l.mode,children:l.children},e===null?(a=bc(l,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=ts(e.child,l),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return Rv(e,s,a);case 24:return Fr(s),l=ln(je),e===null?(f=Of(),f===null&&(f=oe,m=If(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),s.memoizedState={parent:l,cache:f},Pf(s),Ds(s,je,f)):((e.lanes&a)!==0&&(Lf(e,s),ul(s,null,null,a),ll()),f=e.memoizedState,m=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Ds(s,je,l)):(l=m.cache,Ds(s,je,l),l!==f.cache&&Vf(s,[je],a,!0))),Je(e,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ls(e){e.flags|=4}function Pv(e,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!q0(s)){if(s=Xn.current,s!==null&&((qt&4194048)===qt?bi!==null:(qt&62914560)!==qt&&(qt&536870912)===0||s!==bi))throw al=Nf,vy;e.flags|=8192}}function Sc(e,s){s!==null&&(e.flags|=4),e.flags&16384&&(s=e.tag!==22?Oo():536870912,e.lanes|=s,Ya|=s)}function gl(e,s){if(!$t)switch(e.tailMode){case"hidden":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ge(e){var s=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(s)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=a,s}function uw(e,s,a){var l=s.pendingProps;switch(Rf(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(s),null;case 1:return ge(s),null;case 3:return a=s.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ss(je),Pt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Jo(s)?ls(s):e===null||e.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,dy())),ge(s),null;case 26:return a=s.memoizedState,e===null?(ls(s),a!==null?(ge(s),Pv(s,a)):(ge(s),s.flags&=-16777217)):a?a!==e.memoizedState?(ls(s),ge(s),Pv(s,a)):(ge(s),s.flags&=-16777217):(e.memoizedProps!==l&&ls(s),ge(s),s.flags&=-16777217),null;case 27:jt(s),a=ut.current;var f=s.type;if(e!==null&&s.stateNode!=null)e.memoizedProps!==l&&ls(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return ge(s),null}e=ot.current,Jo(s)?hy(s):(e=P0(f,l,a),s.stateNode=e,ls(s))}return ge(s),null;case 5:if(jt(s),a=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==l&&ls(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return ge(s),null}if(e=ot.current,Jo(s))hy(s);else{switch(f=kc(ut.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}e[ke]=s,e[De]=l;t:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break t;for(;f.sibling===null;){if(f.return===null||f.return===s)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=e;t:switch(en(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&ls(s)}}return ge(s),s.flags&=-16777217,null;case 6:if(e&&s.stateNode!=null)e.memoizedProps!==l&&ls(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(e=ut.current,Jo(s)){if(e=s.stateNode,a=s.memoizedProps,l=null,f=vn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[ke]=s,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||D0(e.nodeValue,a)),e||jr(s)}else e=kc(e).createTextNode(l),e[ke]=s,s.stateNode=e}return ge(s),null;case 13:if(l=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Jo(s),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[ke]=s}else tl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ge(s),f=!1}else f=dy(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(as(s),s):(as(s),null)}if(as(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)}return a!==e&&a&&(s.child.flags|=8192),Sc(s,s.updateQueue),ge(s),null;case 4:return Pt(),e===null&&Ud(s.stateNode.containerInfo),ge(s),null;case 10:return ss(s.type),ge(s),null;case 19:if(X(ze),f=s.memoizedState,f===null)return ge(s),null;if(l=(s.flags&128)!==0,m=f.rendering,m===null)if(l)gl(f,!1);else{if(Te!==0||e!==null&&(e.flags&128)!==0)for(e=s.child;e!==null;){if(m=_c(e),m!==null){for(s.flags|=128,gl(f,!1),e=m.updateQueue,s.updateQueue=e,Sc(s,e),s.subtreeFlags=0,e=a,a=s.child;a!==null;)uy(a,e),a=a.sibling;return Y(ze,ze.current&1|2),s.child}e=e.sibling}f.tail!==null&&fe()>Cc&&(s.flags|=128,l=!0,gl(f,!1),s.lanes=4194304)}else{if(!l)if(e=_c(m),e!==null){if(s.flags|=128,l=!0,e=e.updateQueue,s.updateQueue=e,Sc(s,e),gl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!$t)return ge(s),null}else 2*fe()-f.renderingStartTime>Cc&&a!==536870912&&(s.flags|=128,l=!0,gl(f,!1),s.lanes=4194304);f.isBackwards?(m.sibling=s.child,s.child=m):(e=f.last,e!==null?e.sibling=m:s.child=m,f.last=m)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=fe(),s.sibling=null,e=ze.current,Y(ze,l?e&1|2:e&1),s):(ge(s),null);case 22:case 23:return as(s),jf(),l=s.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(ge(s),s.subtreeFlags&6&&(s.flags|=8192)):ge(s),a=s.updateQueue,a!==null&&Sc(s,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),e!==null&&X(qr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),ss(je),ge(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function cw(e,s){switch(Rf(s),s.tag){case 1:return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return ss(je),Pt(),e=s.flags,(e&65536)!==0&&(e&128)===0?(s.flags=e&-65537|128,s):null;case 26:case 27:case 5:return jt(s),null;case 13:if(as(s),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(r(340));tl()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return X(ze),null;case 4:return Pt(),null;case 10:return ss(s.type),null;case 22:case 23:return as(s),jf(),e!==null&&X(qr),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 24:return ss(je),null;case 25:return null;default:return null}}function Lv(e,s){switch(Rf(s),s.tag){case 3:ss(je),Pt();break;case 26:case 27:case 5:jt(s);break;case 4:Pt();break;case 13:as(s);break;case 19:X(ze);break;case 10:ss(s.type);break;case 22:case 23:as(s),jf(),e!==null&&X(qr);break;case 24:ss(je)}}function yl(e,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&e)===e){l=void 0;var m=a.create,T=a.inst;l=m(),T.destroy=l}a=a.next}while(a!==f)}}catch(S){ae(s,s.return,S)}}function Ps(e,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&e)===e){var T=l.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,f=s;var V=a,F=S;try{F()}catch($){ae(f,V,$)}}}l=l.next}while(l!==m)}}catch($){ae(s,s.return,$)}}function kv(e){var s=e.updateQueue;if(s!==null){var a=e.stateNode;try{Sy(s,a)}catch(l){ae(e,e.return,l)}}}function Uv(e,s,a){a.props=Gr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){ae(e,s,l)}}function vl(e,s){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(f){ae(e,s,f)}}function Si(e,s){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){ae(e,s,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){ae(e,s,f)}else a.current=null}function Bv(e){var s=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){ae(e,e.return,f)}}function md(e,s,a){try{var l=e.stateNode;Iw(l,e.type,a,s),l[De]=s}catch(f){ae(e,e.return,f)}}function jv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&qs(e.type)||e.tag===4}function pd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||jv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&qs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gd(e,s,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(e),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Lc));else if(l!==4&&(l===27&&qs(e.type)&&(a=e.stateNode,s=null),e=e.child,e!==null))for(gd(e,s,a),e=e.sibling;e!==null;)gd(e,s,a),e=e.sibling}function wc(e,s,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,s?a.insertBefore(e,s):a.appendChild(e);else if(l!==4&&(l===27&&qs(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(wc(e,s,a),e=e.sibling;e!==null;)wc(e,s,a),e=e.sibling}function zv(e){var s=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);en(s,l,a),s[ke]=e,s[De]=a}catch(m){ae(e,e.return,m)}}var us=!1,Se=!1,yd=!1,Fv=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function hw(e,s){if(e=e.containerInfo,zd=qc,e=Jg(e),pf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break t}var T=0,S=-1,V=-1,F=0,$=0,tt=e,H=null;e:for(;;){for(var G;tt!==a||f!==0&&tt.nodeType!==3||(S=T+f),tt!==m||l!==0&&tt.nodeType!==3||(V=T+l),tt.nodeType===3&&(T+=tt.nodeValue.length),(G=tt.firstChild)!==null;)H=tt,tt=G;for(;;){if(tt===e)break e;if(H===a&&++F===f&&(S=T),H===m&&++$===l&&(V=T),(G=tt.nextSibling)!==null)break;tt=H,H=tt.parentNode}tt=G}a=S===-1||V===-1?null:{start:S,end:V}}else a=null}a=a||{start:0,end:0}}else a=null;for(Fd={focusedElem:e,selectionRange:a},qc=!1,Ye=s;Ye!==null;)if(s=Ye,e=s.child,(s.subtreeFlags&1024)!==0&&e!==null)e.return=s,Ye=e;else for(;Ye!==null;){switch(s=Ye,m=s.alternate,e=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,a=s,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var wt=Gr(a.type,f,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(wt,m),l.__reactInternalSnapshotBeforeUpdate=e}catch(At){ae(a,a.return,At)}}break;case 3:if((e&1024)!==0){if(e=s.stateNode.containerInfo,a=e.nodeType,a===9)Gd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Gd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=s.sibling,e!==null){e.return=s.return,Ye=e;break}Ye=s.return}}function qv(e,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ls(e,a),l&4&&yl(5,a);break;case 1:if(Ls(e,a),l&4)if(e=a.stateNode,s===null)try{e.componentDidMount()}catch(T){ae(a,a.return,T)}else{var f=Gr(a.type,s.memoizedProps);s=s.memoizedState;try{e.componentDidUpdate(f,s,e.__reactInternalSnapshotBeforeUpdate)}catch(T){ae(a,a.return,T)}}l&64&&kv(a),l&512&&vl(a,a.return);break;case 3:if(Ls(e,a),l&64&&(e=a.updateQueue,e!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Sy(e,s)}catch(T){ae(a,a.return,T)}}break;case 27:s===null&&l&4&&zv(a);case 26:case 5:Ls(e,a),s===null&&l&4&&Bv(a),l&512&&vl(a,a.return);break;case 12:Ls(e,a);break;case 13:Ls(e,a),l&4&&Kv(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Tw.bind(null,a),Uw(e,a))));break;case 22:if(l=a.memoizedState!==null||us,!l){s=s!==null&&s.memoizedState!==null||Se,f=us;var m=Se;us=l,(Se=s)&&!m?ks(e,a,(a.subtreeFlags&8772)!==0):Ls(e,a),us=f,Se=m}break;case 30:break;default:Ls(e,a)}}function Hv(e){var s=e.alternate;s!==null&&(e.alternate=null,Hv(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&Ss(s)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var me=null,En=!1;function cs(e,s,a){for(a=a.child;a!==null;)Gv(e,s,a),a=a.sibling}function Gv(e,s,a){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(ue,a)}catch{}switch(a.tag){case 26:Se||Si(a,s),cs(e,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Se||Si(a,s);var l=me,f=En;qs(a.type)&&(me=a.stateNode,En=!1),cs(e,s,a),Cl(a.stateNode),me=l,En=f;break;case 5:Se||Si(a,s);case 6:if(l=me,f=En,me=null,cs(e,s,a),me=l,En=f,me!==null)if(En)try{(me.nodeType===9?me.body:me.nodeName==="HTML"?me.ownerDocument.body:me).removeChild(a.stateNode)}catch(m){ae(a,s,m)}else try{me.removeChild(a.stateNode)}catch(m){ae(a,s,m)}break;case 18:me!==null&&(En?(e=me,O0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Pl(e)):O0(me,a.stateNode));break;case 4:l=me,f=En,me=a.stateNode.containerInfo,En=!0,cs(e,s,a),me=l,En=f;break;case 0:case 11:case 14:case 15:Se||Ps(2,a,s),Se||Ps(4,a,s),cs(e,s,a);break;case 1:Se||(Si(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Uv(a,s,l)),cs(e,s,a);break;case 21:cs(e,s,a);break;case 22:Se=(l=Se)||a.memoizedState!==null,cs(e,s,a),Se=l;break;default:cs(e,s,a)}}function Kv(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Pl(e)}catch(a){ae(s,s.return,a)}}function fw(e){switch(e.tag){case 13:case 19:var s=e.stateNode;return s===null&&(s=e.stateNode=new Fv),s;case 22:return e=e.stateNode,s=e._retryCache,s===null&&(s=e._retryCache=new Fv),s;default:throw Error(r(435,e.tag))}}function vd(e,s){var a=fw(e);s.forEach(function(l){var f=Ew.bind(null,e,l);a.has(l)||(a.add(l),l.then(f,f))})}function Mn(e,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=e,T=s,S=T;t:for(;S!==null;){switch(S.tag){case 27:if(qs(S.type)){me=S.stateNode,En=!1;break t}break;case 5:me=S.stateNode,En=!1;break t;case 3:case 4:me=S.stateNode.containerInfo,En=!0;break t}S=S.return}if(me===null)throw Error(r(160));Gv(m,T,f),me=null,En=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Yv(s,e),s=s.sibling}var oi=null;function Yv(e,s){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Mn(s,e),On(e),l&4&&(Ps(3,e,e.return),yl(3,e),Ps(5,e,e.return));break;case 1:Mn(s,e),On(e),l&512&&(Se||a===null||Si(a,a.return)),l&64&&us&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=oi;if(Mn(s,e),On(e),l&512&&(Se||a===null||Si(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Tr]||m[ke]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),en(m,l,a),m[ke]=e,Ae(m),l=m;break t;case"link":var T=z0("link","href",f).get(l+(a.href||""));if(T){for(var S=0;S<T.length;S++)if(m=T[S],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(S,1);break e}}m=f.createElement(l),en(m,l,a),f.head.appendChild(m);break;case"meta":if(T=z0("meta","content",f).get(l+(a.content||""))){for(S=0;S<T.length;S++)if(m=T[S],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(S,1);break e}}m=f.createElement(l),en(m,l,a),f.head.appendChild(m);break;default:throw Error(r(468,l))}m[ke]=e,Ae(m),l=m}e.stateNode=l}else F0(f,e.type,e.stateNode);else e.stateNode=j0(f,l,e.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?F0(f,e.type,e.stateNode):j0(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&md(e,e.memoizedProps,a.memoizedProps)}break;case 27:Mn(s,e),On(e),l&512&&(Se||a===null||Si(a,a.return)),a!==null&&l&4&&md(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Mn(s,e),On(e),l&512&&(Se||a===null||Si(a,a.return)),e.flags&32){f=e.stateNode;try{zn(f,"")}catch(G){ae(e,e.return,G)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,md(e,f,a!==null?a.memoizedProps:f)),l&1024&&(yd=!0);break;case 6:if(Mn(s,e),On(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(G){ae(e,e.return,G)}}break;case 3:if(jc=null,f=oi,oi=Uc(s.containerInfo),Mn(s,e),oi=f,On(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Pl(s.containerInfo)}catch(G){ae(e,e.return,G)}yd&&(yd=!1,Qv(e));break;case 4:l=oi,oi=Uc(e.stateNode.containerInfo),Mn(s,e),On(e),oi=l;break;case 12:Mn(s,e),On(e);break;case 13:Mn(s,e),On(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Sd=fe()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,vd(e,l)));break;case 22:f=e.memoizedState!==null;var V=a!==null&&a.memoizedState!==null,F=us,$=Se;if(us=F||f,Se=$||V,Mn(s,e),Se=$,us=F,On(e),l&8192)t:for(s=e.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||V||us||Se||Kr(e)),a=null,s=e;;){if(s.tag===5||s.tag===26){if(a===null){V=a=s;try{if(m=V.stateNode,f)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=V.stateNode;var tt=V.memoizedProps.style,H=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;S.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(G){ae(V,V.return,G)}}}else if(s.tag===6){if(a===null){V=s;try{V.stateNode.nodeValue=f?"":V.memoizedProps}catch(G){ae(V,V.return,G)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===e)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break t;for(;s.sibling===null;){if(s.return===null||s.return===e)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,vd(e,a))));break;case 19:Mn(s,e),On(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,vd(e,l)));break;case 30:break;case 21:break;default:Mn(s,e),On(e)}}function On(e){var s=e.flags;if(s&2){try{for(var a,l=e.return;l!==null;){if(jv(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,m=pd(e);wc(e,m,f);break;case 5:var T=a.stateNode;a.flags&32&&(zn(T,""),a.flags&=-33);var S=pd(e);wc(e,S,T);break;case 3:case 4:var V=a.stateNode.containerInfo,F=pd(e);gd(e,F,V);break;default:throw Error(r(161))}}catch($){ae(e,e.return,$)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function Qv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var s=e;Qv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),e=e.sibling}}function Ls(e,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)qv(e,s.alternate,s),s=s.sibling}function Kr(e){for(e=e.child;e!==null;){var s=e;switch(s.tag){case 0:case 11:case 14:case 15:Ps(4,s,s.return),Kr(s);break;case 1:Si(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Uv(s,s.return,a),Kr(s);break;case 27:Cl(s.stateNode);case 26:case 5:Si(s,s.return),Kr(s);break;case 22:s.memoizedState===null&&Kr(s);break;case 30:Kr(s);break;default:Kr(s)}e=e.sibling}}function ks(e,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=e,m=s,T=m.flags;switch(m.tag){case 0:case 11:case 15:ks(f,m,a),yl(4,m);break;case 1:if(ks(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){ae(l,l.return,F)}if(l=m,f=l.updateQueue,f!==null){var S=l.stateNode;try{var V=f.shared.hiddenCallbacks;if(V!==null)for(f.shared.hiddenCallbacks=null,f=0;f<V.length;f++)by(V[f],S)}catch(F){ae(l,l.return,F)}}a&&T&64&&kv(m),vl(m,m.return);break;case 27:zv(m);case 26:case 5:ks(f,m,a),a&&l===null&&T&4&&Bv(m),vl(m,m.return);break;case 12:ks(f,m,a);break;case 13:ks(f,m,a),a&&T&4&&Kv(f,m);break;case 22:m.memoizedState===null&&ks(f,m,a),vl(m,m.return);break;case 30:break;default:ks(f,m,a)}s=s.sibling}}function _d(e,s){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(e=s.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&il(a))}function Td(e,s){e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&il(e))}function wi(e,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Xv(e,s,a,l),s=s.sibling}function Xv(e,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:wi(e,s,a,l),f&2048&&yl(9,s);break;case 1:wi(e,s,a,l);break;case 3:wi(e,s,a,l),f&2048&&(e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&il(e)));break;case 12:if(f&2048){wi(e,s,a,l),e=s.stateNode;try{var m=s.memoizedProps,T=m.id,S=m.onPostCommit;typeof S=="function"&&S(T,s.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(V){ae(s,s.return,V)}}else wi(e,s,a,l);break;case 13:wi(e,s,a,l);break;case 23:break;case 22:m=s.stateNode,T=s.alternate,s.memoizedState!==null?m._visibility&2?wi(e,s,a,l):_l(e,s):m._visibility&2?wi(e,s,a,l):(m._visibility|=2,Ha(e,s,a,l,(s.subtreeFlags&10256)!==0)),f&2048&&_d(T,s);break;case 24:wi(e,s,a,l),f&2048&&Td(s.alternate,s);break;default:wi(e,s,a,l)}}function Ha(e,s,a,l,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var m=e,T=s,S=a,V=l,F=T.flags;switch(T.tag){case 0:case 11:case 15:Ha(m,T,S,V,f),yl(8,T);break;case 23:break;case 22:var $=T.stateNode;T.memoizedState!==null?$._visibility&2?Ha(m,T,S,V,f):_l(m,T):($._visibility|=2,Ha(m,T,S,V,f)),f&&F&2048&&_d(T.alternate,T);break;case 24:Ha(m,T,S,V,f),f&&F&2048&&Td(T.alternate,T);break;default:Ha(m,T,S,V,f)}s=s.sibling}}function _l(e,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=e,l=s,f=l.flags;switch(l.tag){case 22:_l(a,l),f&2048&&_d(l.alternate,l);break;case 24:_l(a,l),f&2048&&Td(l.alternate,l);break;default:_l(a,l)}s=s.sibling}}var Tl=8192;function Ga(e){if(e.subtreeFlags&Tl)for(e=e.child;e!==null;)$v(e),e=e.sibling}function $v(e){switch(e.tag){case 26:Ga(e),e.flags&Tl&&e.memoizedState!==null&&Zw(oi,e.memoizedState,e.memoizedProps);break;case 5:Ga(e);break;case 3:case 4:var s=oi;oi=Uc(e.stateNode.containerInfo),Ga(e),oi=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Tl,Tl=16777216,Ga(e),Tl=s):Ga(e));break;default:Ga(e)}}function Zv(e){var s=e.alternate;if(s!==null&&(e=s.child,e!==null)){s.child=null;do s=e.sibling,e.sibling=null,e=s;while(e!==null)}}function El(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Ye=l,Jv(l,e)}Zv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Wv(e),e=e.sibling}function Wv(e){switch(e.tag){case 0:case 11:case 15:El(e),e.flags&2048&&Ps(9,e,e.return);break;case 3:El(e);break;case 12:El(e);break;case 22:var s=e.stateNode;e.memoizedState!==null&&s._visibility&2&&(e.return===null||e.return.tag!==13)?(s._visibility&=-3,Rc(e)):El(e);break;default:El(e)}}function Rc(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Ye=l,Jv(l,e)}Zv(e)}for(e=e.child;e!==null;){switch(s=e,s.tag){case 0:case 11:case 15:Ps(8,s,s.return),Rc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Rc(s));break;default:Rc(s)}e=e.sibling}}function Jv(e,s){for(;Ye!==null;){var a=Ye;switch(a.tag){case 0:case 11:case 15:Ps(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:il(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ye=l;else t:for(a=e;Ye!==null;){l=Ye;var f=l.sibling,m=l.return;if(Hv(l),l===a){Ye=null;break t}if(f!==null){f.return=m,Ye=f;break t}Ye=m}}}var dw={getCacheForType:function(e){var s=ln(je),a=s.data.get(e);return a===void 0&&(a=e(),s.data.set(e,a)),a}},mw=typeof WeakMap=="function"?WeakMap:Map,te=0,oe=null,Lt=null,qt=0,ee=0,Nn=null,Us=!1,Ka=!1,Ed=!1,hs=0,Te=0,Bs=0,Yr=0,Ad=0,$n=0,Ya=0,Al=null,An=null,bd=!1,Sd=0,Cc=1/0,Dc=null,js=null,tn=0,zs=null,Qa=null,Xa=0,wd=0,Rd=null,t0=null,bl=0,Cd=null;function Pn(){if((te&2)!==0&&qt!==0)return qt&-qt;if(Q.T!==null){var e=La;return e!==0?e:Nd()}return As()}function e0(){$n===0&&($n=(qt&536870912)===0||$t?Mo():536870912);var e=Xn.current;return e!==null&&(e.flags|=32),$n}function Ln(e,s,a){(e===oe&&(ee===2||ee===9)||e.cancelPendingCommit!==null)&&($a(e,0),Fs(e,qt,$n,!1)),qi(e,a),((te&2)===0||e!==oe)&&(e===oe&&((te&2)===0&&(Yr|=a),Te===4&&Fs(e,qt,$n,!1)),Ri(e))}function n0(e,s,a){if((te&6)!==0)throw Error(r(327));var l=!a&&(s&124)===0&&(s&e.expiredLanes)===0||_r(e,s),f=l?yw(e,s):Vd(e,s,!0),m=l;do{if(f===0){Ka&&!l&&Fs(e,s,0,!1);break}else{if(a=e.current.alternate,m&&!pw(a)){f=Vd(e,s,!1),m=!1;continue}if(f===2){if(m=s,e.errorRecoveryDisabledLanes&m)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;t:{var S=e;f=Al;var V=S.current.memoizedState.isDehydrated;if(V&&($a(S,T).flags|=256),T=Vd(S,T,!1),T!==2){if(Ed&&!V){S.errorRecoveryDisabledLanes|=m,Yr|=m,f=4;break t}m=An,An=f,m!==null&&(An===null?An=m:An.push.apply(An,m))}f=T}if(m=!1,f!==2)continue}}if(f===1){$a(e,0),Fs(e,s,0,!0);break}t:{switch(l=e,m=f,m){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Fs(l,s,$n,!Us);break t;case 2:An=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=Sd+300-fe(),10<f)){if(Fs(l,s,$n,!Us),da(l,0,!0)!==0)break t;l.timeoutHandle=I0(i0.bind(null,l,a,An,Dc,bd,s,$n,Yr,Ya,Us,m,2,-0,0),f);break t}i0(l,a,An,Dc,bd,s,$n,Yr,Ya,Us,m,0,-0,0)}}break}while(!0);Ri(e)}function i0(e,s,a,l,f,m,T,S,V,F,$,tt,H,G){if(e.timeoutHandle=-1,tt=s.subtreeFlags,(tt&8192||(tt&16785408)===16785408)&&(Vl={stylesheets:null,count:0,unsuspend:$w},$v(s),tt=Ww(),tt!==null)){e.cancelPendingCommit=tt(c0.bind(null,e,s,m,a,l,f,T,S,V,$,1,H,G)),Fs(e,m,T,!F);return}c0(e,s,m,a,l,f,T,S,V)}function pw(e){for(var s=e;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!Vn(m(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Fs(e,s,a,l){s&=~Ad,s&=~Yr,e.suspendedLanes|=s,e.pingedLanes&=~s,l&&(e.warmLanes|=s),l=e.expirationTimes;for(var f=s;0<f;){var m=31-Le(f),T=1<<m;l[m]=-1,f&=~T}a!==0&&hi(e,a,s)}function xc(){return(te&6)===0?(Sl(0),!1):!0}function Dd(){if(Lt!==null){if(ee===0)var e=Lt.return;else e=Lt,is=zr=null,Gf(e),Fa=null,ml=0,e=Lt;for(;e!==null;)Lv(e.alternate,e),e=e.return;Lt=null}}function $a(e,s){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Ow(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Dd(),oe=e,Lt=a=ts(e.current,null),qt=s,ee=0,Nn=null,Us=!1,Ka=_r(e,s),Ed=!1,Ya=$n=Ad=Yr=Bs=Te=0,An=Al=null,bd=!1,(s&8)!==0&&(s|=s&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=s;0<l;){var f=31-Le(l),m=1<<f;s|=e[f],l&=~m}return hs=s,Zu(),a}function s0(e,s){Mt=null,Q.H=gc,s===rl||s===ac?(s=Ey(),ee=3):s===vy?(s=Ey(),ee=4):ee=s===Av?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Nn=s,Lt===null&&(Te=1,Ec(e,Gn(s,e.current)))}function r0(){var e=Q.H;return Q.H=gc,e===null?gc:e}function a0(){var e=Q.A;return Q.A=dw,e}function xd(){Te=4,Us||(qt&4194048)!==qt&&Xn.current!==null||(Ka=!0),(Bs&134217727)===0&&(Yr&134217727)===0||oe===null||Fs(oe,qt,$n,!1)}function Vd(e,s,a){var l=te;te|=2;var f=r0(),m=a0();(oe!==e||qt!==s)&&(Dc=null,$a(e,s)),s=!1;var T=Te;t:do try{if(ee!==0&&Lt!==null){var S=Lt,V=Nn;switch(ee){case 8:Dd(),T=6;break t;case 3:case 2:case 9:case 6:Xn.current===null&&(s=!0);var F=ee;if(ee=0,Nn=null,Za(e,S,V,F),a&&Ka){T=0;break t}break;default:F=ee,ee=0,Nn=null,Za(e,S,V,F)}}gw(),T=Te;break}catch($){s0(e,$)}while(!0);return s&&e.shellSuspendCounter++,is=zr=null,te=l,Q.H=f,Q.A=m,Lt===null&&(oe=null,qt=0,Zu()),T}function gw(){for(;Lt!==null;)o0(Lt)}function yw(e,s){var a=te;te|=2;var l=r0(),f=a0();oe!==e||qt!==s?(Dc=null,Cc=fe()+500,$a(e,s)):Ka=_r(e,s);t:do try{if(ee!==0&&Lt!==null){s=Lt;var m=Nn;e:switch(ee){case 1:ee=0,Nn=null,Za(e,s,m,1);break;case 2:case 9:if(_y(m)){ee=0,Nn=null,l0(s);break}s=function(){ee!==2&&ee!==9||oe!==e||(ee=7),Ri(e)},m.then(s,s);break t;case 3:ee=7;break t;case 4:ee=5;break t;case 7:_y(m)?(ee=0,Nn=null,l0(s)):(ee=0,Nn=null,Za(e,s,m,7));break;case 5:var T=null;switch(Lt.tag){case 26:T=Lt.memoizedState;case 5:case 27:var S=Lt;if(!T||q0(T)){ee=0,Nn=null;var V=S.sibling;if(V!==null)Lt=V;else{var F=S.return;F!==null?(Lt=F,Vc(F)):Lt=null}break e}}ee=0,Nn=null,Za(e,s,m,5);break;case 6:ee=0,Nn=null,Za(e,s,m,6);break;case 8:Dd(),Te=6;break t;default:throw Error(r(462))}}vw();break}catch($){s0(e,$)}while(!0);return is=zr=null,Q.H=l,Q.A=f,te=a,Lt!==null?0:(oe=null,qt=0,Zu(),Te)}function vw(){for(;Lt!==null&&!Ce();)o0(Lt)}function o0(e){var s=Nv(e.alternate,e,hs);e.memoizedProps=e.pendingProps,s===null?Vc(e):Lt=s}function l0(e){var s=e,a=s.alternate;switch(s.tag){case 15:case 0:s=Dv(a,s,s.pendingProps,s.type,void 0,qt);break;case 11:s=Dv(a,s,s.pendingProps,s.type.render,s.ref,qt);break;case 5:Gf(s);default:Lv(a,s),s=Lt=uy(s,hs),s=Nv(a,s,hs)}e.memoizedProps=e.pendingProps,s===null?Vc(e):Lt=s}function Za(e,s,a,l){is=zr=null,Gf(s),Fa=null,ml=0;var f=s.return;try{if(ow(e,f,s,a,qt)){Te=1,Ec(e,Gn(a,e.current)),Lt=null;return}}catch(m){if(f!==null)throw Lt=f,m;Te=1,Ec(e,Gn(a,e.current)),Lt=null;return}s.flags&32768?($t||l===1?e=!0:Ka||(qt&536870912)!==0?e=!1:(Us=e=!0,(l===2||l===9||l===3||l===6)&&(l=Xn.current,l!==null&&l.tag===13&&(l.flags|=16384))),u0(s,e)):Vc(s)}function Vc(e){var s=e;do{if((s.flags&32768)!==0){u0(s,Us);return}e=s.return;var a=uw(s.alternate,s,hs);if(a!==null){Lt=a;return}if(s=s.sibling,s!==null){Lt=s;return}Lt=s=e}while(s!==null);Te===0&&(Te=5)}function u0(e,s){do{var a=cw(e.alternate,e);if(a!==null){a.flags&=32767,Lt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(e=e.sibling,e!==null)){Lt=e;return}Lt=e=a}while(e!==null);Te=6,Lt=null}function c0(e,s,a,l,f,m,T,S,V){e.cancelPendingCommit=null;do Ic();while(tn!==0);if((te&6)!==0)throw Error(r(327));if(s!==null){if(s===e.current)throw Error(r(177));if(m=s.lanes|s.childLanes,m|=Tf,No(e,a,m,T,S,V),e===oe&&(Lt=oe=null,qt=0),Qa=s,zs=e,Xa=a,wd=m,Rd=f,t0=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Aw(Bi,function(){return p0(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,f=nt.p,nt.p=2,T=te,te|=4;try{hw(e,s,a)}finally{te=T,nt.p=f,Q.T=l}}tn=1,h0(),f0(),d0()}}function h0(){if(tn===1){tn=0;var e=zs,s=Qa,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=nt.p;nt.p=2;var f=te;te|=4;try{Yv(s,e);var m=Fd,T=Jg(e.containerInfo),S=m.focusedElem,V=m.selectionRange;if(T!==S&&S&&S.ownerDocument&&Wg(S.ownerDocument.documentElement,S)){if(V!==null&&pf(S)){var F=V.start,$=V.end;if($===void 0&&($=F),"selectionStart"in S)S.selectionStart=F,S.selectionEnd=Math.min($,S.value.length);else{var tt=S.ownerDocument||document,H=tt&&tt.defaultView||window;if(H.getSelection){var G=H.getSelection(),wt=S.textContent.length,At=Math.min(V.start,wt),re=V.end===void 0?At:Math.min(V.end,wt);!G.extend&&At>re&&(T=re,re=At,At=T);var B=Zg(S,At),P=Zg(S,re);if(B&&P&&(G.rangeCount!==1||G.anchorNode!==B.node||G.anchorOffset!==B.offset||G.focusNode!==P.node||G.focusOffset!==P.offset)){var z=tt.createRange();z.setStart(B.node,B.offset),G.removeAllRanges(),At>re?(G.addRange(z),G.extend(P.node,P.offset)):(z.setEnd(P.node,P.offset),G.addRange(z))}}}}for(tt=[],G=S;G=G.parentNode;)G.nodeType===1&&tt.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<tt.length;S++){var J=tt[S];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}qc=!!zd,Fd=zd=null}finally{te=f,nt.p=l,Q.T=a}}e.current=s,tn=2}}function f0(){if(tn===2){tn=0;var e=zs,s=Qa,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=nt.p;nt.p=2;var f=te;te|=4;try{qv(e,s.alternate,s)}finally{te=f,nt.p=l,Q.T=a}}tn=3}}function d0(){if(tn===4||tn===3){tn=0,on();var e=zs,s=Qa,a=Xa,l=t0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?tn=5:(tn=0,Qa=zs=null,m0(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(js=null),ma(a),s=s.stateNode,Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(ue,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=Q.T,f=nt.p,nt.p=2,Q.T=null;try{for(var m=e.onRecoverableError,T=0;T<l.length;T++){var S=l[T];m(S.value,{componentStack:S.stack})}}finally{Q.T=s,nt.p=f}}(Xa&3)!==0&&Ic(),Ri(e),f=e.pendingLanes,(a&4194090)!==0&&(f&42)!==0?e===Cd?bl++:(bl=0,Cd=e):bl=0,Sl(0)}}function m0(e,s){(e.pooledCacheLanes&=s)===0&&(s=e.pooledCache,s!=null&&(e.pooledCache=null,il(s)))}function Ic(e){return h0(),f0(),d0(),p0()}function p0(){if(tn!==5)return!1;var e=zs,s=wd;wd=0;var a=ma(Xa),l=Q.T,f=nt.p;try{nt.p=32>a?32:a,Q.T=null,a=Rd,Rd=null;var m=zs,T=Xa;if(tn=0,Qa=zs=null,Xa=0,(te&6)!==0)throw Error(r(331));var S=te;if(te|=4,Wv(m.current),Xv(m,m.current,T,a),te=S,Sl(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(ue,m)}catch{}return!0}finally{nt.p=f,Q.T=l,m0(e,s)}}function g0(e,s,a){s=Gn(a,s),s=rd(e.stateNode,s,2),e=Is(e,s,2),e!==null&&(qi(e,2),Ri(e))}function ae(e,s,a){if(e.tag===3)g0(e,e,a);else for(;s!==null;){if(s.tag===3){g0(s,e,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(js===null||!js.has(l))){e=Gn(a,e),a=Tv(2),l=Is(s,a,2),l!==null&&(Ev(a,l,s,e),qi(l,2),Ri(l));break}}s=s.return}}function Id(e,s,a){var l=e.pingCache;if(l===null){l=e.pingCache=new mw;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(Ed=!0,f.add(a),e=_w.bind(null,e,s,a),s.then(e,e))}function _w(e,s,a){var l=e.pingCache;l!==null&&l.delete(s),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,oe===e&&(qt&a)===a&&(Te===4||Te===3&&(qt&62914560)===qt&&300>fe()-Sd?(te&2)===0&&$a(e,0):Ad|=a,Ya===qt&&(Ya=0)),Ri(e)}function y0(e,s){s===0&&(s=Oo()),e=Ma(e,s),e!==null&&(qi(e,s),Ri(e))}function Tw(e){var s=e.memoizedState,a=0;s!==null&&(a=s.retryLane),y0(e,a)}function Ew(e,s){var a=0;switch(e.tag){case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),y0(e,a)}function Aw(e,s){return le(e,s)}var Mc=null,Wa=null,Md=!1,Oc=!1,Od=!1,Qr=0;function Ri(e){e!==Wa&&e.next===null&&(Wa===null?Mc=Wa=e:Wa=Wa.next=e),Oc=!0,Md||(Md=!0,Sw())}function Sl(e,s){if(!Od&&Oc){Od=!0;do for(var a=!1,l=Mc;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var T=l.suspendedLanes,S=l.pingedLanes;m=(1<<31-Le(42|e)+1)-1,m&=f&~(T&~S),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,E0(l,m))}else m=qt,m=da(l,l===oe?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||_r(l,m)||(a=!0,E0(l,m));l=l.next}while(a);Od=!1}}function bw(){v0()}function v0(){Oc=Md=!1;var e=0;Qr!==0&&(Mw()&&(e=Qr),Qr=0);for(var s=fe(),a=null,l=Mc;l!==null;){var f=l.next,m=_0(l,s);m===0?(l.next=null,a===null?Mc=f:a.next=f,f===null&&(Wa=a)):(a=l,(e!==0||(m&3)!==0)&&(Oc=!0)),l=f}Sl(e)}function _0(e,s){for(var a=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var T=31-Le(m),S=1<<T,V=f[T];V===-1?((S&a)===0||(S&l)!==0)&&(f[T]=Io(S,s)):V<=s&&(e.expiredLanes|=S),m&=~S}if(s=oe,a=qt,a=da(e,e===s?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===s&&(ee===2||ee===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Vt(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||_r(e,a)){if(s=a&-a,s===e.callbackPriority)return s;switch(l!==null&&Vt(l),ma(a)){case 2:case 8:a=$e;break;case 32:a=Bi;break;case 268435456:a=_s;break;default:a=Bi}return l=T0.bind(null,e),a=le(a,l),e.callbackPriority=s,e.callbackNode=a,s}return l!==null&&l!==null&&Vt(l),e.callbackPriority=2,e.callbackNode=null,2}function T0(e,s){if(tn!==0&&tn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ic()&&e.callbackNode!==a)return null;var l=qt;return l=da(e,e===oe?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(n0(e,l,s),_0(e,fe()),e.callbackNode!=null&&e.callbackNode===a?T0.bind(null,e):null)}function E0(e,s){if(Ic())return null;n0(e,s,!0)}function Sw(){Nw(function(){(te&6)!==0?le(Dn,bw):v0()})}function Nd(){return Qr===0&&(Qr=Mo()),Qr}function A0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ta(""+e)}function b0(e,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,e.id&&a.setAttribute("form",e.id),s.parentNode.insertBefore(a,s),e=new FormData(e),a.parentNode.removeChild(a),e}function ww(e,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var m=A0((f[De]||null).action),T=l.submitter;T&&(s=(s=T[De]||null)?A0(s.formAction):T.getAttribute("formAction"),s!==null&&(m=s,T=null));var S=new Ea("action","action",null,l,f);e.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Qr!==0){var V=T?b0(f,T):new FormData(f);td(a,{pending:!0,data:V,method:f.method,action:m},null,V)}}else typeof m=="function"&&(S.preventDefault(),V=T?b0(f,T):new FormData(f),td(a,{pending:!0,data:V,method:f.method,action:m},m,V))},currentTarget:f}]})}}for(var Pd=0;Pd<_f.length;Pd++){var Ld=_f[Pd],Rw=Ld.toLowerCase(),Cw=Ld[0].toUpperCase()+Ld.slice(1);ai(Rw,"on"+Cw)}ai(ny,"onAnimationEnd"),ai(iy,"onAnimationIteration"),ai(sy,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(HS,"onTransitionRun"),ai(GS,"onTransitionStart"),ai(KS,"onTransitionCancel"),ai(ry,"onTransitionEnd"),Gi("onMouseEnter",["mouseout","mouseover"]),Gi("onMouseLeave",["mouseout","mouseover"]),Gi("onPointerEnter",["pointerout","pointerover"]),Gi("onPointerLeave",["pointerout","pointerover"]),si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),si("onBeforeInput",["compositionend","keypress","textInput","paste"]),si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function S0(e,s){s=(s&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],f=l.event;l=l.listeners;t:{var m=void 0;if(s)for(var T=l.length-1;0<=T;T--){var S=l[T],V=S.instance,F=S.currentTarget;if(S=S.listener,V!==m&&f.isPropagationStopped())break t;m=S,f.currentTarget=F;try{m(f)}catch($){Tc($)}f.currentTarget=null,m=V}else for(T=0;T<l.length;T++){if(S=l[T],V=S.instance,F=S.currentTarget,S=S.listener,V!==m&&f.isPropagationStopped())break t;m=S,f.currentTarget=F;try{m(f)}catch($){Tc($)}f.currentTarget=null,m=V}}}}function kt(e,s){var a=s[Lo];a===void 0&&(a=s[Lo]=new Set);var l=e+"__bubble";a.has(l)||(w0(s,e,2,!1),a.add(l))}function kd(e,s,a){var l=0;s&&(l|=4),w0(a,e,l,s)}var Nc="_reactListening"+Math.random().toString(36).slice(2);function Ud(e){if(!e[Nc]){e[Nc]=!0,ko.forEach(function(a){a!=="selectionchange"&&(Dw.has(a)||kd(a,!1,e),kd(a,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[Nc]||(s[Nc]=!0,kd("selectionchange",!1,s))}}function w0(e,s,a,l){switch(X0(s)){case 2:var f=eR;break;case 8:f=nR;break;default:f=Wd}a=f.bind(null,s,a,e),f=void 0,!qn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(s,a,{capture:!0,passive:f}):e.addEventListener(s,a,!0):f!==void 0?e.addEventListener(s,a,{passive:f}):e.addEventListener(s,a,!1)}function Bd(e,s,a,l,f){var m=l;if((s&1)===0&&(s&2)===0&&l!==null)t:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var S=l.stateNode.containerInfo;if(S===f)break;if(T===4)for(T=l.return;T!==null;){var V=T.tag;if((V===3||V===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;S!==null;){if(T=Hi(S),T===null)return;if(V=T.tag,V===5||V===6||V===26||V===27){l=m=T;continue t}S=S.parentNode}}l=l.return}Lu(function(){var F=m,$=Fn(a),tt=[];t:{var H=ay.get(e);if(H!==void 0){var G=Ea,wt=e;switch(e){case"keypress":if(yi(a)===0)break t;case"keydown":case"keyup":G=Ca;break;case"focusin":wt="focus",G=Sa;break;case"focusout":wt="blur",G=Sa;break;case"beforeblur":case"afterblur":G=Sa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=hf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Hu;break;case ny:case iy:case sy:G=wa;break;case ry:G=Ku;break;case"scroll":case"scrollend":G=ku;break;case"wheel":G=Da;break;case"copy":case"cut":case"paste":G=Ra;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Xo;break;case"toggle":case"beforetoggle":G=Qu}var At=(s&4)!==0,re=!At&&(e==="scroll"||e==="scrollend"),B=At?H!==null?H+"Capture":null:H;At=[];for(var P=F,z;P!==null;){var J=P;if(z=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||z===null||B===null||(J=Cr(P,B),J!=null&&At.push(Rl(P,J,z))),re)break;P=P.return}0<At.length&&(H=new G(H,wt,null,a,$),tt.push({event:H,listeners:At}))}}if((s&7)===0){t:{if(H=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",H&&a!==Qi&&(wt=a.relatedTarget||a.fromElement)&&(Hi(wt)||wt[jn]))break t;if((G||H)&&(H=$.window===$?$:(H=$.ownerDocument)?H.defaultView||H.parentWindow:window,G?(wt=a.relatedTarget||a.toElement,G=F,wt=wt?Hi(wt):null,wt!==null&&(re=u(wt),At=wt.tag,wt!==re||At!==5&&At!==27&&At!==6)&&(wt=null)):(G=null,wt=F),G!==wt)){if(At=Hn,J="onMouseLeave",B="onMouseEnter",P="mouse",(e==="pointerout"||e==="pointerover")&&(At=Xo,J="onPointerLeave",B="onPointerEnter",P="pointer"),re=G==null?H:di(G),z=wt==null?H:di(wt),H=new At(J,P+"leave",G,a,$),H.target=re,H.relatedTarget=z,J=null,Hi($)===F&&(At=new At(B,P+"enter",wt,a,$),At.target=z,At.relatedTarget=re,J=At),re=J,G&&wt)e:{for(At=G,B=wt,P=0,z=At;z;z=Ja(z))P++;for(z=0,J=B;J;J=Ja(J))z++;for(;0<P-z;)At=Ja(At),P--;for(;0<z-P;)B=Ja(B),z--;for(;P--;){if(At===B||B!==null&&At===B.alternate)break e;At=Ja(At),B=Ja(B)}At=null}else At=null;G!==null&&R0(tt,H,G,At,!1),wt!==null&&re!==null&&R0(tt,re,wt,At,!0)}}t:{if(H=F?di(F):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var pt=Gg;else if(Be(H))if(Kg)pt=zS;else{pt=BS;var Nt=US}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?F&&Fo(F.elementType)&&(pt=Gg):pt=jS;if(pt&&(pt=pt(e,F))){Ji(tt,pt,a,$);break t}Nt&&Nt(e,H,F),e==="focusout"&&F&&H.type==="number"&&F.memoizedProps.value!=null&&Rs(H,"number",H.value)}switch(Nt=F?di(F):window,e){case"focusin":(Be(Nt)||Nt.contentEditable==="true")&&(xa=Nt,gf=F,Wo=null);break;case"focusout":Wo=gf=xa=null;break;case"mousedown":yf=!0;break;case"contextmenu":case"mouseup":case"dragend":yf=!1,ty(tt,a,$);break;case"selectionchange":if(qS)break;case"keydown":case"keyup":ty(tt,a,$)}var Tt;if(Ti)t:{switch(e){case"compositionstart":var bt="onCompositionStart";break t;case"compositionend":bt="onCompositionEnd";break t;case"compositionupdate":bt="onCompositionUpdate";break t}bt=void 0}else zt?K(e,a)&&(bt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(bt="onCompositionStart");bt&&(_&&a.locale!=="ko"&&(zt||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&zt&&(Tt=Ho()):(gi=$,Cs="value"in gi?gi.value:gi.textContent,zt=!0)),Nt=Pc(F,bt),0<Nt.length&&(bt=new Yo(bt,e,null,a,$),tt.push({event:bt,listeners:Nt}),Tt?bt.data=Tt:(Tt=lt(a),Tt!==null&&(bt.data=Tt)))),(Tt=y?Ue(e,a):Ft(e,a))&&(bt=Pc(F,"onBeforeInput"),0<bt.length&&(Nt=new Yo("onBeforeInput","beforeinput",null,a,$),tt.push({event:Nt,listeners:bt}),Nt.data=Tt)),ww(tt,e,F,a,$)}S0(tt,s)})}function Rl(e,s,a){return{instance:e,listener:s,currentTarget:a}}function Pc(e,s){for(var a=s+"Capture",l=[];e!==null;){var f=e,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Cr(e,a),f!=null&&l.unshift(Rl(e,f,m)),f=Cr(e,s),f!=null&&l.push(Rl(e,f,m))),e.tag===3)return l;e=e.return}return[]}function Ja(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function R0(e,s,a,l,f){for(var m=s._reactName,T=[];a!==null&&a!==l;){var S=a,V=S.alternate,F=S.stateNode;if(S=S.tag,V!==null&&V===l)break;S!==5&&S!==26&&S!==27||F===null||(V=F,f?(F=Cr(a,m),F!=null&&T.unshift(Rl(a,F,V))):f||(F=Cr(a,m),F!=null&&T.push(Rl(a,F,V)))),a=a.return}T.length!==0&&e.push({event:s,listeners:T})}var xw=/\r\n?/g,Vw=/\u0000|\uFFFD/g;function C0(e){return(typeof e=="string"?e:""+e).replace(xw,`
`).replace(Vw,"")}function D0(e,s){return s=C0(s),C0(e)===s}function Lc(){}function se(e,s,a,l,f,m){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||zn(e,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&zn(e,""+l);break;case"className":mi(e,"class",l);break;case"tabIndex":mi(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":mi(e,a,l);break;case"style":zo(e,l,m);break;case"data":if(s!=="object"){mi(e,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ta(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&se(e,s,"name",f.name,f,null),se(e,s,"formEncType",f.formEncType,f,null),se(e,s,"formMethod",f.formMethod,f,null),se(e,s,"formTarget",f.formTarget,f,null)):(se(e,s,"encType",f.encType,f,null),se(e,s,"method",f.method,f,null),se(e,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ta(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Lc);break;case"onScroll":l!=null&&kt("scroll",e);break;case"onScrollEnd":l!=null&&kt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Ta(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":kt("beforetoggle",e),kt("toggle",e),ws(e,"popover",l);break;case"xlinkActuate":Ze(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ze(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ze(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ze(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ze(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ze(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ze(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ze(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ze(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ws(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=uf.get(a)||a,ws(e,a,l))}}function jd(e,s,a,l,f,m){switch(a){case"style":zo(e,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?zn(e,l):(typeof l=="number"||typeof l=="bigint")&&zn(e,""+l);break;case"onScroll":l!=null&&kt("scroll",e);break;case"onScrollEnd":l!=null&&kt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Lc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pa.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),m=e[De]||null,m=m!=null?m[a]:null,typeof m=="function"&&e.removeEventListener(s,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(s,l,f);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):ws(e,a,l)}}}function en(e,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",e),kt("load",e);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var T=a[m];if(T!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:se(e,s,m,T,a,null)}}f&&se(e,s,"srcSet",a.srcSet,a,null),l&&se(e,s,"src",a.src,a,null);return;case"input":kt("invalid",e);var S=m=T=f=null,V=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":f=$;break;case"type":T=$;break;case"checked":V=$;break;case"defaultChecked":F=$;break;case"value":m=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,s));break;default:se(e,s,l,$,a,null)}}Sr(e,m,S,V,F,T,f,!1),_a(e);return;case"select":kt("invalid",e),l=T=m=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":m=S;break;case"defaultValue":T=S;break;case"multiple":l=S;default:se(e,s,f,S,a,null)}s=m,a=T,e.multiple=!!l,s!=null?Yi(e,!!l,s,!1):a!=null&&Yi(e,!!l,a,!0);return;case"textarea":kt("invalid",e),m=f=l=null;for(T in a)if(a.hasOwnProperty(T)&&(S=a[T],S!=null))switch(T){case"value":l=S;break;case"defaultValue":f=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:se(e,s,T,S,a,null)}wr(e,l,f,m),_a(e);return;case"option":for(V in a)if(a.hasOwnProperty(V)&&(l=a[V],l!=null))switch(V){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:se(e,s,V,l,a,null)}return;case"dialog":kt("beforetoggle",e),kt("toggle",e),kt("cancel",e),kt("close",e);break;case"iframe":case"object":kt("load",e);break;case"video":case"audio":for(l=0;l<wl.length;l++)kt(wl[l],e);break;case"image":kt("error",e),kt("load",e);break;case"details":kt("toggle",e);break;case"embed":case"source":case"link":kt("error",e),kt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:se(e,s,F,l,a,null)}return;default:if(Fo(s)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&jd(e,s,$,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&se(e,s,S,l,a,null))}function Iw(e,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,T=null,S=null,V=null,F=null,$=null;for(G in a){var tt=a[G];if(a.hasOwnProperty(G)&&tt!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":V=tt;default:l.hasOwnProperty(G)||se(e,s,G,null,l,tt)}}for(var H in l){var G=l[H];if(tt=a[H],l.hasOwnProperty(H)&&(G!=null||tt!=null))switch(H){case"type":m=G;break;case"name":f=G;break;case"checked":F=G;break;case"defaultChecked":$=G;break;case"value":T=G;break;case"defaultValue":S=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,s));break;default:G!==tt&&se(e,s,H,G,l,tt)}}xn(e,T,S,V,F,$,m,f);return;case"select":G=T=S=H=null;for(m in a)if(V=a[m],a.hasOwnProperty(m)&&V!=null)switch(m){case"value":break;case"multiple":G=V;default:l.hasOwnProperty(m)||se(e,s,m,null,l,V)}for(f in l)if(m=l[f],V=a[f],l.hasOwnProperty(f)&&(m!=null||V!=null))switch(f){case"value":H=m;break;case"defaultValue":S=m;break;case"multiple":T=m;default:m!==V&&se(e,s,f,m,l,V)}s=S,a=T,l=G,H!=null?Yi(e,!!a,H,!1):!!l!=!!a&&(s!=null?Yi(e,!!a,s,!0):Yi(e,!!a,a?[]:"",!1));return;case"textarea":G=H=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:se(e,s,S,null,l,f)}for(T in l)if(f=l[T],m=a[T],l.hasOwnProperty(T)&&(f!=null||m!=null))switch(T){case"value":H=f;break;case"defaultValue":G=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==m&&se(e,s,T,f,l,m)}ne(e,H,G);return;case"option":for(var wt in a)if(H=a[wt],a.hasOwnProperty(wt)&&H!=null&&!l.hasOwnProperty(wt))switch(wt){case"selected":e.selected=!1;break;default:se(e,s,wt,null,l,H)}for(V in l)if(H=l[V],G=a[V],l.hasOwnProperty(V)&&H!==G&&(H!=null||G!=null))switch(V){case"selected":e.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:se(e,s,V,H,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in a)H=a[At],a.hasOwnProperty(At)&&H!=null&&!l.hasOwnProperty(At)&&se(e,s,At,null,l,H);for(F in l)if(H=l[F],G=a[F],l.hasOwnProperty(F)&&H!==G&&(H!=null||G!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,s));break;default:se(e,s,F,H,l,G)}return;default:if(Fo(s)){for(var re in a)H=a[re],a.hasOwnProperty(re)&&H!==void 0&&!l.hasOwnProperty(re)&&jd(e,s,re,void 0,l,H);for($ in l)H=l[$],G=a[$],!l.hasOwnProperty($)||H===G||H===void 0&&G===void 0||jd(e,s,$,H,l,G);return}}for(var B in a)H=a[B],a.hasOwnProperty(B)&&H!=null&&!l.hasOwnProperty(B)&&se(e,s,B,null,l,H);for(tt in l)H=l[tt],G=a[tt],!l.hasOwnProperty(tt)||H===G||H==null&&G==null||se(e,s,tt,H,l,G)}var zd=null,Fd=null;function kc(e){return e.nodeType===9?e:e.ownerDocument}function x0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function V0(e,s){if(e===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&s==="foreignObject"?0:e}function qd(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Hd=null;function Mw(){var e=window.event;return e&&e.type==="popstate"?e===Hd?!1:(Hd=e,!0):(Hd=null,!1)}var I0=typeof setTimeout=="function"?setTimeout:void 0,Ow=typeof clearTimeout=="function"?clearTimeout:void 0,M0=typeof Promise=="function"?Promise:void 0,Nw=typeof queueMicrotask=="function"?queueMicrotask:typeof M0<"u"?function(e){return M0.resolve(null).then(e).catch(Pw)}:I0;function Pw(e){setTimeout(function(){throw e})}function qs(e){return e==="head"}function O0(e,s){var a=s,l=0,f=0;do{var m=a.nextSibling;if(e.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var T=e.ownerDocument;if(a&1&&Cl(T.documentElement),a&2&&Cl(T.body),a&4)for(a=T.head,Cl(a),T=a.firstChild;T;){var S=T.nextSibling,V=T.nodeName;T[Tr]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=S}}if(f===0){e.removeChild(m),Pl(s);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);Pl(s)}function Gd(e){var s=e.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Gd(a),Ss(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Lw(e,s,a,l){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Tr])switch(s){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(s==="input"&&e.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=li(e.nextSibling),e===null)break}return null}function kw(e,s,a){if(s==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=li(e.nextSibling),e===null))return null;return e}function Kd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Uw(e,s){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function li(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return e}var Yd=null;function N0(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return e;s--}else a==="/$"&&s++}e=e.previousSibling}return null}function P0(e,s,a){switch(s=kc(a),e){case"html":if(e=s.documentElement,!e)throw Error(r(452));return e;case"head":if(e=s.head,!e)throw Error(r(453));return e;case"body":if(e=s.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Cl(e){for(var s=e.attributes;s.length;)e.removeAttributeNode(s[0]);Ss(e)}var Zn=new Map,L0=new Set;function Uc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var fs=nt.d;nt.d={f:Bw,r:jw,D:zw,C:Fw,L:qw,m:Hw,X:Kw,S:Gw,M:Yw};function Bw(){var e=fs.f(),s=xc();return e||s}function jw(e){var s=fi(e);s!==null&&s.tag===5&&s.type==="form"?nv(s):fs.r(e)}var to=typeof document>"u"?null:document;function k0(e,s,a){var l=to;if(l&&typeof s=="string"&&s){var f=xe(s);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),L0.has(f)||(L0.add(f),e={rel:e,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),en(s,"link",e),Ae(s),l.head.appendChild(s)))}}function zw(e){fs.D(e),k0("dns-prefetch",e,null)}function Fw(e,s){fs.C(e,s),k0("preconnect",e,s)}function qw(e,s,a){fs.L(e,s,a);var l=to;if(l&&e&&s){var f='link[rel="preload"][as="'+xe(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+xe(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+xe(a.imageSizes)+'"]')):f+='[href="'+xe(e)+'"]';var m=f;switch(s){case"style":m=eo(e);break;case"script":m=no(e)}Zn.has(m)||(e=v({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:e,as:s},a),Zn.set(m,e),l.querySelector(f)!==null||s==="style"&&l.querySelector(Dl(m))||s==="script"&&l.querySelector(xl(m))||(s=l.createElement("link"),en(s,"link",e),Ae(s),l.head.appendChild(s)))}}function Hw(e,s){fs.m(e,s);var a=to;if(a&&e){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+xe(l)+'"][href="'+xe(e)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=no(e)}if(!Zn.has(m)&&(e=v({rel:"modulepreload",href:e},s),Zn.set(m,e),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(xl(m)))return}l=a.createElement("link"),en(l,"link",e),Ae(l),a.head.appendChild(l)}}}function Gw(e,s,a){fs.S(e,s,a);var l=to;if(l&&e){var f=pn(l).hoistableStyles,m=eo(e);s=s||"default";var T=f.get(m);if(!T){var S={loading:0,preload:null};if(T=l.querySelector(Dl(m)))S.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":s},a),(a=Zn.get(m))&&Qd(e,a);var V=T=l.createElement("link");Ae(V),en(V,"link",e),V._p=new Promise(function(F,$){V.onload=F,V.onerror=$}),V.addEventListener("load",function(){S.loading|=1}),V.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Bc(T,s,l)}T={type:"stylesheet",instance:T,count:1,state:S},f.set(m,T)}}}function Kw(e,s){fs.X(e,s);var a=to;if(a&&e){var l=pn(a).hoistableScripts,f=no(e),m=l.get(f);m||(m=a.querySelector(xl(f)),m||(e=v({src:e,async:!0},s),(s=Zn.get(f))&&Xd(e,s),m=a.createElement("script"),Ae(m),en(m,"link",e),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function Yw(e,s){fs.M(e,s);var a=to;if(a&&e){var l=pn(a).hoistableScripts,f=no(e),m=l.get(f);m||(m=a.querySelector(xl(f)),m||(e=v({src:e,async:!0,type:"module"},s),(s=Zn.get(f))&&Xd(e,s),m=a.createElement("script"),Ae(m),en(m,"link",e),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function U0(e,s,a,l){var f=(f=ut.current)?Uc(f):null;if(!f)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=eo(a.href),a=pn(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=eo(a.href);var m=pn(f).hoistableStyles,T=m.get(e);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,T),(m=f.querySelector(Dl(e)))&&!m._p&&(T.instance=m,T.state.loading=5),Zn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Zn.set(e,a),m||Qw(f,e,a,T.state))),s&&l===null)throw Error(r(528,""));return T}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=no(a),a=pn(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function eo(e){return'href="'+xe(e)+'"'}function Dl(e){return'link[rel="stylesheet"]['+e+"]"}function B0(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function Qw(e,s,a,l){e.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=e.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),en(s,"link",a),Ae(s),e.head.appendChild(s))}function no(e){return'[src="'+xe(e)+'"]'}function xl(e){return"script[async]"+e}function j0(e,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=e.querySelector('style[data-href~="'+xe(a.href)+'"]');if(l)return s.instance=l,Ae(l),l;var f=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ae(l),en(l,"style",f),Bc(l,a.precedence,e),s.instance=l;case"stylesheet":f=eo(a.href);var m=e.querySelector(Dl(f));if(m)return s.state.loading|=4,s.instance=m,Ae(m),m;l=B0(a),(f=Zn.get(f))&&Qd(l,f),m=(e.ownerDocument||e).createElement("link"),Ae(m);var T=m;return T._p=new Promise(function(S,V){T.onload=S,T.onerror=V}),en(m,"link",l),s.state.loading|=4,Bc(m,a.precedence,e),s.instance=m;case"script":return m=no(a.src),(f=e.querySelector(xl(m)))?(s.instance=f,Ae(f),f):(l=a,(f=Zn.get(m))&&(l=v({},a),Xd(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),Ae(f),en(f,"link",l),e.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Bc(l,a.precedence,e));return s.instance}function Bc(e,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,T=0;T<l.length;T++){var S=l[T];if(S.dataset.precedence===s)m=S;else if(m!==f)break}m?m.parentNode.insertBefore(e,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(e,s.firstChild))}function Qd(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.title==null&&(e.title=s.title)}function Xd(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.integrity==null&&(e.integrity=s.integrity)}var jc=null;function z0(e,s,a){if(jc===null){var l=new Map,f=jc=new Map;f.set(a,l)}else f=jc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var m=a[f];if(!(m[Tr]||m[ke]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(s)||"";T=e+T;var S=l.get(T);S?S.push(m):l.set(T,[m])}}return l}function F0(e,s,a){e=e.ownerDocument||e,e.head.insertBefore(a,s==="title"?e.querySelector("head > title"):null)}function Xw(e,s,a){if(a===1||s.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return e=s.disabled,typeof s.precedence=="string"&&e==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function q0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Vl=null;function $w(){}function Zw(e,s,a){if(Vl===null)throw Error(r(475));var l=Vl;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=eo(a.href),m=e.querySelector(Dl(f));if(m){e=m._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=zc.bind(l),e.then(l,l)),s.state.loading|=4,s.instance=m,Ae(m);return}m=e.ownerDocument||e,a=B0(a),(f=Zn.get(f))&&Qd(a,f),m=m.createElement("link"),Ae(m);var T=m;T._p=new Promise(function(S,V){T.onload=S,T.onerror=V}),en(m,"link",a),s.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(s,e),(e=s.state.preload)&&(s.state.loading&3)===0&&(l.count++,s=zc.bind(l),e.addEventListener("load",s),e.addEventListener("error",s))}}function Ww(){if(Vl===null)throw Error(r(475));var e=Vl;return e.stylesheets&&e.count===0&&$d(e,e.stylesheets),0<e.count?function(s){var a=setTimeout(function(){if(e.stylesheets&&$d(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(a)}}:null}function zc(){if(this.count--,this.count===0){if(this.stylesheets)$d(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Fc=null;function $d(e,s){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Fc=new Map,s.forEach(Jw,e),Fc=null,zc.call(e))}function Jw(e,s){if(!(s.state.loading&4)){var a=Fc.get(e);if(a)var l=a.get(null);else{a=new Map,Fc.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var T=f[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),l=T)}l&&a.set(null,l)}f=s.instance,T=f.getAttribute("data-precedence"),m=a.get(T)||l,m===l&&a.set(null,f),a.set(T,f),this.count++,l=zc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),s.state.loading|=4}}var Il={$$typeof:Z,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function tR(e,s,a,l,f,m,T,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fi(0),this.hiddenUpdates=Fi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function H0(e,s,a,l,f,m,T,S,V,F,$,tt){return e=new tR(e,s,a,T,S,V,F,tt),s=1,m===!0&&(s|=24),m=In(3,null,null,s),e.current=m,m.stateNode=e,s=If(),s.refCount++,e.pooledCache=s,s.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:s},Pf(m),e}function G0(e){return e?(e=Oa,e):Oa}function K0(e,s,a,l,f,m){f=G0(f),l.context===null?l.context=f:l.pendingContext=f,l=Vs(s),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Is(e,l,s),a!==null&&(Ln(a,e,s),ol(a,e,s))}function Y0(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<s?a:s}}function Zd(e,s){Y0(e,s),(e=e.alternate)&&Y0(e,s)}function Q0(e){if(e.tag===13){var s=Ma(e,67108864);s!==null&&Ln(s,e,67108864),Zd(e,67108864)}}var qc=!0;function eR(e,s,a,l){var f=Q.T;Q.T=null;var m=nt.p;try{nt.p=2,Wd(e,s,a,l)}finally{nt.p=m,Q.T=f}}function nR(e,s,a,l){var f=Q.T;Q.T=null;var m=nt.p;try{nt.p=8,Wd(e,s,a,l)}finally{nt.p=m,Q.T=f}}function Wd(e,s,a,l){if(qc){var f=Jd(l);if(f===null)Bd(e,s,l,Hc,a),$0(e,l);else if(sR(f,e,s,a,l))l.stopPropagation();else if($0(e,l),s&4&&-1<iR.indexOf(e)){for(;f!==null;){var m=fi(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=ii(m.pendingLanes);if(T!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var V=1<<31-Le(T);S.entanglements[1]|=V,T&=~V}Ri(m),(te&6)===0&&(Cc=fe()+500,Sl(0))}}break;case 13:S=Ma(m,2),S!==null&&Ln(S,m,2),xc(),Zd(m,2)}if(m=Jd(l),m===null&&Bd(e,s,l,Hc,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else Bd(e,s,l,null,a)}}function Jd(e){return e=Fn(e),tm(e)}var Hc=null;function tm(e){if(Hc=null,e=Hi(e),e!==null){var s=u(e);if(s===null)e=null;else{var a=s.tag;if(a===13){if(e=h(s),e!==null)return e;e=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null)}}return Hc=e,null}function X0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cn()){case Dn:return 2;case $e:return 8;case Bi:case Vo:return 32;case _s:return 268435456;default:return 32}default:return 32}}var em=!1,Hs=null,Gs=null,Ks=null,Ml=new Map,Ol=new Map,Ys=[],iR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $0(e,s){switch(e){case"focusin":case"focusout":Hs=null;break;case"dragenter":case"dragleave":Gs=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":Ml.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(s.pointerId)}}function Nl(e,s,a,l,f,m){return e===null||e.nativeEvent!==m?(e={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},s!==null&&(s=fi(s),s!==null&&Q0(s)),e):(e.eventSystemFlags|=l,s=e.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),e)}function sR(e,s,a,l,f){switch(s){case"focusin":return Hs=Nl(Hs,e,s,a,l,f),!0;case"dragenter":return Gs=Nl(Gs,e,s,a,l,f),!0;case"mouseover":return Ks=Nl(Ks,e,s,a,l,f),!0;case"pointerover":var m=f.pointerId;return Ml.set(m,Nl(Ml.get(m)||null,e,s,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,Ol.set(m,Nl(Ol.get(m)||null,e,s,a,l,f)),!0}return!1}function Z0(e){var s=Hi(e.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=h(a),s!==null){e.blockedOn=s,xu(e.priority,function(){if(a.tag===13){var l=Pn();l=Es(l);var f=Ma(a,l);f!==null&&Ln(f,a,l),Zd(a,l)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gc(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var a=Jd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Qi=l,a.target.dispatchEvent(l),Qi=null}else return s=fi(a),s!==null&&Q0(s),e.blockedOn=a,!1;s.shift()}return!0}function W0(e,s,a){Gc(e)&&a.delete(s)}function rR(){em=!1,Hs!==null&&Gc(Hs)&&(Hs=null),Gs!==null&&Gc(Gs)&&(Gs=null),Ks!==null&&Gc(Ks)&&(Ks=null),Ml.forEach(W0),Ol.forEach(W0)}function Kc(e,s){e.blockedOn===s&&(e.blockedOn=null,em||(em=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,rR)))}var Yc=null;function J0(e){Yc!==e&&(Yc=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Yc===e&&(Yc=null);for(var s=0;s<e.length;s+=3){var a=e[s],l=e[s+1],f=e[s+2];if(typeof l!="function"){if(tm(l||a)===null)continue;break}var m=fi(a);m!==null&&(e.splice(s,3),s-=3,td(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Pl(e){function s(V){return Kc(V,e)}Hs!==null&&Kc(Hs,e),Gs!==null&&Kc(Gs,e),Ks!==null&&Kc(Ks,e),Ml.forEach(s),Ol.forEach(s);for(var a=0;a<Ys.length;a++){var l=Ys[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ys.length&&(a=Ys[0],a.blockedOn===null);)Z0(a),a.blockedOn===null&&Ys.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],T=f[De]||null;if(typeof m=="function")T||J0(a);else if(T){var S=null;if(m&&m.hasAttribute("formAction")){if(f=m,T=m[De]||null)S=T.formAction;else if(tm(f)!==null)continue}else S=T.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),J0(a)}}}function nm(e){this._internalRoot=e}Qc.prototype.render=nm.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=Pn();K0(a,l,e,s,null,null)},Qc.prototype.unmount=nm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;K0(e.current,2,null,e,null,null),xc(),s[jn]=null}};function Qc(e){this._internalRoot=e}Qc.prototype.unstable_scheduleHydration=function(e){if(e){var s=As();e={blockedOn:null,target:e,priority:s};for(var a=0;a<Ys.length&&s!==0&&s<Ys[a].priority;a++);Ys.splice(a,0,e),a===0&&Z0(e)}};var t_=t.version;if(t_!=="19.1.1")throw Error(r(527,t_,"19.1.1"));nt.findDOMNode=function(e){var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(s),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var aR={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xc.isDisabled&&Xc.supportsFiber)try{ue=Xc.inject(aR),Xt=Xc}catch{}}return kl.createRoot=function(e,s){if(!o(e))throw Error(r(299));var a=!1,l="",f=gv,m=yv,T=vv,S=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(S=s.unstable_transitionCallbacks)),s=H0(e,1,!1,null,null,a,l,f,m,T,S,null),e[jn]=s.current,Ud(e),new nm(s)},kl.hydrateRoot=function(e,s,a){if(!o(e))throw Error(r(299));var l=!1,f="",m=gv,T=yv,S=vv,V=null,F=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(V=a.unstable_transitionCallbacks),a.formState!==void 0&&(F=a.formState)),s=H0(e,1,!0,s,a??null,l,f,m,T,S,V,F),s.context=G0(null),a=s.current,l=Pn(),l=Es(l),f=Vs(l),f.callback=null,Is(a,f,l),a=l,s.current.lanes=a,qi(s,a),Ri(s),e[jn]=s.current,Ud(e),new Qc(s)},kl.version="19.1.1",kl}var c_;function vR(){if(c_)return rm.exports;c_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),rm.exports=yR(),rm.exports}var _R=vR();const TR=GE(_R),ER=()=>{};var h_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE=function(n){const t=[];let i=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},AR=function(n){const t=[];let i=0,r=0;for(;i<n.length;){const o=n[i++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[i++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[i++],h=n[i++],d=n[i++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const u=n[i++],h=n[i++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return t.join("")},YE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const u=n[o],h=o+1<n.length,d=h?n[o+1]:0,p=o+2<n.length,g=p?n[o+2]:0,v=u>>2,E=(u&3)<<4|d>>4;let A=(d&15)<<2|g>>6,D=g&63;p||(D=64,h||(A=64)),r.push(i[v],i[E],i[A],i[D])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(KE(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):AR(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const u=i[n.charAt(o++)],d=o<n.length?i[n.charAt(o)]:0;++o;const g=o<n.length?i[n.charAt(o)]:64;++o;const E=o<n.length?i[n.charAt(o)]:64;if(++o,u==null||d==null||g==null||E==null)throw new bR;const A=u<<2|d>>4;if(r.push(A),g!==64){const D=d<<4&240|g>>2;if(r.push(D),E!==64){const L=g<<6&192|E;r.push(L)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class bR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SR=function(n){const t=KE(n);return YE.encodeByteArray(t,!0)},ph=function(n){return SR(n).replace(/\./g,"")},wR=function(n){try{return YE.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=()=>RR().__FIREBASE_DEFAULTS__,DR=()=>{if(typeof process>"u"||typeof h_>"u")return;const n=h_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},xR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&wR(n[1]);return t&&JSON.parse(t)},Rp=()=>{try{return ER()||CR()||DR()||xR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},VR=n=>{var t,i;return(i=(t=Rp())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[n]},IR=n=>{const t=VR(n);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},QE=()=>{var n;return(n=Rp())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function OR(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ph(JSON.stringify(i)),ph(JSON.stringify(h)),""].join(".")}const Gl={};function PR(){const n={prod:[],emulator:[]};for(const t of Object.keys(Gl))Gl[t]?n.emulator.push(t):n.prod.push(t);return n}function LR(n){let t=document.getElementById(n),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),i=!0),{created:i,element:t}}let f_=!1;function kR(n,t){if(typeof window>"u"||typeof document>"u"||!Cp(window.location.host)||Gl[n]===t||Gl[n]||f_)return;Gl[n]=t;function i(A){return`__firebase__banner__${A}`}const r="__firebase__banner",u=PR().prod.length>0;function h(){const A=document.getElementById(r);A&&A.remove()}function d(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,D){A.setAttribute("width","24"),A.setAttribute("id",D),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{f_=!0,h()},A}function v(A,D){A.setAttribute("id",D),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function E(){const A=LR(r),D=i("text"),L=document.getElementById(D)||document.createElement("span"),q=i("learnmore"),U=document.getElementById(q)||document.createElement("a"),W=i("preprendIcon"),it=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const Z=A.element;d(Z),v(U,q);const ht=g();p(it,W),Z.append(it,L,U,ht),document.body.appendChild(Z)}u?(L.innerText="Preview backend disconnected.",it.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(it.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BR(){var n;const t=(n=Rp())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XE(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function jR(){return!BR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Dp(){try{return typeof indexedDB=="object"}catch{return!1}}function xp(){return new Promise((n,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(i){t(i)}})}function $E(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="FirebaseError";class fr extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=zR,Object.setPrototypeOf(this,fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ph.prototype.create)}}class Ph{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},o=`${this.service}/${t}`,u=this.errors[t],h=u?FR(u,r):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new fr(o,d,r)}}function FR(n,t){return n.replace(qR,(i,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const qR=/\{\$([^}]+)}/g;function nu(n,t){if(n===t)return!0;const i=Object.keys(n),r=Object.keys(t);for(const o of i){if(!r.includes(o))return!1;const u=n[o],h=t[o];if(d_(u)&&d_(h)){if(!nu(u,h))return!1}else if(u!==h)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function d_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=1e3,GR=2,KR=14400*1e3,YR=.5;function m_(n,t=HR,i=GR){const r=t*Math.pow(i,n),o=Math.round(YR*r*(Math.random()-.5)*2);return Math.min(KR,r+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(n){return n&&n._delegate?n._delegate:n}class ds{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new MR;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if($R(t))try{this.getOrInitializeService({instanceIdentifier:$r})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=$r){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=$r){return this.instances.has(t)}getOptions(t=$r){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);r===d&&h.resolve(o)}return o}onInit(t,i){var r;const o=this.normalizeInstanceIdentifier(i),u=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;u.add(t),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&t(h,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:XR(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=$r){return this.component?this.component.multipleInstances?t:$r:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function XR(n){return n===$r?void 0:n}function $R(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new QR(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Gt||(Gt={}));const WR={debug:Gt.DEBUG,verbose:Gt.VERBOSE,info:Gt.INFO,warn:Gt.WARN,error:Gt.ERROR,silent:Gt.SILENT},JR=Gt.INFO,t2={[Gt.DEBUG]:"log",[Gt.VERBOSE]:"log",[Gt.INFO]:"info",[Gt.WARN]:"warn",[Gt.ERROR]:"error"},e2=(n,t,...i)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),o=t2[t];if(o)console[o](`[${r}]  ${n.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Vp{constructor(t){this.name=t,this._logLevel=JR,this._logHandler=e2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Gt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?WR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Gt.DEBUG,...t),this._logHandler(this,Gt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Gt.VERBOSE,...t),this._logHandler(this,Gt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Gt.INFO,...t),this._logHandler(this,Gt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Gt.WARN,...t),this._logHandler(this,Gt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Gt.ERROR,...t),this._logHandler(this,Gt.ERROR,...t)}}const n2=(n,t)=>t.some(i=>n instanceof i);let p_,g_;function i2(){return p_||(p_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function s2(){return g_||(g_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZE=new WeakMap,Pm=new WeakMap,WE=new WeakMap,um=new WeakMap,Ip=new WeakMap;function r2(n){const t=new Promise((i,r)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",h)},u=()=>{i(Zs(n.result)),o()},h=()=>{r(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",h)});return t.then(i=>{i instanceof IDBCursor&&ZE.set(i,n)}).catch(()=>{}),Ip.set(t,n),t}function a2(n){if(Pm.has(n))return;const t=new Promise((i,r)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",h),n.removeEventListener("abort",h)},u=()=>{i(),o()},h=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",h),n.addEventListener("abort",h)});Pm.set(n,t)}let Lm={get(n,t,i){if(n instanceof IDBTransaction){if(t==="done")return Pm.get(n);if(t==="objectStoreNames")return n.objectStoreNames||WE.get(n);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Zs(n[t])},set(n,t,i){return n[t]=i,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function o2(n){Lm=n(Lm)}function l2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=n.call(cm(this),t,...i);return WE.set(r,t.sort?t.sort():[t]),Zs(r)}:s2().includes(n)?function(...t){return n.apply(cm(this),t),Zs(ZE.get(this))}:function(...t){return Zs(n.apply(cm(this),t))}}function u2(n){return typeof n=="function"?l2(n):(n instanceof IDBTransaction&&a2(n),n2(n,i2())?new Proxy(n,Lm):n)}function Zs(n){if(n instanceof IDBRequest)return r2(n);if(um.has(n))return um.get(n);const t=u2(n);return t!==n&&(um.set(n,t),Ip.set(t,n)),t}const cm=n=>Ip.get(n);function JE(n,t,{blocked:i,upgrade:r,blocking:o,terminated:u}={}){const h=indexedDB.open(n,t),d=Zs(h);return r&&h.addEventListener("upgradeneeded",p=>{r(Zs(h.result),p.oldVersion,p.newVersion,Zs(h.transaction),p)}),i&&h.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const c2=["get","getKey","getAll","getAllKeys","count"],h2=["put","add","delete","clear"],hm=new Map;function y_(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(hm.get(t))return hm.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,o=h2.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||c2.includes(i)))return;const u=async function(h,...d){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(d.shift())),(await Promise.all([g[i](...d),o&&p.done]))[0]};return hm.set(t,u),u}o2(n=>({...n,get:(t,i,r)=>y_(t,i)||n.get(t,i,r),has:(t,i)=>!!y_(t,i)||n.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(d2(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function d2(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const km="@firebase/app",v_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms=new Vp("@firebase/app"),m2="@firebase/app-compat",p2="@firebase/analytics-compat",g2="@firebase/analytics",y2="@firebase/app-check-compat",v2="@firebase/app-check",_2="@firebase/auth",T2="@firebase/auth-compat",E2="@firebase/database",A2="@firebase/data-connect",b2="@firebase/database-compat",S2="@firebase/functions",w2="@firebase/functions-compat",R2="@firebase/installations",C2="@firebase/installations-compat",D2="@firebase/messaging",x2="@firebase/messaging-compat",V2="@firebase/performance",I2="@firebase/performance-compat",M2="@firebase/remote-config",O2="@firebase/remote-config-compat",N2="@firebase/storage",P2="@firebase/storage-compat",L2="@firebase/firestore",k2="@firebase/ai",U2="@firebase/firestore-compat",B2="firebase",j2="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um="[DEFAULT]",z2={[km]:"fire-core",[m2]:"fire-core-compat",[g2]:"fire-analytics",[p2]:"fire-analytics-compat",[v2]:"fire-app-check",[y2]:"fire-app-check-compat",[_2]:"fire-auth",[T2]:"fire-auth-compat",[E2]:"fire-rtdb",[A2]:"fire-data-connect",[b2]:"fire-rtdb-compat",[S2]:"fire-fn",[w2]:"fire-fn-compat",[R2]:"fire-iid",[C2]:"fire-iid-compat",[D2]:"fire-fcm",[x2]:"fire-fcm-compat",[V2]:"fire-perf",[I2]:"fire-perf-compat",[M2]:"fire-rc",[O2]:"fire-rc-compat",[N2]:"fire-gcs",[P2]:"fire-gcs-compat",[L2]:"fire-fst",[U2]:"fire-fst-compat",[k2]:"fire-vertex","fire-js":"fire-js",[B2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh=new Map,F2=new Map,Bm=new Map;function __(n,t){try{n.container.addComponent(t)}catch(i){ms.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,i)}}function nr(n){const t=n.name;if(Bm.has(t))return ms.debug(`There were multiple attempts to register component ${t}.`),!1;Bm.set(t,n);for(const i of gh.values())__(i,n);for(const i of F2.values())__(i,n);return!0}function vu(n,t){const i=n.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),n.container.getProvider(t)}function q2(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ws=new Ph("app","Firebase",H2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(t,i,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ws.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=j2;function t1(n,t={}){let i=n;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Um,automaticDataCollectionEnabled:!0},t),o=r.name;if(typeof o!="string"||!o)throw Ws.create("bad-app-name",{appName:String(o)});if(i||(i=QE()),!i)throw Ws.create("no-options");const u=gh.get(o);if(u){if(nu(i,u.options)&&nu(r,u.config))return u;throw Ws.create("duplicate-app",{appName:o})}const h=new ZR(o);for(const p of Bm.values())h.addComponent(p);const d=new G2(i,r,h);return gh.set(o,d),d}function e1(n=Um){const t=gh.get(n);if(!t&&n===Um&&QE())return t1();if(!t)throw Ws.create("no-app",{appName:n});return t}function xi(n,t,i){var r;let o=(r=z2[n])!==null&&r!==void 0?r:n;i&&(o+=`-${i}`);const u=o.match(/\s|\//),h=t.match(/\s|\//);if(u||h){const d=[`Unable to register library "${o}" with version "${t}":`];u&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ms.warn(d.join(" "));return}nr(new ds(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2="firebase-heartbeat-database",Q2=1,iu="firebase-heartbeat-store";let fm=null;function n1(){return fm||(fm=JE(Y2,Q2,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(iu)}catch(i){console.warn(i)}}}}).catch(n=>{throw Ws.create("idb-open",{originalErrorMessage:n.message})})),fm}async function X2(n){try{const i=(await n1()).transaction(iu),r=await i.objectStore(iu).get(i1(n));return await i.done,r}catch(t){if(t instanceof fr)ms.warn(t.message);else{const i=Ws.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ms.warn(i.message)}}}async function T_(n,t){try{const r=(await n1()).transaction(iu,"readwrite");await r.objectStore(iu).put(t,i1(n)),await r.done}catch(i){if(i instanceof fr)ms.warn(i.message);else{const r=Ws.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});ms.warn(r.message)}}}function i1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=1024,Z2=30;class W2{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new tC(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=E_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>Z2){const h=eC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ms.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=E_(),{heartbeatsToSend:r,unsentEntries:o}=J2(this._heartbeatsCache.heartbeats),u=ph(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return ms.warn(i),""}}}function E_(){return new Date().toISOString().substring(0,10)}function J2(n,t=$2){const i=[];let r=n.slice();for(const o of n){const u=i.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),A_(i)>t){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),A_(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class tC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Dp()?xp().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await X2(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return T_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return T_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function A_(n){return ph(JSON.stringify({version:2,heartbeats:n})).length}function eC(n){if(n.length===0)return-1;let t=0,i=n[0].date;for(let r=1;r<n.length;r++)n[r].date<i&&(i=n[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(n){nr(new ds("platform-logger",t=>new f2(t),"PRIVATE")),nr(new ds("heartbeat",t=>new W2(t),"PRIVATE")),xi(km,v_,n),xi(km,v_,"esm2017"),xi("fire-js","")}nC("");const s1="@firebase/installations",Mp="0.6.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1=1e4,a1=`w:${Mp}`,o1="FIS_v2",iC="https://firebaseinstallations.googleapis.com/v1",sC=3600*1e3,rC="installations",aC="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},aa=new Ph(rC,aC,oC);function l1(n){return n instanceof fr&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1({projectId:n}){return`${iC}/projects/${n}/installations`}function c1(n){return{token:n.token,requestStatus:2,expiresIn:uC(n.expiresIn),creationTime:Date.now()}}async function h1(n,t){const r=(await t.json()).error;return aa.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function f1({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function lC(n,{refreshToken:t}){const i=f1(n);return i.append("Authorization",cC(t)),i}async function d1(n){const t=await n();return t.status>=500&&t.status<600?n():t}function uC(n){return Number(n.replace("s","000"))}function cC(n){return`${o1} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hC({appConfig:n,heartbeatServiceProvider:t},{fid:i}){const r=u1(n),o=f1(n),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={fid:i,authVersion:o1,appId:n.appId,sdkVersion:a1},d={method:"POST",headers:o,body:JSON.stringify(h)},p=await d1(()=>fetch(r,d));if(p.ok){const g=await p.json();return{fid:g.fid||i,registrationStatus:2,refreshToken:g.refreshToken,authToken:c1(g.authToken)}}else throw await h1("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(n){return new Promise(t=>{setTimeout(t,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=/^[cdef][\w-]{21}$/,jm="";function mC(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const i=pC(n);return dC.test(i)?i:jm}catch{return jm}}function pC(n){return fC(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1=new Map;function g1(n,t){const i=Lh(n);y1(i,t),gC(i,t)}function y1(n,t){const i=p1.get(n);if(i)for(const r of i)r(t)}function gC(n,t){const i=yC();i&&i.postMessage({key:n,fid:t}),vC()}let Wr=null;function yC(){return!Wr&&"BroadcastChannel"in self&&(Wr=new BroadcastChannel("[Firebase] FID Change"),Wr.onmessage=n=>{y1(n.data.key,n.data.fid)}),Wr}function vC(){p1.size===0&&Wr&&(Wr.close(),Wr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C="firebase-installations-database",TC=1,oa="firebase-installations-store";let dm=null;function Op(){return dm||(dm=JE(_C,TC,{upgrade:(n,t)=>{switch(t){case 0:n.createObjectStore(oa)}}})),dm}async function yh(n,t){const i=Lh(n),o=(await Op()).transaction(oa,"readwrite"),u=o.objectStore(oa),h=await u.get(i);return await u.put(t,i),await o.done,(!h||h.fid!==t.fid)&&g1(n,t.fid),t}async function v1(n){const t=Lh(n),r=(await Op()).transaction(oa,"readwrite");await r.objectStore(oa).delete(t),await r.done}async function kh(n,t){const i=Lh(n),o=(await Op()).transaction(oa,"readwrite"),u=o.objectStore(oa),h=await u.get(i),d=t(h);return d===void 0?await u.delete(i):await u.put(d,i),await o.done,d&&(!h||h.fid!==d.fid)&&g1(n,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Np(n){let t;const i=await kh(n.appConfig,r=>{const o=EC(r),u=AC(n,o);return t=u.registrationPromise,u.installationEntry});return i.fid===jm?{installationEntry:await t}:{installationEntry:i,registrationPromise:t}}function EC(n){const t=n||{fid:mC(),registrationStatus:0};return _1(t)}function AC(n,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(aa.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const i={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=bC(n,i);return{installationEntry:i,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:SC(n)}:{installationEntry:t}}async function bC(n,t){try{const i=await hC(n,t);return yh(n.appConfig,i)}catch(i){throw l1(i)&&i.customData.serverCode===409?await v1(n.appConfig):await yh(n.appConfig,{fid:t.fid,registrationStatus:0}),i}}async function SC(n){let t=await b_(n.appConfig);for(;t.registrationStatus===1;)await m1(100),t=await b_(n.appConfig);if(t.registrationStatus===0){const{installationEntry:i,registrationPromise:r}=await Np(n);return r||i}return t}function b_(n){return kh(n,t=>{if(!t)throw aa.create("installation-not-found");return _1(t)})}function _1(n){return wC(n)?{fid:n.fid,registrationStatus:0}:n}function wC(n){return n.registrationStatus===1&&n.registrationTime+r1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RC({appConfig:n,heartbeatServiceProvider:t},i){const r=CC(n,i),o=lC(n,i),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={installation:{sdkVersion:a1,appId:n.appId}},d={method:"POST",headers:o,body:JSON.stringify(h)},p=await d1(()=>fetch(r,d));if(p.ok){const g=await p.json();return c1(g)}else throw await h1("Generate Auth Token",p)}function CC(n,{fid:t}){return`${u1(n)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pp(n,t=!1){let i;const r=await kh(n.appConfig,u=>{if(!T1(u))throw aa.create("not-registered");const h=u.authToken;if(!t&&VC(h))return u;if(h.requestStatus===1)return i=DC(n,t),u;{if(!navigator.onLine)throw aa.create("app-offline");const d=MC(u);return i=xC(n,d),d}});return i?await i:r.authToken}async function DC(n,t){let i=await S_(n.appConfig);for(;i.authToken.requestStatus===1;)await m1(100),i=await S_(n.appConfig);const r=i.authToken;return r.requestStatus===0?Pp(n,t):r}function S_(n){return kh(n,t=>{if(!T1(t))throw aa.create("not-registered");const i=t.authToken;return OC(i)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function xC(n,t){try{const i=await RC(n,t),r=Object.assign(Object.assign({},t),{authToken:i});return await yh(n.appConfig,r),i}catch(i){if(l1(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await v1(n.appConfig);else{const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await yh(n.appConfig,r)}throw i}}function T1(n){return n!==void 0&&n.registrationStatus===2}function VC(n){return n.requestStatus===2&&!IC(n)}function IC(n){const t=Date.now();return t<n.creationTime||n.creationTime+n.expiresIn<t+sC}function MC(n){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:t})}function OC(n){return n.requestStatus===1&&n.requestTime+r1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NC(n){const t=n,{installationEntry:i,registrationPromise:r}=await Np(t);return r?r.catch(console.error):Pp(t).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PC(n,t=!1){const i=n;return await LC(i),(await Pp(i,t)).token}async function LC(n){const{registrationPromise:t}=await Np(n);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(n){if(!n||!n.options)throw mm("App Configuration");if(!n.name)throw mm("App Name");const t=["projectId","apiKey","appId"];for(const i of t)if(!n.options[i])throw mm(i);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function mm(n){return aa.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="installations",UC="installations-internal",BC=n=>{const t=n.getProvider("app").getImmediate(),i=kC(t),r=vu(t,"heartbeat");return{app:t,appConfig:i,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},jC=n=>{const t=n.getProvider("app").getImmediate(),i=vu(t,E1).getImmediate();return{getId:()=>NC(i),getToken:o=>PC(i,o)}};function zC(){nr(new ds(E1,BC,"PUBLIC")),nr(new ds(UC,jC,"PRIVATE"))}zC();xi(s1,Mp);xi(s1,Mp,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh="analytics",FC="firebase_id",qC="origin",HC=60*1e3,GC="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Lp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rn=new Vp("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Bn=new Ph("analytics","Analytics",KC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(n){if(!n.startsWith(Lp)){const t=Bn.create("invalid-gtag-resource",{gtagURL:n});return Rn.warn(t.message),""}return n}function A1(n){return Promise.all(n.map(t=>t.catch(i=>i)))}function QC(n,t){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(n,t)),i}function XC(n,t){const i=QC("firebase-js-sdk-policy",{createScriptURL:YC}),r=document.createElement("script"),o=`${Lp}?l=${n}&id=${t}`;r.src=i?i==null?void 0:i.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function $C(n){let t=[];return Array.isArray(window[n])?t=window[n]:window[n]=t,t}async function ZC(n,t,i,r,o,u){const h=r[o];try{if(h)await t[h];else{const p=(await A1(i)).find(g=>g.measurementId===o);p&&await t[p.appId]}}catch(d){Rn.error(d)}n("config",o,u)}async function WC(n,t,i,r,o){try{let u=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const d=await A1(i);for(const p of h){const g=d.find(E=>E.measurementId===p),v=g&&t[g.appId];if(v)u.push(v);else{u=[];break}}}u.length===0&&(u=Object.values(t)),await Promise.all(u),n("event",r,o||{})}catch(u){Rn.error(u)}}function JC(n,t,i,r){async function o(u,...h){try{if(u==="event"){const[d,p]=h;await WC(n,t,i,d,p)}else if(u==="config"){const[d,p]=h;await ZC(n,t,i,r,d,p)}else if(u==="consent"){const[d,p]=h;n("consent",d,p)}else if(u==="get"){const[d,p,g]=h;n("get",d,p,g)}else if(u==="set"){const[d]=h;n("set",d)}else n(u,...h)}catch(d){Rn.error(d)}}return o}function tD(n,t,i,r,o){let u=function(...h){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=JC(u,n,t,i),{gtagCore:u,wrappedGtag:window[o]}}function eD(n){const t=window.document.getElementsByTagName("script");for(const i of Object.values(t))if(i.src&&i.src.includes(Lp)&&i.src.includes(n))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=30,iD=1e3;class sD{constructor(t={},i=iD){this.throttleMetadata=t,this.intervalMillis=i}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,i){this.throttleMetadata[t]=i}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const b1=new sD;function rD(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function aD(n){var t;const{appId:i,apiKey:r}=n,o={method:"GET",headers:rD(r)},u=GC.replace("{app-id}",i),h=await fetch(u,o);if(h.status!==200&&h.status!==304){let d="";try{const p=await h.json();!((t=p.error)===null||t===void 0)&&t.message&&(d=p.error.message)}catch{}throw Bn.create("config-fetch-failed",{httpStatus:h.status,responseMessage:d})}return h.json()}async function oD(n,t=b1,i){const{appId:r,apiKey:o,measurementId:u}=n.options;if(!r)throw Bn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:r};throw Bn.create("no-api-key")}const h=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new cD;return setTimeout(async()=>{d.abort()},HC),S1({appId:r,apiKey:o,measurementId:u},h,d,t)}async function S1(n,{throttleEndTimeMillis:t,backoffCount:i},r,o=b1){var u;const{appId:h,measurementId:d}=n;try{await lD(r,t)}catch(p){if(d)return Rn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:h,measurementId:d};throw p}try{const p=await aD(n);return o.deleteThrottleMetadata(h),p}catch(p){const g=p;if(!uD(g)){if(o.deleteThrottleMetadata(h),d)return Rn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:h,measurementId:d};throw p}const v=Number((u=g==null?void 0:g.customData)===null||u===void 0?void 0:u.httpStatus)===503?m_(i,o.intervalMillis,nD):m_(i,o.intervalMillis),E={throttleEndTimeMillis:Date.now()+v,backoffCount:i+1};return o.setThrottleMetadata(h,E),Rn.debug(`Calling attemptFetch again in ${v} millis`),S1(n,E,r,o)}}function lD(n,t){return new Promise((i,r)=>{const o=Math.max(t-Date.now(),0),u=setTimeout(i,o);n.addEventListener(()=>{clearTimeout(u),r(Bn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function uD(n){if(!(n instanceof fr)||!n.customData)return!1;const t=Number(n.customData.httpStatus);return t===429||t===500||t===503||t===504}class cD{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function hD(n,t,i,r,o){if(o&&o.global){n("event",i,r);return}else{const u=await t,h=Object.assign(Object.assign({},r),{send_to:u});n("event",i,h)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fD(){if(Dp())try{await xp()}catch(n){return Rn.warn(Bn.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Rn.warn(Bn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function dD(n,t,i,r,o,u,h){var d;const p=oD(n);p.then(D=>{i[D.measurementId]=D.appId,n.options.measurementId&&D.measurementId!==n.options.measurementId&&Rn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${D.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(D=>Rn.error(D)),t.push(p);const g=fD().then(D=>{if(D)return r.getId()}),[v,E]=await Promise.all([p,g]);eD(u)||XC(u,v.measurementId),o("js",new Date);const A=(d=h==null?void 0:h.config)!==null&&d!==void 0?d:{};return A[qC]="firebase",A.update=!0,E!=null&&(A[FC]=E),o("config",v.measurementId,A),v.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(t){this.app=t}_delete(){return delete Kl[this.app.options.appId],Promise.resolve()}}let Kl={},w_=[];const R_={};let pm="dataLayer",pD="gtag",C_,w1,D_=!1;function gD(){const n=[];if(XE()&&n.push("This is a browser extension environment."),$E()||n.push("Cookies are not available."),n.length>0){const t=n.map((r,o)=>`(${o+1}) ${r}`).join(" "),i=Bn.create("invalid-analytics-context",{errorInfo:t});Rn.warn(i.message)}}function yD(n,t,i){gD();const r=n.options.appId;if(!r)throw Bn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Rn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Bn.create("no-api-key");if(Kl[r]!=null)throw Bn.create("already-exists",{id:r});if(!D_){$C(pm);const{wrappedGtag:u,gtagCore:h}=tD(Kl,w_,R_,pm,pD);w1=u,C_=h,D_=!0}return Kl[r]=dD(n,w_,R_,t,C_,pm,i),new mD(n)}function vD(n=e1()){n=ci(n);const t=vu(n,vh);return t.isInitialized()?t.getImmediate():_D(n)}function _D(n,t={}){const i=vu(n,vh);if(i.isInitialized()){const o=i.getImmediate();if(nu(t,i.getOptions()))return o;throw Bn.create("already-initialized")}return i.initialize({options:t})}async function TD(){if(XE()||!$E()||!Dp())return!1;try{return await xp()}catch{return!1}}function R1(n,t,i,r){n=ci(n),hD(w1,Kl[n.app.options.appId],t,i,r).catch(o=>Rn.error(o))}const x_="@firebase/analytics",V_="0.10.17";function ED(){nr(new ds(vh,(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return yD(r,o,i)},"PUBLIC")),nr(new ds("analytics-internal",n,"PRIVATE")),xi(x_,V_),xi(x_,V_,"esm2017");function n(t){try{const i=t.getProvider(vh).getImmediate();return{logEvent:(r,o,u)=>R1(i,r,o,u)}}catch(i){throw Bn.create("interop-component-reg-failed",{reason:i})}}}ED();var AD="firebase",bD="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xi(AD,bD,"app");var I_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Js,C1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(N,C){function x(){}x.prototype=C.prototype,N.D=C.prototype,N.prototype=new x,N.prototype.constructor=N,N.C=function(M,O,k){for(var I=Array(arguments.length-2),Kt=2;Kt<arguments.length;Kt++)I[Kt-2]=arguments[Kt];return C.prototype[O].apply(M,I)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,i),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,C,x){x||(x=0);var M=Array(16);if(typeof C=="string")for(var O=0;16>O;++O)M[O]=C.charCodeAt(x++)|C.charCodeAt(x++)<<8|C.charCodeAt(x++)<<16|C.charCodeAt(x++)<<24;else for(O=0;16>O;++O)M[O]=C[x++]|C[x++]<<8|C[x++]<<16|C[x++]<<24;C=N.g[0],x=N.g[1],O=N.g[2];var k=N.g[3],I=C+(k^x&(O^k))+M[0]+3614090360&4294967295;C=x+(I<<7&4294967295|I>>>25),I=k+(O^C&(x^O))+M[1]+3905402710&4294967295,k=C+(I<<12&4294967295|I>>>20),I=O+(x^k&(C^x))+M[2]+606105819&4294967295,O=k+(I<<17&4294967295|I>>>15),I=x+(C^O&(k^C))+M[3]+3250441966&4294967295,x=O+(I<<22&4294967295|I>>>10),I=C+(k^x&(O^k))+M[4]+4118548399&4294967295,C=x+(I<<7&4294967295|I>>>25),I=k+(O^C&(x^O))+M[5]+1200080426&4294967295,k=C+(I<<12&4294967295|I>>>20),I=O+(x^k&(C^x))+M[6]+2821735955&4294967295,O=k+(I<<17&4294967295|I>>>15),I=x+(C^O&(k^C))+M[7]+4249261313&4294967295,x=O+(I<<22&4294967295|I>>>10),I=C+(k^x&(O^k))+M[8]+1770035416&4294967295,C=x+(I<<7&4294967295|I>>>25),I=k+(O^C&(x^O))+M[9]+2336552879&4294967295,k=C+(I<<12&4294967295|I>>>20),I=O+(x^k&(C^x))+M[10]+4294925233&4294967295,O=k+(I<<17&4294967295|I>>>15),I=x+(C^O&(k^C))+M[11]+2304563134&4294967295,x=O+(I<<22&4294967295|I>>>10),I=C+(k^x&(O^k))+M[12]+1804603682&4294967295,C=x+(I<<7&4294967295|I>>>25),I=k+(O^C&(x^O))+M[13]+4254626195&4294967295,k=C+(I<<12&4294967295|I>>>20),I=O+(x^k&(C^x))+M[14]+2792965006&4294967295,O=k+(I<<17&4294967295|I>>>15),I=x+(C^O&(k^C))+M[15]+1236535329&4294967295,x=O+(I<<22&4294967295|I>>>10),I=C+(O^k&(x^O))+M[1]+4129170786&4294967295,C=x+(I<<5&4294967295|I>>>27),I=k+(x^O&(C^x))+M[6]+3225465664&4294967295,k=C+(I<<9&4294967295|I>>>23),I=O+(C^x&(k^C))+M[11]+643717713&4294967295,O=k+(I<<14&4294967295|I>>>18),I=x+(k^C&(O^k))+M[0]+3921069994&4294967295,x=O+(I<<20&4294967295|I>>>12),I=C+(O^k&(x^O))+M[5]+3593408605&4294967295,C=x+(I<<5&4294967295|I>>>27),I=k+(x^O&(C^x))+M[10]+38016083&4294967295,k=C+(I<<9&4294967295|I>>>23),I=O+(C^x&(k^C))+M[15]+3634488961&4294967295,O=k+(I<<14&4294967295|I>>>18),I=x+(k^C&(O^k))+M[4]+3889429448&4294967295,x=O+(I<<20&4294967295|I>>>12),I=C+(O^k&(x^O))+M[9]+568446438&4294967295,C=x+(I<<5&4294967295|I>>>27),I=k+(x^O&(C^x))+M[14]+3275163606&4294967295,k=C+(I<<9&4294967295|I>>>23),I=O+(C^x&(k^C))+M[3]+4107603335&4294967295,O=k+(I<<14&4294967295|I>>>18),I=x+(k^C&(O^k))+M[8]+1163531501&4294967295,x=O+(I<<20&4294967295|I>>>12),I=C+(O^k&(x^O))+M[13]+2850285829&4294967295,C=x+(I<<5&4294967295|I>>>27),I=k+(x^O&(C^x))+M[2]+4243563512&4294967295,k=C+(I<<9&4294967295|I>>>23),I=O+(C^x&(k^C))+M[7]+1735328473&4294967295,O=k+(I<<14&4294967295|I>>>18),I=x+(k^C&(O^k))+M[12]+2368359562&4294967295,x=O+(I<<20&4294967295|I>>>12),I=C+(x^O^k)+M[5]+4294588738&4294967295,C=x+(I<<4&4294967295|I>>>28),I=k+(C^x^O)+M[8]+2272392833&4294967295,k=C+(I<<11&4294967295|I>>>21),I=O+(k^C^x)+M[11]+1839030562&4294967295,O=k+(I<<16&4294967295|I>>>16),I=x+(O^k^C)+M[14]+4259657740&4294967295,x=O+(I<<23&4294967295|I>>>9),I=C+(x^O^k)+M[1]+2763975236&4294967295,C=x+(I<<4&4294967295|I>>>28),I=k+(C^x^O)+M[4]+1272893353&4294967295,k=C+(I<<11&4294967295|I>>>21),I=O+(k^C^x)+M[7]+4139469664&4294967295,O=k+(I<<16&4294967295|I>>>16),I=x+(O^k^C)+M[10]+3200236656&4294967295,x=O+(I<<23&4294967295|I>>>9),I=C+(x^O^k)+M[13]+681279174&4294967295,C=x+(I<<4&4294967295|I>>>28),I=k+(C^x^O)+M[0]+3936430074&4294967295,k=C+(I<<11&4294967295|I>>>21),I=O+(k^C^x)+M[3]+3572445317&4294967295,O=k+(I<<16&4294967295|I>>>16),I=x+(O^k^C)+M[6]+76029189&4294967295,x=O+(I<<23&4294967295|I>>>9),I=C+(x^O^k)+M[9]+3654602809&4294967295,C=x+(I<<4&4294967295|I>>>28),I=k+(C^x^O)+M[12]+3873151461&4294967295,k=C+(I<<11&4294967295|I>>>21),I=O+(k^C^x)+M[15]+530742520&4294967295,O=k+(I<<16&4294967295|I>>>16),I=x+(O^k^C)+M[2]+3299628645&4294967295,x=O+(I<<23&4294967295|I>>>9),I=C+(O^(x|~k))+M[0]+4096336452&4294967295,C=x+(I<<6&4294967295|I>>>26),I=k+(x^(C|~O))+M[7]+1126891415&4294967295,k=C+(I<<10&4294967295|I>>>22),I=O+(C^(k|~x))+M[14]+2878612391&4294967295,O=k+(I<<15&4294967295|I>>>17),I=x+(k^(O|~C))+M[5]+4237533241&4294967295,x=O+(I<<21&4294967295|I>>>11),I=C+(O^(x|~k))+M[12]+1700485571&4294967295,C=x+(I<<6&4294967295|I>>>26),I=k+(x^(C|~O))+M[3]+2399980690&4294967295,k=C+(I<<10&4294967295|I>>>22),I=O+(C^(k|~x))+M[10]+4293915773&4294967295,O=k+(I<<15&4294967295|I>>>17),I=x+(k^(O|~C))+M[1]+2240044497&4294967295,x=O+(I<<21&4294967295|I>>>11),I=C+(O^(x|~k))+M[8]+1873313359&4294967295,C=x+(I<<6&4294967295|I>>>26),I=k+(x^(C|~O))+M[15]+4264355552&4294967295,k=C+(I<<10&4294967295|I>>>22),I=O+(C^(k|~x))+M[6]+2734768916&4294967295,O=k+(I<<15&4294967295|I>>>17),I=x+(k^(O|~C))+M[13]+1309151649&4294967295,x=O+(I<<21&4294967295|I>>>11),I=C+(O^(x|~k))+M[4]+4149444226&4294967295,C=x+(I<<6&4294967295|I>>>26),I=k+(x^(C|~O))+M[11]+3174756917&4294967295,k=C+(I<<10&4294967295|I>>>22),I=O+(C^(k|~x))+M[2]+718787259&4294967295,O=k+(I<<15&4294967295|I>>>17),I=x+(k^(O|~C))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+C&4294967295,N.g[1]=N.g[1]+(O+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+k&4294967295}r.prototype.u=function(N,C){C===void 0&&(C=N.length);for(var x=C-this.blockSize,M=this.B,O=this.h,k=0;k<C;){if(O==0)for(;k<=x;)o(this,N,k),k+=this.blockSize;if(typeof N=="string"){for(;k<C;)if(M[O++]=N.charCodeAt(k++),O==this.blockSize){o(this,M),O=0;break}}else for(;k<C;)if(M[O++]=N[k++],O==this.blockSize){o(this,M),O=0;break}}this.h=O,this.o+=C},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var C=1;C<N.length-8;++C)N[C]=0;var x=8*this.o;for(C=N.length-8;C<N.length;++C)N[C]=x&255,x/=256;for(this.u(N),N=Array(16),C=x=0;4>C;++C)for(var M=0;32>M;M+=8)N[x++]=this.g[C]>>>M&255;return N};function u(N,C){var x=d;return Object.prototype.hasOwnProperty.call(x,N)?x[N]:x[N]=C(N)}function h(N,C){this.h=C;for(var x=[],M=!0,O=N.length-1;0<=O;O--){var k=N[O]|0;M&&k==C||(x[O]=k,M=!1)}this.g=x}var d={};function p(N){return-128<=N&&128>N?u(N,function(C){return new h([C|0],0>C?-1:0)}):new h([N|0],0>N?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return E;if(0>N)return U(g(-N));for(var C=[],x=1,M=0;N>=x;M++)C[M]=N/x|0,x*=4294967296;return new h(C,0)}function v(N,C){if(N.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(N.charAt(0)=="-")return U(v(N.substring(1),C));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=g(Math.pow(C,8)),M=E,O=0;O<N.length;O+=8){var k=Math.min(8,N.length-O),I=parseInt(N.substring(O,O+k),C);8>k?(k=g(Math.pow(C,k)),M=M.j(k).add(g(I))):(M=M.j(x),M=M.add(g(I)))}return M}var E=p(0),A=p(1),D=p(16777216);n=h.prototype,n.m=function(){if(q(this))return-U(this).m();for(var N=0,C=1,x=0;x<this.g.length;x++){var M=this.i(x);N+=(0<=M?M:4294967296+M)*C,C*=4294967296}return N},n.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(L(this))return"0";if(q(this))return"-"+U(this).toString(N);for(var C=g(Math.pow(N,6)),x=this,M="";;){var O=ht(x,C).g;x=W(x,O.j(C));var k=((0<x.g.length?x.g[0]:x.h)>>>0).toString(N);if(x=O,L(x))return k+M;for(;6>k.length;)k="0"+k;M=k+M}},n.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function L(N){if(N.h!=0)return!1;for(var C=0;C<N.g.length;C++)if(N.g[C]!=0)return!1;return!0}function q(N){return N.h==-1}n.l=function(N){return N=W(this,N),q(N)?-1:L(N)?0:1};function U(N){for(var C=N.g.length,x=[],M=0;M<C;M++)x[M]=~N.g[M];return new h(x,~N.h).add(A)}n.abs=function(){return q(this)?U(this):this},n.add=function(N){for(var C=Math.max(this.g.length,N.g.length),x=[],M=0,O=0;O<=C;O++){var k=M+(this.i(O)&65535)+(N.i(O)&65535),I=(k>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);M=I>>>16,k&=65535,I&=65535,x[O]=I<<16|k}return new h(x,x[x.length-1]&-2147483648?-1:0)};function W(N,C){return N.add(U(C))}n.j=function(N){if(L(this)||L(N))return E;if(q(this))return q(N)?U(this).j(U(N)):U(U(this).j(N));if(q(N))return U(this.j(U(N)));if(0>this.l(D)&&0>N.l(D))return g(this.m()*N.m());for(var C=this.g.length+N.g.length,x=[],M=0;M<2*C;M++)x[M]=0;for(M=0;M<this.g.length;M++)for(var O=0;O<N.g.length;O++){var k=this.i(M)>>>16,I=this.i(M)&65535,Kt=N.i(O)>>>16,Ut=N.i(O)&65535;x[2*M+2*O]+=I*Ut,it(x,2*M+2*O),x[2*M+2*O+1]+=k*Ut,it(x,2*M+2*O+1),x[2*M+2*O+1]+=I*Kt,it(x,2*M+2*O+1),x[2*M+2*O+2]+=k*Kt,it(x,2*M+2*O+2)}for(M=0;M<C;M++)x[M]=x[2*M+1]<<16|x[2*M];for(M=C;M<2*C;M++)x[M]=0;return new h(x,0)};function it(N,C){for(;(N[C]&65535)!=N[C];)N[C+1]+=N[C]>>>16,N[C]&=65535,C++}function Z(N,C){this.g=N,this.h=C}function ht(N,C){if(L(C))throw Error("division by zero");if(L(N))return new Z(E,E);if(q(N))return C=ht(U(N),C),new Z(U(C.g),U(C.h));if(q(C))return C=ht(N,U(C)),new Z(U(C.g),C.h);if(30<N.g.length){if(q(N)||q(C))throw Error("slowDivide_ only works with positive integers.");for(var x=A,M=C;0>=M.l(N);)x=at(x),M=at(M);var O=gt(x,1),k=gt(M,1);for(M=gt(M,2),x=gt(x,2);!L(M);){var I=k.add(M);0>=I.l(N)&&(O=O.add(x),k=I),M=gt(M,1),x=gt(x,1)}return C=W(N,O.j(C)),new Z(O,C)}for(O=E;0<=N.l(C);){for(x=Math.max(1,Math.floor(N.m()/C.m())),M=Math.ceil(Math.log(x)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),k=g(x),I=k.j(C);q(I)||0<I.l(N);)x-=M,k=g(x),I=k.j(C);L(k)&&(k=A),O=O.add(k),N=W(N,I)}return new Z(O,N)}n.A=function(N){return ht(this,N).h},n.and=function(N){for(var C=Math.max(this.g.length,N.g.length),x=[],M=0;M<C;M++)x[M]=this.i(M)&N.i(M);return new h(x,this.h&N.h)},n.or=function(N){for(var C=Math.max(this.g.length,N.g.length),x=[],M=0;M<C;M++)x[M]=this.i(M)|N.i(M);return new h(x,this.h|N.h)},n.xor=function(N){for(var C=Math.max(this.g.length,N.g.length),x=[],M=0;M<C;M++)x[M]=this.i(M)^N.i(M);return new h(x,this.h^N.h)};function at(N){for(var C=N.g.length+1,x=[],M=0;M<C;M++)x[M]=N.i(M)<<1|N.i(M-1)>>>31;return new h(x,N.h)}function gt(N,C){var x=C>>5;C%=32;for(var M=N.g.length-x,O=[],k=0;k<M;k++)O[k]=0<C?N.i(k+x)>>>C|N.i(k+x+1)<<32-C:N.i(k+x);return new h(O,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,C1=r,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=v,Js=h}).apply(typeof I_<"u"?I_:typeof self<"u"?self:typeof window<"u"?window:{});var $c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var D1,Bl,x1,rh,zm,V1,I1,M1;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof $c=="object"&&$c];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=i(this);function o(c,y){if(y)t:{var _=r;c=c.split(".");for(var w=0;w<c.length-1;w++){var j=c[w];if(!(j in _))break t;_=_[j]}c=c[c.length-1],w=_[c],y=y(w),y!=w&&y!=null&&t(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,w=!1,j={next:function(){if(!w&&_<c.length){var K=_++;return{value:y(K,c[K]),done:!1}}return w=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,_){return c.call.apply(c.bind,arguments)}function E(c,y,_){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,w),c.apply(y,j)}}return function(){return c.apply(y,arguments)}}function A(c,y,_){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:E,A.apply(null,arguments)}function D(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function L(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(w,j,K){for(var lt=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)lt[zt-2]=arguments[zt];return y.prototype[j].apply(w,lt)}}function q(c){const y=c.length;if(0<y){const _=Array(y);for(let w=0;w<y;w++)_[w]=c[w];return _}return[]}function U(c,y){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(p(w)){const j=c.length||0,K=w.length||0;c.length=j+K;for(let lt=0;lt<K;lt++)c[j+lt]=w[lt]}else c.push(w)}}class W{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function it(c){return/^[\s\xa0]*$/.test(c)}function Z(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function ht(c){return ht[" "](c),c}ht[" "]=function(){};var at=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function gt(c,y,_){for(const w in c)y.call(_,c[w],w,c)}function N(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function C(c){const y={};for(const _ in c)y[_]=c[_];return y}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,y){let _,w;for(let j=1;j<arguments.length;j++){w=arguments[j];for(_ in w)c[_]=w[_];for(let K=0;K<x.length;K++)_=x[K],Object.prototype.hasOwnProperty.call(w,_)&&(c[_]=w[_])}}function O(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function k(c){d.setTimeout(()=>{throw c},0)}function I(){var c=xt;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Kt{constructor(){this.h=this.g=null}add(y,_){const w=Ut.get();w.set(y,_),this.h?this.h.next=w:this.g=w,this.h=w}}var Ut=new W(()=>new Q,c=>c.reset());class Q{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,ft=!1,xt=new Kt,b=()=>{const c=d.Promise.resolve(void 0);nt=()=>{c.then(R)}};var R=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(_){k(_)}var y=Ut;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ft=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var ot=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return c})();function ct(c,y){if(Y.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(at){t:{try{ht(y.nodeName);var j=!0;break t}catch{}j=!1}j||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ut[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ct.aa.h.call(this)}}L(ct,Y);var ut={2:"touch",3:"pen",4:"mouse"};ct.prototype.h=function(){ct.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var mt="closure_listenable_"+(1e6*Math.random()|0),yt=0;function Pt(c,y,_,w,j){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!w,this.ha=j,this.key=++yt,this.da=this.fa=!1}function Qt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function jt(c){this.src=c,this.g={},this.h=0}jt.prototype.add=function(c,y,_,w,j){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var lt=le(c,y,w,j);return-1<lt?(y=c[lt],_||(y.fa=!1)):(y=new Pt(y,this.src,K,!!w,j),y.fa=_,c.push(y)),y};function Zt(c,y){var _=y.type;if(_ in c.g){var w=c.g[_],j=Array.prototype.indexOf.call(w,y,void 0),K;(K=0<=j)&&Array.prototype.splice.call(w,j,1),K&&(Qt(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function le(c,y,_,w){for(var j=0;j<c.length;++j){var K=c[j];if(!K.da&&K.listener==y&&K.capture==!!_&&K.ha==w)return j}return-1}var Vt="closure_lm_"+(1e6*Math.random()|0),Ce={};function on(c,y,_,w,j){if(Array.isArray(y)){for(var K=0;K<y.length;K++)on(c,y[K],_,w,j);return null}return _=fa(_),c&&c[mt]?c.K(y,_,g(w)?!!w.capture:!1,j):fe(c,y,_,!1,w,j)}function fe(c,y,_,w,j,K){if(!y)throw Error("Invalid event type");var lt=g(j)?!!j.capture:!!j,zt=_s(c);if(zt||(c[Vt]=zt=new jt(c)),_=zt.add(y,_,w,lt,K),_.proxy)return _;if(w=Cn(),_.proxy=w,w.src=c,w.listener=_,c.addEventListener)ot||(j=lt),j===void 0&&(j=!1),c.addEventListener(y.toString(),w,j);else if(c.attachEvent)c.attachEvent(Bi(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Cn(){function c(_){return y.call(c.src,c.listener,_)}const y=Vo;return c}function Dn(c,y,_,w,j){if(Array.isArray(y))for(var K=0;K<y.length;K++)Dn(c,y[K],_,w,j);else w=g(w)?!!w.capture:!!w,_=fa(_),c&&c[mt]?(c=c.i,y=String(y).toString(),y in c.g&&(K=c.g[y],_=le(K,_,w,j),-1<_&&(Qt(K[_]),Array.prototype.splice.call(K,_,1),K.length==0&&(delete c.g[y],c.h--)))):c&&(c=_s(c))&&(y=c.g[y.toString()],c=-1,y&&(c=le(y,_,w,j)),(_=-1<c?y[c]:null)&&$e(_))}function $e(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[mt])Zt(y.i,c);else{var _=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(_,w,c.capture):y.detachEvent?y.detachEvent(Bi(_),w):y.addListener&&y.removeListener&&y.removeListener(w),(_=_s(y))?(Zt(_,c),_.h==0&&(_.src=null,y[Vt]=null)):Qt(c)}}}function Bi(c){return c in Ce?Ce[c]:Ce[c]="on"+c}function Vo(c,y){if(c.da)c=!0;else{y=new ct(y,this);var _=c.listener,w=c.ha||c.src;c.fa&&$e(c),c=_.call(w,y)}return c}function _s(c){return c=c[Vt],c instanceof jt?c:null}var Ts="__closure_events_fn_"+(1e9*Math.random()>>>0);function fa(c){return typeof c=="function"?c:(c[Ts]||(c[Ts]=function(y){return c.handleEvent(y)}),c[Ts])}function ue(){X.call(this),this.i=new jt(this),this.M=this,this.F=null}L(ue,X),ue.prototype[mt]=!0,ue.prototype.removeEventListener=function(c,y,_,w){Dn(this,c,y,_,w)};function Xt(c,y){var _,w=c.F;if(w)for(_=[];w;w=w.F)_.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new Y(y,c);else if(y instanceof Y)y.target=y.target||c;else{var j=y;y=new Y(w,c),M(y,j)}if(j=!0,_)for(var K=_.length-1;0<=K;K--){var lt=y.g=_[K];j=mn(lt,w,!0,y)&&j}if(lt=y.g=c,j=mn(lt,w,!0,y)&&j,j=mn(lt,w,!1,y)&&j,_)for(K=0;K<_.length;K++)lt=y.g=_[K],j=mn(lt,w,!1,y)&&j}ue.prototype.N=function(){if(ue.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],w=0;w<_.length;w++)Qt(_[w]);delete c.g[y],c.h--}}this.F=null},ue.prototype.K=function(c,y,_,w){return this.i.add(String(c),y,!1,_,w)},ue.prototype.L=function(c,y,_,w){return this.i.add(String(c),y,!0,_,w)};function mn(c,y,_,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var j=!0,K=0;K<y.length;++K){var lt=y[K];if(lt&&!lt.da&&lt.capture==_){var zt=lt.listener,Ue=lt.ha||lt.src;lt.fa&&Zt(c.i,lt),j=zt.call(Ue,w)!==!1&&j}}return j&&!w.defaultPrevented}function Le(c,y,_){if(typeof c=="function")_&&(c=A(c,_));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function gr(c){c.g=Le(()=>{c.g=null,c.i&&(c.i=!1,gr(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class yr extends X{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:gr(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ji(c){X.call(this),this.h=c,this.g={}}L(ji,X);var zi=[];function vr(c){gt(c.g,function(y,_){this.g.hasOwnProperty(_)&&$e(y)},c),c.g={}}ji.prototype.N=function(){ji.aa.N.call(this),vr(this)},ji.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ii=d.JSON.stringify,da=d.JSON.parse,_r=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Io(){}Io.prototype.h=null;function Mo(c){return c.h||(c.h=c.i())}function Oo(){}var Fi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qi(){Y.call(this,"d")}L(qi,Y);function No(){Y.call(this,"c")}L(No,Y);var hi={},Po=null;function Es(){return Po=Po||new ue}hi.La="serverreachability";function ma(c){Y.call(this,hi.La,c)}L(ma,Y);function As(c){const y=Es();Xt(y,new ma(y))}hi.STAT_EVENT="statevent";function xu(c,y){Y.call(this,hi.STAT_EVENT,c),this.stat=y}L(xu,Y);function de(c){const y=Es();Xt(y,new xu(y,c))}hi.Ma="timingevent";function ke(c,y){Y.call(this,hi.Ma,c),this.size=y}L(ke,Y);function De(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function jn(){this.g=!0}jn.prototype.xa=function(){this.g=!1};function Lo(c,y,_,w,j,K){c.info(function(){if(c.g)if(K)for(var lt="",zt=K.split("&"),Ue=0;Ue<zt.length;Ue++){var Ft=zt[Ue].split("=");if(1<Ft.length){var Ge=Ft[0];Ft=Ft[1];var Be=Ge.split("_");lt=2<=Be.length&&Be[1]=="type"?lt+(Ge+"="+Ft+"&"):lt+(Ge+"=redacted&")}}else lt=null;else lt=K;return"XMLHTTP REQ ("+w+") [attempt "+j+"]: "+y+`
`+_+`
`+lt})}function af(c,y,_,w,j,K,lt){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+j+"]: "+y+`
`+_+`
`+K+" "+lt})}function bs(c,y,_,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Tr(c,_)+(w?" "+w:"")})}function Vu(c,y){c.info(function(){return"TIMEOUT: "+y})}jn.prototype.info=function(){};function Tr(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var w=_[c];if(!(2>w.length)){var j=w[1];if(Array.isArray(j)&&!(1>j.length)){var K=j[0];if(K!="noop"&&K!="stop"&&K!="close")for(var lt=1;lt<j.length;lt++)j[lt]=""}}}}return ii(_)}catch{return y}}var Ss={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Hi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},fi;function di(){}L(di,Io),di.prototype.g=function(){return new XMLHttpRequest},di.prototype.i=function(){return{}},fi=new di;function pn(c,y,_,w){this.j=c,this.i=y,this.l=_,this.R=w||1,this.U=new ji(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ae}function Ae(){this.i=null,this.g="",this.h=!1}var ko={},pa={};function si(c,y,_){c.L=1,c.v=wr(xn(y)),c.m=_,c.P=!0,Gi(c,null)}function Gi(c,y){c.F=Date.now(),Er(c),c.A=xn(c.v);var _=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),qo(_.i,"t",w),c.C=0,_=c.j.J,c.h=new Ae,c.g=Ku(c.j,_?y:null,!c.m),0<c.O&&(c.M=new yr(A(c.Y,c,c.g),c.O)),y=c.U,_=c.g,w=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(zi[0]=j.toString()),j=zi);for(var K=0;K<j.length;K++){var lt=on(_,j[K],w||y.handleEvent,!1,y.h||y);if(!lt)break;y.g[lt.key]=lt}y=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),As(),Lo(c.i,c.u,c.A,c.l,c.R,c.m)}pn.prototype.ca=function(c){c=c.target;const y=this.M;y&&Hn(c)==3?y.j():this.Y(c)},pn.prototype.Y=function(c){try{if(c==this.g)t:{const Be=Hn(this.g);var y=this.g.Ba();const Ji=this.g.Z();if(!(3>Be)&&(Be!=3||this.g&&(this.h.h||this.g.oa()||Uu(this.g)))){this.J||Be!=4||y==7||(y==8||0>=Ji?As(3):As(2)),ws(this);var _=this.g.Z();this.X=_;e:if(Iu(this)){var w=Uu(this.g);c="";var j=w.length,K=Hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ze(this),mi(this);var lt="";break e}this.h.i=new d.TextDecoder}for(y=0;y<j;y++)this.h.h=!0,c+=this.h.i.decode(w[y],{stream:!(K&&y==j-1)});w.length=0,this.h.g+=c,this.C=0,lt=this.h.g}else lt=this.g.oa();if(this.o=_==200,af(this.i,this.u,this.A,this.l,this.R,Be,_),this.o){if(this.T&&!this.K){e:{if(this.g){var zt,Ue=this.g;if((zt=Ue.g?Ue.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!it(zt)){var Ft=zt;break e}}Ft=null}if(_=Ft)bs(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ar(this,_);else{this.o=!1,this.s=3,de(12),Ze(this),mi(this);break t}}if(this.P){_=!0;let We;for(;!this.J&&this.C<lt.length;)if(We=Mu(this,lt),We==pa){Be==4&&(this.s=4,de(14),_=!1),bs(this.i,this.l,null,"[Incomplete Response]");break}else if(We==ko){this.s=4,de(15),bs(this.i,this.l,lt,"[Invalid Chunk]"),_=!1;break}else bs(this.i,this.l,We,null),Ar(this,We);if(Iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Be!=4||lt.length!=0||this.h.h||(this.s=1,de(16),_=!1),this.o=this.o&&_,!_)bs(this.i,this.l,lt,"[Invalid Chunked Response]"),Ze(this),mi(this);else if(0<lt.length&&!this.W){this.W=!0;var Ge=this.j;Ge.g==this&&Ge.ba&&!Ge.M&&(Ge.j.info("Great, no buffering proxy detected. Bytes received: "+lt.length),Or(Ge),Ge.M=!0,de(11))}}else bs(this.i,this.l,lt,null),Ar(this,lt);Be==4&&Ze(this),this.o&&!this.J&&(Be==4?qu(this.j,this):(this.o=!1,Er(this)))}else hf(this.g),_==400&&0<lt.indexOf("Unknown SID")?(this.s=3,de(12)):(this.s=0,de(13)),Ze(this),mi(this)}}}catch{}finally{}};function Iu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Mu(c,y){var _=c.C,w=y.indexOf(`
`,_);return w==-1?pa:(_=Number(y.substring(_,w)),isNaN(_)?ko:(w+=1,w+_>y.length?pa:(y=y.slice(w,w+_),c.C=w+_,y)))}pn.prototype.cancel=function(){this.J=!0,Ze(this)};function Er(c){c.S=Date.now()+c.I,Ou(c,c.I)}function Ou(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=De(A(c.ba,c),y)}function ws(c){c.B&&(d.clearTimeout(c.B),c.B=null)}pn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Vu(this.i,this.A),this.L!=2&&(As(),de(17)),Ze(this),this.s=2,mi(this)):Ou(this,this.S-c)};function mi(c){c.j.G==0||c.J||qu(c.j,c)}function Ze(c){ws(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,vr(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Ar(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Uo(_.h,c))){if(!c.K&&Uo(_.h,c)&&_.G==3){try{var w=_.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var j=w;if(j[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ca(_),wa(_);else break t;Qo(_),de(18)}}else _.za=j[1],0<_.za-_.T&&37500>j[2]&&_.F&&_.v==0&&!_.C&&(_.C=De(A(_.Za,_),6e3));if(1>=ya(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Wi(_,11)}else if((c.K||_.g==c)&&Ca(_),!it(y))for(j=_.Da.g.parse(y),y=0;y<j.length;y++){let Ft=j[y];if(_.T=Ft[0],Ft=Ft[1],_.G==2)if(Ft[0]=="c"){_.K=Ft[1],_.ia=Ft[2];const Ge=Ft[3];Ge!=null&&(_.la=Ge,_.j.info("VER="+_.la));const Be=Ft[4];Be!=null&&(_.Aa=Be,_.j.info("SVER="+_.Aa));const Ji=Ft[5];Ji!=null&&typeof Ji=="number"&&0<Ji&&(w=1.5*Ji,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const We=c.g;if(We){const Ei=We.g?We.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ei){var K=w.h;K.g||Ei.indexOf("spdy")==-1&&Ei.indexOf("quic")==-1&&Ei.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(va(K,K.h),K.h=null))}if(w.D){const $o=We.g?We.g.getResponseHeader("X-HTTP-Session-Id"):null;$o&&(w.ya=$o,ne(w.I,w.D,$o))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var lt=c;if(w.qa=Gu(w,w.J?w.ia:null,w.W),lt.K){gn(w.h,lt);var zt=lt,Ue=w.L;Ue&&(zt.I=Ue),zt.B&&(ws(zt),Er(zt)),w.g=lt}else zu(w);0<_.i.length&&Ra(_)}else Ft[0]!="stop"&&Ft[0]!="close"||Wi(_,7);else _.G==3&&(Ft[0]=="stop"||Ft[0]=="close"?Ft[0]=="stop"?Wi(_,7):Ko(_):Ft[0]!="noop"&&_.l&&_.l.ta(Ft),_.v=0)}}As(4)}catch{}}var Nu=class{constructor(c,y){this.g=c,this.map=y}};function Ki(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ga(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ya(c){return c.h?1:c.g?c.g.size:0}function Uo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function va(c,y){c.g?c.g.add(y):c.h=y}function gn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ki.prototype.cancel=function(){if(this.i=Bo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Bo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return q(c.i)}function of(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,w=0;w<_;w++)y.push(c[w]);return y}y=[],_=0;for(w in c)y[_++]=c[w];return y}function _a(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const w in c)y[_++]=w;return y}}}function jo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=_a(c),w=of(c),j=w.length,K=0;K<j;K++)y.call(void 0,w[K],_&&_[K],c)}var br=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lf(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var w=c[_].indexOf("="),j=null;if(0<=w){var K=c[_].substring(0,w);j=c[_].substring(w+1)}else K=c[_];y(K,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function xe(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof xe){this.h=c.h,Sr(this,c.j),this.o=c.o,this.g=c.g,Rs(this,c.s),this.l=c.l;var y=c.i,_=new Qi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Yi(this,_),this.m=c.m}else c&&(y=String(c).match(br))?(this.h=!1,Sr(this,y[1]||"",!0),this.o=zn(y[2]||""),this.g=zn(y[3]||"",!0),Rs(this,y[4]),this.l=zn(y[5]||"",!0),Yi(this,y[6]||"",!0),this.m=zn(y[7]||"")):(this.h=!1,this.i=new Qi(null,this.h))}xe.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Rr(y,zo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Rr(y,zo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Rr(_,_.charAt(0)=="/"?uf:Fo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Rr(_,Ta)),c.join("")};function xn(c){return new xe(c)}function Sr(c,y,_){c.j=_?zn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Rs(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Yi(c,y,_){y instanceof Qi?(c.i=y,Lu(c.i,c.h)):(_||(y=Rr(y,cf)),c.i=new Qi(y,c.h))}function ne(c,y,_){c.i.set(y,_)}function wr(c){return ne(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function zn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Rr(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Pu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Pu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var zo=/[#\/\?@]/g,Fo=/[#\?:]/g,uf=/[#\?]/g,cf=/[#\?@]/g,Ta=/#/g;function Qi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Fn(c){c.g||(c.g=new Map,c.h=0,c.i&&lf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}n=Qi.prototype,n.add=function(c,y){Fn(this),this.i=null,c=pi(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Xi(c,y){Fn(c),y=pi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function $i(c,y){return Fn(c),y=pi(c,y),c.g.has(y)}n.forEach=function(c,y){Fn(this),this.g.forEach(function(_,w){_.forEach(function(j){c.call(y,j,w,this)},this)},this)},n.na=function(){Fn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let w=0;w<y.length;w++){const j=c[w];for(let K=0;K<j.length;K++)_.push(y[w])}return _},n.V=function(c){Fn(this);let y=[];if(typeof c=="string")$i(this,c)&&(y=y.concat(this.g.get(pi(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},n.set=function(c,y){return Fn(this),this.i=null,c=pi(this,c),$i(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},n.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function qo(c,y,_){Xi(c,y),0<_.length&&(c.i=null,c.g.set(pi(c,y),q(_)),c.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var w=y[_];const K=encodeURIComponent(String(w)),lt=this.V(w);for(w=0;w<lt.length;w++){var j=K;lt[w]!==""&&(j+="="+encodeURIComponent(String(lt[w]))),c.push(j)}}return this.i=c.join("&")};function pi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Lu(c,y){y&&!c.j&&(Fn(c),c.i=null,c.g.forEach(function(_,w){var j=w.toLowerCase();w!=j&&(Xi(this,w),qo(this,j,_))},c)),c.j=y}function Cr(c,y){const _=new jn;if(d.Image){const w=new Image;w.onload=D(qn,_,"TestLoadImage: loaded",!0,y,w),w.onerror=D(qn,_,"TestLoadImage: error",!1,y,w),w.onabort=D(qn,_,"TestLoadImage: abort",!1,y,w),w.ontimeout=D(qn,_,"TestLoadImage: timeout",!1,y,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function ri(c,y){const _=new jn,w=new AbortController,j=setTimeout(()=>{w.abort(),qn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(K=>{clearTimeout(j),K.ok?qn(_,"TestPingServer: ok",!0,y):qn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),qn(_,"TestPingServer: error",!1,y)})}function qn(c,y,_,w,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),w(_)}catch{}}function Dr(){this.g=new _r}function gi(c,y,_){const w=_||"";try{jo(c,function(j,K){let lt=j;g(j)&&(lt=ii(j)),y.push(w+K+"="+encodeURIComponent(lt))})}catch(j){throw y.push(w+"type="+encodeURIComponent("_badmap")),j}}function Cs(c){this.l=c.Ub||null,this.j=c.eb||!1}L(Cs,Io),Cs.prototype.g=function(){return new Zi(this.l,this.j)},Cs.prototype.i=(function(c){return function(){return c}})({});function Zi(c,y){ue.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(Zi,ue),n=Zi.prototype,n.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,vi(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yi(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,vi(this)),this.g&&(this.readyState=3,vi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ho(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ho(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?yi(this):vi(this),this.readyState==3&&Ho(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,yi(this))},n.Qa=function(c){this.g&&(this.response=c,yi(this))},n.ga=function(){this.g&&yi(this)};function yi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,vi(c)}n.setRequestHeader=function(c,y){this.u.append(c,y)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function vi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Zi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Go(c){let y="";return gt(c,function(_,w){y+=w,y+=":",y+=_,y+=`\r
`}),y}function He(c,y,_){t:{for(w in _){var w=!1;break t}w=!0}w||(_=Go(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):ne(c,y,_))}function Wt(c){ue.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(Wt,ue);var Ea=/^https?$/i,xr=["POST","PUT"];n=Wt.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,y,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():fi.g(),this.v=this.o?Mo(this.o):Mo(fi),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){ku(this,K);return}if(c=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var j in w)_.set(j,w[j]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const K of w.keys())_.set(K,w.get(K));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),j=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(xr,y,void 0))||w||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,lt]of _)this.g.setRequestHeader(K,lt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vr(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){ku(this,K)}};function ku(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Aa(c),_i(c)}function Aa(c){c.A||(c.A=!0,Xt(c,"complete"),Xt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Xt(this,"complete"),Xt(this,"abort"),_i(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_i(this,!0)),Wt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ba(this):this.bb())},n.bb=function(){ba(this)};function ba(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Hn(c)!=4||c.Z()!=2)){if(c.u&&Hn(c)==4)Le(c.Ea,0,c);else if(Xt(c,"readystatechange"),Hn(c)==4){c.h=!1;try{const lt=c.Z();t:switch(lt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var w;if(w=lt===0){var j=String(c.D).match(br)[1]||null;!j&&d.self&&d.self.location&&(j=d.self.location.protocol.slice(0,-1)),w=!Ea.test(j?j.toLowerCase():"")}_=w}if(_)Xt(c,"complete"),Xt(c,"success");else{c.m=6;try{var K=2<Hn(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",Aa(c)}}finally{_i(c)}}}}function _i(c,y){if(c.g){Vr(c);const _=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Xt(c,"ready");try{_.onreadystatechange=w}catch{}}}function Vr(c){c.I&&(d.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Hn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Hn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),da(y)}};function Uu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function hf(c){const y={};c=(c.g&&2<=Hn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(it(c[w]))continue;var _=O(c[w]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=y[j]||[];y[j]=K,K.push(_)}N(y,function(w){return w.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ir(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Sa(c){this.Aa=0,this.i=[],this.j=new jn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ir("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ir("baseRetryDelayMs",5e3,c),this.cb=Ir("retryDelaySeedMs",1e4,c),this.Wa=Ir("forwardChannelMaxRetries",2,c),this.wa=Ir("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ki(c&&c.concurrentRequestLimit),this.Da=new Dr,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Sa.prototype,n.la=8,n.G=1,n.connect=function(c,y,_,w){de(0),this.W=c,this.H=y||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=Gu(this,null,this.W),Ra(this)};function Ko(c){if(Bu(c),c.G==3){var y=c.U++,_=xn(c.I);if(ne(_,"SID",c.K),ne(_,"RID",y),ne(_,"TYPE","terminate"),Mr(c,_),y=new pn(c,c.j,y),y.L=2,y.v=wr(xn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=Ku(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Er(y)}Hu(c)}function wa(c){c.g&&(Or(c),c.g.cancel(),c.g=null)}function Bu(c){wa(c),c.u&&(d.clearTimeout(c.u),c.u=null),Ca(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function Ra(c){if(!ga(c.h)&&!c.s){c.s=!0;var y=c.Ga;nt||b(),ft||(nt(),ft=!0),xt.add(y,c),c.B=0}}function ff(c,y){return ya(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=De(A(c.Ga,c,y),Xo(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new pn(this,this.j,c);let K=this.o;if(this.S&&(K?(K=C(K),M(K,this.S)):K=this.S),this.m!==null||this.O||(j.H=K,K=null),this.P)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=ju(this,j,y),_=xn(this.I),ne(_,"RID",c),ne(_,"CVER",22),this.D&&ne(_,"X-HTTP-Session-Id",this.D),Mr(this,_),K&&(this.O?y="headers="+encodeURIComponent(String(Go(K)))+"&"+y:this.m&&He(_,this.m,K)),va(this.h,j),this.Ua&&ne(_,"TYPE","init"),this.P?(ne(_,"$req",y),ne(_,"SID","null"),j.T=!0,si(j,_,null)):si(j,_,y),this.G=2}}else this.G==3&&(c?Yo(this,c):this.i.length==0||ga(this.h)||Yo(this))};function Yo(c,y){var _;y?_=y.l:_=c.U++;const w=xn(c.I);ne(w,"SID",c.K),ne(w,"RID",_),ne(w,"AID",c.T),Mr(c,w),c.m&&c.o&&He(w,c.m,c.o),_=new pn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=ju(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),va(c.h,_),si(_,w,y)}function Mr(c,y){c.H&&gt(c.H,function(_,w){ne(y,w,_)}),c.l&&jo({},function(_,w){ne(y,w,_)})}function ju(c,y,_){_=Math.min(c.i.length,_);var w=c.l?A(c.l.Na,c.l,c):null;t:{var j=c.i;let K=-1;for(;;){const lt=["count="+_];K==-1?0<_?(K=j[0].g,lt.push("ofs="+K)):K=0:lt.push("ofs="+K);let zt=!0;for(let Ue=0;Ue<_;Ue++){let Ft=j[Ue].g;const Ge=j[Ue].map;if(Ft-=K,0>Ft)K=Math.max(0,j[Ue].g-100),zt=!1;else try{gi(Ge,lt,"req"+Ft+"_")}catch{w&&w(Ge)}}if(zt){w=lt.join("&");break t}}}return c=c.i.splice(0,_),y.D=c,w}function zu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;nt||b(),ft||(nt(),ft=!0),xt.add(y,c),c.v=0}}function Qo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=De(A(c.Fa,c),Xo(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Fu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=De(A(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,de(10),wa(this),Fu(this))};function Or(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function Fu(c){c.g=new pn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=xn(c.qa);ne(y,"RID","rpc"),ne(y,"SID",c.K),ne(y,"AID",c.T),ne(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&ne(y,"TO",c.ja),ne(y,"TYPE","xmlhttp"),Mr(c,y),c.m&&c.o&&He(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=wr(xn(y)),_.m=null,_.P=!0,Gi(_,c)}n.Za=function(){this.C!=null&&(this.C=null,wa(this),Qo(this),de(19))};function Ca(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function qu(c,y){var _=null;if(c.g==y){Ca(c),Or(c),c.g=null;var w=2}else if(Uo(c.h,y))_=y.D,gn(c.h,y),w=1;else return;if(c.G!=0){if(y.o)if(w==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var j=c.B;w=Es(),Xt(w,new ke(w,_)),Ra(c)}else zu(c);else if(j=y.s,j==3||j==0&&0<y.X||!(w==1&&ff(c,y)||w==2&&Qo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),j){case 1:Wi(c,5);break;case 4:Wi(c,10);break;case 3:Wi(c,6);break;default:Wi(c,2)}}}function Xo(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Wi(c,y){if(c.j.info("Error code "+y),y==2){var _=A(c.fb,c),w=c.Xa;const j=!w;w=new xe(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Sr(w,"https"),wr(w),j?Cr(w.toString(),_):ri(w.toString(),_)}else de(2);c.G=0,c.l&&c.l.sa(y),Hu(c),Bu(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),de(2)):(this.j.info("Failed to ping google.com"),de(1))};function Hu(c){if(c.G=0,c.ka=[],c.l){const y=Bo(c.h);(y.length!=0||c.i.length!=0)&&(U(c.ka,y),U(c.ka,c.i),c.h.i.length=0,q(c.i),c.i.length=0),c.l.ra()}}function Gu(c,y,_){var w=_ instanceof xe?xn(_):new xe(_);if(w.g!="")y&&(w.g=y+"."+w.g),Rs(w,w.s);else{var j=d.location;w=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;var K=new xe(null);w&&Sr(K,w),y&&(K.g=y),j&&Rs(K,j),_&&(K.l=_),w=K}return _=c.D,y=c.ya,_&&y&&ne(w,_,y),ne(w,"VER",c.la),Mr(c,w),w}function Ku(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Wt(new Cs({eb:_})):new Wt(c.pa),y.Ha(c.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yu(){}n=Yu.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Da(){}Da.prototype.g=function(c,y){return new yn(c,y)};function yn(c,y){ue.call(this),this.g=new Sa(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!it(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!it(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Ti(this)}L(yn,ue),yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){Ko(this.g)},yn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=ii(c),c=_);y.i.push(new Nu(y.Ya++,c)),y.G==3&&Ra(y)},yn.prototype.N=function(){this.g.l=null,delete this.j,Ko(this.g),delete this.g,yn.aa.N.call(this)};function Qu(c){qi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const _ in y){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}L(Qu,qi);function Xu(){No.call(this),this.status=1}L(Xu,No);function Ti(c){this.g=c}L(Ti,Yu),Ti.prototype.ua=function(){Xt(this.g,"a")},Ti.prototype.ta=function(c){Xt(this.g,new Qu(c))},Ti.prototype.sa=function(c){Xt(this.g,new Xu)},Ti.prototype.ra=function(){Xt(this.g,"b")},Da.prototype.createWebChannel=Da.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,M1=function(){return new Da},I1=function(){return Es()},V1=hi,zm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ss.NO_ERROR=0,Ss.TIMEOUT=8,Ss.HTTP_ERROR=6,rh=Ss,Hi.COMPLETE="complete",x1=Hi,Oo.EventType=Fi,Fi.OPEN="a",Fi.CLOSE="b",Fi.ERROR="c",Fi.MESSAGE="d",ue.prototype.listen=ue.prototype.K,Bl=Oo,Wt.prototype.listenOnce=Wt.prototype.L,Wt.prototype.getLastError=Wt.prototype.Ka,Wt.prototype.getLastErrorCode=Wt.prototype.Ba,Wt.prototype.getStatus=Wt.prototype.Z,Wt.prototype.getResponseJson=Wt.prototype.Oa,Wt.prototype.getResponseText=Wt.prototype.oa,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Ha,D1=Wt}).apply(typeof $c<"u"?$c:typeof self<"u"?self:typeof window<"u"?window:{});const M_="@firebase/firestore",O_="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=new Vp("@firebase/firestore");function io(){return la.logLevel}function dt(n,...t){if(la.logLevel<=Gt.DEBUG){const i=t.map(kp);la.debug(`Firestore (${bo}): ${n}`,...i)}}function ps(n,...t){if(la.logLevel<=Gt.ERROR){const i=t.map(kp);la.error(`Firestore (${bo}): ${n}`,...i)}}function ir(n,...t){if(la.logLevel<=Gt.WARN){const i=t.map(kp);la.warn(`Firestore (${bo}): ${n}`,...i)}}function kp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(n,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,O1(n,r,i)}function O1(n,t,i){let r=`FIRESTORE (${bo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw ps(r),new Error(r)}function Jt(n,t,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,n||O1(t,o,r)}function Dt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const st={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _t extends fr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class SD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(hn.UNAUTHENTICATED)))}shutdown(){}}class wD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class RD{constructor(t){this.t=t,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Jt(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,i(p)):Promise.resolve();let u=new na;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new na,t.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},d=p=>{dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new na)}}),0),h()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Jt(typeof r.accessToken=="string",31837,{l:r}),new N1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Jt(t===null||typeof t=="string",2055,{h:t}),new hn(t)}}class CD{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class DD{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new CD(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class N_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xD{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,q2(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Jt(this.o===void 0,3512);const r=u=>{u.error!=null&&dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,dt("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?i(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new N_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Jt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new N_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<n;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=VD(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<i&&(r+=t.charAt(o[u]%62))}return r}}function Ot(n,t){return n<t?-1:n>t?1:0}function Fm(n,t){let i=0;for(;i<n.length&&i<t.length;){const r=n.codePointAt(i),o=t.codePointAt(i);if(r!==o){if(r<128&&o<128)return Ot(r,o);{const u=P1(),h=ID(u.encode(P_(n,i)),u.encode(P_(t,i)));return h!==0?h:Ot(r,o)}}i+=r>65535?2:1}return Ot(n.length,t.length)}function P_(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function ID(n,t){for(let i=0;i<n.length&&i<t.length;++i)if(n[i]!==t[i])return Ot(n[i],t[i]);return Ot(n.length,t.length)}function go(n,t,i){return n.length===t.length&&n.every(((r,o)=>i(r,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="__name__";class Di{constructor(t,i,r){i===void 0?i=0:i>t.length&&St(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&St(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return Di.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Di?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let o=0;o<r;o++){const u=Di.compareSegments(t.get(o),i.get(o));if(u!==0)return u}return Ot(t.length,i.length)}static compareSegments(t,i){const r=Di.isNumericId(t),o=Di.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?Di.extractNumericId(t).compare(Di.extractNumericId(i)):Fm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Js.fromString(t.substring(4,t.length-2))}}class ce extends Di{construct(t,i,r){return new ce(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new _t(st.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new ce(i)}static emptyPath(){return new ce([])}}const MD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends Di{construct(t,i,r){return new rn(t,i,r)}static isValidIdentifier(t){return MD.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===L_}static keyField(){return new rn([L_])}static fromServerFormat(t){const i=[];let r="",o=0;const u=()=>{if(r.length===0)throw new _t(st.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let h=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new _t(st.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new _t(st.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(r+=d,o++):(u(),o++)}if(u(),h)throw new _t(st.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new rn(i)}static emptyPath(){return new rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(t){this.path=t}static fromPath(t){return new Et(ce.fromString(t))}static fromName(t){return new Et(ce.fromString(t).popFirst(5))}static empty(){return new Et(ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ce.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ce.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Et(new ce(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(n,t,i){if(!i)throw new _t(st.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function OD(n,t,i,r){if(t===!0&&r===!0)throw new _t(st.INVALID_ARGUMENT,`${n} and ${i} cannot be used together.`)}function k_(n){if(!Et.isDocumentKey(n))throw new _t(st.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function U_(n){if(Et.isDocumentKey(n))throw new _t(st.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function k1(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Bp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":St(12329,{type:typeof n})}function tr(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new _t(st.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Bp(n);throw new _t(st.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(n,t){const i={typeString:n};return t&&(i.value=t),i}function _u(n,t){if(!k1(n))throw new _t(st.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in n)){i=`JSON missing required field: '${r}'`;break}const h=n[r];if(o&&typeof h!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){i=`Expected '${r}' field to equal '${u.value}'`;break}}if(i)throw new _t(st.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_=-62135596800,j_=1e6;class he{static now(){return he.fromMillis(Date.now())}static fromDate(t){return he.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*j_);return new he(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new _t(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new _t(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<B_)throw new _t(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new _t(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/j_}_compareTo(t){return this.seconds===t.seconds?Ot(this.nanoseconds,t.nanoseconds):Ot(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:he._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(_u(t,he._jsonSchema))return new he(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-B_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}he._jsonSchemaVersion="firestore/timestamp/1.0",he._jsonSchema={type:Ne("string",he._jsonSchemaVersion),seconds:Ne("number"),nanoseconds:Ne("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{static fromTimestamp(t){return new Ct(t)}static min(){return new Ct(new he(0,0))}static max(){return new Ct(new he(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=-1;function ND(n,t){const i=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Ct.fromTimestamp(r===1e9?new he(i+1,0):new he(i,r));return new sr(o,Et.empty(),t)}function PD(n){return new sr(n.readTime,n.key,su)}class sr{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new sr(Ct.min(),Et.empty(),su)}static max(){return new sr(Ct.max(),Et.empty(),su)}}function LD(n,t){let i=n.readTime.compareTo(t.readTime);return i!==0?i:(i=Et.comparator(n.documentKey,t.documentKey),i!==0?i:Ot(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(n){if(n.code!==st.FAILED_PRECONDITION||n.message!==kD)throw n;dt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&St(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new et(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(i,u).next(r,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof et?i:et.resolve(i)}catch(i){return et.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):et.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):et.reject(i)}static resolve(t){return new et(((i,r)=>{i(t)}))}static reject(t){return new et(((i,r)=>{r(t)}))}static waitFor(t){return new et(((i,r)=>{let o=0,u=0,h=!1;t.forEach((d=>{++o,d.next((()=>{++u,h&&u===o&&i()}),(p=>r(p)))})),h=!0,u===o&&i()}))}static or(t){let i=et.resolve(!1);for(const r of t)i=i.next((o=>o?et.resolve(o):r()));return i}static forEach(t,i){const r=[];return t.forEach(((o,u)=>{r.push(i.call(this,o,u))})),this.waitFor(r)}static mapArray(t,i){return new et(((r,o)=>{const u=t.length,h=new Array(u);let d=0;for(let p=0;p<u;p++){const g=p;i(t[g]).next((v=>{h[g]=v,++d,d===u&&r(h)}),(v=>o(v)))}}))}static doWhile(t,i){return new et(((r,o)=>{const u=()=>{t()===!0?i().next((()=>{u()}),o):r()};u()}))}}function BD(n){const t=n.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function wo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this._e(r),this.ae=r=>i.writeSequenceNumber(r))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}Uh.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp=-1;function Bh(n){return n==null}function _h(n){return n===0&&1/n==-1/0}function jD(n){return typeof n=="number"&&Number.isInteger(n)&&!_h(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="";function zD(n){let t="";for(let i=0;i<n.length;i++)t.length>0&&(t=z_(t)),t=FD(n.get(i),t);return z_(t)}function FD(n,t){let i=t;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":i+="";break;case U1:i+="";break;default:i+=u}}return i}function z_(n){return n+U1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(n){let t=0;for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t++;return t}function dr(n,t){for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t(i,n[i])}function B1(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(t,i){this.comparator=t,this.root=i||sn.EMPTY}insert(t,i){return new ve(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(t){return new ve(this.comparator,this.root.remove(t,this.comparator).copy(null,null,sn.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Zc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Zc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Zc(this.root,t,this.comparator,!0)}}class Zc{constructor(t,i,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=i?r(t.key,i):1,i&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class sn{constructor(t,i,r,o,u){this.key=t,this.value=i,this.color=r??sn.RED,this.left=o??sn.EMPTY,this.right=u??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,o,u){return new sn(t??this.key,i??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,i,r),null):u===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return sn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw St(43730,{key:this.key,value:this.value});if(this.right.isRed())throw St(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw St(27949);return t+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw St(57766)}get value(){throw St(16141)}get color(){throw St(16727)}get left(){throw St(29726)}get right(){throw St(36894)}copy(t,i,r,o,u){return this}insert(t,i,r){return new sn(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(t){this.comparator=t,this.data=new ve(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new q_(this.data.getIterator())}getIteratorFrom(t){return new q_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof qe)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new qe(this.comparator);return i.data=t,i}}class q_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(t){this.fields=t,t.sort(rn.comparator)}static empty(){return new Un([])}unionWith(t){let i=new qe(rn.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Un(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return go(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new j1("Invalid base64 string: "+u):u}})(t);return new an(i)}static fromUint8Array(t){const i=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(t);return new an(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ot(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}an.EMPTY_BYTE_STRING=new an("");const qD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rr(n){if(Jt(!!n,39018),typeof n=="string"){let t=0;const i=qD.exec(n);if(Jt(!!i,46558,{timestamp:n}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Re(n.seconds),nanos:Re(n.nanos)}}function Re(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ar(n){return typeof n=="string"?an.fromBase64String(n):an.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="server_timestamp",F1="__type__",q1="__previous_value__",H1="__local_write_time__";function zp(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[F1])===null||i===void 0?void 0:i.stringValue)===z1}function jh(n){const t=n.mapValue.fields[q1];return zp(t)?jh(t):t}function ru(n){const t=rr(n.mapValue.fields[H1].timestampValue);return new he(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(t,i,r,o,u,h,d,p,g,v){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const Th="(default)";class au{constructor(t,i){this.projectId=t,this.database=i||Th}static empty(){return new au("","")}get isDefaultDatabase(){return this.database===Th}isEqual(t){return t instanceof au&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1="__type__",GD="__max__",Wc={mapValue:{}},K1="__vector__",Eh="value";function or(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?zp(n)?4:YD(n)?9007199254740991:KD(n)?10:11:St(28295,{value:n})}function ki(n,t){if(n===t)return!0;const i=or(n);if(i!==or(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return ru(n).isEqual(ru(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=rr(o.timestampValue),d=rr(u.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(o,u){return ar(o.bytesValue).isEqual(ar(u.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(o,u){return Re(o.geoPointValue.latitude)===Re(u.geoPointValue.latitude)&&Re(o.geoPointValue.longitude)===Re(u.geoPointValue.longitude)})(n,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Re(o.integerValue)===Re(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Re(o.doubleValue),d=Re(u.doubleValue);return h===d?_h(h)===_h(d):isNaN(h)&&isNaN(d)}return!1})(n,t);case 9:return go(n.arrayValue.values||[],t.arrayValue.values||[],ki);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},d=u.mapValue.fields||{};if(F_(h)!==F_(d))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(d[p]===void 0||!ki(h[p],d[p])))return!1;return!0})(n,t);default:return St(52216,{left:n})}}function ou(n,t){return(n.values||[]).find((i=>ki(i,t)))!==void 0}function yo(n,t){if(n===t)return 0;const i=or(n),r=or(t);if(i!==r)return Ot(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ot(n.booleanValue,t.booleanValue);case 2:return(function(u,h){const d=Re(u.integerValue||u.doubleValue),p=Re(h.integerValue||h.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(n,t);case 3:return H_(n.timestampValue,t.timestampValue);case 4:return H_(ru(n),ru(t));case 5:return Fm(n.stringValue,t.stringValue);case 6:return(function(u,h){const d=ar(u),p=ar(h);return d.compareTo(p)})(n.bytesValue,t.bytesValue);case 7:return(function(u,h){const d=u.split("/"),p=h.split("/");for(let g=0;g<d.length&&g<p.length;g++){const v=Ot(d[g],p[g]);if(v!==0)return v}return Ot(d.length,p.length)})(n.referenceValue,t.referenceValue);case 8:return(function(u,h){const d=Ot(Re(u.latitude),Re(h.latitude));return d!==0?d:Ot(Re(u.longitude),Re(h.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return G_(n.arrayValue,t.arrayValue);case 10:return(function(u,h){var d,p,g,v;const E=u.fields||{},A=h.fields||{},D=(d=E[Eh])===null||d===void 0?void 0:d.arrayValue,L=(p=A[Eh])===null||p===void 0?void 0:p.arrayValue,q=Ot(((g=D==null?void 0:D.values)===null||g===void 0?void 0:g.length)||0,((v=L==null?void 0:L.values)===null||v===void 0?void 0:v.length)||0);return q!==0?q:G_(D,L)})(n.mapValue,t.mapValue);case 11:return(function(u,h){if(u===Wc.mapValue&&h===Wc.mapValue)return 0;if(u===Wc.mapValue)return 1;if(h===Wc.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),g=h.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let E=0;E<p.length&&E<v.length;++E){const A=Fm(p[E],v[E]);if(A!==0)return A;const D=yo(d[p[E]],g[v[E]]);if(D!==0)return D}return Ot(p.length,v.length)})(n.mapValue,t.mapValue);default:throw St(23264,{le:i})}}function H_(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Ot(n,t);const i=rr(n),r=rr(t),o=Ot(i.seconds,r.seconds);return o!==0?o:Ot(i.nanos,r.nanos)}function G_(n,t){const i=n.values||[],r=t.values||[];for(let o=0;o<i.length&&o<r.length;++o){const u=yo(i[o],r[o]);if(u)return u}return Ot(i.length,r.length)}function vo(n){return qm(n)}function qm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(i){const r=rr(i);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(i){return ar(i).toBase64()})(n.bytesValue):"referenceValue"in n?(function(i){return Et.fromName(i).toString()})(n.referenceValue):"geoPointValue"in n?(function(i){return`geo(${i.latitude},${i.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=qm(u);return r+"]"})(n.arrayValue):"mapValue"in n?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const h of r)u?u=!1:o+=",",o+=`${h}:${qm(i.fields[h])}`;return o+"}"})(n.mapValue):St(61005,{value:n})}function ah(n){switch(or(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=jh(n);return t?16+ah(t):16;case 5:return 2*n.stringValue.length;case 6:return ar(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+ah(u)),0)})(n.arrayValue);case 10:case 11:return(function(r){let o=0;return dr(r.fields,((u,h)=>{o+=u.length+ah(h)})),o})(n.mapValue);default:throw St(13486,{value:n})}}function Hm(n){return!!n&&"integerValue"in n}function Fp(n){return!!n&&"arrayValue"in n}function K_(n){return!!n&&"nullValue"in n}function Y_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function oh(n){return!!n&&"mapValue"in n}function KD(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[G1])===null||i===void 0?void 0:i.stringValue)===K1}function Yl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return dr(n.mapValue.fields,((i,r)=>t.mapValue.fields[i]=Yl(r))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(n.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Yl(n.arrayValue.values[i]);return t}return Object.assign({},n)}function YD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===GD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(t){this.value=t}static empty(){return new Sn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!oh(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Yl(i)}setAll(t){let i=rn.emptyPath(),r={},o=[];t.forEach(((h,d)=>{if(!i.isImmediateParentOf(d)){const p=this.getFieldsMap(i);this.applyChanges(p,r,o),r={},o=[],i=d.popLast()}h?r[d.lastSegment()]=Yl(h):o.push(d.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,r,o)}delete(t){const i=this.field(t.popLast());oh(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return ki(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=i.mapValue.fields[t.get(r)];oh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,r){dr(i,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new Sn(Yl(this.value))}}function Y1(n){const t=[];return dr(n.fields,((i,r)=>{const o=new rn([i]);if(oh(r)){const u=Y1(r.mapValue).fields;if(u.length===0)t.push(o);else for(const h of u)t.push(o.child(h))}else t.push(o)})),new Un(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t,i,r,o,u,h,d){this.key=t,this.documentType=i,this.version=r,this.readTime=o,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(t){return new fn(t,0,Ct.min(),Ct.min(),Ct.min(),Sn.empty(),0)}static newFoundDocument(t,i,r,o){return new fn(t,1,i,Ct.min(),r,o,0)}static newNoDocument(t,i){return new fn(t,2,i,Ct.min(),Ct.min(),Sn.empty(),0)}static newUnknownDocument(t,i){return new fn(t,3,i,Ct.min(),Ct.min(),Sn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof fn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(t,i){this.position=t,this.inclusive=i}}function Q_(n,t,i){let r=0;for(let o=0;o<n.position.length;o++){const u=t[o],h=n.position[o];if(u.field.isKeyField()?r=Et.comparator(Et.fromName(h.referenceValue),i.key):r=yo(h,i.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function X_(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let i=0;i<n.position.length;i++)if(!ki(n.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(t,i="asc"){this.field=t,this.dir=i}}function QD(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{}class Fe extends Q1{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new $D(t,i,r):i==="array-contains"?new JD(t,r):i==="in"?new tx(t,r):i==="not-in"?new ex(t,r):i==="array-contains-any"?new nx(t,r):new Fe(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new ZD(t,r):new WD(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(yo(i,this.value)):i!==null&&or(this.value)===or(i)&&this.matchesComparison(yo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return St(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ui extends Q1{constructor(t,i){super(),this.filters=t,this.op=i,this.he=null}static create(t,i){return new Ui(t,i)}matches(t){return X1(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function X1(n){return n.op==="and"}function $1(n){return XD(n)&&X1(n)}function XD(n){for(const t of n.filters)if(t instanceof Ui)return!1;return!0}function Gm(n){if(n instanceof Fe)return n.field.canonicalString()+n.op.toString()+vo(n.value);if($1(n))return n.filters.map((t=>Gm(t))).join(",");{const t=n.filters.map((i=>Gm(i))).join(",");return`${n.op}(${t})`}}function Z1(n,t){return n instanceof Fe?(function(r,o){return o instanceof Fe&&r.op===o.op&&r.field.isEqual(o.field)&&ki(r.value,o.value)})(n,t):n instanceof Ui?(function(r,o){return o instanceof Ui&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,h,d)=>u&&Z1(h,o.filters[d])),!0):!1})(n,t):void St(19439)}function W1(n){return n instanceof Fe?(function(i){return`${i.field.canonicalString()} ${i.op} ${vo(i.value)}`})(n):n instanceof Ui?(function(i){return i.op.toString()+" {"+i.getFilters().map(W1).join(" ,")+"}"})(n):"Filter"}class $D extends Fe{constructor(t,i,r){super(t,i,r),this.key=Et.fromName(r.referenceValue)}matches(t){const i=Et.comparator(t.key,this.key);return this.matchesComparison(i)}}class ZD extends Fe{constructor(t,i){super(t,"in",i),this.keys=J1("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class WD extends Fe{constructor(t,i){super(t,"not-in",i),this.keys=J1("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function J1(n,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map((r=>Et.fromName(r.referenceValue)))}class JD extends Fe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Fp(i)&&ou(i.arrayValue,this.value)}}class tx extends Fe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&ou(this.value.arrayValue,i)}}class ex extends Fe{constructor(t,i){super(t,"not-in",i)}matches(t){if(ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!ou(this.value.arrayValue,i)}}class nx extends Fe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Fp(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>ou(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(t,i=null,r=[],o=[],u=null,h=null,d=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=h,this.endAt=d,this.Pe=null}}function $_(n,t=null,i=[],r=[],o=null,u=null,h=null){return new ix(n,t,i,r,o,u,h)}function qp(n){const t=Dt(n);if(t.Pe===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>Gm(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Bh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>vo(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>vo(r))).join(",")),t.Pe=i}return t.Pe}function Hp(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!QD(n.orderBy[i],t.orderBy[i]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if(!Z1(n.filters[i],t.filters[i]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!X_(n.startAt,t.startAt)&&X_(n.endAt,t.endAt)}function Km(n){return Et.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(t,i=null,r=[],o=[],u=null,h="F",d=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function sx(n,t,i,r,o,u,h,d){return new zh(n,t,i,r,o,u,h,d)}function Gp(n){return new zh(n)}function Z_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function rx(n){return n.collectionGroup!==null}function Ql(n){const t=Dt(n);if(t.Te===null){t.Te=[];const i=new Set;for(const u of t.explicitOrderBy)t.Te.push(u),i.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new qe(rn.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(t).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||t.Te.push(new bh(u,r))})),i.has(rn.keyField().canonicalString())||t.Te.push(new bh(rn.keyField(),r))}return t.Te}function Vi(n){const t=Dt(n);return t.Ie||(t.Ie=ax(t,Ql(n))),t.Ie}function ax(n,t){if(n.limitType==="F")return $_(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new bh(o.field,u)}));const i=n.endAt?new Ah(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ah(n.startAt.position,n.startAt.inclusive):null;return $_(n.path,n.collectionGroup,t,n.filters,n.limit,i,r)}}function Ym(n,t,i){return new zh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,i,n.startAt,n.endAt)}function Fh(n,t){return Hp(Vi(n),Vi(t))&&n.limitType===t.limitType}function tA(n){return`${qp(Vi(n))}|lt:${n.limitType}`}function so(n){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>W1(o))).join(", ")}]`),Bh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>vo(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>vo(o))).join(",")),`Target(${r})`})(Vi(n))}; limitType=${n.limitType})`}function qh(n,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):Et.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(n,t)&&(function(r,o){for(const u of Ql(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(n,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(n,t)&&(function(r,o){return!(r.startAt&&!(function(h,d,p){const g=Q_(h,d,p);return h.inclusive?g<=0:g<0})(r.startAt,Ql(r),o)||r.endAt&&!(function(h,d,p){const g=Q_(h,d,p);return h.inclusive?g>=0:g>0})(r.endAt,Ql(r),o))})(n,t)}function ox(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function eA(n){return(t,i)=>{let r=!1;for(const o of Ql(n)){const u=lx(o,t,i);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function lx(n,t,i){const r=n.field.isKeyField()?Et.comparator(t.key,i.key):(function(u,h,d){const p=h.data.field(u),g=d.data.field(u);return p!==null&&g!==null?yo(p,g):St(42886)})(n.field,t,i);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return St(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){dr(this.inner,((i,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return B1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux=new ve(Et.comparator);function gs(){return ux}const nA=new ve(Et.comparator);function jl(...n){let t=nA;for(const i of n)t=t.insert(i.key,i);return t}function iA(n){let t=nA;return n.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function Jr(){return Xl()}function sA(){return Xl()}function Xl(){return new ca((n=>n.toString()),((n,t)=>n.isEqual(t)))}const cx=new ve(Et.comparator),hx=new qe(Et.comparator);function Bt(...n){let t=hx;for(const i of n)t=t.add(i);return t}const fx=new qe(Ot);function dx(){return fx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_h(t)?"-0":t}}function rA(n){return{integerValue:""+n}}function aA(n,t){return jD(t)?rA(t):Kp(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(){this._=void 0}}function mx(n,t,i){return n instanceof Sh?(function(o,u){const h={fields:{[F1]:{stringValue:z1},[H1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&zp(u)&&(u=jh(u)),u&&(h.fields[q1]=u),{mapValue:h}})(i,t):n instanceof lu?lA(n,t):n instanceof uu?uA(n,t):(function(o,u){const h=oA(o,u),d=W_(h)+W_(o.Ee);return Hm(h)&&Hm(o.Ee)?rA(d):Kp(o.serializer,d)})(n,t)}function px(n,t,i){return n instanceof lu?lA(n,t):n instanceof uu?uA(n,t):i}function oA(n,t){return n instanceof cu?(function(r){return Hm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class Sh extends Hh{}class lu extends Hh{constructor(t){super(),this.elements=t}}function lA(n,t){const i=cA(t);for(const r of n.elements)i.some((o=>ki(o,r)))||i.push(r);return{arrayValue:{values:i}}}class uu extends Hh{constructor(t){super(),this.elements=t}}function uA(n,t){let i=cA(t);for(const r of n.elements)i=i.filter((o=>!ki(o,r)));return{arrayValue:{values:i}}}class cu extends Hh{constructor(t,i){super(),this.serializer=t,this.Ee=i}}function W_(n){return Re(n.integerValue||n.doubleValue)}function cA(n){return Fp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(t,i){this.field=t,this.transform=i}}function yx(n,t){return n.field.isEqual(t.field)&&(function(r,o){return r instanceof lu&&o instanceof lu||r instanceof uu&&o instanceof uu?go(r.elements,o.elements,ki):r instanceof cu&&o instanceof cu?ki(r.Ee,o.Ee):r instanceof Sh&&o instanceof Sh})(n.transform,t.transform)}class vx{constructor(t,i){this.version=t,this.transformResults=i}}class Ii{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Ii}static exists(t){return new Ii(void 0,t)}static updateTime(t){return new Ii(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function lh(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Gh{}function hA(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new dA(n.key,Ii.none()):new Tu(n.key,n.data,Ii.none());{const i=n.data,r=Sn.empty();let o=new qe(rn.comparator);for(let u of t.fields)if(!o.has(u)){let h=i.field(u);h===null&&u.length>1&&(u=u.popLast(),h=i.field(u)),h===null?r.delete(u):r.set(u,h),o=o.add(u)}return new mr(n.key,r,new Un(o.toArray()),Ii.none())}}function _x(n,t,i){n instanceof Tu?(function(o,u,h){const d=o.value.clone(),p=tT(o.fieldTransforms,u,h.transformResults);d.setAll(p),u.convertToFoundDocument(h.version,d).setHasCommittedMutations()})(n,t,i):n instanceof mr?(function(o,u,h){if(!lh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const d=tT(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(fA(o)),p.setAll(d),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(n,t,i):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,t,i)}function $l(n,t,i,r){return n instanceof Tu?(function(u,h,d,p){if(!lh(u.precondition,h))return d;const g=u.value.clone(),v=eT(u.fieldTransforms,p,h);return g.setAll(v),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(n,t,i,r):n instanceof mr?(function(u,h,d,p){if(!lh(u.precondition,h))return d;const g=eT(u.fieldTransforms,p,h),v=h.data;return v.setAll(fA(u)),v.setAll(g),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((E=>E.field)))})(n,t,i,r):(function(u,h,d){return lh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d})(n,t,i)}function Tx(n,t){let i=null;for(const r of n.fieldTransforms){const o=t.data.field(r.field),u=oA(r.transform,o||null);u!=null&&(i===null&&(i=Sn.empty()),i.set(r.field,u))}return i||null}function J_(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&go(r,o,((u,h)=>yx(u,h)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Tu extends Gh{constructor(t,i,r,o=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class mr extends Gh{constructor(t,i,r,o,u=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function fA(n){const t=new Map;return n.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=n.data.field(i);t.set(i,r)}})),t}function tT(n,t,i){const r=new Map;Jt(n.length===i.length,32656,{Ae:i.length,Re:n.length});for(let o=0;o<i.length;o++){const u=n[o],h=u.transform,d=t.data.field(u.field);r.set(u.field,px(h,d,i[o]))}return r}function eT(n,t,i){const r=new Map;for(const o of n){const u=o.transform,h=i.data.field(o.field);r.set(o.field,mx(u,h,t))}return r}class dA extends Gh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ex extends Gh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(t,i,r,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&_x(u,t,r[o])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=$l(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=$l(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=sA();return this.mutations.forEach((o=>{const u=t.get(o.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=i.has(o.key)?null:d;const p=hA(h,d);p!==null&&r.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ct.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Bt())}isEqual(t){return this.batchId===t.batchId&&go(this.mutations,t.mutations,((i,r)=>J_(i,r)))&&go(this.baseMutations,t.baseMutations,((i,r)=>J_(i,r)))}}class Yp{constructor(t,i,r,o){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(t,i,r){Jt(t.mutations.length===r.length,58842,{Ve:t.mutations.length,me:r.length});let o=(function(){return cx})();const u=t.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,r[h].version);return new Yp(t,i,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me,Ht;function wx(n){switch(n){case st.OK:return St(64938);case st.CANCELLED:case st.UNKNOWN:case st.DEADLINE_EXCEEDED:case st.RESOURCE_EXHAUSTED:case st.INTERNAL:case st.UNAVAILABLE:case st.UNAUTHENTICATED:return!1;case st.INVALID_ARGUMENT:case st.NOT_FOUND:case st.ALREADY_EXISTS:case st.PERMISSION_DENIED:case st.FAILED_PRECONDITION:case st.ABORTED:case st.OUT_OF_RANGE:case st.UNIMPLEMENTED:case st.DATA_LOSS:return!0;default:return St(15467,{code:n})}}function mA(n){if(n===void 0)return ps("GRPC error has no .code"),st.UNKNOWN;switch(n){case Me.OK:return st.OK;case Me.CANCELLED:return st.CANCELLED;case Me.UNKNOWN:return st.UNKNOWN;case Me.DEADLINE_EXCEEDED:return st.DEADLINE_EXCEEDED;case Me.RESOURCE_EXHAUSTED:return st.RESOURCE_EXHAUSTED;case Me.INTERNAL:return st.INTERNAL;case Me.UNAVAILABLE:return st.UNAVAILABLE;case Me.UNAUTHENTICATED:return st.UNAUTHENTICATED;case Me.INVALID_ARGUMENT:return st.INVALID_ARGUMENT;case Me.NOT_FOUND:return st.NOT_FOUND;case Me.ALREADY_EXISTS:return st.ALREADY_EXISTS;case Me.PERMISSION_DENIED:return st.PERMISSION_DENIED;case Me.FAILED_PRECONDITION:return st.FAILED_PRECONDITION;case Me.ABORTED:return st.ABORTED;case Me.OUT_OF_RANGE:return st.OUT_OF_RANGE;case Me.UNIMPLEMENTED:return st.UNIMPLEMENTED;case Me.DATA_LOSS:return st.DATA_LOSS;default:return St(39323,{code:n})}}(Ht=Me||(Me={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=new Js([4294967295,4294967295],0);function nT(n){const t=P1().encode(n),i=new C1;return i.update(t),new Uint8Array(i.digest())}function iT(n){const t=new DataView(n.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Js([i,r],0),new Js([o,u],0)]}class Qp{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new zl(`Invalid padding: ${i}`);if(r<0)throw new zl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new zl(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new zl(`Invalid padding when bitmap length is 0: ${i}`);this.fe=8*t.length-i,this.ge=Js.fromNumber(this.fe)}pe(t,i,r){let o=t.add(i.multiply(Js.fromNumber(r)));return o.compare(Rx)===1&&(o=new Js([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const i=nT(t),[r,o]=iT(i);for(let u=0;u<this.hashCount;u++){const h=this.pe(r,o,u);if(!this.ye(h))return!1}return!0}static create(t,i,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),h=new Qp(u,o,i);return r.forEach((d=>h.insert(d))),h}insert(t){if(this.fe===0)return;const i=nT(t),[r,o]=iT(i);for(let u=0;u<this.hashCount;u++){const h=this.pe(r,o,u);this.we(h)}}we(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(t,i,r,o,u){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const o=new Map;return o.set(t,Eu.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new Kh(Ct.min(),o,new ve(Ot),gs(),Bt())}}class Eu{constructor(t,i,r,o,u){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Eu(r,i,Bt(),Bt(),Bt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(t,i,r,o){this.Se=t,this.removedTargetIds=i,this.key=r,this.be=o}}class pA{constructor(t,i){this.targetId=t,this.De=i}}class gA{constructor(t,i,r=an.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=o}}class sT{constructor(){this.ve=0,this.Ce=rT(),this.Fe=an.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=Bt(),i=Bt(),r=Bt();return this.Ce.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:St(38017,{changeType:u})}})),new Eu(this.Fe,this.Me,t,i,r)}ke(){this.xe=!1,this.Ce=rT()}qe(t,i){this.xe=!0,this.Ce=this.Ce.insert(t,i)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,Jt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class Cx{constructor(t){this.We=t,this.Ge=new Map,this.ze=gs(),this.je=Jc(),this.Je=Jc(),this.He=new ve(Ot)}Ye(t){for(const i of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(i,t.be):this.Xe(i,t.key,t.be);for(const i of t.removedTargetIds)this.Xe(i,t.key,t.be)}et(t){this.forEachTarget(t,(i=>{const r=this.tt(i);switch(t.state){case 0:this.nt(i)&&r.Be(t.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(t.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(i);break;case 3:this.nt(i)&&(r.Ke(),r.Be(t.resumeToken));break;case 4:this.nt(i)&&(this.rt(i),r.Be(t.resumeToken));break;default:St(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.Ge.forEach(((r,o)=>{this.nt(o)&&i(o)}))}it(t){const i=t.targetId,r=t.De.count,o=this.st(i);if(o){const u=o.target;if(Km(u))if(r===0){const h=new Et(u.path);this.Xe(i,h,fn.newNoDocument(h,Ct.min()))}else Jt(r===1,20013,{expectedCount:r});else{const h=this.ot(i);if(h!==r){const d=this._t(t),p=d?this.ut(d,t,h):1;if(p!==0){this.rt(i);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(i,g)}}}}}_t(t){const i=t.De.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=i;let h,d;try{h=ar(r).toUint8Array()}catch(p){if(p instanceof j1)return ir("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Qp(h,o,u)}catch(p){return ir(p instanceof zl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.fe===0?null:d}ut(t,i,r){return i.De.count===r-this.ht(t,i.targetId)?0:2}ht(t,i){const r=this.We.getRemoteKeysForTarget(i);let o=0;return r.forEach((u=>{const h=this.We.lt(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;t.mightContain(d)||(this.Xe(i,u,null),o++)})),o}Pt(t){const i=new Map;this.Ge.forEach(((u,h)=>{const d=this.st(h);if(d){if(u.current&&Km(d.target)){const p=new Et(d.target.path);this.Tt(p).has(h)||this.It(h,p)||this.Xe(h,p,fn.newNoDocument(p,t))}u.Ne&&(i.set(h,u.Le()),u.ke())}}));let r=Bt();this.Je.forEach(((u,h)=>{let d=!0;h.forEachWhile((p=>{const g=this.st(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(u))})),this.ze.forEach(((u,h)=>h.setReadTime(t)));const o=new Kh(t,i,this.He,this.ze,r);return this.ze=gs(),this.je=Jc(),this.Je=Jc(),this.He=new ve(Ot),o}Ze(t,i){if(!this.nt(t))return;const r=this.It(t,i.key)?2:0;this.tt(t).qe(i.key,r),this.ze=this.ze.insert(i.key,i),this.je=this.je.insert(i.key,this.Tt(i.key).add(t)),this.Je=this.Je.insert(i.key,this.dt(i.key).add(t))}Xe(t,i,r){if(!this.nt(t))return;const o=this.tt(t);this.It(t,i)?o.qe(i,1):o.Qe(i),this.Je=this.Je.insert(i,this.dt(i).delete(t)),this.Je=this.Je.insert(i,this.dt(i).add(t)),r&&(this.ze=this.ze.insert(i,r))}removeTarget(t){this.Ge.delete(t)}ot(t){const i=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let i=this.Ge.get(t);return i||(i=new sT,this.Ge.set(t,i)),i}dt(t){let i=this.Je.get(t);return i||(i=new qe(Ot),this.Je=this.Je.insert(t,i)),i}Tt(t){let i=this.je.get(t);return i||(i=new qe(Ot),this.je=this.je.insert(t,i)),i}nt(t){const i=this.st(t)!==null;return i||dt("WatchChangeAggregator","Detected inactive target",t),i}st(t){const i=this.Ge.get(t);return i&&i.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new sT),this.We.getRemoteKeysForTarget(t).forEach((i=>{this.Xe(t,i,null)}))}It(t,i){return this.We.getRemoteKeysForTarget(t).has(i)}}function Jc(){return new ve(Et.comparator)}function rT(){return new ve(Et.comparator)}const Dx={asc:"ASCENDING",desc:"DESCENDING"},xx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Vx={and:"AND",or:"OR"};class Ix{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Qm(n,t){return n.useProto3Json||Bh(t)?t:{value:t}}function wh(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function yA(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function Mx(n,t){return wh(n,t.toTimestamp())}function Mi(n){return Jt(!!n,49232),Ct.fromTimestamp((function(i){const r=rr(i);return new he(r.seconds,r.nanos)})(n))}function Xp(n,t){return Xm(n,t).canonicalString()}function Xm(n,t){const i=(function(o){return new ce(["projects",o.projectId,"databases",o.database])})(n).child("documents");return t===void 0?i:i.child(t)}function vA(n){const t=ce.fromString(n);return Jt(bA(t),10190,{key:t.toString()}),t}function $m(n,t){return Xp(n.databaseId,t.path)}function gm(n,t){const i=vA(t);if(i.get(1)!==n.databaseId.projectId)throw new _t(st.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+n.databaseId.projectId);if(i.get(3)!==n.databaseId.database)throw new _t(st.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+n.databaseId.database);return new Et(TA(i))}function _A(n,t){return Xp(n.databaseId,t)}function Ox(n){const t=vA(n);return t.length===4?ce.emptyPath():TA(t)}function Zm(n){return new ce(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function TA(n){return Jt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function aT(n,t,i){return{name:$m(n,t),fields:i.value.mapValue.fields}}function Nx(n,t){let i;if("targetChange"in t){t.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:St(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,v){return g.useProto3Json?(Jt(v===void 0||typeof v=="string",58123),an.fromBase64String(v||"")):(Jt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),an.fromUint8Array(v||new Uint8Array))})(n,t.targetChange.resumeToken),h=t.targetChange.cause,d=h&&(function(g){const v=g.code===void 0?st.UNKNOWN:mA(g.code);return new _t(v,g.message||"")})(h);i=new gA(r,o,u,d||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=gm(n,r.document.name),u=Mi(r.document.updateTime),h=r.document.createTime?Mi(r.document.createTime):Ct.min(),d=new Sn({mapValue:{fields:r.document.fields}}),p=fn.newFoundDocument(o,u,h,d),g=r.targetIds||[],v=r.removedTargetIds||[];i=new uh(g,v,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=gm(n,r.document),u=r.readTime?Mi(r.readTime):Ct.min(),h=fn.newNoDocument(o,u),d=r.removedTargetIds||[];i=new uh([],d,h.key,h)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=gm(n,r.document),u=r.removedTargetIds||[];i=new uh([],u,o,null)}else{if(!("filter"in t))return St(11601,{At:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,h=new Sx(o,u),d=r.targetId;i=new pA(d,h)}}return i}function Px(n,t){let i;if(t instanceof Tu)i={update:aT(n,t.key,t.value)};else if(t instanceof dA)i={delete:$m(n,t.key)};else if(t instanceof mr)i={update:aT(n,t.key,t.data),updateMask:Hx(t.fieldMask)};else{if(!(t instanceof Ex))return St(16599,{Rt:t.type});i={verify:$m(n,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(u,h){const d=h.transform;if(d instanceof Sh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof lu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof uu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof cu)return{fieldPath:h.field.canonicalString(),increment:d.Ee};throw St(20930,{transform:h.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:Mx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:St(27497)})(n,t.precondition)),i}function Lx(n,t){return n&&n.length>0?(Jt(t!==void 0,14353),n.map((i=>(function(o,u){let h=o.updateTime?Mi(o.updateTime):Mi(u);return h.isEqual(Ct.min())&&(h=Mi(u)),new vx(h,o.transformResults||[])})(i,t)))):[]}function kx(n,t){return{documents:[_A(n,t.path)]}}function Ux(n,t){const i={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=_A(n,o);const u=(function(g){if(g.length!==0)return AA(Ui.create(g,"and"))})(t.filters);u&&(i.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((v=>(function(A){return{field:ro(A.field),direction:zx(A.dir)}})(v)))})(t.orderBy);h&&(i.structuredQuery.orderBy=h);const d=Qm(n,t.limit);return d!==null&&(i.structuredQuery.limit=d),t.startAt&&(i.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{Vt:i,parent:o}}function Bx(n){let t=Ox(n.parent);const i=n.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Jt(r===1,65062);const v=i.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];i.where&&(u=(function(E){const A=EA(E);return A instanceof Ui&&$1(A)?A.getFilters():[A]})(i.where));let h=[];i.orderBy&&(h=(function(E){return E.map((A=>(function(L){return new bh(ao(L.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(A)))})(i.orderBy));let d=null;i.limit&&(d=(function(E){let A;return A=typeof E=="object"?E.value:E,Bh(A)?null:A})(i.limit));let p=null;i.startAt&&(p=(function(E){const A=!!E.before,D=E.values||[];return new Ah(D,A)})(i.startAt));let g=null;return i.endAt&&(g=(function(E){const A=!E.before,D=E.values||[];return new Ah(D,A)})(i.endAt)),sx(t,o,h,u,d,"F",p,g)}function jx(n,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function EA(n){return n.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=ao(i.unaryFilter.field);return Fe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=ao(i.unaryFilter.field);return Fe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ao(i.unaryFilter.field);return Fe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=ao(i.unaryFilter.field);return Fe.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return St(61313);default:return St(60726)}})(n):n.fieldFilter!==void 0?(function(i){return Fe.create(ao(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return St(58110);default:return St(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(i){return Ui.create(i.compositeFilter.filters.map((r=>EA(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return St(1026)}})(i.compositeFilter.op))})(n):St(30097,{filter:n})}function zx(n){return Dx[n]}function Fx(n){return xx[n]}function qx(n){return Vx[n]}function ro(n){return{fieldPath:n.canonicalString()}}function ao(n){return rn.fromServerFormat(n.fieldPath)}function AA(n){return n instanceof Fe?(function(i){if(i.op==="=="){if(Y_(i.value))return{unaryFilter:{field:ro(i.field),op:"IS_NAN"}};if(K_(i.value))return{unaryFilter:{field:ro(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Y_(i.value))return{unaryFilter:{field:ro(i.field),op:"IS_NOT_NAN"}};if(K_(i.value))return{unaryFilter:{field:ro(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ro(i.field),op:Fx(i.op),value:i.value}}})(n):n instanceof Ui?(function(i){const r=i.getFilters().map((o=>AA(o)));return r.length===1?r[0]:{compositeFilter:{op:qx(i.op),filters:r}}})(n):St(54877,{filter:n})}function Hx(n){const t=[];return n.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function bA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(t,i,r,o,u=Ct.min(),h=Ct.min(),d=an.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(t){return new $s(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(t){this.gt=t}}function Kx(n){const t=Bx({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Ym(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(){this.Dn=new Qx}addToCollectionParentIndex(t,i){return this.Dn.add(i),et.resolve()}getCollectionParents(t,i){return et.resolve(this.Dn.getEntries(i))}addFieldIndex(t,i){return et.resolve()}deleteFieldIndex(t,i){return et.resolve()}deleteAllFieldIndexes(t){return et.resolve()}createTargetIndexes(t,i){return et.resolve()}getDocumentsMatchingTarget(t,i){return et.resolve(null)}getIndexType(t,i){return et.resolve(0)}getFieldIndexes(t,i){return et.resolve([])}getNextCollectionGroupToUpdate(t){return et.resolve(null)}getMinOffset(t,i){return et.resolve(sr.min())}getMinOffsetFromCollectionGroup(t,i){return et.resolve(sr.min())}updateCollectionGroup(t,i,r){return et.resolve()}updateIndexEntries(t,i){return et.resolve()}}class Qx{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i]||new qe(ce.comparator),u=!o.has(r);return this.index[i]=o.add(r),u}has(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(t){return(this.index[t]||new qe(ce.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},SA=41943040;class bn{static withCacheSize(t){return new bn(t,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(SA,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new _o(0)}static ur(){return new _o(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="LruGarbageCollector",Xx=1048576;function uT([n,t],[i,r]){const o=Ot(n,i);return o===0?Ot(t,r):o}class $x{constructor(t){this.Tr=t,this.buffer=new qe(uT),this.Ir=0}dr(){return++this.Ir}Er(t){const i=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();uT(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Zx{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){dt(lT,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){wo(i)?dt(lT,"Ignoring IndexedDB error during garbage collection: ",i):await So(i)}await this.Rr(3e5)}))}}class Wx{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.mr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return et.resolve(Uh.ue);const r=new $x(i);return this.Vr.forEachTarget(t,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.gr(t,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.Vr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(dt("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(oT)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oT):this.pr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,i){let r,o,u,h,d,p,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,h=Date.now(),this.nthSequenceNumber(t,o)))).next((E=>(r=E,d=Date.now(),this.removeTargets(t,r,i)))).next((E=>(u=E,p=Date.now(),this.removeOrphanedDocuments(t,r)))).next((E=>(g=Date.now(),io()<=Gt.DEBUG&&dt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${E} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:E}))))}}function Jx(n,t){return new Wx(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(){this.changes=new ca((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,fn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?et.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(t,i,r,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(r!==null&&$l(r.mutation,o,Un.empty(),he.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,Bt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=Bt()){const o=Jr();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,r).next((u=>{let h=jl();return u.forEach(((d,p)=>{h=h.insert(d,p.overlayedDocument)})),h}))))}getOverlayedDocuments(t,i){const r=Jr();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,Bt())))}populateOverlays(t,i,r){const o=[];return r.forEach((u=>{i.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((h,d)=>{i.set(h,d)}))}))}computeViews(t,i,r,o){let u=gs();const h=Xl(),d=(function(){return Xl()})();return i.forEach(((p,g)=>{const v=r.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof mr)?u=u.insert(g.key,g):v!==void 0?(h.set(g.key,v.mutation.getFieldMask()),$l(v.mutation,g,v.mutation.getFieldMask(),he.now())):h.set(g.key,Un.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,v)=>h.set(g,v))),i.forEach(((g,v)=>{var E;return d.set(g,new eV(v,(E=h.get(g))!==null&&E!==void 0?E:null))})),d)))}recalculateAndSaveOverlays(t,i){const r=Xl();let o=new ve(((h,d)=>h-d)),u=Bt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((h=>{for(const d of h)d.keys().forEach((p=>{const g=i.get(p);if(g===null)return;let v=r.get(p)||Un.empty();v=d.applyToLocalView(g,v),r.set(p,v);const E=(o.get(d.batchId)||Bt()).add(p);o=o.insert(d.batchId,E)}))})).next((()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,v=p.value,E=sA();v.forEach((A=>{if(!u.has(A)){const D=hA(i.get(A),r.get(A));D!==null&&E.set(A,D),u=u.add(A)}})),h.push(this.documentOverlayCache.saveOverlays(t,g,E))}return et.waitFor(h)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,o){return(function(h){return Et.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):rx(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,o):this.getDocumentsMatchingCollectionQuery(t,i,r,o)}getNextDocuments(t,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,o-u.size):et.resolve(Jr());let d=su,p=u;return h.next((g=>et.forEach(g,((v,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),u.get(v)?et.resolve():this.remoteDocumentCache.getEntry(t,v).next((A=>{p=p.insert(v,A)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,Bt()))).next((v=>({batchId:d,changes:iA(v)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new Et(i)).next((r=>{let o=jl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,o){const u=i.collectionGroup;let h=jl();return this.indexManager.getCollectionParents(t,u).next((d=>et.forEach(d,(p=>{const g=(function(E,A){return new zh(A,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(i,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,r,o).next((v=>{v.forEach(((E,A)=>{h=h.insert(E,A)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(t,i,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,u,o)))).next((h=>{u.forEach(((p,g)=>{const v=g.getKey();h.get(v)===null&&(h=h.insert(v,fn.newInvalidDocument(v)))}));let d=jl();return h.forEach(((p,g)=>{const v=u.get(p);v!==void 0&&$l(v.mutation,g,Un.empty(),he.now()),qh(i,g)&&(d=d.insert(p,g))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,i){return et.resolve(this.Br.get(i))}saveBundleMetadata(t,i){return this.Br.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Mi(o.createTime)}})(i)),et.resolve()}getNamedQuery(t,i){return et.resolve(this.Lr.get(i))}saveNamedQuery(t,i){return this.Lr.set(i.name,(function(o){return{name:o.name,query:Kx(o.bundledQuery),readTime:Mi(o.readTime)}})(i)),et.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(){this.overlays=new ve(Et.comparator),this.kr=new Map}getOverlay(t,i){return et.resolve(this.overlays.get(i))}getOverlays(t,i){const r=Jr();return et.forEach(i,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((o,u)=>{this.wt(t,i,u)})),et.resolve()}removeOverlaysForBatchId(t,i,r){const o=this.kr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.kr.delete(r)),et.resolve()}getOverlaysForCollection(t,i,r){const o=Jr(),u=i.length+1,h=new Et(i.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!i.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>r&&o.set(p.getKey(),p)}return et.resolve(o)}getOverlaysForCollectionGroup(t,i,r,o){let u=new ve(((g,v)=>g-v));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===i&&g.largestBatchId>r){let v=u.get(g.largestBatchId);v===null&&(v=Jr(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=Jr(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>d.set(g,v))),!(d.size()>=o)););return et.resolve(d)}wt(t,i,r){const o=this.overlays.get(r.key);if(o!==null){const h=this.kr.get(o.largestBatchId).delete(r.key);this.kr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new bx(i,r));let u=this.kr.get(i);u===void 0&&(u=Bt(),this.kr.set(i,u)),this.kr.set(i,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(t){return et.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,et.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(){this.qr=new qe(Xe.Qr),this.$r=new qe(Xe.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,i){const r=new Xe(t,i);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Wr(new Xe(t,i))}Gr(t,i){t.forEach((r=>this.removeReference(r,i)))}zr(t){const i=new Et(new ce([])),r=new Xe(i,t),o=new Xe(i,t+1),u=[];return this.$r.forEachInRange([r,o],(h=>{this.Wr(h),u.push(h.key)})),u}jr(){this.qr.forEach((t=>this.Wr(t)))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const i=new Et(new ce([])),r=new Xe(i,t),o=new Xe(i,t+1);let u=Bt();return this.$r.forEachInRange([r,o],(h=>{u=u.add(h.key)})),u}containsKey(t){const i=new Xe(t,0),r=this.qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Xe{constructor(t,i){this.key=t,this.Hr=i}static Qr(t,i){return Et.comparator(t.key,i.key)||Ot(t.Hr,i.Hr)}static Ur(t,i){return Ot(t.Hr,i.Hr)||Et.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.er=1,this.Yr=new qe(Xe.Qr)}checkEmpty(t){return et.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new Ax(u,i,r,o);this.mutationQueue.push(h);for(const d of o)this.Yr=this.Yr.add(new Xe(d.key,u)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return et.resolve(h)}lookupMutationBatch(t,i){return et.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,o=this.Xr(r),u=o<0?0:o;return et.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(this.mutationQueue.length===0?jp:this.er-1)}getAllMutationBatches(t){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Xe(i,0),o=new Xe(i,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([r,o],(h=>{const d=this.Zr(h.Hr);u.push(d)})),et.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new qe(Ot);return i.forEach((o=>{const u=new Xe(o,0),h=new Xe(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,h],(d=>{r=r.add(d.Hr)}))})),et.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,o=r.length+1;let u=r;Et.isDocumentKey(u)||(u=u.child(""));const h=new Xe(new Et(u),0);let d=new qe(Ot);return this.Yr.forEachWhile((p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Hr)),!0)}),h),et.resolve(this.ei(d))}ei(t){const i=[];return t.forEach((r=>{const o=this.Zr(r);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){Jt(this.ti(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return et.forEach(i.mutations,(o=>{const u=new Xe(o.key,i.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Yr=r}))}rr(t){}containsKey(t,i){const r=new Xe(i,0),o=this.Yr.firstAfterOrEqual(r);return et.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,et.resolve()}ti(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(t){this.ni=t,this.docs=(function(){return new ve(Et.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,o=this.docs.get(r),u=o?o.size:0,h=this.ni(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return et.resolve(r?r.document.mutableCopy():fn.newInvalidDocument(i))}getEntries(t,i){let r=gs();return i.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():fn.newInvalidDocument(o))})),et.resolve(r)}getDocumentsMatchingQuery(t,i,r,o){let u=gs();const h=i.path,d=new Et(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||LD(PD(v),r)<=0||(o.has(v.key)||qh(i,v))&&(u=u.insert(v.key,v.mutableCopy()))}return et.resolve(u)}getAllFromCollectionGroup(t,i,r,o){St(9500)}ri(t,i){return et.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new lV(this)}getSize(t){return et.resolve(this.size)}}class lV extends tV{constructor(t){super(),this.Or=t}applyChanges(t){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Or.addEntry(t,o)):this.Or.removeEntry(r)})),et.waitFor(i)}getFromCache(t,i){return this.Or.getEntry(t,i)}getAllFromCache(t,i){return this.Or.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(t){this.persistence=t,this.ii=new ca((i=>qp(i)),Hp),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.si=0,this.oi=new $p,this.targetCount=0,this._i=_o.ar()}forEachTarget(t,i){return this.ii.forEach(((r,o)=>i(o))),et.resolve()}getLastRemoteSnapshotVersion(t){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return et.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.si&&(this.si=i),et.resolve()}hr(t){this.ii.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this._i=new _o(i),this.highestTargetId=i),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,i){return this.hr(i),this.targetCount+=1,et.resolve()}updateTargetData(t,i){return this.hr(i),et.resolve()}removeTargetData(t,i){return this.ii.delete(i.target),this.oi.zr(i.targetId),this.targetCount-=1,et.resolve()}removeTargets(t,i,r){let o=0;const u=[];return this.ii.forEach(((h,d)=>{d.sequenceNumber<=i&&r.get(d.targetId)===null&&(this.ii.delete(h),u.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)})),et.waitFor(u).next((()=>o))}getTargetCount(t){return et.resolve(this.targetCount)}getTargetData(t,i){const r=this.ii.get(i)||null;return et.resolve(r)}addMatchingKeys(t,i,r){return this.oi.Kr(i,r),et.resolve()}removeMatchingKeys(t,i,r){this.oi.Gr(i,r);const o=this.persistence.referenceDelegate,u=[];return o&&i.forEach((h=>{u.push(o.markPotentiallyOrphaned(t,h))})),et.waitFor(u)}removeMatchingKeysForTargetId(t,i){return this.oi.zr(i),et.resolve()}getMatchingKeysForTargetId(t,i){const r=this.oi.Jr(i);return et.resolve(r)}containsKey(t,i){return et.resolve(this.oi.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(t,i){this.ai={},this.overlays={},this.ui=new Uh(0),this.ci=!1,this.ci=!0,this.li=new rV,this.referenceDelegate=t(this),this.hi=new uV(this),this.indexManager=new Yx,this.remoteDocumentCache=(function(o){return new oV(o)})((r=>this.referenceDelegate.Pi(r))),this.serializer=new Gx(i),this.Ti=new iV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new sV,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ai[t.toKey()];return r||(r=new aV(i,this.referenceDelegate),this.ai[t.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,i,r){dt("MemoryPersistence","Starting transaction:",t);const o=new cV(this.ui.next());return this.referenceDelegate.Ii(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(t,i){return et.or(Object.values(this.ai).map((r=>()=>r.containsKey(t,i))))}}class cV extends UD{constructor(t){super(),this.currentSequenceNumber=t}}class Zp{constructor(t){this.persistence=t,this.Ai=new $p,this.Ri=null}static Vi(t){return new Zp(t)}get mi(){if(this.Ri)return this.Ri;throw St(60996)}addReference(t,i,r){return this.Ai.addReference(r,i),this.mi.delete(r.toString()),et.resolve()}removeReference(t,i,r){return this.Ai.removeReference(r,i),this.mi.add(r.toString()),et.resolve()}markPotentiallyOrphaned(t,i){return this.mi.add(i.toString()),et.resolve()}removeTarget(t,i){this.Ai.zr(i.targetId).forEach((o=>this.mi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((u=>this.mi.add(u.toString())))})).next((()=>r.removeTargetData(t,i)))}Ii(){this.Ri=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.mi,(r=>{const o=Et.fromPath(r);return this.fi(t,o).next((u=>{u||i.removeEntry(o,Ct.min())}))})).next((()=>(this.Ri=null,i.apply(t))))}updateLimboDocument(t,i){return this.fi(t,i).next((r=>{r?this.mi.delete(i.toString()):this.mi.add(i.toString())}))}Pi(t){return 0}fi(t,i){return et.or([()=>et.resolve(this.Ai.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class Rh{constructor(t,i){this.persistence=t,this.gi=new ca((r=>zD(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=Jx(this,i)}static Vi(t,i){return new Rh(t,i)}Ii(){}di(t){return et.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}mr(t){const i=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((o=>r+o))))}yr(t){let i=0;return this.gr(t,(r=>{i++})).next((()=>i))}gr(t,i){return et.forEach(this.gi,((r,o)=>this.Sr(t,r,o).next((u=>u?et.resolve():i(o)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(t,(h=>this.Sr(t,h,i).next((d=>{d||(r++,u.removeEntry(h,Ct.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.gi.set(i,t.currentSequenceNumber),et.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.gi.set(r,t.currentSequenceNumber),et.resolve()}removeReference(t,i,r){return this.gi.set(r,t.currentSequenceNumber),et.resolve()}updateLimboDocument(t,i){return this.gi.set(i,t.currentSequenceNumber),et.resolve()}Pi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=ah(t.data.value)),i}Sr(t,i,r){return et.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.gi.get(i);return et.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(t,i,r,o){this.targetId=t,this.fromCache=i,this.Is=r,this.ds=o}static Es(t,i){let r=Bt(),o=Bt();for(const u of i.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Wp(t,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return jR()?8:BD(UR())>0?6:4})()}initialize(t,i){this.gs=t,this.indexManager=i,this.As=!0}getDocumentsMatchingQuery(t,i,r,o){const u={result:null};return this.ps(t,i).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ys(t,i,o,r).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new hV;return this.ws(t,i,h).next((d=>{if(u.result=d,this.Rs)return this.Ss(t,i,h,d.size)}))})).next((()=>u.result))}Ss(t,i,r,o){return r.documentReadCount<this.Vs?(io()<=Gt.DEBUG&&dt("QueryEngine","SDK will not create cache indexes for query:",so(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),et.resolve()):(io()<=Gt.DEBUG&&dt("QueryEngine","Query:",so(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.fs*o?(io()<=Gt.DEBUG&&dt("QueryEngine","The SDK decides to create cache indexes for query:",so(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Vi(i))):et.resolve())}ps(t,i){if(Z_(i))return et.resolve(null);let r=Vi(i);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Ym(i,null,"F"),r=Vi(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const h=Bt(...u);return this.gs.getDocuments(t,h).next((d=>this.indexManager.getMinOffset(t,r).next((p=>{const g=this.bs(i,d);return this.Ds(i,g,h,p.readTime)?this.ps(t,Ym(i,null,"F")):this.vs(t,g,i,p)}))))})))))}ys(t,i,r,o){return Z_(i)||o.isEqual(Ct.min())?et.resolve(null):this.gs.getDocuments(t,r).next((u=>{const h=this.bs(i,u);return this.Ds(i,h,r,o)?et.resolve(null):(io()<=Gt.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),so(i)),this.vs(t,h,i,ND(o,su)).next((d=>d)))}))}bs(t,i){let r=new qe(eA(t));return i.forEach(((o,u)=>{qh(t,u)&&(r=r.add(u))})),r}Ds(t,i,r,o){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const u=t.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(t,i,r){return io()<=Gt.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",so(i)),this.gs.getDocumentsMatchingQuery(t,i,sr.min(),r)}vs(t,i,r,o){return this.gs.getDocumentsMatchingQuery(t,r,o).next((u=>(i.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp="LocalStore",dV=3e8;class mV{constructor(t,i,r,o){this.persistence=t,this.Cs=i,this.serializer=o,this.Fs=new ve(Ot),this.Ms=new ca((u=>qp(u)),Hp),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(r)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new nV(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Fs)))}}function pV(n,t,i,r){return new mV(n,t,i,r)}async function RA(n,t){const i=Dt(n);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,i.Ns(t),i.mutationQueue.getAllMutationBatches(r)))).next((u=>{const h=[],d=[];let p=Bt();for(const g of o){h.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){d.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return i.localDocuments.getDocuments(r,p).next((g=>({Bs:g,removedBatchIds:h,addedBatchIds:d})))}))}))}function gV(n,t){const i=Dt(n);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=i.Os.newChangeBuffer({trackRemovals:!0});return(function(d,p,g,v){const E=g.batch,A=E.keys();let D=et.resolve();return A.forEach((L=>{D=D.next((()=>v.getEntry(p,L))).next((q=>{const U=g.docVersions.get(L);Jt(U!==null,48541),q.version.compareTo(U)<0&&(E.applyToRemoteDocument(q,g),q.isValidDocument()&&(q.setReadTime(g.commitVersion),v.addEntry(q)))}))})),D.next((()=>d.mutationQueue.removeMutationBatch(p,E)))})(i,r,t,u).next((()=>u.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let p=Bt();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p})(t)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function CA(n){const t=Dt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.hi.getLastRemoteSnapshotVersion(i)))}function yV(n,t){const i=Dt(n),r=t.snapshotVersion;let o=i.Fs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=i.Os.newChangeBuffer({trackRemovals:!0});o=i.Fs;const d=[];t.targetChanges.forEach(((v,E)=>{const A=o.get(E);if(!A)return;d.push(i.hi.removeMatchingKeys(u,v.removedDocuments,E).next((()=>i.hi.addMatchingKeys(u,v.addedDocuments,E))));let D=A.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(E)!==null?D=D.withResumeToken(an.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):v.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(v.resumeToken,r)),o=o.insert(E,D),(function(q,U,W){return q.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=dV?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(A,D,v)&&d.push(i.hi.updateTargetData(u,D))}));let p=gs(),g=Bt();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&d.push(i.persistence.referenceDelegate.updateLimboDocument(u,v))})),d.push(vV(u,h,t.documentUpdates).next((v=>{p=v.Ls,g=v.ks}))),!r.isEqual(Ct.min())){const v=i.hi.getLastRemoteSnapshotVersion(u).next((E=>i.hi.setTargetsMetadata(u,u.currentSequenceNumber,r)));d.push(v)}return et.waitFor(d).next((()=>h.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(i.Fs=o,u)))}function vV(n,t,i){let r=Bt(),o=Bt();return i.forEach((u=>r=r.add(u))),t.getEntries(n,r).next((u=>{let h=gs();return i.forEach(((d,p)=>{const g=u.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Ct.min())?(t.removeEntry(d,p.readTime),h=h.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),h=h.insert(d,p)):dt(Jp,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)})),{Ls:h,ks:o}}))}function _V(n,t){const i=Dt(n);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=jp),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function TV(n,t){const i=Dt(n);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.hi.getTargetData(r,t).next((u=>u?(o=u,et.resolve(o)):i.hi.allocateTargetId(r).next((h=>(o=new $s(t,h,"TargetPurposeListen",r.currentSequenceNumber),i.hi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Fs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Fs=i.Fs.insert(r.targetId,r),i.Ms.set(t,r.targetId)),r}))}async function Wm(n,t,i){const r=Dt(n),o=r.Fs.get(t),u=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",u,(h=>r.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!wo(h))throw h;dt(Jp,`Failed to update sequence numbers for target ${t}: ${h}`)}r.Fs=r.Fs.remove(t),r.Ms.delete(o.target)}function cT(n,t,i){const r=Dt(n);let o=Ct.min(),u=Bt();return r.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,v){const E=Dt(p),A=E.Ms.get(v);return A!==void 0?et.resolve(E.Fs.get(A)):E.hi.getTargetData(g,v)})(r,h,Vi(t)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(h,d.targetId).next((p=>{u=p}))})).next((()=>r.Cs.getDocumentsMatchingQuery(h,t,i?o:Ct.min(),i?u:Bt()))).next((d=>(EV(r,ox(t),d),{documents:d,qs:u})))))}function EV(n,t,i){let r=n.xs.get(t)||Ct.min();i.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),n.xs.set(t,r)}class hT{constructor(){this.activeTargetIds=dx()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class AV{constructor(){this.Fo=new hT,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,i,r){this.Mo[t]=i}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new hT,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="ConnectivityMonitor";class dT{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){dt(fT,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){dt(fT,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let th=null;function Jm(){return th===null?th=(function(){return 268435456+Math.round(2147483648*Math.random())})():th++,"0x"+th.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="RestConnection",SV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wV{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=i+"://"+t.host,this.Uo=`projects/${r}/databases/${o}`,this.Ko=this.databaseId.database===Th?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(t,i,r,o,u){const h=Jm(),d=this.Go(t,i.toUriEncodedString());dt(ym,`Sending RPC '${t}' ${h}:`,d,r);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,u);const{host:g}=new URL(d),v=Cp(g);return this.jo(t,d,p,r,v).then((E=>(dt(ym,`Received RPC '${t}' ${h}: `,E),E)),(E=>{throw ir(ym,`RPC '${t}' ${h} failed with error: `,E,"url: ",d,"request:",r),E}))}Jo(t,i,r,o,u,h){return this.Wo(t,i,r,o,u)}zo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+bo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}Go(t,i){const r=SV[t];return`${this.$o}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection";class CV extends wV{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,i,r,o,u){const h=Jm();return new Promise(((d,p)=>{const g=new D1;g.setWithCredentials(!0),g.listenOnce(x1.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case rh.NO_ERROR:const E=g.getResponseJson();dt(cn,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(E)),d(E);break;case rh.TIMEOUT:dt(cn,`RPC '${t}' ${h} timed out`),p(new _t(st.DEADLINE_EXCEEDED,"Request time out"));break;case rh.HTTP_ERROR:const A=g.getStatus();if(dt(cn,`RPC '${t}' ${h} failed with status:`,A,"response text:",g.getResponseText()),A>0){let D=g.getResponseJson();Array.isArray(D)&&(D=D[0]);const L=D==null?void 0:D.error;if(L&&L.status&&L.message){const q=(function(W){const it=W.toLowerCase().replace(/_/g,"-");return Object.values(st).indexOf(it)>=0?it:st.UNKNOWN})(L.status);p(new _t(q,L.message))}else p(new _t(st.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new _t(st.UNAVAILABLE,"Connection failed."));break;default:St(9055,{c_:t,streamId:h,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{dt(cn,`RPC '${t}' ${h} completed.`)}}));const v=JSON.stringify(o);dt(cn,`RPC '${t}' ${h} sending request:`,o),g.send(i,"POST",v,r,15)}))}P_(t,i,r){const o=Jm(),u=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=M1(),d=I1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,i,r),p.encodeInitMessageHeaders=!0;const v=u.join("");dt(cn,`Creating RPC '${t}' stream ${o}: ${v}`,p);const E=h.createWebChannel(v,p);this.T_(E);let A=!1,D=!1;const L=new RV({Ho:U=>{D?dt(cn,`Not sending because RPC '${t}' stream ${o} is closed:`,U):(A||(dt(cn,`Opening RPC '${t}' stream ${o} transport.`),E.open(),A=!0),dt(cn,`RPC '${t}' stream ${o} sending:`,U),E.send(U))},Yo:()=>E.close()}),q=(U,W,it)=>{U.listen(W,(Z=>{try{it(Z)}catch(ht){setTimeout((()=>{throw ht}),0)}}))};return q(E,Bl.EventType.OPEN,(()=>{D||(dt(cn,`RPC '${t}' stream ${o} transport opened.`),L.s_())})),q(E,Bl.EventType.CLOSE,(()=>{D||(D=!0,dt(cn,`RPC '${t}' stream ${o} transport closed`),L.__(),this.I_(E))})),q(E,Bl.EventType.ERROR,(U=>{D||(D=!0,ir(cn,`RPC '${t}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),L.__(new _t(st.UNAVAILABLE,"The operation could not be completed")))})),q(E,Bl.EventType.MESSAGE,(U=>{var W;if(!D){const it=U.data[0];Jt(!!it,16349);const Z=it,ht=(Z==null?void 0:Z.error)||((W=Z[0])===null||W===void 0?void 0:W.error);if(ht){dt(cn,`RPC '${t}' stream ${o} received error:`,ht);const at=ht.status;let gt=(function(x){const M=Me[x];if(M!==void 0)return mA(M)})(at),N=ht.message;gt===void 0&&(gt=st.INTERNAL,N="Unknown error status: "+at+" with message "+ht.message),D=!0,L.__(new _t(gt,N)),E.close()}else dt(cn,`RPC '${t}' stream ${o} received:`,it),L.a_(it)}})),q(d,V1.STAT_EVENT,(U=>{U.stat===zm.PROXY?dt(cn,`RPC '${t}' stream ${o} detected buffering proxy`):U.stat===zm.NOPROXY&&dt(cn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{L.o_()}),0),L}terminate(){this.u_.forEach((t=>t.close())),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter((i=>i===t))}}function vm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(n){return new Ix(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(t,i,r=1e3,o=1.5,u=6e4){this.Fi=t,this.timerId=i,this.d_=r,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const i=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),o=Math.max(0,i-r);o>0&&dt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,(()=>(this.m_=Date.now(),t()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="PersistentStream";class xA{constructor(t,i,r,o,u,h,d,p){this.Fi=t,this.w_=r,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new DA(t,i)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():i&&i.code===st.RESOURCE_EXHAUSTED?(ps(i.toString()),ps("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):i&&i.code===st.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(i)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),i=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.b_===i&&this.W_(r,o)}),(r=>{t((()=>{const o=new _t(st.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(o)}))}))}W_(t,i){const r=this.K_(this.b_);this.stream=this.z_(t,i),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.e_((()=>{r((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((o=>{r((()=>this.G_(o)))})),this.stream.onMessage((o=>{r((()=>++this.C_==1?this.j_(o):this.onNext(o)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(t){return dt(mT,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return i=>{this.Fi.enqueueAndForget((()=>this.b_===t?i():(dt(mT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class DV extends xA{constructor(t,i,r,o,u,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,h),this.serializer=u}z_(t,i){return this.connection.P_("Listen",t,i)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const i=Nx(this.serializer,t),r=(function(u){if(!("targetChange"in u))return Ct.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ct.min():h.readTime?Mi(h.readTime):Ct.min()})(t);return this.listener.J_(i,r)}H_(t){const i={};i.database=Zm(this.serializer),i.addTarget=(function(u,h){let d;const p=h.target;if(d=Km(p)?{documents:kx(u,p)}:{query:Ux(u,p).Vt},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=yA(u,h.resumeToken);const g=Qm(u,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(Ct.min())>0){d.readTime=wh(u,h.snapshotVersion.toTimestamp());const g=Qm(u,h.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,t);const r=jx(this.serializer,t);r&&(i.labels=r),this.k_(i)}Y_(t){const i={};i.database=Zm(this.serializer),i.removeTarget=t,this.k_(i)}}class xV extends xA{constructor(t,i,r,o,u,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,h),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,i){return this.connection.P_("Write",t,i)}j_(t){return Jt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Jt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){Jt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const i=Lx(t.writeResults,t.commitTime),r=Mi(t.commitTime);return this.listener.ta(r,i)}na(){const t={};t.database=Zm(this.serializer),this.k_(t)}X_(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>Px(this.serializer,r)))};this.k_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{}class IV extends VV{constructor(t,i,r,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new _t(st.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,r,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Wo(t,Xm(i,r),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new _t(st.UNKNOWN,u.toString())}))}Jo(t,i,r,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Jo(t,Xm(i,r),o,h,d,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new _t(st.UNKNOWN,h.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class MV{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ps(i),this._a=!1):dt("OnlineStateTracker",i)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="RemoteStore";class OV{constructor(t,i,r,o,u){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo((h=>{r.enqueueAndForget((async()=>{ha(this)&&(dt(ua,"Restarting streams for network reachability change."),await(async function(p){const g=Dt(p);g.Ia.add(4),await Au(g),g.Aa.set("Unknown"),g.Ia.delete(4),await Qh(g)})(this))}))})),this.Aa=new MV(r,o)}}async function Qh(n){if(ha(n))for(const t of n.da)await t(!0)}async function Au(n){for(const t of n.da)await t(!1)}function VA(n,t){const i=Dt(n);i.Ta.has(t.targetId)||(i.Ta.set(t.targetId,t),ig(i)?ng(i):Ro(i).x_()&&eg(i,t))}function tg(n,t){const i=Dt(n),r=Ro(i);i.Ta.delete(t),r.x_()&&IA(i,t),i.Ta.size===0&&(r.x_()?r.B_():ha(i)&&i.Aa.set("Unknown"))}function eg(n,t){if(n.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ct.min())>0){const i=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Ro(n).H_(t)}function IA(n,t){n.Ra.$e(t),Ro(n).Y_(t)}function ng(n){n.Ra=new Cx({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>n.Ta.get(t)||null,lt:()=>n.datastore.serializer.databaseId}),Ro(n).start(),n.Aa.aa()}function ig(n){return ha(n)&&!Ro(n).M_()&&n.Ta.size>0}function ha(n){return Dt(n).Ia.size===0}function MA(n){n.Ra=void 0}async function NV(n){n.Aa.set("Online")}async function PV(n){n.Ta.forEach(((t,i)=>{eg(n,t)}))}async function LV(n,t){MA(n),ig(n)?(n.Aa.la(t),ng(n)):n.Aa.set("Unknown")}async function kV(n,t,i){if(n.Aa.set("Online"),t instanceof gA&&t.state===2&&t.cause)try{await(async function(o,u){const h=u.cause;for(const d of u.targetIds)o.Ta.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.Ta.delete(d),o.Ra.removeTarget(d))})(n,t)}catch(r){dt(ua,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Ch(n,r)}else if(t instanceof uh?n.Ra.Ye(t):t instanceof pA?n.Ra.it(t):n.Ra.et(t),!i.isEqual(Ct.min()))try{const r=await CA(n.localStore);i.compareTo(r)>=0&&await(function(u,h){const d=u.Ra.Pt(h);return d.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ta.get(g);v&&u.Ta.set(g,v.withResumeToken(p.resumeToken,h))}})),d.targetMismatches.forEach(((p,g)=>{const v=u.Ta.get(p);if(!v)return;u.Ta.set(p,v.withResumeToken(an.EMPTY_BYTE_STRING,v.snapshotVersion)),IA(u,p);const E=new $s(v.target,p,g,v.sequenceNumber);eg(u,E)})),u.remoteSyncer.applyRemoteEvent(d)})(n,i)}catch(r){dt(ua,"Failed to raise snapshot:",r),await Ch(n,r)}}async function Ch(n,t,i){if(!wo(t))throw t;n.Ia.add(1),await Au(n),n.Aa.set("Offline"),i||(i=()=>CA(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{dt(ua,"Retrying IndexedDB access"),await i(),n.Ia.delete(1),await Qh(n)}))}function OA(n,t){return t().catch((i=>Ch(n,i,t)))}async function Xh(n){const t=Dt(n),i=lr(t);let r=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:jp;for(;UV(t);)try{const o=await _V(t.localStore,r);if(o===null){t.Pa.length===0&&i.B_();break}r=o.batchId,BV(t,o)}catch(o){await Ch(t,o)}NA(t)&&PA(t)}function UV(n){return ha(n)&&n.Pa.length<10}function BV(n,t){n.Pa.push(t);const i=lr(n);i.x_()&&i.Z_&&i.X_(t.mutations)}function NA(n){return ha(n)&&!lr(n).M_()&&n.Pa.length>0}function PA(n){lr(n).start()}async function jV(n){lr(n).na()}async function zV(n){const t=lr(n);for(const i of n.Pa)t.X_(i.mutations)}async function FV(n,t,i){const r=n.Pa.shift(),o=Yp.from(r,t,i);await OA(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await Xh(n)}async function qV(n,t){t&&lr(n).Z_&&await(async function(r,o){if((function(h){return wx(h)&&h!==st.ABORTED})(o.code)){const u=r.Pa.shift();lr(r).N_(),await OA(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Xh(r)}})(n,t),NA(n)&&PA(n)}async function pT(n,t){const i=Dt(n);i.asyncQueue.verifyOperationInProgress(),dt(ua,"RemoteStore received new credentials");const r=ha(i);i.Ia.add(3),await Au(i),r&&i.Aa.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ia.delete(3),await Qh(i)}async function HV(n,t){const i=Dt(n);t?(i.Ia.delete(2),await Qh(i)):t||(i.Ia.add(2),await Au(i),i.Aa.set("Unknown"))}function Ro(n){return n.Va||(n.Va=(function(i,r,o){const u=Dt(i);return u.ia(),new DV(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Zo:NV.bind(null,n),e_:PV.bind(null,n),n_:LV.bind(null,n),J_:kV.bind(null,n)}),n.da.push((async t=>{t?(n.Va.N_(),ig(n)?ng(n):n.Aa.set("Unknown")):(await n.Va.stop(),MA(n))}))),n.Va}function lr(n){return n.ma||(n.ma=(function(i,r,o){const u=Dt(i);return u.ia(),new xV(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:jV.bind(null,n),n_:qV.bind(null,n),ea:zV.bind(null,n),ta:FV.bind(null,n)}),n.da.push((async t=>{t?(n.ma.N_(),await Xh(n)):(await n.ma.stop(),n.Pa.length>0&&(dt(ua,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(t,i,r,o,u){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new na,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,o,u){const h=Date.now()+r,d=new sg(t,i,h,o,u);return d.start(r),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _t(st.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rg(n,t){if(ps("AsyncQueue",`${t}: ${n}`),wo(n))return new _t(st.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{static emptySet(t){return new fo(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||Et.comparator(i.key,r.key):(i,r)=>Et.comparator(i.key,r.key),this.keyedMap=jl(),this.sortedSet=new ve(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof fo)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new fo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(){this.fa=new ve(Et.comparator)}track(t){const i=t.doc.key,r=this.fa.get(i);r?t.type!==0&&r.type===3?this.fa=this.fa.insert(i,t):t.type===3&&r.type!==1?this.fa=this.fa.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.fa=this.fa.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.fa=this.fa.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.fa=this.fa.remove(i):t.type===1&&r.type===2?this.fa=this.fa.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.fa=this.fa.insert(i,{type:2,doc:t.doc}):St(63341,{At:t,ga:r}):this.fa=this.fa.insert(i,t)}pa(){const t=[];return this.fa.inorderTraversal(((i,r)=>{t.push(r)})),t}}class To{constructor(t,i,r,o,u,h,d,p,g){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,i,r,o,u){const h=[];return i.forEach((d=>{h.push({type:0,doc:d})})),new To(t,i,fo.emptySet(i),h,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Fh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((t=>t.ba()))}}class KV{constructor(){this.queries=yT(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(i,r){const o=Dt(i),u=o.queries;o.queries=yT(),u.forEach(((h,d)=>{for(const p of d.wa)p.onError(r)}))})(this,new _t(st.ABORTED,"Firestore shutting down"))}}function yT(){return new ca((n=>tA(n)),Fh)}async function YV(n,t){const i=Dt(n);let r=3;const o=t.query;let u=i.queries.get(o);u?!u.Sa()&&t.ba()&&(r=2):(u=new GV,r=t.ba()?0:1);try{switch(r){case 0:u.ya=await i.onListen(o,!0);break;case 1:u.ya=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(h){const d=rg(h,`Initialization of query '${so(t.query)}' failed`);return void t.onError(d)}i.queries.set(o,u),u.wa.push(t),t.va(i.onlineState),u.ya&&t.Ca(u.ya)&&ag(i)}async function QV(n,t){const i=Dt(n),r=t.query;let o=3;const u=i.queries.get(r);if(u){const h=u.wa.indexOf(t);h>=0&&(u.wa.splice(h,1),u.wa.length===0?o=t.ba()?0:1:!u.Sa()&&t.ba()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function XV(n,t){const i=Dt(n);let r=!1;for(const o of t){const u=o.query,h=i.queries.get(u);if(h){for(const d of h.wa)d.Ca(o)&&(r=!0);h.ya=o}}r&&ag(i)}function $V(n,t,i){const r=Dt(n),o=r.queries.get(t);if(o)for(const u of o.wa)u.onError(i);r.queries.delete(t)}function ag(n){n.Da.forEach((t=>{t.next()}))}var tp,vT;(vT=tp||(tp={})).Fa="default",vT.Cache="cache";class ZV{constructor(t,i,r){this.query=t,this.Ma=i,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new To(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),i=!0):this.Ba(t,this.onlineState)&&(this.La(t),i=!0),this.Oa=t,i}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let i=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),i=!0),i}Ba(t,i){if(!t.fromCache||!this.ba())return!0;const r=i!=="Offline";return(!this.options.ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const i=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}La(t){t=To.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==tp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(t){this.key=t}}class kA{constructor(t){this.key=t}}class WV{constructor(t,i){this.query=t,this.Ha=i,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Bt(),this.mutatedKeys=Bt(),this.Xa=eA(t),this.eu=new fo(this.Xa)}get tu(){return this.Ha}nu(t,i){const r=i?i.ru:new gT,o=i?i.eu:this.eu;let u=i?i.mutatedKeys:this.mutatedKeys,h=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((v,E)=>{const A=o.get(v),D=qh(this.query,E)?E:null,L=!!A&&this.mutatedKeys.has(A.key),q=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let U=!1;A&&D?A.data.isEqual(D.data)?L!==q&&(r.track({type:3,doc:D}),U=!0):this.iu(A,D)||(r.track({type:2,doc:D}),U=!0,(p&&this.Xa(D,p)>0||g&&this.Xa(D,g)<0)&&(d=!0)):!A&&D?(r.track({type:0,doc:D}),U=!0):A&&!D&&(r.track({type:1,doc:A}),U=!0,(p||g)&&(d=!0)),U&&(D?(h=h.add(D),u=q?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),r.track({type:1,doc:v})}return{eu:h,ru:r,Ds:d,mutatedKeys:u}}iu(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,o){const u=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const h=t.ru.pa();h.sort(((v,E)=>(function(D,L){const q=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St(20277,{At:U})}};return q(D)-q(L)})(v.type,E.type)||this.Xa(v.doc,E.doc))),this.su(r),o=o!=null&&o;const d=i&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,g=p!==this.Ya;return this.Ya=p,h.length!==0||g?{snapshot:new To(this.query,t.eu,u,h,t.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:d}:{_u:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new gT,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach((i=>this.Ha=this.Ha.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ha=this.Ha.delete(i))),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=Bt(),this.eu.forEach((r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))}));const i=[];return t.forEach((r=>{this.Za.has(r)||i.push(new kA(r))})),this.Za.forEach((r=>{t.has(r)||i.push(new LA(r))})),i}uu(t){this.Ha=t.qs,this.Za=Bt();const i=this.nu(t.documents);return this.applyChanges(i,!0)}cu(){return To.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const og="SyncEngine";class JV{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class tI{constructor(t){this.key=t,this.lu=!1}}class eI{constructor(t,i,r,o,u,h){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.hu={},this.Pu=new ca((d=>tA(d)),Fh),this.Tu=new Map,this.Iu=new Set,this.du=new ve(Et.comparator),this.Eu=new Map,this.Au=new $p,this.Ru={},this.Vu=new Map,this.mu=_o.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function nI(n,t,i=!0){const r=qA(n);let o;const u=r.Pu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await UA(r,t,i,!0),o}async function iI(n,t){const i=qA(n);await UA(i,t,!0,!1)}async function UA(n,t,i,r){const o=await TV(n.localStore,Vi(t)),u=o.targetId,h=n.sharedClientState.addLocalQueryTarget(u,i);let d;return r&&(d=await sI(n,t,u,h==="current",o.resumeToken)),n.isPrimaryClient&&i&&VA(n.remoteStore,o),d}async function sI(n,t,i,r,o){n.gu=(E,A,D)=>(async function(q,U,W,it){let Z=U.view.nu(W);Z.Ds&&(Z=await cT(q.localStore,U.query,!1).then((({documents:N})=>U.view.nu(N,Z))));const ht=it&&it.targetChanges.get(U.targetId),at=it&&it.targetMismatches.get(U.targetId)!=null,gt=U.view.applyChanges(Z,q.isPrimaryClient,ht,at);return TT(q,U.targetId,gt._u),gt.snapshot})(n,E,A,D);const u=await cT(n.localStore,t,!0),h=new WV(t,u.qs),d=h.nu(u.documents),p=Eu.createSynthesizedTargetChangeForCurrentChange(i,r&&n.onlineState!=="Offline",o),g=h.applyChanges(d,n.isPrimaryClient,p);TT(n,i,g._u);const v=new JV(t,i,h);return n.Pu.set(t,v),n.Tu.has(i)?n.Tu.get(i).push(t):n.Tu.set(i,[t]),g.snapshot}async function rI(n,t,i){const r=Dt(n),o=r.Pu.get(t),u=r.Tu.get(o.targetId);if(u.length>1)return r.Tu.set(o.targetId,u.filter((h=>!Fh(h,t)))),void r.Pu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Wm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&tg(r.remoteStore,o.targetId),ep(r,o.targetId)})).catch(So)):(ep(r,o.targetId),await Wm(r.localStore,o.targetId,!0))}async function aI(n,t){const i=Dt(n),r=i.Pu.get(t),o=i.Tu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),tg(i.remoteStore,r.targetId))}async function oI(n,t,i){const r=mI(n);try{const o=await(function(h,d){const p=Dt(h),g=he.now(),v=d.reduce(((D,L)=>D.add(L.key)),Bt());let E,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(D=>{let L=gs(),q=Bt();return p.Os.getEntries(D,v).next((U=>{L=U,L.forEach(((W,it)=>{it.isValidDocument()||(q=q.add(W))}))})).next((()=>p.localDocuments.getOverlayedDocuments(D,L))).next((U=>{E=U;const W=[];for(const it of d){const Z=Tx(it,E.get(it.key).overlayedDocument);Z!=null&&W.push(new mr(it.key,Z,Y1(Z.value.mapValue),Ii.exists(!0)))}return p.mutationQueue.addMutationBatch(D,g,W,d)})).next((U=>{A=U;const W=U.applyToLocalDocumentSet(E,q);return p.documentOverlayCache.saveOverlays(D,U.batchId,W)}))})).then((()=>({batchId:A.batchId,changes:iA(E)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(h,d,p){let g=h.Ru[h.currentUser.toKey()];g||(g=new ve(Ot)),g=g.insert(d,p),h.Ru[h.currentUser.toKey()]=g})(r,o.batchId,i),await bu(r,o.changes),await Xh(r.remoteStore)}catch(o){const u=rg(o,"Failed to persist write");i.reject(u)}}async function BA(n,t){const i=Dt(n);try{const r=await yV(i.localStore,t);t.targetChanges.forEach(((o,u)=>{const h=i.Eu.get(u);h&&(Jt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.lu=!0:o.modifiedDocuments.size>0?Jt(h.lu,14607):o.removedDocuments.size>0&&(Jt(h.lu,42227),h.lu=!1))})),await bu(i,r,t)}catch(r){await So(r)}}function _T(n,t,i){const r=Dt(n);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Pu.forEach(((u,h)=>{const d=h.view.va(t);d.snapshot&&o.push(d.snapshot)})),(function(h,d){const p=Dt(h);p.onlineState=d;let g=!1;p.queries.forEach(((v,E)=>{for(const A of E.wa)A.va(d)&&(g=!0)})),g&&ag(p)})(r.eventManager,t),o.length&&r.hu.J_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function lI(n,t,i){const r=Dt(n);r.sharedClientState.updateQueryState(t,"rejected",i);const o=r.Eu.get(t),u=o&&o.key;if(u){let h=new ve(Et.comparator);h=h.insert(u,fn.newNoDocument(u,Ct.min()));const d=Bt().add(u),p=new Kh(Ct.min(),new Map,new ve(Ot),h,d);await BA(r,p),r.du=r.du.remove(u),r.Eu.delete(t),lg(r)}else await Wm(r.localStore,t,!1).then((()=>ep(r,t,i))).catch(So)}async function uI(n,t){const i=Dt(n),r=t.batch.batchId;try{const o=await gV(i.localStore,t);zA(i,r,null),jA(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await bu(i,o)}catch(o){await So(o)}}async function cI(n,t,i){const r=Dt(n);try{const o=await(function(h,d){const p=Dt(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,d).next((E=>(Jt(E!==null,37113),v=E.keys(),p.mutationQueue.removeMutationBatch(g,E)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(r.localStore,t);zA(r,t,i),jA(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await bu(r,o)}catch(o){await So(o)}}function jA(n,t){(n.Vu.get(t)||[]).forEach((i=>{i.resolve()})),n.Vu.delete(t)}function zA(n,t,i){const r=Dt(n);let o=r.Ru[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(i?u.reject(i):u.resolve(),o=o.remove(t)),r.Ru[r.currentUser.toKey()]=o}}function ep(n,t,i=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Tu.get(t))n.Pu.delete(r),i&&n.hu.pu(r,i);n.Tu.delete(t),n.isPrimaryClient&&n.Au.zr(t).forEach((r=>{n.Au.containsKey(r)||FA(n,r)}))}function FA(n,t){n.Iu.delete(t.path.canonicalString());const i=n.du.get(t);i!==null&&(tg(n.remoteStore,i),n.du=n.du.remove(t),n.Eu.delete(i),lg(n))}function TT(n,t,i){for(const r of i)r instanceof LA?(n.Au.addReference(r.key,t),hI(n,r)):r instanceof kA?(dt(og,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,t),n.Au.containsKey(r.key)||FA(n,r.key)):St(19791,{yu:r})}function hI(n,t){const i=t.key,r=i.path.canonicalString();n.du.get(i)||n.Iu.has(r)||(dt(og,"New document in limbo: "+i),n.Iu.add(r),lg(n))}function lg(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Iu.values().next().value;n.Iu.delete(t);const i=new Et(ce.fromString(t)),r=n.mu.next();n.Eu.set(r,new tI(i)),n.du=n.du.insert(i,r),VA(n.remoteStore,new $s(Vi(Gp(i.path)),r,"TargetPurposeLimboResolution",Uh.ue))}}async function bu(n,t,i){const r=Dt(n),o=[],u=[],h=[];r.Pu.isEmpty()||(r.Pu.forEach(((d,p)=>{h.push(r.gu(p,t,i).then((g=>{var v;if((g||i)&&r.isPrimaryClient){const E=g?!g.fromCache:(v=i==null?void 0:i.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;r.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=Wp.Es(p.targetId,g);u.push(E)}})))})),await Promise.all(h),r.hu.J_(o),await(async function(p,g){const v=Dt(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>et.forEach(g,(A=>et.forEach(A.Is,(D=>v.persistence.referenceDelegate.addReference(E,A.targetId,D))).next((()=>et.forEach(A.ds,(D=>v.persistence.referenceDelegate.removeReference(E,A.targetId,D)))))))))}catch(E){if(!wo(E))throw E;dt(Jp,"Failed to update sequence numbers: "+E)}for(const E of g){const A=E.targetId;if(!E.fromCache){const D=v.Fs.get(A),L=D.snapshotVersion,q=D.withLastLimboFreeSnapshotVersion(L);v.Fs=v.Fs.insert(A,q)}}})(r.localStore,u))}async function fI(n,t){const i=Dt(n);if(!i.currentUser.isEqual(t)){dt(og,"User change. New user:",t.toKey());const r=await RA(i.localStore,t);i.currentUser=t,(function(u,h){u.Vu.forEach((d=>{d.forEach((p=>{p.reject(new _t(st.CANCELLED,h))}))})),u.Vu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await bu(i,r.Bs)}}function dI(n,t){const i=Dt(n),r=i.Eu.get(t);if(r&&r.lu)return Bt().add(r.key);{let o=Bt();const u=i.Tu.get(t);if(!u)return o;for(const h of u){const d=i.Pu.get(h);o=o.unionWith(d.view.tu)}return o}}function qA(n){const t=Dt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=BA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=dI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=lI.bind(null,t),t.hu.J_=XV.bind(null,t.eventManager),t.hu.pu=$V.bind(null,t.eventManager),t}function mI(n){const t=Dt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=uI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=cI.bind(null,t),t}class Dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Yh(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,i){return null}Fu(t,i){return null}vu(t){return pV(this.persistence,new fV,t.initialUser,this.serializer)}Du(t){return new wA(Zp.Vi,this.serializer)}bu(t){return new AV}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dh.provider={build:()=>new Dh};class pI extends Dh{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,i){Jt(this.persistence.referenceDelegate instanceof Rh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Zx(r,t.asyncQueue,i)}Du(t){const i=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new wA((r=>Rh.Vi(r,i)),this.serializer)}}class np{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_T(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=fI.bind(null,this.syncEngine),await HV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new KV})()}createDatastore(t){const i=Yh(t.databaseInfo.databaseId),r=(function(u){return new CV(u)})(t.databaseInfo);return(function(u,h,d,p){return new IV(u,h,d,p)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,o,u,h,d){return new OV(r,o,u,h,d)})(this.localStore,this.datastore,t.asyncQueue,(i=>_T(this.syncEngine,i,0)),(function(){return dT.C()?new dT:new bV})())}createSyncEngine(t,i){return(function(o,u,h,d,p,g,v){const E=new eI(o,u,h,d,p,g);return v&&(E.fu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await(async function(o){const u=Dt(o);dt(ua,"RemoteStore shutting down."),u.Ia.add(5),await Au(u),u.Ea.shutdown(),u.Aa.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}np.provider={build:()=>new np};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):ps("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur="FirestoreClient";class yI{constructor(t,i,r,o,u){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=hn.UNAUTHENTICATED,this.clientId=Up.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async h=>{dt(ur,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(r,(h=>(dt(ur,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new na;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=rg(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function _m(n,t){n.asyncQueue.verifyOperationInProgress(),dt(ur,"Initializing OfflineComponentProvider");const i=n.configuration;await t.initialize(i);let r=i.initialUser;n.setCredentialChangeListener((async o=>{r.isEqual(o)||(await RA(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>{ir("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then((()=>{dt("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((o=>{ir("Terminating Firestore due to IndexedDb database deletion failed",o)}))})),n._offlineComponents=t}async function ET(n,t){n.asyncQueue.verifyOperationInProgress();const i=await vI(n);dt(ur,"Initializing OnlineComponentProvider"),await t.initialize(i,n.configuration),n.setCredentialChangeListener((r=>pT(t.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,o)=>pT(t.remoteStore,o))),n._onlineComponents=t}async function vI(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){dt(ur,"Using user provided OfflineComponentProvider");try{await _m(n,n._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===st.FAILED_PRECONDITION||o.code===st.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;ir("Error using user provided cache. Falling back to memory cache: "+i),await _m(n,new Dh)}}else dt(ur,"Using default OfflineComponentProvider"),await _m(n,new pI(void 0));return n._offlineComponents}async function HA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(dt(ur,"Using user provided OnlineComponentProvider"),await ET(n,n._uninitializedComponentsProvider._online)):(dt(ur,"Using default OnlineComponentProvider"),await ET(n,new np))),n._onlineComponents}function _I(n){return HA(n).then((t=>t.syncEngine))}async function AT(n){const t=await HA(n),i=t.eventManager;return i.onListen=nI.bind(null,t.syncEngine),i.onUnlisten=rI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=iI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=aI.bind(null,t.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA="firestore.googleapis.com",ST=!0;class wT{constructor(t){var i,r;if(t.host===void 0){if(t.ssl!==void 0)throw new _t(st.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=KA,this.ssl=ST}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:ST;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=SA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Xx)throw new _t(st.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}OD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GA((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new _t(st.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new _t(st.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new _t(st.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class $h{constructor(t,i,r,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _t(st.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new _t(st.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new SD;switch(r.type){case"firstParty":return new DD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _t(st.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=bT.get(i);r&&(dt("ComponentProvider","Removing Datastore"),bT.delete(i),r.terminate())})(this),Promise.resolve()}}function TI(n,t,i,r={}){var o;n=tr(n,$h);const u=Cp(t),h=n._getSettings(),d=Object.assign(Object.assign({},h),{emulatorOptions:n._getEmulatorOptions()}),p=`${t}:${i}`;u&&(OR(`https://${p}`),kR("Firestore",!0)),h.host!==KA&&h.host!==p&&ir("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},h),{host:p,ssl:u,emulatorOptions:r});if(!nu(g,d)&&(n._setSettings(g),r.mockUserToken)){let v,E;if(typeof r.mockUserToken=="string")v=r.mockUserToken,E=hn.MOCK_USER;else{v=NR(r.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new _t(st.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new hn(A)}n._authCredentials=new wD(new N1(v,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Zh(this.firestore,t,this._query)}}class Pe{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new er(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Pe(this.firestore,t,this._key)}toJSON(){return{type:Pe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(_u(i,Pe._jsonSchema))return new Pe(t,r||null,new Et(ce.fromString(i.referencePath)))}}Pe._jsonSchemaVersion="firestore/documentReference/1.0",Pe._jsonSchema={type:Ne("string",Pe._jsonSchemaVersion),referencePath:Ne("string")};class er extends Zh{constructor(t,i,r){super(t,i,Gp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Pe(this.firestore,null,new Et(t))}withConverter(t){return new er(this.firestore,t,this._path)}}function EI(n,t,...i){if(n=ci(n),L1("collection","path",t),n instanceof $h){const r=ce.fromString(t,...i);return U_(r),new er(n,null,r)}{if(!(n instanceof Pe||n instanceof er))throw new _t(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ce.fromString(t,...i));return U_(r),new er(n.firestore,null,r)}}function eh(n,t,...i){if(n=ci(n),arguments.length===1&&(t=Up.newId()),L1("doc","path",t),n instanceof $h){const r=ce.fromString(t,...i);return k_(r),new Pe(n,null,new Et(r))}{if(!(n instanceof Pe||n instanceof er))throw new _t(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ce.fromString(t,...i));return k_(r),new Pe(n.firestore,n instanceof er?n.converter:null,new Et(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="AsyncQueue";class CT{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new DA(this,"async_queue_retry"),this.oc=()=>{const r=vm();r&&dt(RT,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=t;const i=vm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const i=vm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise((()=>{}));const i=new na;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Zu.push(t),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!wo(t))throw t;dt(RT,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(t){const i=this._c.then((()=>(this.nc=!0,t().catch((r=>{throw this.tc=r,this.nc=!1,ps("INTERNAL UNHANDLED ERROR: ",DT(r)),r})).then((r=>(this.nc=!1,r))))));return this._c=i,i}enqueueAfterDelay(t,i,r){this.ac(),this.sc.indexOf(t)>-1&&(i=0);const o=sg.createAndSchedule(this,t,i,r,(u=>this.lc(u)));return this.ec.push(o),o}ac(){this.tc&&St(47125,{hc:DT(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const i of this.ec)if(i.timerId===t)return!0;return!1}Ic(t){return this.Pc().then((()=>{this.ec.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.ec)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Pc()}))}dc(t){this.sc.push(t)}lc(t){const i=this.ec.indexOf(t);this.ec.splice(i,1)}}function DT(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(n){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(n,["next","error","complete"])}class hu extends $h{constructor(t,i,r,o){super(t,i,r,o),this.type="firestore",this._queue=new CT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new CT(t),this._firestoreClient=void 0,await t}}}function AI(n,t){const i=typeof n=="object"?n:e1(),r=typeof n=="string"?n:Th,o=vu(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=IR("firestore");u&&TI(o,...u)}return o}function YA(n){if(n._terminated)throw new _t(st.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||bI(n),n._firestoreClient}function bI(n){var t,i,r;const o=n._freezeSettings(),u=(function(d,p,g,v){return new HD(d,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,GA(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)})(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new yI(n._authCredentials,n._appCheckCredentials,n._queue,u,n._componentsProvider&&(function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ti(an.fromBase64String(t))}catch(i){throw new _t(st.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new ti(an.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ti._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(_u(t,ti._jsonSchema))return ti.fromBase64String(t.bytes)}}ti._jsonSchemaVersion="firestore/bytes/1.0",ti._jsonSchema={type:Ne("string",ti._jsonSchemaVersion),bytes:Ne("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new _t(st.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new _t(st.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new _t(st.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ot(this._lat,t._lat)||Ot(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oi._jsonSchemaVersion}}static fromJSON(t){if(_u(t,Oi._jsonSchema))return new Oi(t.latitude,t.longitude)}}Oi._jsonSchemaVersion="firestore/geoPoint/1.0",Oi._jsonSchema={type:Ne("string",Oi._jsonSchemaVersion),latitude:Ne("number"),longitude:Ne("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(_u(t,Ni._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ni(t.vectorValues);throw new _t(st.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ni._jsonSchemaVersion="firestore/vectorValue/1.0",Ni._jsonSchema={type:Ne("string",Ni._jsonSchemaVersion),vectorValues:Ne("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=/^__.*__$/;class wI{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new mr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Tu(t,this.data,i,this.fieldTransforms)}}class QA{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new mr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function XA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St(40011,{Ec:n})}}class ug{constructor(t,i,r,o,u,h){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new ug(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.Rc({path:r,mc:!1});return o.fc(t),o}gc(t){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.Rc({path:r,mc:!1});return o.Ac(),o}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return xh(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(XA(this.Ec)&&SI.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class RI{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||Yh(t)}Dc(t,i,r,o=!1){return new ug({Ec:t,methodName:i,bc:r,path:rn.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $A(n){const t=n._freezeSettings(),i=Yh(n._databaseId);return new RI(n._databaseId,!!t.ignoreUndefinedProperties,i)}function CI(n,t,i,r,o,u={}){const h=n.Dc(u.merge||u.mergeFields?2:0,t,i,o);hg("Data must be an object, but it was:",h,r);const d=ZA(r,h);let p,g;if(u.merge)p=new Un(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const v=[];for(const E of u.mergeFields){const A=ip(t,E,i);if(!h.contains(A))throw new _t(st.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);JA(v,A)||v.push(A)}p=new Un(v),g=h.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,g=h.fieldTransforms;return new wI(new Sn(d),p,g)}class tf extends Jh{_toFieldTransform(t){if(t.Ec!==2)throw t.Ec===1?t.wc(`${this._methodName}() can only appear at the top level of your update data`):t.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof tf}}class cg extends Jh{constructor(t,i){super(t),this.Cc=i}_toFieldTransform(t){const i=new cu(t.serializer,aA(t.serializer,this.Cc));return new gx(t.path,i)}isEqual(t){return t instanceof cg&&this.Cc===t.Cc}}function DI(n,t,i,r){const o=n.Dc(1,t,i);hg("Data must be an object, but it was:",o,r);const u=[],h=Sn.empty();dr(r,((p,g)=>{const v=fg(t,p,i);g=ci(g);const E=o.gc(v);if(g instanceof tf)u.push(v);else{const A=ef(g,E);A!=null&&(u.push(v),h.set(v,A))}}));const d=new Un(u);return new QA(h,d,o.fieldTransforms)}function xI(n,t,i,r,o,u){const h=n.Dc(1,t,i),d=[ip(t,r,i)],p=[o];if(u.length%2!=0)throw new _t(st.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)d.push(ip(t,u[A])),p.push(u[A+1]);const g=[],v=Sn.empty();for(let A=d.length-1;A>=0;--A)if(!JA(g,d[A])){const D=d[A];let L=p[A];L=ci(L);const q=h.gc(D);if(L instanceof tf)g.push(D);else{const U=ef(L,q);U!=null&&(g.push(D),v.set(D,U))}}const E=new Un(g);return new QA(v,E,h.fieldTransforms)}function ef(n,t){if(WA(n=ci(n)))return hg("Unsupported field value:",t,n),ZA(n,t);if(n instanceof Jh)return(function(r,o){if(!XA(o.Ec))throw o.wc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return(function(r,o){const u=[];let h=0;for(const d of r){let p=ef(d,o.yc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(n,t)}return(function(r,o){if((r=ci(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return aA(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=he.fromDate(r);return{timestampValue:wh(o.serializer,u)}}if(r instanceof he){const u=new he(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wh(o.serializer,u)}}if(r instanceof Oi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ti)return{bytesValue:yA(o.serializer,r._byteString)};if(r instanceof Pe){const u=o.databaseId,h=r.firestore._databaseId;if(!h.isEqual(u))throw o.wc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Xp(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Ni)return(function(h,d){return{mapValue:{fields:{[G1]:{stringValue:K1},[Eh]:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw d.wc("VectorValues must only contain numeric values.");return Kp(d.serializer,g)}))}}}}}})(r,o);throw o.wc(`Unsupported field value: ${Bp(r)}`)})(n,t)}function ZA(n,t){const i={};return B1(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):dr(n,((r,o)=>{const u=ef(o,t.Vc(r));u!=null&&(i[r]=u)})),{mapValue:{fields:i}}}function WA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof he||n instanceof Oi||n instanceof ti||n instanceof Pe||n instanceof Jh||n instanceof Ni)}function hg(n,t,i){if(!WA(i)||!k1(i)){const r=Bp(i);throw r==="an object"?t.wc(n+" a custom object"):t.wc(n+" "+r)}}function ip(n,t,i){if((t=ci(t))instanceof Wh)return t._internalPath;if(typeof t=="string")return fg(n,t);throw xh("Field path arguments must be of type string or ",n,!1,void 0,i)}const VI=new RegExp("[~\\*/\\[\\]]");function fg(n,t,i){if(t.search(VI)>=0)throw xh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,i);try{return new Wh(...t.split("."))._internalPath}catch{throw xh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,i)}}function xh(n,t,i,r,o){const u=r&&!r.isEmpty(),h=o!==void 0;let d=`Function ${t}() called with invalid data`;i&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${r}`),h&&(p+=` in document ${o}`),p+=")"),new _t(st.INVALID_ARGUMENT,d+n+p)}function JA(n,t){return n.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(t,i,r,o,u){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Pe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new II(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(eb("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class II extends tb{data(){return super.data()}}function eb(n,t){return typeof t=="string"?fg(n,t):t instanceof Wh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new _t(st.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class OI{convertValue(t,i="none"){switch(or(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Re(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(ar(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw St(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return dr(t,((o,u)=>{r[o]=this.convertValue(u,i)})),r}convertVectorValue(t){var i,r,o;const u=(o=(r=(i=t.fields)===null||i===void 0?void 0:i[Eh].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map((h=>Re(h.doubleValue)));return new Ni(u)}convertGeoPoint(t){return new Oi(Re(t.latitude),Re(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=jh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(ru(t));default:return null}}convertTimestamp(t){const i=rr(t);return new he(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=ce.fromString(t);Jt(bA(r),9688,{name:t});const o=new au(r.get(1),r.get(3)),u=new Et(r.popFirst(5));return o.isEqual(i)||ps(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(n,t,i){let r;return r=n?n.toFirestore(t):t,r}class Fl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ia extends tb{constructor(t,i,r,o,u,h){super(t,i,r,o,h),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(eb("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _t(st.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=ia._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",ia._jsonSchema={type:Ne("string",ia._jsonSchemaVersion),bundleSource:Ne("string","DocumentSnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class ch extends ia{data(t={}){return super.data(t)}}class mo{constructor(t,i,r,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new Fl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new ch(this._firestore,this._userDataWriter,r.key,r,new Fl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new _t(st.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((d=>{const p=new ch(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Fl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>u||d.type!==3)).map((d=>{const p=new ch(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Fl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return d.type!==0&&(g=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),v=h.indexOf(d.doc.key)),{type:PI(d.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _t(st.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=mo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Up.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function PI(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St(61501,{type:n})}}mo._jsonSchemaVersion="firestore/querySnapshot/1.0",mo._jsonSchema={type:Ne("string",mo._jsonSchemaVersion),bundleSource:Ne("string","QuerySnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class nb extends OI{constructor(t){super(),this.firestore=t}convertBytes(t){return new ti(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Pe(this.firestore,null,i)}}function VT(n,t,i){n=tr(n,Pe);const r=tr(n.firestore,hu),o=NI(n.converter,t);return ib(r,[CI($A(r),"setDoc",n._key,o,n.converter!==null,i).toMutation(n._key,Ii.none())])}function IT(n,t,i,...r){n=tr(n,Pe);const o=tr(n.firestore,hu),u=$A(o);let h;return h=typeof(t=ci(t))=="string"||t instanceof Wh?xI(u,"updateDoc",n._key,t,i,r):DI(u,"updateDoc",n._key,t),ib(o,[h.toMutation(n._key,Ii.exists(!0))])}function LI(n,...t){var i,r,o;n=ci(n);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof t[h]!="object"||xT(t[h])||(u=t[h++]);const d={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(xT(t[h])){const E=t[h];t[h]=(i=E.next)===null||i===void 0?void 0:i.bind(E),t[h+1]=(r=E.error)===null||r===void 0?void 0:r.bind(E),t[h+2]=(o=E.complete)===null||o===void 0?void 0:o.bind(E)}let p,g,v;if(n instanceof Pe)g=tr(n.firestore,hu),v=Gp(n._key.path),p={next:E=>{t[h]&&t[h](kI(g,n,E))},error:t[h+1],complete:t[h+2]};else{const E=tr(n,Zh);g=tr(E.firestore,hu),v=E._query;const A=new nb(g);p={next:D=>{t[h]&&t[h](new mo(g,A,E,D))},error:t[h+1],complete:t[h+2]},MI(n._query)}return(function(A,D,L,q){const U=new gI(q),W=new ZV(D,U,L);return A.asyncQueue.enqueueAndForget((async()=>YV(await AT(A),W))),()=>{U.Ou(),A.asyncQueue.enqueueAndForget((async()=>QV(await AT(A),W)))}})(YA(g),v,d,p)}function ib(n,t){return(function(r,o){const u=new na;return r.asyncQueue.enqueueAndForget((async()=>oI(await _I(r),o,u))),u.promise})(YA(n),t)}function kI(n,t,i){const r=i.docs.get(t._key),o=new nb(n);return new ia(n,o,t._key,r,new Fl(i.hasPendingWrites,i.fromCache),t.converter)}function Ci(n){return new cg("increment",n)}(function(t,i=!0){(function(o){bo=o})(K2),nr(new ds("firestore",((r,{instanceIdentifier:o,options:u})=>{const h=r.getProvider("app").getImmediate(),d=new hu(new RD(r.getProvider("auth-internal")),new xD(h,r.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new _t(st.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new au(g.options.projectId,v)})(h,o),h);return u=Object.assign({useFetchStreams:i},u),d._setSettings(u),d}),"PUBLIC").setMultipleInstances(!0)),xi(M_,O_,t),xi(M_,O_,"esm2017")})();const sb={apiKey:"AIzaSyBDD29_0DyHGF2J6804sOothQileESrLuA",authDomain:"fragen-katalog.firebaseapp.com",projectId:"fragen-katalog",storageBucket:"fragen-katalog.firebasestorage.app",messagingSenderId:"208859056966",appId:"1:208859056966:web:039f86d0b8722e4395f347",measurementId:"G-STMLG4PCQ1"},rb=t1(sb),ql=AI(rb),UI=()=>TD().then(n=>{if(n){let r=function(){window.dataLayer.push(arguments)};var t=r;const i=vD(rb);return window.dataLayer=window.dataLayer||[],r("js",new Date),r("config",sb.measurementId,{debug_mode:!0}),console.log("📈 Firebase Analytics initialized with debug_mode"),i}else return console.warn("⚠️ Firebase Analytics not supported on this device."),null});function BI({question:n,answers:t,correctIndex:i,selectedAnswer:r,onSelectAnswer:o,id:u,imageId:h}){const[d,p]=vt.useState(!1);if(vt.useEffect(()=>{const v=E=>{E.key==="Escape"&&p(!1)};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[]),!n||!t||t.length===0)return rt.jsx("p",{className:"text-base",children:"Loading question..."});const g=h?`/images/${h}.png`:null;return rt.jsxs(rt.Fragment,{children:[rt.jsxs("div",{className:"flashcard",children:[rt.jsxs("div",{className:"question-section",children:[g&&rt.jsx("img",{src:g,alt:`Bild zur Frage ${u}`,className:"question-image",onClick:()=>p(!0)}),rt.jsx("p",{className:"question-text text-base font-medium mb-4 mt-2",children:n}),rt.jsx("div",{className:"answer-list",children:t.map((v,E)=>{const A=r!==null,D=E===i,L=E===r;let q="answer-button text-base";return A&&(D?q+=" correct":L&&(q+=" wrong")),rt.jsx("button",{className:q,onClick:U=>{U.preventDefault(),o(E)},disabled:A,children:v},E)})})]}),rt.jsxs("div",{className:"question-meta text-sm text-muted-light",children:["Frage #",u]})]}),d&&g&&rt.jsx("div",{className:"lightbox-overlay",onClick:()=>p(!1),children:rt.jsx("img",{src:g,alt:`Frage ${u} groß`,className:"lightbox-image",onClick:v=>v.stopPropagation()})})]})}function kn(n,t={}){UI().then(i=>{i?(R1(i,n,t),console.log(`📊 Logged: ${n}`,t)):console.warn(`⚠️ Analytics not initialized – could not log ${n}`)})}function ab({variant:n="soft",style:t={},className:i="",fullWidth:r=!1}){const o=()=>{kn("support_this_project_clicked"),window.open("https://www.buymeacoffee.com/roiesh","_blank")},u={padding:"12px 20px",borderRadius:"12px",fontWeight:"500",fontSize:"15px",border:"none",cursor:"pointer",display:"inline-block",padding:"12px 20px",maxWidth:"90vw",whiteSpace:"nowrap",textAlign:"center",transition:"all 0.2s ease",zindex:1e3,...t},p=n==="modal"?{backgroundColor:"var(--color-primary)",color:"white"}:{backgroundColor:"#f2f7fc",color:"var(--color-primary)",boxShadow:"0 2px 6px rgba(0,0,0,0.08)"};return rt.jsx("button",{onClick:o,className:`support-button ${i}`,style:{...u,...p},children:rt.jsxs("span",{style:{display:"inline-block",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:"15px"},children:[rt.jsx("span",{role:"img","aria-label":"heart",children:"❤️"})," Support this project"]})})}function jI({onClose:n}){const[t,i]=vt.useState("de"),r=h=>{h.target.classList.contains("about-modal-overlay")&&(kn("modal_closed_without_click",{modal:"about"}),u())},o=h=>{i(h)},u=()=>{kn("about_language_read",{language:t}),n()};return rt.jsx("div",{className:"about-modal-overlay",onClick:r,children:rt.jsxs("div",{className:"about-modal overflow-y-auto max-h-[90vh] flex flex-col relative pb-[180px]",children:[rt.jsxs("div",{className:"w-full flex justify-between items-center px-4 mb-4",children:[rt.jsxs("h2",{className:"text-xl font-bold flex items-center gap-4",children:["Über",rt.jsxs("span",{className:"flex gap-2",children:[rt.jsx("button",{onClick:()=>o("de"),style:{fontSize:"18px",background:"none",border:"none",cursor:"pointer",opacity:t==="de"?1:.4},"aria-label":"Deutsch",children:"🇩🇪"}),rt.jsx("button",{onClick:()=>o("en"),style:{fontSize:"18px",background:"none",border:"none",cursor:"pointer",opacity:t==="en"?1:.4},"aria-label":"English",children:"🇬🇧"})]})]}),rt.jsx("button",{className:"close-button",onClick:u,children:"×"})]}),rt.jsx("div",{className:"max-w-prose w-full px-4 text-center",children:t==="de"?rt.jsxs("p",{className:"text-base",children:[rt.jsx("span",{className:"text-base font-semibold",children:"Diese Seite enthält alle offiziellen Fragen und Antworten für den Einbürgerungstest in Berlin."}),rt.jsx("br",{}),"Ich habe diese Website als Lernhilfe für den Einbürgerungstest „Leben in Deutschland“ erstellt. Die Fragen basieren auf dem offiziellen Fragenkatalog der Bundeszentrale für politische Bildung – inklusive des landesspezifischen Teils für Berlin. Ich übernehme keine Gewähr für Richtigkeit oder Aktualität. Dies ist ein rein privates Nebenprojekt – keine Anmeldung, keine Werbung, keine Verbindung zu staatlichen Stellen.",rt.jsx("br",{}),"Diese Website verwendet Google Analytics, um anonyme Nutzungsstatistiken zu erfassen. Es werden keine persönlichen Daten gespeichert oder weitergegeben."]}):rt.jsxs("p",{className:"text-base",children:[rt.jsx("span",{className:"text-base font-semibold",children:"This site includes all official questions and answers for the Berlin naturalization test."}),rt.jsx("br",{}),rt.jsx("br",{}),"I built this website as a personal study tool for the “Leben in Deutschland” naturalization test. The questions are based on the official public catalog — including the state-specific questions for Berlin. Some states have different regional questions. I can’t guarantee accuracy or updates. This is a private side project — no login, no ads, no government affiliation.",rt.jsx("br",{}),rt.jsx("br",{}),"This site uses Google Analytics to collect anonymous usage data. No personal data is stored or shared."]})}),rt.jsxs("div",{style:{position:"absolute",bottom:"40px",left:"50%",transform:"translateX(-50%)",display:"flex",flexDirection:"column",alignItems:"center",width:"90%",gap:"30px"},children:[rt.jsx("a",{href:"mailto:fragen@fragen-katalog.com",className:"text-base text-center",style:{textDecoration:"underline",color:"var(--color-primary)",fontWeight:500},children:"fragen@fragen-katalog.com"}),rt.jsx(ab,{fullWidth:!0,variant:"modal",style:{whiteSpace:"nowrap"}})]})]})})}const ob=vt.createContext({});function zI(n){const t=vt.useRef(null);return t.current===null&&(t.current=n()),t.current}const dg=typeof window<"u",FI=dg?vt.useLayoutEffect:vt.useEffect,mg=vt.createContext(null);function pg(n,t){n.indexOf(t)===-1&&n.push(t)}function gg(n,t){const i=n.indexOf(t);i>-1&&n.splice(i,1)}const ys=(n,t,i)=>i>t?t:i<n?n:i;let yg=()=>{};const vs={},lb=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function ub(n){return typeof n=="object"&&n!==null}const cb=n=>/^0[^.\s]+$/u.test(n);function vg(n){let t;return()=>(t===void 0&&(t=n()),t)}const ni=n=>n,qI=(n,t)=>i=>t(n(i)),Su=(...n)=>n.reduce(qI),fu=(n,t,i)=>{const r=t-n;return r===0?1:(i-n)/r};class _g{constructor(){this.subscriptions=[]}add(t){return pg(this.subscriptions,t),()=>gg(this.subscriptions,t)}notify(t,i,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,i,r);else for(let u=0;u<o;u++){const h=this.subscriptions[u];h&&h(t,i,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Pi=n=>n*1e3,ei=n=>n/1e3;function hb(n,t){return t?n*(1e3/t):0}const fb=(n,t,i)=>(((1-3*i+3*t)*n+(3*i-6*t))*n+3*t)*n,HI=1e-7,GI=12;function KI(n,t,i,r,o){let u,h,d=0;do h=t+(i-t)/2,u=fb(h,r,o)-n,u>0?i=h:t=h;while(Math.abs(u)>HI&&++d<GI);return h}function wu(n,t,i,r){if(n===t&&i===r)return ni;const o=u=>KI(u,0,1,n,i);return u=>u===0||u===1?u:fb(o(u),t,r)}const db=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,mb=n=>t=>1-n(1-t),pb=wu(.33,1.53,.69,.99),Tg=mb(pb),gb=db(Tg),yb=n=>(n*=2)<1?.5*Tg(n):.5*(2-Math.pow(2,-10*(n-1))),Eg=n=>1-Math.sin(Math.acos(n)),vb=mb(Eg),_b=db(Eg),YI=wu(.42,0,1,1),QI=wu(0,0,.58,1),Tb=wu(.42,0,.58,1),XI=n=>Array.isArray(n)&&typeof n[0]!="number",Eb=n=>Array.isArray(n)&&typeof n[0]=="number",$I={linear:ni,easeIn:YI,easeInOut:Tb,easeOut:QI,circIn:Eg,circInOut:_b,circOut:vb,backIn:Tg,backInOut:gb,backOut:pb,anticipate:yb},ZI=n=>typeof n=="string",MT=n=>{if(Eb(n)){yg(n.length===4);const[t,i,r,o]=n;return wu(t,i,r,o)}else if(ZI(n))return $I[n];return n},nh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function WI(n,t){let i=new Set,r=new Set,o=!1,u=!1;const h=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function p(v){h.has(v)&&(g.schedule(v),n()),v(d)}const g={schedule:(v,E=!1,A=!1)=>{const L=A&&o?i:r;return E&&h.add(v),L.has(v)||L.add(v),v},cancel:v=>{r.delete(v),h.delete(v)},process:v=>{if(d=v,o){u=!0;return}o=!0,[i,r]=[r,i],i.forEach(p),i.clear(),o=!1,u&&(u=!1,g.process(v))}};return g}const JI=40;function Ab(n,t){let i=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>i=!0,h=nh.reduce((Z,ht)=>(Z[ht]=WI(u),Z),{}),{setup:d,read:p,resolveKeyframes:g,preUpdate:v,update:E,preRender:A,render:D,postRender:L}=h,q=()=>{const Z=vs.useManualTiming?o.timestamp:performance.now();i=!1,vs.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(Z-o.timestamp,JI),1)),o.timestamp=Z,o.isProcessing=!0,d.process(o),p.process(o),g.process(o),v.process(o),E.process(o),A.process(o),D.process(o),L.process(o),o.isProcessing=!1,i&&t&&(r=!1,n(q))},U=()=>{i=!0,r=!0,o.isProcessing||n(q)};return{schedule:nh.reduce((Z,ht)=>{const at=h[ht];return Z[ht]=(gt,N=!1,C=!1)=>(i||U(),at.schedule(gt,N,C)),Z},{}),cancel:Z=>{for(let ht=0;ht<nh.length;ht++)h[nh[ht]].cancel(Z)},state:o,steps:h}}const{schedule:pe,cancel:cr,state:nn,steps:Tm}=Ab(typeof requestAnimationFrame<"u"?requestAnimationFrame:ni,!0);let hh;function tM(){hh=void 0}const wn={now:()=>(hh===void 0&&wn.set(nn.isProcessing||vs.useManualTiming?nn.timestamp:performance.now()),hh),set:n=>{hh=n,queueMicrotask(tM)}},bb=n=>t=>typeof t=="string"&&t.startsWith(n),Ag=bb("--"),eM=bb("var(--"),bg=n=>eM(n)?nM.test(n.split("/*")[0].trim()):!1,nM=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Co={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},du={...Co,transform:n=>ys(0,1,n)},ih={...Co,default:1},Zl=n=>Math.round(n*1e5)/1e5,Sg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function iM(n){return n==null}const sM=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,wg=(n,t)=>i=>!!(typeof i=="string"&&sM.test(i)&&i.startsWith(n)||t&&!iM(i)&&Object.prototype.hasOwnProperty.call(i,t)),Sb=(n,t,i)=>r=>{if(typeof r!="string")return r;const[o,u,h,d]=r.match(Sg);return{[n]:parseFloat(o),[t]:parseFloat(u),[i]:parseFloat(h),alpha:d!==void 0?parseFloat(d):1}},rM=n=>ys(0,255,n),Em={...Co,transform:n=>Math.round(rM(n))},ta={test:wg("rgb","red"),parse:Sb("red","green","blue"),transform:({red:n,green:t,blue:i,alpha:r=1})=>"rgba("+Em.transform(n)+", "+Em.transform(t)+", "+Em.transform(i)+", "+Zl(du.transform(r))+")"};function aM(n){let t="",i="",r="",o="";return n.length>5?(t=n.substring(1,3),i=n.substring(3,5),r=n.substring(5,7),o=n.substring(7,9)):(t=n.substring(1,2),i=n.substring(2,3),r=n.substring(3,4),o=n.substring(4,5),t+=t,i+=i,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const sp={test:wg("#"),parse:aM,transform:ta.transform},Ru=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),Xs=Ru("deg"),Li=Ru("%"),Rt=Ru("px"),oM=Ru("vh"),lM=Ru("vw"),OT={...Li,parse:n=>Li.parse(n)/100,transform:n=>Li.transform(n*100)},oo={test:wg("hsl","hue"),parse:Sb("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:i,alpha:r=1})=>"hsla("+Math.round(n)+", "+Li.transform(Zl(t))+", "+Li.transform(Zl(i))+", "+Zl(du.transform(r))+")"},Oe={test:n=>ta.test(n)||sp.test(n)||oo.test(n),parse:n=>ta.test(n)?ta.parse(n):oo.test(n)?oo.parse(n):sp.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?ta.transform(n):oo.transform(n),getAnimatableNone:n=>{const t=Oe.parse(n);return t.alpha=0,Oe.transform(t)}},uM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function cM(n){var t,i;return isNaN(n)&&typeof n=="string"&&(((t=n.match(Sg))==null?void 0:t.length)||0)+(((i=n.match(uM))==null?void 0:i.length)||0)>0}const wb="number",Rb="color",hM="var",fM="var(",NT="${}",dM=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function mu(n){const t=n.toString(),i=[],r={color:[],number:[],var:[]},o=[];let u=0;const d=t.replace(dM,p=>(Oe.test(p)?(r.color.push(u),o.push(Rb),i.push(Oe.parse(p))):p.startsWith(fM)?(r.var.push(u),o.push(hM),i.push(p)):(r.number.push(u),o.push(wb),i.push(parseFloat(p))),++u,NT)).split(NT);return{values:i,split:d,indexes:r,types:o}}function Cb(n){return mu(n).values}function Db(n){const{split:t,types:i}=mu(n),r=t.length;return o=>{let u="";for(let h=0;h<r;h++)if(u+=t[h],o[h]!==void 0){const d=i[h];d===wb?u+=Zl(o[h]):d===Rb?u+=Oe.transform(o[h]):u+=o[h]}return u}}const mM=n=>typeof n=="number"?0:Oe.test(n)?Oe.getAnimatableNone(n):n;function pM(n){const t=Cb(n);return Db(n)(t.map(mM))}const hr={test:cM,parse:Cb,createTransformer:Db,getAnimatableNone:pM};function Am(n,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?n+(t-n)*6*i:i<1/2?t:i<2/3?n+(t-n)*(2/3-i)*6:n}function gM({hue:n,saturation:t,lightness:i,alpha:r}){n/=360,t/=100,i/=100;let o=0,u=0,h=0;if(!t)o=u=h=i;else{const d=i<.5?i*(1+t):i+t-i*t,p=2*i-d;o=Am(p,d,n+1/3),u=Am(p,d,n),h=Am(p,d,n-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(h*255),alpha:r}}function Vh(n,t){return i=>i>0?t:n}const ye=(n,t,i)=>n+(t-n)*i,bm=(n,t,i)=>{const r=n*n,o=i*(t*t-r)+r;return o<0?0:Math.sqrt(o)},yM=[sp,ta,oo],vM=n=>yM.find(t=>t.test(n));function PT(n){const t=vM(n);if(!t)return!1;let i=t.parse(n);return t===oo&&(i=gM(i)),i}const LT=(n,t)=>{const i=PT(n),r=PT(t);if(!i||!r)return Vh(n,t);const o={...i};return u=>(o.red=bm(i.red,r.red,u),o.green=bm(i.green,r.green,u),o.blue=bm(i.blue,r.blue,u),o.alpha=ye(i.alpha,r.alpha,u),ta.transform(o))},rp=new Set(["none","hidden"]);function _M(n,t){return rp.has(n)?i=>i<=0?n:t:i=>i>=1?t:n}function TM(n,t){return i=>ye(n,t,i)}function Rg(n){return typeof n=="number"?TM:typeof n=="string"?bg(n)?Vh:Oe.test(n)?LT:bM:Array.isArray(n)?xb:typeof n=="object"?Oe.test(n)?LT:EM:Vh}function xb(n,t){const i=[...n],r=i.length,o=n.map((u,h)=>Rg(u)(u,t[h]));return u=>{for(let h=0;h<r;h++)i[h]=o[h](u);return i}}function EM(n,t){const i={...n,...t},r={};for(const o in i)n[o]!==void 0&&t[o]!==void 0&&(r[o]=Rg(n[o])(n[o],t[o]));return o=>{for(const u in r)i[u]=r[u](o);return i}}function AM(n,t){const i=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],h=n.indexes[u][r[u]],d=n.values[h]??0;i[o]=d,r[u]++}return i}const bM=(n,t)=>{const i=hr.createTransformer(t),r=mu(n),o=mu(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?rp.has(n)&&!o.values.length||rp.has(t)&&!r.values.length?_M(n,t):Su(xb(AM(r,o),o.values),i):Vh(n,t)};function Vb(n,t,i){return typeof n=="number"&&typeof t=="number"&&typeof i=="number"?ye(n,t,i):Rg(n)(n,t)}const SM=n=>{const t=({timestamp:i})=>n(i);return{start:(i=!0)=>pe.update(t,i),stop:()=>cr(t),now:()=>nn.isProcessing?nn.timestamp:wn.now()}},Ib=(n,t,i=10)=>{let r="";const o=Math.max(Math.round(t/i),2);for(let u=0;u<o;u++)r+=Math.round(n(u/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Ih=2e4;function Cg(n){let t=0;const i=50;let r=n.next(t);for(;!r.done&&t<Ih;)t+=i,r=n.next(t);return t>=Ih?1/0:t}function wM(n,t=100,i){const r=i({...n,keyframes:[0,t]}),o=Math.min(Cg(r),Ih);return{type:"keyframes",ease:u=>r.next(o*u).value/t,duration:ei(o)}}const RM=5;function Mb(n,t,i){const r=Math.max(t-RM,0);return hb(i-n(r),t-r)}const Ee={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Sm=.001;function CM({duration:n=Ee.duration,bounce:t=Ee.bounce,velocity:i=Ee.velocity,mass:r=Ee.mass}){let o,u,h=1-t;h=ys(Ee.minDamping,Ee.maxDamping,h),n=ys(Ee.minDuration,Ee.maxDuration,ei(n)),h<1?(o=g=>{const v=g*h,E=v*n,A=v-i,D=ap(g,h),L=Math.exp(-E);return Sm-A/D*L},u=g=>{const E=g*h*n,A=E*i+i,D=Math.pow(h,2)*Math.pow(g,2)*n,L=Math.exp(-E),q=ap(Math.pow(g,2),h);return(-o(g)+Sm>0?-1:1)*((A-D)*L)/q}):(o=g=>{const v=Math.exp(-g*n),E=(g-i)*n+1;return-Sm+v*E},u=g=>{const v=Math.exp(-g*n),E=(i-g)*(n*n);return v*E});const d=5/n,p=xM(o,u,d);if(n=Pi(n),isNaN(p))return{stiffness:Ee.stiffness,damping:Ee.damping,duration:n};{const g=Math.pow(p,2)*r;return{stiffness:g,damping:h*2*Math.sqrt(r*g),duration:n}}}const DM=12;function xM(n,t,i){let r=i;for(let o=1;o<DM;o++)r=r-n(r)/t(r);return r}function ap(n,t){return n*Math.sqrt(1-t*t)}const VM=["duration","bounce"],IM=["stiffness","damping","mass"];function kT(n,t){return t.some(i=>n[i]!==void 0)}function MM(n){let t={velocity:Ee.velocity,stiffness:Ee.stiffness,damping:Ee.damping,mass:Ee.mass,isResolvedFromDuration:!1,...n};if(!kT(n,IM)&&kT(n,VM))if(n.visualDuration){const i=n.visualDuration,r=2*Math.PI/(i*1.2),o=r*r,u=2*ys(.05,1,1-(n.bounce||0))*Math.sqrt(o);t={...t,mass:Ee.mass,stiffness:o,damping:u}}else{const i=CM(n);t={...t,...i,mass:Ee.mass},t.isResolvedFromDuration=!0}return t}function Mh(n=Ee.visualDuration,t=Ee.bounce){const i=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:r,restDelta:o}=i;const u=i.keyframes[0],h=i.keyframes[i.keyframes.length-1],d={done:!1,value:u},{stiffness:p,damping:g,mass:v,duration:E,velocity:A,isResolvedFromDuration:D}=MM({...i,velocity:-ei(i.velocity||0)}),L=A||0,q=g/(2*Math.sqrt(p*v)),U=h-u,W=ei(Math.sqrt(p/v)),it=Math.abs(U)<5;r||(r=it?Ee.restSpeed.granular:Ee.restSpeed.default),o||(o=it?Ee.restDelta.granular:Ee.restDelta.default);let Z;if(q<1){const at=ap(W,q);Z=gt=>{const N=Math.exp(-q*W*gt);return h-N*((L+q*W*U)/at*Math.sin(at*gt)+U*Math.cos(at*gt))}}else if(q===1)Z=at=>h-Math.exp(-W*at)*(U+(L+W*U)*at);else{const at=W*Math.sqrt(q*q-1);Z=gt=>{const N=Math.exp(-q*W*gt),C=Math.min(at*gt,300);return h-N*((L+q*W*U)*Math.sinh(C)+at*U*Math.cosh(C))/at}}const ht={calculatedDuration:D&&E||null,next:at=>{const gt=Z(at);if(D)d.done=at>=E;else{let N=at===0?L:0;q<1&&(N=at===0?Pi(L):Mb(Z,at,gt));const C=Math.abs(N)<=r,x=Math.abs(h-gt)<=o;d.done=C&&x}return d.value=d.done?h:gt,d},toString:()=>{const at=Math.min(Cg(ht),Ih),gt=Ib(N=>ht.next(at*N).value,at,30);return at+"ms "+gt},toTransition:()=>{}};return ht}Mh.applyToOptions=n=>{const t=wM(n,100,Mh);return n.ease=t.ease,n.duration=Pi(t.duration),n.type="keyframes",n};function op({keyframes:n,velocity:t=0,power:i=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:h,min:d,max:p,restDelta:g=.5,restSpeed:v}){const E=n[0],A={done:!1,value:E},D=C=>d!==void 0&&C<d||p!==void 0&&C>p,L=C=>d===void 0?p:p===void 0||Math.abs(d-C)<Math.abs(p-C)?d:p;let q=i*t;const U=E+q,W=h===void 0?U:h(U);W!==U&&(q=W-E);const it=C=>-q*Math.exp(-C/r),Z=C=>W+it(C),ht=C=>{const x=it(C),M=Z(C);A.done=Math.abs(x)<=g,A.value=A.done?W:M};let at,gt;const N=C=>{D(A.value)&&(at=C,gt=Mh({keyframes:[A.value,L(A.value)],velocity:Mb(Z,C,A.value),damping:o,stiffness:u,restDelta:g,restSpeed:v}))};return N(0),{calculatedDuration:null,next:C=>{let x=!1;return!gt&&at===void 0&&(x=!0,ht(C),N(C)),at!==void 0&&C>=at?gt.next(C-at):(!x&&ht(C),A)}}}function OM(n,t,i){const r=[],o=i||vs.mix||Vb,u=n.length-1;for(let h=0;h<u;h++){let d=o(n[h],n[h+1]);if(t){const p=Array.isArray(t)?t[h]||ni:t;d=Su(p,d)}r.push(d)}return r}function NM(n,t,{clamp:i=!0,ease:r,mixer:o}={}){const u=n.length;if(yg(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const h=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),t=[...t].reverse());const d=OM(t,r,o),p=d.length,g=v=>{if(h&&v<n[0])return t[0];let E=0;if(p>1)for(;E<n.length-2&&!(v<n[E+1]);E++);const A=fu(n[E],n[E+1],v);return d[E](A)};return i?v=>g(ys(n[0],n[u-1],v)):g}function PM(n,t){const i=n[n.length-1];for(let r=1;r<=t;r++){const o=fu(0,t,r);n.push(ye(i,1,o))}}function LM(n){const t=[0];return PM(t,n.length-1),t}function kM(n,t){return n.map(i=>i*t)}function UM(n,t){return n.map(()=>t||Tb).splice(0,n.length-1)}function Wl({duration:n=300,keyframes:t,times:i,ease:r="easeInOut"}){const o=XI(r)?r.map(MT):MT(r),u={done:!1,value:t[0]},h=kM(i&&i.length===t.length?i:LM(t),n),d=NM(h,t,{ease:Array.isArray(o)?o:UM(t,o)});return{calculatedDuration:n,next:p=>(u.value=d(p),u.done=p>=n,u)}}const BM=n=>n!==null;function Dg(n,{repeat:t,repeatType:i="loop"},r,o=1){const u=n.filter(BM),d=o<0||t&&i!=="loop"&&t%2===1?0:u.length-1;return!d||r===void 0?u[d]:r}const jM={decay:op,inertia:op,tween:Wl,keyframes:Wl,spring:Mh};function Ob(n){typeof n.type=="string"&&(n.type=jM[n.type])}class xg{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,i){return this.finished.then(t,i)}}const zM=n=>n/100;class Vg extends xg{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,o;const{motionValue:i}=this.options;i&&i.updatedAt!==wn.now()&&this.tick(wn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(r=this.options).onStop)==null||o.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Ob(t);const{type:i=Wl,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:h=0}=t;let{keyframes:d}=t;const p=i||Wl;p!==Wl&&typeof d[0]!="number"&&(this.mixKeyframes=Su(zM,Vb(d[0],d[1])),d=[0,100]);const g=p({...t,keyframes:d});u==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...d].reverse(),velocity:-h})),g.calculatedDuration===null&&(g.calculatedDuration=Cg(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=g}updateTime(t){const i=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(t,i=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:h,resolvedDuration:d,calculatedDuration:p}=this;if(this.startTime===null)return r.next(0);const{delay:g=0,keyframes:v,repeat:E,repeatType:A,repeatDelay:D,type:L,onUpdate:q,finalKeyframe:U}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),i?this.currentTime=t:this.updateTime(t);const W=this.currentTime-g*(this.playbackSpeed>=0?1:-1),it=this.playbackSpeed>=0?W<0:W>o;this.currentTime=Math.max(W,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let Z=this.currentTime,ht=r;if(E){const C=Math.min(this.currentTime,o)/d;let x=Math.floor(C),M=C%1;!M&&C>=1&&(M=1),M===1&&x--,x=Math.min(x,E+1),!!(x%2)&&(A==="reverse"?(M=1-M,D&&(M-=D/d)):A==="mirror"&&(ht=h)),Z=ys(0,1,M)*d}const at=it?{done:!1,value:v[0]}:ht.next(Z);u&&(at.value=u(at.value));let{done:gt}=at;!it&&p!==null&&(gt=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&gt);return N&&L!==op&&(at.value=Dg(v,this.options,U,this.speed)),q&&q(at.value),N&&this.finish(),at}then(t,i){return this.finished.then(t,i)}get duration(){return ei(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ei(t)}get time(){return ei(this.currentTime)}set time(t){var i;t=Pi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(i=this.driver)==null||i.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(wn.now());const i=this.playbackSpeed!==t;this.playbackSpeed=t,i&&(this.time=ei(this.currentTime))}play(){var o,u;if(this.isStopped)return;const{driver:t=SM,startTime:i}=this.options;this.driver||(this.driver=t(h=>this.tick(h))),(u=(o=this.options).onPlay)==null||u.call(o);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=i??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(wn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,i;this.notifyFinished(),this.teardown(),this.state="finished",(i=(t=this.options).onComplete)==null||i.call(t)}cancel(){var t,i;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(i=(t=this.options).onCancel)==null||i.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var i;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(i=this.driver)==null||i.stop(),t.observe(this)}}function FM(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const ea=n=>n*180/Math.PI,lp=n=>{const t=ea(Math.atan2(n[1],n[0]));return up(t)},qM={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:lp,rotateZ:lp,skewX:n=>ea(Math.atan(n[1])),skewY:n=>ea(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},up=n=>(n=n%360,n<0&&(n+=360),n),UT=lp,BT=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),jT=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),HM={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:BT,scaleY:jT,scale:n=>(BT(n)+jT(n))/2,rotateX:n=>up(ea(Math.atan2(n[6],n[5]))),rotateY:n=>up(ea(Math.atan2(-n[2],n[0]))),rotateZ:UT,rotate:UT,skewX:n=>ea(Math.atan(n[4])),skewY:n=>ea(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function cp(n){return n.includes("scale")?1:0}function hp(n,t){if(!n||n==="none")return cp(t);const i=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(i)r=HM,o=i;else{const d=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=qM,o=d}if(!o)return cp(t);const u=r[t],h=o[1].split(",").map(KM);return typeof u=="function"?u(h):h[u]}const GM=(n,t)=>{const{transform:i="none"}=getComputedStyle(n);return hp(i,t)};function KM(n){return parseFloat(n.trim())}const Do=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],xo=new Set(Do),zT=n=>n===Co||n===Rt,YM=new Set(["x","y","z"]),QM=Do.filter(n=>!YM.has(n));function XM(n){const t=[];return QM.forEach(i=>{const r=n.getValue(i);r!==void 0&&(t.push([i,r.get()]),r.set(i.startsWith("scale")?1:0))}),t}const sa={width:({x:n},{paddingLeft:t="0",paddingRight:i="0"})=>n.max-n.min-parseFloat(t)-parseFloat(i),height:({y:n},{paddingTop:t="0",paddingBottom:i="0"})=>n.max-n.min-parseFloat(t)-parseFloat(i),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>hp(t,"x"),y:(n,{transform:t})=>hp(t,"y")};sa.translateX=sa.x;sa.translateY=sa.y;const ra=new Set;let fp=!1,dp=!1,mp=!1;function Nb(){if(dp){const n=Array.from(ra).filter(r=>r.needsMeasurement),t=new Set(n.map(r=>r.element)),i=new Map;t.forEach(r=>{const o=XM(r);o.length&&(i.set(r,o),r.render())}),n.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=i.get(r);o&&o.forEach(([u,h])=>{var d;(d=r.getValue(u))==null||d.set(h)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}dp=!1,fp=!1,ra.forEach(n=>n.complete(mp)),ra.clear()}function Pb(){ra.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(dp=!0)})}function $M(){mp=!0,Pb(),Nb(),mp=!1}class Ig{constructor(t,i,r,o,u,h=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=i,this.name=r,this.motionValue=o,this.element=u,this.isAsync=h}scheduleResolve(){this.state="scheduled",this.isAsync?(ra.add(this),fp||(fp=!0,pe.read(Pb),pe.resolveKeyframes(Nb))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:i,element:r,motionValue:o}=this;if(t[0]===null){const u=o==null?void 0:o.get(),h=t[t.length-1];if(u!==void 0)t[0]=u;else if(r&&i){const d=r.readValue(i,h);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=h),o&&u===void 0&&o.set(t[0])}FM(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ra.delete(this)}cancel(){this.state==="scheduled"&&(ra.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const ZM=n=>n.startsWith("--");function WM(n,t,i){ZM(t)?n.style.setProperty(t,i):n.style[t]=i}const JM=vg(()=>window.ScrollTimeline!==void 0),tO={};function eO(n,t){const i=vg(n);return()=>tO[t]??i()}const Lb=eO(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Hl=([n,t,i,r])=>`cubic-bezier(${n}, ${t}, ${i}, ${r})`,FT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Hl([0,.65,.55,1]),circOut:Hl([.55,0,1,.45]),backIn:Hl([.31,.01,.66,-.59]),backOut:Hl([.33,1.53,.69,.99])};function kb(n,t){if(n)return typeof n=="function"?Lb()?Ib(n,t):"ease-out":Eb(n)?Hl(n):Array.isArray(n)?n.map(i=>kb(i,t)||FT.easeOut):FT[n]}function nO(n,t,i,{delay:r=0,duration:o=300,repeat:u=0,repeatType:h="loop",ease:d="easeOut",times:p}={},g=void 0){const v={[t]:i};p&&(v.offset=p);const E=kb(d,o);Array.isArray(E)&&(v.easing=E);const A={delay:r,duration:o,easing:Array.isArray(E)?"linear":E,fill:"both",iterations:u+1,direction:h==="reverse"?"alternate":"normal"};return g&&(A.pseudoElement=g),n.animate(v,A)}function Ub(n){return typeof n=="function"&&"applyToOptions"in n}function iO({type:n,...t}){return Ub(n)&&Lb()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class sO extends xg{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:i,name:r,keyframes:o,pseudoElement:u,allowFlatten:h=!1,finalKeyframe:d,onComplete:p}=t;this.isPseudoElement=!!u,this.allowFlatten=h,this.options=t,yg(typeof t.type!="string");const g=iO(t);this.animation=nO(i,r,o,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const v=Dg(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(v):WM(i,r,v),this.animation.cancel()}p==null||p(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,i;(i=(t=this.animation).finish)==null||i.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,i;this.isPseudoElement||(i=(t=this.animation).commitStyles)==null||i.call(t)}get duration(){var i,r;const t=((r=(i=this.animation.effect)==null?void 0:i.getComputedTiming)==null?void 0:r.call(i).duration)||0;return ei(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ei(t)}get time(){return ei(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Pi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:i}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&JM()?(this.animation.timeline=t,ni):i(this)}}const Bb={anticipate:yb,backInOut:gb,circInOut:_b};function rO(n){return n in Bb}function aO(n){typeof n.ease=="string"&&rO(n.ease)&&(n.ease=Bb[n.ease])}const qT=10;class oO extends sO{constructor(t){aO(t),Ob(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:i,onUpdate:r,onComplete:o,element:u,...h}=this.options;if(!i)return;if(t!==void 0){i.set(t);return}const d=new Vg({...h,autoplay:!1}),p=Pi(this.finishedTime??this.time);i.setWithVelocity(d.sample(p-qT).value,d.sample(p).value,qT),d.stop()}}const HT=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(hr.test(n)||n==="0")&&!n.startsWith("url("));function lO(n){const t=n[0];if(n.length===1)return!0;for(let i=0;i<n.length;i++)if(n[i]!==t)return!0}function uO(n,t,i,r){const o=n[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=n[n.length-1],h=HT(o,t),d=HT(u,t);return!h||!d?!1:lO(n)||(i==="spring"||Ub(i))&&r}function pp(n){n.duration=0,n.type="keyframes"}const cO=new Set(["opacity","clipPath","filter","transform"]),hO=vg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function fO(n){var v;const{motionValue:t,name:i,repeatDelay:r,repeatType:o,damping:u,type:h}=n;if(!(((v=t==null?void 0:t.owner)==null?void 0:v.current)instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return hO()&&i&&cO.has(i)&&(i!=="transform"||!g)&&!p&&!r&&o!=="mirror"&&u!==0&&h!=="inertia"}const dO=40;class mO extends xg{constructor({autoplay:t=!0,delay:i=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:h="loop",keyframes:d,name:p,motionValue:g,element:v,...E}){var L;super(),this.stop=()=>{var q,U;this._animation&&(this._animation.stop(),(q=this.stopTimeline)==null||q.call(this)),(U=this.keyframeResolver)==null||U.cancel()},this.createdAt=wn.now();const A={autoplay:t,delay:i,type:r,repeat:o,repeatDelay:u,repeatType:h,name:p,motionValue:g,element:v,...E},D=(v==null?void 0:v.KeyframeResolver)||Ig;this.keyframeResolver=new D(d,(q,U,W)=>this.onKeyframesResolved(q,U,A,!W),p,g,v),(L=this.keyframeResolver)==null||L.scheduleResolve()}onKeyframesResolved(t,i,r,o){this.keyframeResolver=void 0;const{name:u,type:h,velocity:d,delay:p,isHandoff:g,onUpdate:v}=r;this.resolvedAt=wn.now(),uO(t,u,h,d)||((vs.instantAnimations||!p)&&(v==null||v(Dg(t,r,i))),t[0]=t[t.length-1],pp(r),r.repeat=0);const A={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>dO?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...r,keyframes:t},D=!g&&fO(A)?new oO({...A,element:A.motionValue.owner.current}):new Vg(A);D.finished.then(()=>this.notifyFinished()).catch(ni),this.pendingTimeline&&(this.stopTimeline=D.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=D}get finished(){return this._animation?this.animation.finished:this._finished}then(t,i){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),$M()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const pO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function gO(n){const t=pO.exec(n);if(!t)return[,];const[,i,r,o]=t;return[`--${i??r}`,o]}function jb(n,t,i=1){const[r,o]=gO(n);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const h=u.trim();return lb(h)?parseFloat(h):h}return bg(o)?jb(o,t,i+1):o}function Mg(n,t){return(n==null?void 0:n[t])??(n==null?void 0:n.default)??n}const zb=new Set(["width","height","top","left","right","bottom",...Do]),yO={test:n=>n==="auto",parse:n=>n},Fb=n=>t=>t.test(n),qb=[Co,Rt,Li,Xs,lM,oM,yO],GT=n=>qb.find(Fb(n));function vO(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||cb(n):!0}const _O=new Set(["brightness","contrast","saturate","opacity"]);function TO(n){const[t,i]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[r]=i.match(Sg)||[];if(!r)return n;const o=i.replace(r,"");let u=_O.has(t)?1:0;return r!==i&&(u*=100),t+"("+u+o+")"}const EO=/\b([a-z-]*)\(.*?\)/gu,gp={...hr,getAnimatableNone:n=>{const t=n.match(EO);return t?t.map(TO).join(" "):n}},KT={...Co,transform:Math.round},AO={rotate:Xs,rotateX:Xs,rotateY:Xs,rotateZ:Xs,scale:ih,scaleX:ih,scaleY:ih,scaleZ:ih,skew:Xs,skewX:Xs,skewY:Xs,distance:Rt,translateX:Rt,translateY:Rt,translateZ:Rt,x:Rt,y:Rt,z:Rt,perspective:Rt,transformPerspective:Rt,opacity:du,originX:OT,originY:OT,originZ:Rt},Og={borderWidth:Rt,borderTopWidth:Rt,borderRightWidth:Rt,borderBottomWidth:Rt,borderLeftWidth:Rt,borderRadius:Rt,radius:Rt,borderTopLeftRadius:Rt,borderTopRightRadius:Rt,borderBottomRightRadius:Rt,borderBottomLeftRadius:Rt,width:Rt,maxWidth:Rt,height:Rt,maxHeight:Rt,top:Rt,right:Rt,bottom:Rt,left:Rt,padding:Rt,paddingTop:Rt,paddingRight:Rt,paddingBottom:Rt,paddingLeft:Rt,margin:Rt,marginTop:Rt,marginRight:Rt,marginBottom:Rt,marginLeft:Rt,backgroundPositionX:Rt,backgroundPositionY:Rt,...AO,zIndex:KT,fillOpacity:du,strokeOpacity:du,numOctaves:KT},bO={...Og,color:Oe,backgroundColor:Oe,outlineColor:Oe,fill:Oe,stroke:Oe,borderColor:Oe,borderTopColor:Oe,borderRightColor:Oe,borderBottomColor:Oe,borderLeftColor:Oe,filter:gp,WebkitFilter:gp},Hb=n=>bO[n];function Gb(n,t){let i=Hb(n);return i!==gp&&(i=hr),i.getAnimatableNone?i.getAnimatableNone(t):void 0}const SO=new Set(["auto","none","0"]);function wO(n,t,i){let r=0,o;for(;r<n.length&&!o;){const u=n[r];typeof u=="string"&&!SO.has(u)&&mu(u).values.length&&(o=n[r]),r++}if(o&&i)for(const u of t)n[u]=Gb(i,o)}class RO extends Ig{constructor(t,i,r,o,u){super(t,i,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:i,name:r}=this;if(!i||!i.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let g=t[p];if(typeof g=="string"&&(g=g.trim(),bg(g))){const v=jb(g,i.current);v!==void 0&&(t[p]=v),p===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!zb.has(r)||t.length!==2)return;const[o,u]=t,h=GT(o),d=GT(u);if(h!==d)if(zT(h)&&zT(d))for(let p=0;p<t.length;p++){const g=t[p];typeof g=="string"&&(t[p]=parseFloat(g))}else sa[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:i}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||vO(t[o]))&&r.push(o);r.length&&wO(t,r,i)}measureInitialState(){const{element:t,unresolvedKeyframes:i,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=sa[r](t.measureViewportBox(),window.getComputedStyle(t.current)),i[0]=this.measuredOrigin;const o=i[i.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){var d;const{element:t,name:i,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(i);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,h=r[u];r[u]=sa[i](t.measureViewportBox(),window.getComputedStyle(t.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([p,g])=>{t.getValue(p).set(g)}),this.resolveNoneKeyframes()}}function CO(n,t,i){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const o=(i==null?void 0:i[n])??r.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}const Kb=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function DO(n){return ub(n)&&"offsetHeight"in n}const YT=30,xO=n=>!isNaN(parseFloat(n));class VO{constructor(t,i={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var u;const o=wn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((u=this.events.change)==null||u.notify(this.current),this.dependents))for(const h of this.dependents)h.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=i.owner}setCurrent(t){this.current=t,this.updatedAt=wn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=xO(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,i){this.events[t]||(this.events[t]=new _g);const r=this.events[t].add(i);return t==="change"?()=>{r(),pe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,i){this.passiveEffect=t,this.stopPassiveEffect=i}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,i,r){this.set(i),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,i=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=wn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>YT)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,YT);return hb(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(t){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=t(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,i;(t=this.dependents)==null||t.clear(),(i=this.events.destroy)==null||i.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Eo(n,t){return new VO(n,t)}const{schedule:Ng}=Ab(queueMicrotask,!1),ui={x:!1,y:!1};function Yb(){return ui.x||ui.y}function IO(n){return n==="x"||n==="y"?ui[n]?null:(ui[n]=!0,()=>{ui[n]=!1}):ui.x||ui.y?null:(ui.x=ui.y=!0,()=>{ui.x=ui.y=!1})}function Qb(n,t){const i=CO(n),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[i,o,()=>r.abort()]}function QT(n){return!(n.pointerType==="touch"||Yb())}function MO(n,t,i={}){const[r,o,u]=Qb(n,i),h=d=>{if(!QT(d))return;const{target:p}=d,g=t(p,d);if(typeof g!="function"||!p)return;const v=E=>{QT(E)&&(g(E),p.removeEventListener("pointerleave",v))};p.addEventListener("pointerleave",v,o)};return r.forEach(d=>{d.addEventListener("pointerenter",h,o)}),u}const Xb=(n,t)=>t?n===t?!0:Xb(n,t.parentElement):!1,Pg=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,OO=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function NO(n){return OO.has(n.tagName)||n.tabIndex!==-1}const fh=new WeakSet;function XT(n){return t=>{t.key==="Enter"&&n(t)}}function wm(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const PO=(n,t)=>{const i=n.currentTarget;if(!i)return;const r=XT(()=>{if(fh.has(i))return;wm(i,"down");const o=XT(()=>{wm(i,"up")}),u=()=>wm(i,"cancel");i.addEventListener("keyup",o,t),i.addEventListener("blur",u,t)});i.addEventListener("keydown",r,t),i.addEventListener("blur",()=>i.removeEventListener("keydown",r),t)};function $T(n){return Pg(n)&&!Yb()}function LO(n,t,i={}){const[r,o,u]=Qb(n,i),h=d=>{const p=d.currentTarget;if(!$T(d))return;fh.add(p);const g=t(p,d),v=(D,L)=>{window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",A),fh.has(p)&&fh.delete(p),$T(D)&&typeof g=="function"&&g(D,{success:L})},E=D=>{v(D,p===window||p===document||i.useGlobalTarget||Xb(p,D.target))},A=D=>{v(D,!1)};window.addEventListener("pointerup",E,o),window.addEventListener("pointercancel",A,o)};return r.forEach(d=>{(i.useGlobalTarget?window:d).addEventListener("pointerdown",h,o),DO(d)&&(d.addEventListener("focus",g=>PO(g,o)),!NO(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),u}function $b(n){return ub(n)&&"ownerSVGElement"in n}function kO(n){return $b(n)&&n.tagName==="svg"}const dn=n=>!!(n&&n.getVelocity),UO=[...qb,Oe,hr],BO=n=>UO.find(Fb(n)),Zb=vt.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function jO(n=!0){const t=vt.useContext(mg);if(t===null)return[!0,null];const{isPresent:i,onExitComplete:r,register:o}=t,u=vt.useId();vt.useEffect(()=>{if(n)return o(u)},[n]);const h=vt.useCallback(()=>n&&r&&r(u),[u,r,n]);return!i&&r?[!1,h]:[!0]}const Wb=vt.createContext({strict:!1}),ZT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ao={};for(const n in ZT)Ao[n]={isEnabled:t=>ZT[n].some(i=>!!t[i])};function zO(n){for(const t in n)Ao[t]={...Ao[t],...n[t]}}const FO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Oh(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||FO.has(n)}let Jb=n=>!Oh(n);function qO(n){typeof n=="function"&&(Jb=t=>t.startsWith("on")?!Oh(t):n(t))}try{qO(require("@emotion/is-prop-valid").default)}catch{}function HO(n,t,i){const r={};for(const o in n)o==="values"&&typeof n.values=="object"||(Jb(o)||i===!0&&Oh(o)||!t&&!Oh(o)||n.draggable&&o.startsWith("onDrag"))&&(r[o]=n[o]);return r}const nf=vt.createContext({});function sf(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function pu(n){return typeof n=="string"||Array.isArray(n)}const Lg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],kg=["initial",...Lg];function rf(n){return sf(n.animate)||kg.some(t=>pu(n[t]))}function tS(n){return!!(rf(n)||n.variants)}function GO(n,t){if(rf(n)){const{initial:i,animate:r}=n;return{initial:i===!1||pu(i)?i:void 0,animate:pu(r)?r:void 0}}return n.inherit!==!1?t:{}}function KO(n){const{initial:t,animate:i}=GO(n,vt.useContext(nf));return vt.useMemo(()=>({initial:t,animate:i}),[WT(t),WT(i)])}function WT(n){return Array.isArray(n)?n.join(" "):n}const gu={};function YO(n){for(const t in n)gu[t]=n[t],Ag(t)&&(gu[t].isCSSVariable=!0)}function eS(n,{layout:t,layoutId:i}){return xo.has(n)||n.startsWith("origin")||(t||i!==void 0)&&(!!gu[n]||n==="opacity")}const QO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},XO=Do.length;function $O(n,t,i){let r="",o=!0;for(let u=0;u<XO;u++){const h=Do[u],d=n[h];if(d===void 0)continue;let p=!0;if(typeof d=="number"?p=d===(h.startsWith("scale")?1:0):p=parseFloat(d)===0,!p||i){const g=Kb(d,Og[h]);if(!p){o=!1;const v=QO[h]||h;r+=`${v}(${g}) `}i&&(t[h]=g)}}return r=r.trim(),i?r=i(t,o?"":r):o&&(r="none"),r}function Ug(n,t,i){const{style:r,vars:o,transformOrigin:u}=n;let h=!1,d=!1;for(const p in t){const g=t[p];if(xo.has(p)){h=!0;continue}else if(Ag(p)){o[p]=g;continue}else{const v=Kb(g,Og[p]);p.startsWith("origin")?(d=!0,u[p]=v):r[p]=v}}if(t.transform||(h||i?r.transform=$O(t,n.transform,i):r.transform&&(r.transform="none")),d){const{originX:p="50%",originY:g="50%",originZ:v=0}=u;r.transformOrigin=`${p} ${g} ${v}`}}const Bg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function nS(n,t,i){for(const r in t)!dn(t[r])&&!eS(r,i)&&(n[r]=t[r])}function ZO({transformTemplate:n},t){return vt.useMemo(()=>{const i=Bg();return Ug(i,t,n),Object.assign({},i.vars,i.style)},[t])}function WO(n,t){const i=n.style||{},r={};return nS(r,i,n),Object.assign(r,ZO(n,t)),r}function JO(n,t){const i={},r=WO(n,t);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=r,i}const t4={offset:"stroke-dashoffset",array:"stroke-dasharray"},e4={offset:"strokeDashoffset",array:"strokeDasharray"};function n4(n,t,i=1,r=0,o=!0){n.pathLength=1;const u=o?t4:e4;n[u.offset]=Rt.transform(-r);const h=Rt.transform(t),d=Rt.transform(i);n[u.array]=`${h} ${d}`}function iS(n,{attrX:t,attrY:i,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:h=0,...d},p,g,v){if(Ug(n,d,g),p){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:E,style:A}=n;E.transform&&(A.transform=E.transform,delete E.transform),(A.transform||E.transformOrigin)&&(A.transformOrigin=E.transformOrigin??"50% 50%",delete E.transformOrigin),A.transform&&(A.transformBox=(v==null?void 0:v.transformBox)??"fill-box",delete E.transformBox),t!==void 0&&(E.x=t),i!==void 0&&(E.y=i),r!==void 0&&(E.scale=r),o!==void 0&&n4(E,o,u,h,!1)}const sS=()=>({...Bg(),attrs:{}}),rS=n=>typeof n=="string"&&n.toLowerCase()==="svg";function i4(n,t,i,r){const o=vt.useMemo(()=>{const u=sS();return iS(u,t,rS(r),n.transformTemplate,n.style),{...u.attrs,style:{...u.style}}},[t]);if(n.style){const u={};nS(u,n.style,n),o.style={...u,...o.style}}return o}const s4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function jg(n){return typeof n!="string"||n.includes("-")?!1:!!(s4.indexOf(n)>-1||/[A-Z]/u.test(n))}function r4(n,t,i,{latestValues:r},o,u=!1){const d=(jg(n)?i4:JO)(t,r,o,n),p=HO(t,typeof n=="string",u),g=n!==vt.Fragment?{...p,...d,ref:i}:{},{children:v}=t,E=vt.useMemo(()=>dn(v)?v.get():v,[v]);return vt.createElement(n,{...g,children:E})}function JT(n){const t=[{},{}];return n==null||n.values.forEach((i,r)=>{t[0][r]=i.get(),t[1][r]=i.getVelocity()}),t}function zg(n,t,i,r){if(typeof t=="function"){const[o,u]=JT(r);t=t(i!==void 0?i:n.custom,o,u)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[o,u]=JT(r);t=t(i!==void 0?i:n.custom,o,u)}return t}function dh(n){return dn(n)?n.get():n}function a4({scrapeMotionValuesFromProps:n,createRenderState:t},i,r,o){return{latestValues:o4(i,r,o,n),renderState:t()}}function o4(n,t,i,r){const o={},u=r(n,{});for(const A in u)o[A]=dh(u[A]);let{initial:h,animate:d}=n;const p=rf(n),g=tS(n);t&&g&&!p&&n.inherit!==!1&&(h===void 0&&(h=t.initial),d===void 0&&(d=t.animate));let v=i?i.initial===!1:!1;v=v||h===!1;const E=v?d:h;if(E&&typeof E!="boolean"&&!sf(E)){const A=Array.isArray(E)?E:[E];for(let D=0;D<A.length;D++){const L=zg(n,A[D]);if(L){const{transitionEnd:q,transition:U,...W}=L;for(const it in W){let Z=W[it];if(Array.isArray(Z)){const ht=v?Z.length-1:0;Z=Z[ht]}Z!==null&&(o[it]=Z)}for(const it in q)o[it]=q[it]}}}return o}const aS=n=>(t,i)=>{const r=vt.useContext(nf),o=vt.useContext(mg),u=()=>a4(n,t,r,o);return i?u():zI(u)};function Fg(n,t,i){var u;const{style:r}=n,o={};for(const h in r)(dn(r[h])||t.style&&dn(t.style[h])||eS(h,n)||((u=i==null?void 0:i.getValue(h))==null?void 0:u.liveStyle)!==void 0)&&(o[h]=r[h]);return o}const l4=aS({scrapeMotionValuesFromProps:Fg,createRenderState:Bg});function oS(n,t,i){const r=Fg(n,t,i);for(const o in n)if(dn(n[o])||dn(t[o])){const u=Do.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=n[o]}return r}const u4=aS({scrapeMotionValuesFromProps:oS,createRenderState:sS}),c4=Symbol.for("motionComponentSymbol");function lo(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function h4(n,t,i){return vt.useCallback(r=>{r&&n.onMount&&n.onMount(r),t&&(r?t.mount(r):t.unmount()),i&&(typeof i=="function"?i(r):lo(i)&&(i.current=r))},[t])}const qg=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),f4="framerAppearId",lS="data-"+qg(f4),uS=vt.createContext({});function d4(n,t,i,r,o){var q,U;const{visualElement:u}=vt.useContext(nf),h=vt.useContext(Wb),d=vt.useContext(mg),p=vt.useContext(Zb).reducedMotion,g=vt.useRef(null);r=r||h.renderer,!g.current&&r&&(g.current=r(n,{visualState:t,parent:u,props:i,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:p}));const v=g.current,E=vt.useContext(uS);v&&!v.projection&&o&&(v.type==="html"||v.type==="svg")&&m4(g.current,i,o,E);const A=vt.useRef(!1);vt.useInsertionEffect(()=>{v&&A.current&&v.update(i,d)});const D=i[lS],L=vt.useRef(!!D&&!((q=window.MotionHandoffIsComplete)!=null&&q.call(window,D))&&((U=window.MotionHasOptimisedAnimation)==null?void 0:U.call(window,D)));return FI(()=>{v&&(A.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),L.current&&v.animationState&&v.animationState.animateChanges())}),vt.useEffect(()=>{v&&(!L.current&&v.animationState&&v.animationState.animateChanges(),L.current&&(queueMicrotask(()=>{var W;(W=window.MotionHandoffMarkAsComplete)==null||W.call(window,D)}),L.current=!1),v.enteringChildren=void 0)}),v}function m4(n,t,i,r){const{layoutId:o,layout:u,drag:h,dragConstraints:d,layoutScroll:p,layoutRoot:g,layoutCrossfade:v}=t;n.projection=new i(n.latestValues,t["data-framer-portal-id"]?void 0:cS(n.parent)),n.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!h||d&&lo(d),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:v,layoutScroll:p,layoutRoot:g})}function cS(n){if(n)return n.options.allowProjection!==!1?n.projection:cS(n.parent)}function Rm(n,{forwardMotionProps:t=!1}={},i,r){i&&zO(i);const o=jg(n)?u4:l4;function u(d,p){let g;const v={...vt.useContext(Zb),...d,layoutId:p4(d)},{isStatic:E}=v,A=KO(d),D=o(d,E);if(!E&&dg){g4();const L=y4(v);g=L.MeasureLayout,A.visualElement=d4(n,D,v,r,L.ProjectionNode)}return rt.jsxs(nf.Provider,{value:A,children:[g&&A.visualElement?rt.jsx(g,{visualElement:A.visualElement,...v}):null,r4(n,d,h4(D,A.visualElement,p),D,E,t)]})}u.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const h=vt.forwardRef(u);return h[c4]=n,h}function p4({layoutId:n}){const t=vt.useContext(ob).id;return t&&n!==void 0?t+"-"+n:n}function g4(n,t){vt.useContext(Wb).strict}function y4(n){const{drag:t,layout:i}=Ao;if(!t&&!i)return{};const r={...t,...i};return{MeasureLayout:t!=null&&t.isEnabled(n)||i!=null&&i.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function v4(n,t){if(typeof Proxy>"u")return Rm;const i=new Map,r=(u,h)=>Rm(u,h,n,t),o=(u,h)=>r(u,h);return new Proxy(o,{get:(u,h)=>h==="create"?r:(i.has(h)||i.set(h,Rm(h,void 0,n,t)),i.get(h))})}function hS({top:n,left:t,right:i,bottom:r}){return{x:{min:t,max:i},y:{min:n,max:r}}}function _4({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function T4(n,t){if(!t)return n;const i=t({x:n.left,y:n.top}),r=t({x:n.right,y:n.bottom});return{top:i.y,left:i.x,bottom:r.y,right:r.x}}function Cm(n){return n===void 0||n===1}function yp({scale:n,scaleX:t,scaleY:i}){return!Cm(n)||!Cm(t)||!Cm(i)}function Zr(n){return yp(n)||fS(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function fS(n){return tE(n.x)||tE(n.y)}function tE(n){return n&&n!=="0%"}function Nh(n,t,i){const r=n-i,o=t*r;return i+o}function eE(n,t,i,r,o){return o!==void 0&&(n=Nh(n,o,r)),Nh(n,i,r)+t}function vp(n,t=0,i=1,r,o){n.min=eE(n.min,t,i,r,o),n.max=eE(n.max,t,i,r,o)}function dS(n,{x:t,y:i}){vp(n.x,t.translate,t.scale,t.originPoint),vp(n.y,i.translate,i.scale,i.originPoint)}const nE=.999999999999,iE=1.0000000000001;function E4(n,t,i,r=!1){const o=i.length;if(!o)return;t.x=t.y=1;let u,h;for(let d=0;d<o;d++){u=i[d],h=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&co(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),h&&(t.x*=h.x.scale,t.y*=h.y.scale,dS(n,h)),r&&Zr(u.latestValues)&&co(n,u.latestValues))}t.x<iE&&t.x>nE&&(t.x=1),t.y<iE&&t.y>nE&&(t.y=1)}function uo(n,t){n.min=n.min+t,n.max=n.max+t}function sE(n,t,i,r,o=.5){const u=ye(n.min,n.max,o);vp(n,t,i,u,r)}function co(n,t){sE(n.x,t.x,t.scaleX,t.scale,t.originX),sE(n.y,t.y,t.scaleY,t.scale,t.originY)}function mS(n,t){return hS(T4(n.getBoundingClientRect(),t))}function A4(n,t,i){const r=mS(n,i),{scroll:o}=t;return o&&(uo(r.x,o.offset.x),uo(r.y,o.offset.y)),r}const rE=()=>({translate:0,scale:1,origin:0,originPoint:0}),ho=()=>({x:rE(),y:rE()}),aE=()=>({min:0,max:0}),we=()=>({x:aE(),y:aE()}),_p={current:null},pS={current:!1};function b4(){if(pS.current=!0,!!dg)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>_p.current=n.matches;n.addEventListener("change",t),t()}else _p.current=!1}const S4=new WeakMap;function w4(n,t,i){for(const r in t){const o=t[r],u=i[r];if(dn(o))n.addValue(r,o);else if(dn(u))n.addValue(r,Eo(o,{owner:n}));else if(u!==o)if(n.hasValue(r)){const h=n.getValue(r);h.liveStyle===!0?h.jump(o):h.hasAnimated||h.set(o)}else{const h=n.getStaticValue(r);n.addValue(r,Eo(h!==void 0?h:o,{owner:n}))}}for(const r in i)t[r]===void 0&&n.removeValue(r);return t}const oE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class R4{scrapeMotionValuesFromProps(t,i,r){return{}}constructor({parent:t,props:i,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:h},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ig,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=wn.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,pe.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=h;this.latestValues=p,this.baseTarget={...p},this.initialValues=i.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=i,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!u,this.isControllingVariants=rf(i),this.isVariantNode=tS(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...E}=this.scrapeMotionValuesFromProps(i,{},this);for(const A in E){const D=E[A];p[A]!==void 0&&dn(D)&&D.set(p[A])}}mount(t){var i;this.current=t,S4.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,o)=>this.bindToMotionValue(o,r)),pS.current||b4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:_p.current,(i=this.parent)==null||i.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),cr(this.notifyUpdate),cr(this.render),this.valueSubscriptions.forEach(i=>i()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const i in this.events)this.events[i].clear();for(const i in this.features){const r=this.features[i];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,i){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=xo.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=i.on("change",h=>{this.latestValues[t]=h,this.props.onUpdate&&pe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,i)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),i.owner&&i.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ao){const i=Ao[t];if(!i)continue;const{isEnabled:r,Feature:o}=i;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):we()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,i){this.latestValues[t]=i}update(t,i){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let r=0;r<oE.length;r++){const o=oE[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,h=t[u];h&&(this.propEventSubscriptions[o]=this.on(o,h))}this.prevMotionValues=w4(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(t),()=>i.variantChildren.delete(t)}addValue(t,i){const r=this.values.get(t);i!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,i),this.values.set(t,i),this.latestValues[t]=i.get())}removeValue(t){this.values.delete(t);const i=this.valueSubscriptions.get(t);i&&(i(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,i){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&i!==void 0&&(r=Eo(i===null?void 0:i,{owner:this}),this.addValue(t,r)),r}readValue(t,i){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(lb(r)||cb(r))?r=parseFloat(r):!BO(r)&&hr.test(i)&&(r=Gb(t,i)),this.setBaseTarget(t,dn(r)?r.get():r)),dn(r)?r.get():r}setBaseTarget(t,i){this.baseTarget[t]=i}getBaseTarget(t){var u;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const h=zg(this.props,i,(u=this.presenceContext)==null?void 0:u.custom);h&&(r=h[t])}if(i&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!dn(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,i){return this.events[t]||(this.events[t]=new _g),this.events[t].add(i)}notify(t,...i){this.events[t]&&this.events[t].notify(...i)}scheduleRenderMicrotask(){Ng.render(this.render)}}class gS extends R4{constructor(){super(...arguments),this.KeyframeResolver=RO}sortInstanceNodePosition(t,i){return t.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(t,i){return t.style?t.style[i]:void 0}removeValueFromRenderState(t,{vars:i,style:r}){delete i[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;dn(t)&&(this.childSubscription=t.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function yS(n,{style:t,vars:i},r,o){const u=n.style;let h;for(h in t)u[h]=t[h];o==null||o.applyProjectionStyles(u,r);for(h in i)u.setProperty(h,i[h])}function C4(n){return window.getComputedStyle(n)}class D4 extends gS{constructor(){super(...arguments),this.type="html",this.renderInstance=yS}readValueFromInstance(t,i){var r;if(xo.has(i))return(r=this.projection)!=null&&r.isProjecting?cp(i):GM(t,i);{const o=C4(t),u=(Ag(i)?o.getPropertyValue(i):o[i])||0;return typeof u=="string"?u.trim():u}}measureInstanceViewportBox(t,{transformPagePoint:i}){return mS(t,i)}build(t,i,r){Ug(t,i,r.transformTemplate)}scrapeMotionValuesFromProps(t,i,r){return Fg(t,i,r)}}const vS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function x4(n,t,i,r){yS(n,t,void 0,r);for(const o in t.attrs)n.setAttribute(vS.has(o)?o:qg(o),t.attrs[o])}class V4 extends gS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=we}getBaseTargetFromProps(t,i){return t[i]}readValueFromInstance(t,i){if(xo.has(i)){const r=Hb(i);return r&&r.default||0}return i=vS.has(i)?i:qg(i),t.getAttribute(i)}scrapeMotionValuesFromProps(t,i,r){return oS(t,i,r)}build(t,i,r){iS(t,i,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,i,r,o){x4(t,i,r,o)}mount(t){this.isSVGTag=rS(t.tagName),super.mount(t)}}const I4=(n,t)=>jg(n)?new V4(t):new D4(t,{allowProjection:n!==vt.Fragment});function po(n,t,i){const r=n.getProps();return zg(r,t,i!==void 0?i:r.custom,n)}const Tp=n=>Array.isArray(n);function M4(n,t,i){n.hasValue(t)?n.getValue(t).set(i):n.addValue(t,Eo(i))}function O4(n){return Tp(n)?n[n.length-1]||0:n}function N4(n,t){const i=po(n,t);let{transitionEnd:r={},transition:o={},...u}=i||{};u={...u,...r};for(const h in u){const d=O4(u[h]);M4(n,h,d)}}function P4(n){return!!(dn(n)&&n.add)}function Ep(n,t){const i=n.getValue("willChange");if(P4(i))return i.add(t);if(!i&&vs.WillChange){const r=new vs.WillChange("auto");n.addValue("willChange",r),r.add(t)}}function _S(n){return n.props[lS]}const L4=n=>n!==null;function k4(n,{repeat:t,repeatType:i="loop"},r){const o=n.filter(L4),u=t&&i!=="loop"&&t%2===1?0:o.length-1;return o[u]}const U4={type:"spring",stiffness:500,damping:25,restSpeed:10},B4=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),j4={type:"keyframes",duration:.8},z4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},F4=(n,{keyframes:t})=>t.length>2?j4:xo.has(n)?n.startsWith("scale")?B4(t[1]):U4:z4;function q4({when:n,delay:t,delayChildren:i,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:h,repeatDelay:d,from:p,elapsed:g,...v}){return!!Object.keys(v).length}const Hg=(n,t,i,r={},o,u)=>h=>{const d=Mg(r,n)||{},p=d.delay||r.delay||0;let{elapsed:g=0}=r;g=g-Pi(p);const v={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-g,onUpdate:A=>{t.set(A),d.onUpdate&&d.onUpdate(A)},onComplete:()=>{h(),d.onComplete&&d.onComplete()},name:n,motionValue:t,element:u?void 0:o};q4(d)||Object.assign(v,F4(n,v)),v.duration&&(v.duration=Pi(v.duration)),v.repeatDelay&&(v.repeatDelay=Pi(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let E=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(pp(v),v.delay===0&&(E=!0)),(vs.instantAnimations||vs.skipAnimations)&&(E=!0,pp(v),v.delay=0),v.allowFlatten=!d.type&&!d.ease,E&&!u&&t.get()!==void 0){const A=k4(v.keyframes,d);if(A!==void 0){pe.update(()=>{v.onUpdate(A),v.onComplete()});return}}return d.isSync?new Vg(v):new mO(v)};function H4({protectedKeys:n,needsAnimating:t},i){const r=n.hasOwnProperty(i)&&t[i]!==!0;return t[i]=!1,r}function TS(n,t,{delay:i=0,transitionOverride:r,type:o}={}){let{transition:u=n.getDefaultTransition(),transitionEnd:h,...d}=t;r&&(u=r);const p=[],g=o&&n.animationState&&n.animationState.getState()[o];for(const v in d){const E=n.getValue(v,n.latestValues[v]??null),A=d[v];if(A===void 0||g&&H4(g,v))continue;const D={delay:i,...Mg(u||{},v)},L=E.get();if(L!==void 0&&!E.isAnimating&&!Array.isArray(A)&&A===L&&!D.velocity)continue;let q=!1;if(window.MotionHandoffAnimation){const W=_S(n);if(W){const it=window.MotionHandoffAnimation(W,v,pe);it!==null&&(D.startTime=it,q=!0)}}Ep(n,v),E.start(Hg(v,E,A,n.shouldReduceMotion&&zb.has(v)?{type:!1}:D,n,q));const U=E.animation;U&&p.push(U)}return h&&Promise.all(p).then(()=>{pe.update(()=>{h&&N4(n,h)})}),p}function ES(n,t,i,r=0,o=1){const u=Array.from(n).sort((g,v)=>g.sortNodePosition(v)).indexOf(t),h=n.size,d=(h-1)*r;return typeof i=="function"?i(u,h):o===1?u*r:d-u*r}function Ap(n,t,i={}){var p;const r=po(n,t,i.type==="exit"?(p=n.presenceContext)==null?void 0:p.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=r||{};i.transitionOverride&&(o=i.transitionOverride);const u=r?()=>Promise.all(TS(n,r,i)):()=>Promise.resolve(),h=n.variantChildren&&n.variantChildren.size?(g=0)=>{const{delayChildren:v=0,staggerChildren:E,staggerDirection:A}=o;return G4(n,t,g,v,E,A,i)}:()=>Promise.resolve(),{when:d}=o;if(d){const[g,v]=d==="beforeChildren"?[u,h]:[h,u];return g().then(()=>v())}else return Promise.all([u(),h(i.delay)])}function G4(n,t,i=0,r=0,o=0,u=1,h){const d=[];for(const p of n.variantChildren)p.notify("AnimationStart",t),d.push(Ap(p,t,{...h,delay:i+(typeof r=="function"?0:r)+ES(n.variantChildren,p,r,o,u)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(d)}function K4(n,t,i={}){n.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(u=>Ap(n,u,i));r=Promise.all(o)}else if(typeof t=="string")r=Ap(n,t,i);else{const o=typeof t=="function"?po(n,t,i.custom):t;r=Promise.all(TS(n,o,i))}return r.then(()=>{n.notify("AnimationComplete",t)})}function AS(n,t){if(!Array.isArray(t))return!1;const i=t.length;if(i!==n.length)return!1;for(let r=0;r<i;r++)if(t[r]!==n[r])return!1;return!0}const Y4=kg.length;function bS(n){if(!n)return;if(!n.isControllingVariants){const i=n.parent?bS(n.parent)||{}:{};return n.props.initial!==void 0&&(i.initial=n.props.initial),i}const t={};for(let i=0;i<Y4;i++){const r=kg[i],o=n.props[r];(pu(o)||o===!1)&&(t[r]=o)}return t}const Q4=[...Lg].reverse(),X4=Lg.length;function $4(n){return t=>Promise.all(t.map(({animation:i,options:r})=>K4(n,i,r)))}function Z4(n){let t=$4(n),i=lE(),r=!0;const o=p=>(g,v)=>{var A;const E=po(n,v,p==="exit"?(A=n.presenceContext)==null?void 0:A.custom:void 0);if(E){const{transition:D,transitionEnd:L,...q}=E;g={...g,...q,...L}}return g};function u(p){t=p(n)}function h(p){const{props:g}=n,v=bS(n.parent)||{},E=[],A=new Set;let D={},L=1/0;for(let U=0;U<X4;U++){const W=Q4[U],it=i[W],Z=g[W]!==void 0?g[W]:v[W],ht=pu(Z),at=W===p?it.isActive:null;at===!1&&(L=U);let gt=Z===v[W]&&Z!==g[W]&&ht;if(gt&&r&&n.manuallyAnimateOnMount&&(gt=!1),it.protectedKeys={...D},!it.isActive&&at===null||!Z&&!it.prevProp||sf(Z)||typeof Z=="boolean")continue;const N=W4(it.prevProp,Z);let C=N||W===p&&it.isActive&&!gt&&ht||U>L&&ht,x=!1;const M=Array.isArray(Z)?Z:[Z];let O=M.reduce(o(W),{});at===!1&&(O={});const{prevResolvedValues:k={}}=it,I={...k,...O},Kt=nt=>{C=!0,A.has(nt)&&(x=!0,A.delete(nt)),it.needsAnimating[nt]=!0;const ft=n.getValue(nt);ft&&(ft.liveStyle=!1)};for(const nt in I){const ft=O[nt],xt=k[nt];if(D.hasOwnProperty(nt))continue;let b=!1;Tp(ft)&&Tp(xt)?b=!AS(ft,xt):b=ft!==xt,b?ft!=null?Kt(nt):A.add(nt):ft!==void 0&&A.has(nt)?Kt(nt):it.protectedKeys[nt]=!0}it.prevProp=Z,it.prevResolvedValues=O,it.isActive&&(D={...D,...O}),r&&n.blockInitialAnimation&&(C=!1);const Ut=gt&&N;C&&(!Ut||x)&&E.push(...M.map(nt=>{const ft={type:W};if(typeof nt=="string"&&r&&!Ut&&n.manuallyAnimateOnMount&&n.parent){const{parent:xt}=n,b=po(xt,nt);if(xt.enteringChildren&&b){const{delayChildren:R}=b.transition||{};ft.delay=ES(xt.enteringChildren,n,R)}}return{animation:nt,options:ft}}))}if(A.size){const U={};if(typeof g.initial!="boolean"){const W=po(n,Array.isArray(g.initial)?g.initial[0]:g.initial);W&&W.transition&&(U.transition=W.transition)}A.forEach(W=>{const it=n.getBaseTarget(W),Z=n.getValue(W);Z&&(Z.liveStyle=!0),U[W]=it??null}),E.push({animation:U})}let q=!!E.length;return r&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(q=!1),r=!1,q?t(E):Promise.resolve()}function d(p,g){var E;if(i[p].isActive===g)return Promise.resolve();(E=n.variantChildren)==null||E.forEach(A=>{var D;return(D=A.animationState)==null?void 0:D.setActive(p,g)}),i[p].isActive=g;const v=h(p);for(const A in i)i[A].protectedKeys={};return v}return{animateChanges:h,setActive:d,setAnimateFunction:u,getState:()=>i,reset:()=>{i=lE(),r=!0}}}function W4(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!AS(t,n):!1}function Xr(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function lE(){return{animate:Xr(!0),whileInView:Xr(),whileHover:Xr(),whileTap:Xr(),whileDrag:Xr(),whileFocus:Xr(),exit:Xr()}}class pr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class J4 extends pr{constructor(t){super(t),t.animationState||(t.animationState=Z4(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();sf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:i}=this.node.prevProps||{};t!==i&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let tN=0;class eN extends pr{constructor(){super(...arguments),this.id=tN++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);i&&!t&&o.then(()=>{i(this.id)})}mount(){const{register:t,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const nN={animation:{Feature:J4},exit:{Feature:eN}};function yu(n,t,i,r={passive:!0}){return n.addEventListener(t,i,r),()=>n.removeEventListener(t,i)}function Cu(n){return{point:{x:n.pageX,y:n.pageY}}}const iN=n=>t=>Pg(t)&&n(t,Cu(t));function Jl(n,t,i,r){return yu(n,t,iN(i),r)}const SS=1e-4,sN=1-SS,rN=1+SS,wS=.01,aN=0-wS,oN=0+wS;function _n(n){return n.max-n.min}function lN(n,t,i){return Math.abs(n-t)<=i}function uE(n,t,i,r=.5){n.origin=r,n.originPoint=ye(t.min,t.max,n.origin),n.scale=_n(i)/_n(t),n.translate=ye(i.min,i.max,n.origin)-n.originPoint,(n.scale>=sN&&n.scale<=rN||isNaN(n.scale))&&(n.scale=1),(n.translate>=aN&&n.translate<=oN||isNaN(n.translate))&&(n.translate=0)}function tu(n,t,i,r){uE(n.x,t.x,i.x,r?r.originX:void 0),uE(n.y,t.y,i.y,r?r.originY:void 0)}function cE(n,t,i){n.min=i.min+t.min,n.max=n.min+_n(t)}function uN(n,t,i){cE(n.x,t.x,i.x),cE(n.y,t.y,i.y)}function hE(n,t,i){n.min=t.min-i.min,n.max=n.min+_n(t)}function eu(n,t,i){hE(n.x,t.x,i.x),hE(n.y,t.y,i.y)}function Jn(n){return[n("x"),n("y")]}const RS=({current:n})=>n?n.ownerDocument.defaultView:null,fE=(n,t)=>Math.abs(n-t);function cN(n,t){const i=fE(n.x,t.x),r=fE(n.y,t.y);return Math.sqrt(i**2+r**2)}class CS{constructor(t,i,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:h=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=xm(this.lastMoveEventInfo,this.history),D=this.startEvent!==null,L=cN(A.offset,{x:0,y:0})>=this.distanceThreshold;if(!D&&!L)return;const{point:q}=A,{timestamp:U}=nn;this.history.push({...q,timestamp:U});const{onStart:W,onMove:it}=this.handlers;D||(W&&W(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),it&&it(this.lastMoveEvent,A)},this.handlePointerMove=(A,D)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=Dm(D,this.transformPagePoint),pe.update(this.updatePoint,!0)},this.handlePointerUp=(A,D)=>{this.end();const{onEnd:L,onSessionEnd:q,resumeAnimation:U}=this.handlers;if(this.dragSnapToOrigin&&U&&U(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const W=xm(A.type==="pointercancel"?this.lastMoveEventInfo:Dm(D,this.transformPagePoint),this.history);this.startEvent&&L&&L(A,W),q&&q(A,W)},!Pg(t))return;this.dragSnapToOrigin=u,this.handlers=i,this.transformPagePoint=r,this.distanceThreshold=h,this.contextWindow=o||window;const d=Cu(t),p=Dm(d,this.transformPagePoint),{point:g}=p,{timestamp:v}=nn;this.history=[{...g,timestamp:v}];const{onSessionStart:E}=i;E&&E(t,xm(p,this.history)),this.removeListeners=Su(Jl(this.contextWindow,"pointermove",this.handlePointerMove),Jl(this.contextWindow,"pointerup",this.handlePointerUp),Jl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),cr(this.updatePoint)}}function Dm(n,t){return t?{point:t(n.point)}:n}function dE(n,t){return{x:n.x-t.x,y:n.y-t.y}}function xm({point:n},t){return{point:n,delta:dE(n,DS(t)),offset:dE(n,hN(t)),velocity:fN(t,.1)}}function hN(n){return n[0]}function DS(n){return n[n.length-1]}function fN(n,t){if(n.length<2)return{x:0,y:0};let i=n.length-1,r=null;const o=DS(n);for(;i>=0&&(r=n[i],!(o.timestamp-r.timestamp>Pi(t)));)i--;if(!r)return{x:0,y:0};const u=ei(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const h={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return h.x===1/0&&(h.x=0),h.y===1/0&&(h.y=0),h}function dN(n,{min:t,max:i},r){return t!==void 0&&n<t?n=r?ye(t,n,r.min):Math.max(n,t):i!==void 0&&n>i&&(n=r?ye(i,n,r.max):Math.min(n,i)),n}function mE(n,t,i){return{min:t!==void 0?n.min+t:void 0,max:i!==void 0?n.max+i-(n.max-n.min):void 0}}function mN(n,{top:t,left:i,bottom:r,right:o}){return{x:mE(n.x,i,o),y:mE(n.y,t,r)}}function pE(n,t){let i=t.min-n.min,r=t.max-n.max;return t.max-t.min<n.max-n.min&&([i,r]=[r,i]),{min:i,max:r}}function pN(n,t){return{x:pE(n.x,t.x),y:pE(n.y,t.y)}}function gN(n,t){let i=.5;const r=_n(n),o=_n(t);return o>r?i=fu(t.min,t.max-r,n.min):r>o&&(i=fu(n.min,n.max-o,t.min)),ys(0,1,i)}function yN(n,t){const i={};return t.min!==void 0&&(i.min=t.min-n.min),t.max!==void 0&&(i.max=t.max-n.min),i}const bp=.35;function vN(n=bp){return n===!1?n=0:n===!0&&(n=bp),{x:gE(n,"left","right"),y:gE(n,"top","bottom")}}function gE(n,t,i){return{min:yE(n,t),max:yE(n,i)}}function yE(n,t){return typeof n=="number"?n:n[t]||0}const _N=new WeakMap;class TN{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=we(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:i=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=E=>{const{dragSnapToOrigin:A}=this.getProps();A?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(Cu(E).point)},h=(E,A)=>{const{drag:D,dragPropagation:L,onDragStart:q}=this.getProps();if(D&&!L&&(this.openDragLock&&this.openDragLock(),this.openDragLock=IO(D),!this.openDragLock))return;this.latestPointerEvent=E,this.latestPanInfo=A,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Jn(W=>{let it=this.getAxisMotionValue(W).get()||0;if(Li.test(it)){const{projection:Z}=this.visualElement;if(Z&&Z.layout){const ht=Z.layout.layoutBox[W];ht&&(it=_n(ht)*(parseFloat(it)/100))}}this.originPoint[W]=it}),q&&pe.postRender(()=>q(E,A)),Ep(this.visualElement,"transform");const{animationState:U}=this.visualElement;U&&U.setActive("whileDrag",!0)},d=(E,A)=>{this.latestPointerEvent=E,this.latestPanInfo=A;const{dragPropagation:D,dragDirectionLock:L,onDirectionLock:q,onDrag:U}=this.getProps();if(!D&&!this.openDragLock)return;const{offset:W}=A;if(L&&this.currentDirection===null){this.currentDirection=EN(W),this.currentDirection!==null&&q&&q(this.currentDirection);return}this.updateAxis("x",A.point,W),this.updateAxis("y",A.point,W),this.visualElement.render(),U&&U(E,A)},p=(E,A)=>{this.latestPointerEvent=E,this.latestPanInfo=A,this.stop(E,A),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Jn(E=>{var A;return this.getAnimationState(E)==="paused"&&((A=this.getAxisMotionValue(E).animation)==null?void 0:A.play())}),{dragSnapToOrigin:v}=this.getProps();this.panSession=new CS(t,{onSessionStart:u,onStart:h,onMove:d,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:r,contextWindow:RS(this.visualElement)})}stop(t,i){const r=t||this.latestPointerEvent,o=i||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!r)return;const{velocity:h}=o;this.startAnimation(h);const{onDragEnd:d}=this.getProps();d&&pe.postRender(()=>d(r,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:i}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(t,i,r){const{drag:o}=this.getProps();if(!r||!sh(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let h=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(h=dN(h,this.constraints[t],this.elastic[t])),u.set(h)}resolveConstraints(){var u;const{dragConstraints:t,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(u=this.visualElement.projection)==null?void 0:u.layout,o=this.constraints;t&&lo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=mN(r.layoutBox,t):this.constraints=!1,this.elastic=vN(i),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Jn(h=>{this.constraints!==!1&&this.getAxisMotionValue(h)&&(this.constraints[h]=yN(r.layoutBox[h],this.constraints[h]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:i}=this.getProps();if(!t||!lo(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=A4(r,o.root,this.visualElement.getTransformPagePoint());let h=pN(o.layout.layoutBox,u);if(i){const d=i(_4(h));this.hasMutatedConstraints=!!d,d&&(h=hS(d))}return h}startAnimation(t){const{drag:i,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:h,onDragTransitionEnd:d}=this.getProps(),p=this.constraints||{},g=Jn(v=>{if(!sh(v,i,this.currentDirection))return;let E=p&&p[v]||{};h&&(E={min:0,max:0});const A=o?200:1e6,D=o?40:1e7,L={type:"inertia",velocity:r?t[v]:0,bounceStiffness:A,bounceDamping:D,timeConstant:750,restDelta:1,restSpeed:10,...u,...E};return this.startAxisValueAnimation(v,L)});return Promise.all(g).then(d)}startAxisValueAnimation(t,i){const r=this.getAxisMotionValue(t);return Ep(this.visualElement,t),r.start(Hg(t,r,0,i,this.visualElement,!1))}stopAnimation(){Jn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Jn(t=>{var i;return(i=this.getAxisMotionValue(t).animation)==null?void 0:i.pause()})}getAnimationState(t){var i;return(i=this.getAxisMotionValue(t).animation)==null?void 0:i.state}getAxisMotionValue(t){const i=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[i];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Jn(i=>{const{drag:r}=this.getProps();if(!sh(i,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(i);if(o&&o.layout){const{min:h,max:d}=o.layout.layoutBox[i];u.set(t[i]-ye(h,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:i}=this.getProps(),{projection:r}=this.visualElement;if(!lo(i)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Jn(h=>{const d=this.getAxisMotionValue(h);if(d&&this.constraints!==!1){const p=d.get();o[h]=gN({min:p,max:p},this.constraints[h])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Jn(h=>{if(!sh(h,t,null))return;const d=this.getAxisMotionValue(h),{min:p,max:g}=this.constraints[h];d.set(ye(p,g,o[h]))})}addListeners(){if(!this.visualElement.current)return;_N.set(this.visualElement,this);const t=this.visualElement.current,i=Jl(t,"pointerdown",p=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(p)}),r=()=>{const{dragConstraints:p}=this.getProps();lo(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),pe.read(r);const h=yu(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(Jn(v=>{const E=this.getAxisMotionValue(v);E&&(this.originPoint[v]+=p[v].translate,E.set(E.get()+p[v].translate))}),this.visualElement.render())}));return()=>{h(),i(),u(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:h=bp,dragMomentum:d=!0}=t;return{...t,drag:i,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:h,dragMomentum:d}}}function sh(n,t,i){return(t===!0||t===n)&&(i===null||i===n)}function EN(n,t=10){let i=null;return Math.abs(n.y)>t?i="y":Math.abs(n.x)>t&&(i="x"),i}class AN extends pr{constructor(t){super(t),this.removeGroupControls=ni,this.removeListeners=ni,this.controls=new TN(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ni}unmount(){this.removeGroupControls(),this.removeListeners()}}const vE=n=>(t,i)=>{n&&pe.postRender(()=>n(t,i))};class bN extends pr{constructor(){super(...arguments),this.removePointerDownListener=ni}onPointerDown(t){this.session=new CS(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:RS(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:i,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:vE(t),onStart:vE(i),onMove:r,onEnd:(u,h)=>{delete this.session,o&&pe.postRender(()=>o(u,h))}}}mount(){this.removePointerDownListener=Jl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const mh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function _E(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const Ul={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(Rt.test(n))n=parseFloat(n);else return n;const i=_E(n,t.target.x),r=_E(n,t.target.y);return`${i}% ${r}%`}},SN={correct:(n,{treeScale:t,projectionDelta:i})=>{const r=n,o=hr.parse(n);if(o.length>5)return r;const u=hr.createTransformer(n),h=typeof o[0]!="number"?1:0,d=i.x.scale*t.x,p=i.y.scale*t.y;o[0+h]/=d,o[1+h]/=p;const g=ye(d,p,.5);return typeof o[2+h]=="number"&&(o[2+h]/=g),typeof o[3+h]=="number"&&(o[3+h]/=g),u(o)}};let Vm=!1;class wN extends vt.Component{componentDidMount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=t;YO(RN),u&&(i.group&&i.group.add(u),r&&r.register&&o&&r.register(u),Vm&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),mh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:i,visualElement:r,drag:o,isPresent:u}=this.props,{projection:h}=r;return h&&(h.isPresent=u,Vm=!0,o||t.layoutDependency!==i||i===void 0||t.isPresent!==u?h.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?h.promote():h.relegate()||pe.postRender(()=>{const d=h.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Ng.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r}=this.props,{projection:o}=t;Vm=!0,o&&(o.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function xS(n){const[t,i]=jO(),r=vt.useContext(ob);return rt.jsx(wN,{...n,layoutGroup:r,switchLayoutGroup:vt.useContext(uS),isPresent:t,safeToRemove:i})}const RN={borderRadius:{...Ul,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ul,borderTopRightRadius:Ul,borderBottomLeftRadius:Ul,borderBottomRightRadius:Ul,boxShadow:SN};function CN(n,t,i){const r=dn(n)?n:Eo(n);return r.start(Hg("",r,t,i)),r.animation}const DN=(n,t)=>n.depth-t.depth;class xN{constructor(){this.children=[],this.isDirty=!1}add(t){pg(this.children,t),this.isDirty=!0}remove(t){gg(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(DN),this.isDirty=!1,this.children.forEach(t)}}function VN(n,t){const i=wn.now(),r=({timestamp:o})=>{const u=o-i;u>=t&&(cr(r),n(u-t))};return pe.setup(r,!0),()=>cr(r)}const VS=["TopLeft","TopRight","BottomLeft","BottomRight"],IN=VS.length,TE=n=>typeof n=="string"?parseFloat(n):n,EE=n=>typeof n=="number"||Rt.test(n);function MN(n,t,i,r,o,u){o?(n.opacity=ye(0,i.opacity??1,ON(r)),n.opacityExit=ye(t.opacity??1,0,NN(r))):u&&(n.opacity=ye(t.opacity??1,i.opacity??1,r));for(let h=0;h<IN;h++){const d=`border${VS[h]}Radius`;let p=AE(t,d),g=AE(i,d);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||EE(p)===EE(g)?(n[d]=Math.max(ye(TE(p),TE(g),r),0),(Li.test(g)||Li.test(p))&&(n[d]+="%")):n[d]=g}(t.rotate||i.rotate)&&(n.rotate=ye(t.rotate||0,i.rotate||0,r))}function AE(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const ON=IS(0,.5,vb),NN=IS(.5,.95,ni);function IS(n,t,i){return r=>r<n?0:r>t?1:i(fu(n,t,r))}function bE(n,t){n.min=t.min,n.max=t.max}function Wn(n,t){bE(n.x,t.x),bE(n.y,t.y)}function SE(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function wE(n,t,i,r,o){return n-=t,n=Nh(n,1/i,r),o!==void 0&&(n=Nh(n,1/o,r)),n}function PN(n,t=0,i=1,r=.5,o,u=n,h=n){if(Li.test(t)&&(t=parseFloat(t),t=ye(h.min,h.max,t/100)-h.min),typeof t!="number")return;let d=ye(u.min,u.max,r);n===u&&(d-=t),n.min=wE(n.min,t,i,d,o),n.max=wE(n.max,t,i,d,o)}function RE(n,t,[i,r,o],u,h){PN(n,t[i],t[r],t[o],t.scale,u,h)}const LN=["x","scaleX","originX"],kN=["y","scaleY","originY"];function CE(n,t,i,r){RE(n.x,t,LN,i?i.x:void 0,r?r.x:void 0),RE(n.y,t,kN,i?i.y:void 0,r?r.y:void 0)}function DE(n){return n.translate===0&&n.scale===1}function MS(n){return DE(n.x)&&DE(n.y)}function xE(n,t){return n.min===t.min&&n.max===t.max}function UN(n,t){return xE(n.x,t.x)&&xE(n.y,t.y)}function VE(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function OS(n,t){return VE(n.x,t.x)&&VE(n.y,t.y)}function IE(n){return _n(n.x)/_n(n.y)}function ME(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class BN{constructor(){this.members=[]}add(t){pg(this.members,t),t.scheduleRender()}remove(t){if(gg(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(t){const i=this.members.findIndex(o=>t===o);if(i===0)return!1;let r;for(let o=i;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,i){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,i&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:i,resumingFrom:r}=t;i.onExitComplete&&i.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function jN(n,t,i){let r="";const o=n.x.translate/t.x,u=n.y.translate/t.y,h=(i==null?void 0:i.z)||0;if((o||u||h)&&(r=`translate3d(${o}px, ${u}px, ${h}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),i){const{transformPerspective:g,rotate:v,rotateX:E,rotateY:A,skewX:D,skewY:L}=i;g&&(r=`perspective(${g}px) ${r}`),v&&(r+=`rotate(${v}deg) `),E&&(r+=`rotateX(${E}deg) `),A&&(r+=`rotateY(${A}deg) `),D&&(r+=`skewX(${D}deg) `),L&&(r+=`skewY(${L}deg) `)}const d=n.x.scale*t.x,p=n.y.scale*t.y;return(d!==1||p!==1)&&(r+=`scale(${d}, ${p})`),r||"none"}const Im=["","X","Y","Z"],zN=1e3;let FN=0;function Mm(n,t,i,r){const{latestValues:o}=t;o[n]&&(i[n]=o[n],t.setStaticValue(n,0),r&&(r[n]=0))}function NS(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const i=_S(t);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:o,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(i,"transform",pe,!(o||u))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&NS(r)}function PS({attachResizeListener:n,defaultParent:t,measureScroll:i,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(h={},d=t==null?void 0:t()){this.id=FN++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(GN),this.nodes.forEach(XN),this.nodes.forEach($N),this.nodes.forEach(KN)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=h,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new xN)}addEventListener(h,d){return this.eventHandlers.has(h)||this.eventHandlers.set(h,new _g),this.eventHandlers.get(h).add(d)}notifyListeners(h,...d){const p=this.eventHandlers.get(h);p&&p.notify(...d)}hasListeners(h){return this.eventHandlers.has(h)}mount(h){if(this.instance)return;this.isSVG=$b(h)&&!kO(h),this.instance=h;const{layoutId:d,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(h),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||d)&&(this.isLayoutDirty=!0),n){let v,E=0;const A=()=>this.root.updateBlockedByResize=!1;pe.read(()=>{E=window.innerWidth}),n(h,()=>{const D=window.innerWidth;D!==E&&(E=D,this.root.updateBlockedByResize=!0,v&&v(),v=VN(A,250),mh.hasAnimatedSinceResize&&(mh.hasAnimatedSinceResize=!1,this.nodes.forEach(PE)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:E,hasRelativeLayoutChanged:A,layout:D})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const L=this.options.transition||g.getDefaultTransition()||eP,{onLayoutAnimationStart:q,onLayoutAnimationComplete:U}=g.getProps(),W=!this.targetLayout||!OS(this.targetLayout,D),it=!E&&A;if(this.options.layoutRoot||this.resumeFrom||it||E&&(W||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Z={...Mg(L,"layout"),onPlay:q,onComplete:U};(g.shouldReduceMotion||this.options.layoutRoot)&&(Z.delay=0,Z.type=!1),this.startAnimation(Z),this.setAnimationOrigin(v,it)}else E||PE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=D})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const h=this.getStack();h&&h.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),cr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ZN),this.animationId++)}getTransformTemplate(){const{visualElement:h}=this.options;return h&&h.getProps().transformTemplate}willUpdate(h=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&NS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const E=this.path[v];E.shouldResetTransform=!0,E.updateScroll("snapshot"),E.options.layoutRoot&&E.willUpdate(!1)}const{layoutId:d,layout:p}=this.options;if(d===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),h&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(OE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(NE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(QN),this.nodes.forEach(qN),this.nodes.forEach(HN)):this.nodes.forEach(NE),this.clearAllSnapshots();const d=wn.now();nn.delta=ys(0,1e3/60,d-nn.timestamp),nn.timestamp=d,nn.isProcessing=!0,Tm.update.process(nn),Tm.preRender.process(nn),Tm.render.process(nn),nn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ng.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(YN),this.sharedNodes.forEach(WN)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,pe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){pe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!_n(this.snapshot.measuredBox.x)&&!_n(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const h=this.layout;this.layout=this.measure(!1),this.layoutCorrected=we(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,h?h.layoutBox:void 0)}updateScroll(h="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===h&&(d=!1),d&&this.instance){const p=r(this.instance);this.scroll={animationId:this.root.animationId,phase:h,isRoot:p,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const h=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!MS(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;h&&this.instance&&(d||Zr(this.latestValues)||v)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(h=!0){const d=this.measurePageBox();let p=this.removeElementScroll(d);return h&&(p=this.removeTransform(p)),nP(p),{animationId:this.root.animationId,measuredBox:d,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){var g;const{visualElement:h}=this.options;if(!h)return we();const d=h.measureViewportBox();if(!(((g=this.scroll)==null?void 0:g.wasRoot)||this.path.some(iP))){const{scroll:v}=this.root;v&&(uo(d.x,v.offset.x),uo(d.y,v.offset.y))}return d}removeElementScroll(h){var p;const d=we();if(Wn(d,h),(p=this.scroll)!=null&&p.wasRoot)return d;for(let g=0;g<this.path.length;g++){const v=this.path[g],{scroll:E,options:A}=v;v!==this.root&&E&&A.layoutScroll&&(E.wasRoot&&Wn(d,h),uo(d.x,E.offset.x),uo(d.y,E.offset.y))}return d}applyTransform(h,d=!1){const p=we();Wn(p,h);for(let g=0;g<this.path.length;g++){const v=this.path[g];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&co(p,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Zr(v.latestValues)&&co(p,v.latestValues)}return Zr(this.latestValues)&&co(p,this.latestValues),p}removeTransform(h){const d=we();Wn(d,h);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!Zr(g.latestValues))continue;yp(g.latestValues)&&g.updateSnapshot();const v=we(),E=g.measurePageBox();Wn(v,E),CE(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return Zr(this.latestValues)&&CE(d,this.latestValues),d}setTargetDelta(h){this.targetDelta=h,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(h){this.options={...this.options,...h,crossfade:h.crossfade!==void 0?h.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==nn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(h=!1){var A;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(h||p&&this.isSharedProjectionDirty||this.isProjectionDirty||(A=this.parent)!=null&&A.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:E}=this.options;if(!(!this.layout||!(v||E))){if(this.resolvedRelativeTargetAt=nn.timestamp,!this.targetDelta&&!this.relativeTarget){const D=this.getClosestProjectingParent();D&&D.layout&&this.animationProgress!==1?(this.relativeParent=D,this.forceRelativeParentToResolveTarget(),this.relativeTarget=we(),this.relativeTargetOrigin=we(),eu(this.relativeTargetOrigin,this.layout.layoutBox,D.layout.layoutBox),Wn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=we(),this.targetWithTransforms=we()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),uN(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Wn(this.target,this.layout.layoutBox),dS(this.target,this.targetDelta)):Wn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const D=this.getClosestProjectingParent();D&&!!D.resumingFrom==!!this.resumingFrom&&!D.options.layoutScroll&&D.target&&this.animationProgress!==1?(this.relativeParent=D,this.forceRelativeParentToResolveTarget(),this.relativeTarget=we(),this.relativeTargetOrigin=we(),eu(this.relativeTargetOrigin,this.target,D.target),Wn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||yp(this.parent.latestValues)||fS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var L;const h=this.getLead(),d=!!this.resumingFrom||this!==h;let p=!0;if((this.isProjectionDirty||(L=this.parent)!=null&&L.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===nn.timestamp&&(p=!1),p)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;Wn(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,A=this.treeScale.y;E4(this.layoutCorrected,this.treeScale,this.path,d),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=we());const{target:D}=h;if(!D){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(SE(this.prevProjectionDelta.x,this.projectionDelta.x),SE(this.prevProjectionDelta.y,this.projectionDelta.y)),tu(this.projectionDelta,this.layoutCorrected,D,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==A||!ME(this.projectionDelta.x,this.prevProjectionDelta.x)||!ME(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",D))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(h=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),h){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ho(),this.projectionDelta=ho(),this.projectionDeltaWithTransform=ho()}setAnimationOrigin(h,d=!1){const p=this.snapshot,g=p?p.latestValues:{},v={...this.latestValues},E=ho();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const A=we(),D=p?p.source:void 0,L=this.layout?this.layout.source:void 0,q=D!==L,U=this.getStack(),W=!U||U.members.length<=1,it=!!(q&&!W&&this.options.crossfade===!0&&!this.path.some(tP));this.animationProgress=0;let Z;this.mixTargetDelta=ht=>{const at=ht/1e3;LE(E.x,h.x,at),LE(E.y,h.y,at),this.setTargetDelta(E),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(eu(A,this.layout.layoutBox,this.relativeParent.layout.layoutBox),JN(this.relativeTarget,this.relativeTargetOrigin,A,at),Z&&UN(this.relativeTarget,Z)&&(this.isProjectionDirty=!1),Z||(Z=we()),Wn(Z,this.relativeTarget)),q&&(this.animationValues=v,MN(v,g,this.latestValues,at,it,W)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=at},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(h){var d,p,g;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(),(g=(p=this.resumingFrom)==null?void 0:p.currentAnimation)==null||g.stop(),this.pendingAnimation&&(cr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=pe.update(()=>{mh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Eo(0)),this.currentAnimation=CN(this.motionValue,[0,1e3],{...h,velocity:0,isSync:!0,onUpdate:v=>{this.mixTargetDelta(v),h.onUpdate&&h.onUpdate(v)},onStop:()=>{},onComplete:()=>{h.onComplete&&h.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const h=this.getStack();h&&h.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(zN),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const h=this.getLead();let{targetWithTransforms:d,target:p,layout:g,latestValues:v}=h;if(!(!d||!p||!g)){if(this!==h&&this.layout&&g&&LS(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||we();const E=_n(this.layout.layoutBox.x);p.x.min=h.target.x.min,p.x.max=p.x.min+E;const A=_n(this.layout.layoutBox.y);p.y.min=h.target.y.min,p.y.max=p.y.min+A}Wn(d,p),co(d,v),tu(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(h,d){this.sharedNodes.has(h)||this.sharedNodes.set(h,new BN),this.sharedNodes.get(h).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const h=this.getStack();return h?h.lead===this:!0}getLead(){var d;const{layoutId:h}=this.options;return h?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:h}=this.options;return h?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:h}=this.options;if(h)return this.root.sharedNodes.get(h)}promote({needsReset:h,transition:d,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),h&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const h=this.getStack();return h?h.relegate(this):!1}resetSkewAndRotation(){const{visualElement:h}=this.options;if(!h)return;let d=!1;const{latestValues:p}=h;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(d=!0),!d)return;const g={};p.z&&Mm("z",h,g,this.animationValues);for(let v=0;v<Im.length;v++)Mm(`rotate${Im[v]}`,h,g,this.animationValues),Mm(`skew${Im[v]}`,h,g,this.animationValues);h.render();for(const v in g)h.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);h.scheduleRender()}applyProjectionStyles(h,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){h.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,h.visibility="",h.opacity="",h.pointerEvents=dh(d==null?void 0:d.pointerEvents)||"",h.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(h.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,h.pointerEvents=dh(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!Zr(this.latestValues)&&(h.transform=p?p({},""):"none",this.hasProjected=!1);return}h.visibility="";const v=g.animationValues||g.latestValues;this.applyTransformsToTarget();let E=jN(this.projectionDeltaWithTransform,this.treeScale,v);p&&(E=p(v,E)),h.transform=E;const{x:A,y:D}=this.projectionDelta;h.transformOrigin=`${A.origin*100}% ${D.origin*100}% 0`,g.animationValues?h.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:h.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const L in gu){if(v[L]===void 0)continue;const{correct:q,applyTo:U,isCSSVariable:W}=gu[L],it=E==="none"?v[L]:q(v[L],g);if(U){const Z=U.length;for(let ht=0;ht<Z;ht++)h[U[ht]]=it}else W?this.options.visualElement.renderState.vars[L]=it:h[L]=it}this.options.layoutId&&(h.pointerEvents=g===this?dh(d==null?void 0:d.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(h=>{var d;return(d=h.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(OE),this.root.sharedNodes.clear()}}}function qN(n){n.updateLayout()}function HN(n){var i;const t=((i=n.resumeFrom)==null?void 0:i.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=n.layout,{animationType:u}=n.options,h=t.source!==n.layout.source;u==="size"?Jn(E=>{const A=h?t.measuredBox[E]:t.layoutBox[E],D=_n(A);A.min=r[E].min,A.max=A.min+D}):LS(u,t.layoutBox,r)&&Jn(E=>{const A=h?t.measuredBox[E]:t.layoutBox[E],D=_n(r[E]);A.max=A.min+D,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[E].max=n.relativeTarget[E].min+D)});const d=ho();tu(d,r,t.layoutBox);const p=ho();h?tu(p,n.applyTransform(o,!0),t.measuredBox):tu(p,r,t.layoutBox);const g=!MS(d);let v=!1;if(!n.resumeFrom){const E=n.getClosestProjectingParent();if(E&&!E.resumeFrom){const{snapshot:A,layout:D}=E;if(A&&D){const L=we();eu(L,t.layoutBox,A.layoutBox);const q=we();eu(q,r,D.layoutBox),OS(L,q)||(v=!0),E.options.layoutRoot&&(n.relativeTarget=q,n.relativeTargetOrigin=L,n.relativeParent=E)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:p,layoutDelta:d,hasLayoutChanged:g,hasRelativeLayoutChanged:v})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function GN(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function KN(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function YN(n){n.clearSnapshot()}function OE(n){n.clearMeasurements()}function NE(n){n.isLayoutDirty=!1}function QN(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function PE(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function XN(n){n.resolveTargetDelta()}function $N(n){n.calcProjection()}function ZN(n){n.resetSkewAndRotation()}function WN(n){n.removeLeadSnapshot()}function LE(n,t,i){n.translate=ye(t.translate,0,i),n.scale=ye(t.scale,1,i),n.origin=t.origin,n.originPoint=t.originPoint}function kE(n,t,i,r){n.min=ye(t.min,i.min,r),n.max=ye(t.max,i.max,r)}function JN(n,t,i,r){kE(n.x,t.x,i.x,r),kE(n.y,t.y,i.y,r)}function tP(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const eP={duration:.45,ease:[.4,0,.1,1]},UE=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),BE=UE("applewebkit/")&&!UE("chrome/")?Math.round:ni;function jE(n){n.min=BE(n.min),n.max=BE(n.max)}function nP(n){jE(n.x),jE(n.y)}function LS(n,t,i){return n==="position"||n==="preserve-aspect"&&!lN(IE(t),IE(i),.2)}function iP(n){var t;return n!==n.root&&((t=n.scroll)==null?void 0:t.wasRoot)}const sP=PS({attachResizeListener:(n,t)=>yu(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Om={current:void 0},kS=PS({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Om.current){const n=new sP({});n.mount(window),n.setOptions({layoutScroll:!0}),Om.current=n}return Om.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),rP={pan:{Feature:bN},drag:{Feature:AN,ProjectionNode:kS,MeasureLayout:xS}};function zE(n,t,i){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",i==="Start");const o="onHover"+i,u=r[o];u&&pe.postRender(()=>u(t,Cu(t)))}class aP extends pr{mount(){const{current:t}=this.node;t&&(this.unmount=MO(t,(i,r)=>(zE(this.node,r,"Start"),o=>zE(this.node,o,"End"))))}unmount(){}}class oP extends pr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Su(yu(this.node.current,"focus",()=>this.onFocus()),yu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function FE(n,t,i){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",i==="Start");const o="onTap"+(i==="End"?"":i),u=r[o];u&&pe.postRender(()=>u(t,Cu(t)))}class lP extends pr{mount(){const{current:t}=this.node;t&&(this.unmount=LO(t,(i,r)=>(FE(this.node,r,"Start"),(o,{success:u})=>FE(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Sp=new WeakMap,Nm=new WeakMap,uP=n=>{const t=Sp.get(n.target);t&&t(n)},cP=n=>{n.forEach(uP)};function hP({root:n,...t}){const i=n||document;Nm.has(i)||Nm.set(i,{});const r=Nm.get(i),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(cP,{root:n,...t})),r[o]}function fP(n,t,i){const r=hP(t);return Sp.set(n,i),r.observe(n),()=>{Sp.delete(n),r.unobserve(n)}}const dP={some:0,all:1};class mP extends pr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:i,margin:r,amount:o="some",once:u}=t,h={root:i?i.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:dP[o]},d=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:E}=this.node.getProps(),A=g?v:E;A&&A(p)};return fP(this.node.current,h,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:i}=this.node;["amount","margin","root"].some(pP(t,i))&&this.startObserver()}unmount(){}}function pP({viewport:n={}},{viewport:t={}}={}){return i=>n[i]!==t[i]}const gP={inView:{Feature:mP},tap:{Feature:lP},focus:{Feature:oP},hover:{Feature:aP}},yP={layout:{ProjectionNode:kS,MeasureLayout:xS}},vP={...nN,...gP,...rP,...yP},_P=v4(vP,I4);var Du={};(function n(t,i,r,o){var u=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),h=typeof Path2D=="function"&&typeof DOMMatrix=="function",d=(function(){if(!t.OffscreenCanvas)return!1;var b=new OffscreenCanvas(1,1),R=b.getContext("2d");R.fillRect(0,0,1,1);var X=b.transferToImageBitmap();try{R.createPattern(X,"no-repeat")}catch{return!1}return!0})();function p(){}function g(b){var R=i.exports.Promise,X=R!==void 0?R:t.Promise;return typeof X=="function"?new X(b):(b(p,p),null)}var v=(function(b,R){return{transform:function(X){if(b)return X;if(R.has(X))return R.get(X);var Y=new OffscreenCanvas(X.width,X.height),ot=Y.getContext("2d");return ot.drawImage(X,0,0),R.set(X,Y),Y},clear:function(){R.clear()}}})(d,new Map),E=(function(){var b=Math.floor(16.666666666666668),R,X,Y={},ot=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(R=function(ct){var ut=Math.random();return Y[ut]=requestAnimationFrame(function mt(yt){ot===yt||ot+b-1<yt?(ot=yt,delete Y[ut],ct()):Y[ut]=requestAnimationFrame(mt)}),ut},X=function(ct){Y[ct]&&cancelAnimationFrame(Y[ct])}):(R=function(ct){return setTimeout(ct,b)},X=function(ct){return clearTimeout(ct)}),{frame:R,cancel:X}})(),A=(function(){var b,R,X={};function Y(ot){function ct(ut,mt){ot.postMessage({options:ut||{},callback:mt})}ot.init=function(mt){var yt=mt.transferControlToOffscreen();ot.postMessage({canvas:yt},[yt])},ot.fire=function(mt,yt,Pt){if(R)return ct(mt,null),R;var Qt=Math.random().toString(36).slice(2);return R=g(function(jt){function Zt(le){le.data.callback===Qt&&(delete X[Qt],ot.removeEventListener("message",Zt),R=null,v.clear(),Pt(),jt())}ot.addEventListener("message",Zt),ct(mt,Qt),X[Qt]=Zt.bind(null,{data:{callback:Qt}})}),R},ot.reset=function(){ot.postMessage({reset:!0});for(var mt in X)X[mt](),delete X[mt]}}return function(){if(b)return b;if(!r&&u){var ot=["var CONFETTI, SIZE = {}, module = {};","("+n.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{b=new Worker(URL.createObjectURL(new Blob([ot])))}catch(ct){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",ct),null}Y(b)}return b}})(),D={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function L(b,R){return R?R(b):b}function q(b){return b!=null}function U(b,R,X){return L(b&&q(b[R])?b[R]:D[R],X)}function W(b){return b<0?0:Math.floor(b)}function it(b,R){return Math.floor(Math.random()*(R-b))+b}function Z(b){return parseInt(b,16)}function ht(b){return b.map(at)}function at(b){var R=String(b).replace(/[^0-9a-f]/gi,"");return R.length<6&&(R=R[0]+R[0]+R[1]+R[1]+R[2]+R[2]),{r:Z(R.substring(0,2)),g:Z(R.substring(2,4)),b:Z(R.substring(4,6))}}function gt(b){var R=U(b,"origin",Object);return R.x=U(R,"x",Number),R.y=U(R,"y",Number),R}function N(b){b.width=document.documentElement.clientWidth,b.height=document.documentElement.clientHeight}function C(b){var R=b.getBoundingClientRect();b.width=R.width,b.height=R.height}function x(b){var R=document.createElement("canvas");return R.style.position="fixed",R.style.top="0px",R.style.left="0px",R.style.pointerEvents="none",R.style.zIndex=b,R}function M(b,R,X,Y,ot,ct,ut,mt,yt){b.save(),b.translate(R,X),b.rotate(ct),b.scale(Y,ot),b.arc(0,0,1,ut,mt,yt),b.restore()}function O(b){var R=b.angle*(Math.PI/180),X=b.spread*(Math.PI/180);return{x:b.x,y:b.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:b.startVelocity*.5+Math.random()*b.startVelocity,angle2D:-R+(.5*X-Math.random()*X),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:b.color,shape:b.shape,tick:0,totalTicks:b.ticks,decay:b.decay,drift:b.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:b.gravity*3,ovalScalar:.6,scalar:b.scalar,flat:b.flat}}function k(b,R){R.x+=Math.cos(R.angle2D)*R.velocity+R.drift,R.y+=Math.sin(R.angle2D)*R.velocity+R.gravity,R.velocity*=R.decay,R.flat?(R.wobble=0,R.wobbleX=R.x+10*R.scalar,R.wobbleY=R.y+10*R.scalar,R.tiltSin=0,R.tiltCos=0,R.random=1):(R.wobble+=R.wobbleSpeed,R.wobbleX=R.x+10*R.scalar*Math.cos(R.wobble),R.wobbleY=R.y+10*R.scalar*Math.sin(R.wobble),R.tiltAngle+=.1,R.tiltSin=Math.sin(R.tiltAngle),R.tiltCos=Math.cos(R.tiltAngle),R.random=Math.random()+2);var X=R.tick++/R.totalTicks,Y=R.x+R.random*R.tiltCos,ot=R.y+R.random*R.tiltSin,ct=R.wobbleX+R.random*R.tiltCos,ut=R.wobbleY+R.random*R.tiltSin;if(b.fillStyle="rgba("+R.color.r+", "+R.color.g+", "+R.color.b+", "+(1-X)+")",b.beginPath(),h&&R.shape.type==="path"&&typeof R.shape.path=="string"&&Array.isArray(R.shape.matrix))b.fill(nt(R.shape.path,R.shape.matrix,R.x,R.y,Math.abs(ct-Y)*.1,Math.abs(ut-ot)*.1,Math.PI/10*R.wobble));else if(R.shape.type==="bitmap"){var mt=Math.PI/10*R.wobble,yt=Math.abs(ct-Y)*.1,Pt=Math.abs(ut-ot)*.1,Qt=R.shape.bitmap.width*R.scalar,jt=R.shape.bitmap.height*R.scalar,Zt=new DOMMatrix([Math.cos(mt)*yt,Math.sin(mt)*yt,-Math.sin(mt)*Pt,Math.cos(mt)*Pt,R.x,R.y]);Zt.multiplySelf(new DOMMatrix(R.shape.matrix));var le=b.createPattern(v.transform(R.shape.bitmap),"no-repeat");le.setTransform(Zt),b.globalAlpha=1-X,b.fillStyle=le,b.fillRect(R.x-Qt/2,R.y-jt/2,Qt,jt),b.globalAlpha=1}else if(R.shape==="circle")b.ellipse?b.ellipse(R.x,R.y,Math.abs(ct-Y)*R.ovalScalar,Math.abs(ut-ot)*R.ovalScalar,Math.PI/10*R.wobble,0,2*Math.PI):M(b,R.x,R.y,Math.abs(ct-Y)*R.ovalScalar,Math.abs(ut-ot)*R.ovalScalar,Math.PI/10*R.wobble,0,2*Math.PI);else if(R.shape==="star")for(var Vt=Math.PI/2*3,Ce=4*R.scalar,on=8*R.scalar,fe=R.x,Cn=R.y,Dn=5,$e=Math.PI/Dn;Dn--;)fe=R.x+Math.cos(Vt)*on,Cn=R.y+Math.sin(Vt)*on,b.lineTo(fe,Cn),Vt+=$e,fe=R.x+Math.cos(Vt)*Ce,Cn=R.y+Math.sin(Vt)*Ce,b.lineTo(fe,Cn),Vt+=$e;else b.moveTo(Math.floor(R.x),Math.floor(R.y)),b.lineTo(Math.floor(R.wobbleX),Math.floor(ot)),b.lineTo(Math.floor(ct),Math.floor(ut)),b.lineTo(Math.floor(Y),Math.floor(R.wobbleY));return b.closePath(),b.fill(),R.tick<R.totalTicks}function I(b,R,X,Y,ot){var ct=R.slice(),ut=b.getContext("2d"),mt,yt,Pt=g(function(Qt){function jt(){mt=yt=null,ut.clearRect(0,0,Y.width,Y.height),v.clear(),ot(),Qt()}function Zt(){r&&!(Y.width===o.width&&Y.height===o.height)&&(Y.width=b.width=o.width,Y.height=b.height=o.height),!Y.width&&!Y.height&&(X(b),Y.width=b.width,Y.height=b.height),ut.clearRect(0,0,Y.width,Y.height),ct=ct.filter(function(le){return k(ut,le)}),ct.length?mt=E.frame(Zt):jt()}mt=E.frame(Zt),yt=jt});return{addFettis:function(Qt){return ct=ct.concat(Qt),Pt},canvas:b,promise:Pt,reset:function(){mt&&E.cancel(mt),yt&&yt()}}}function Kt(b,R){var X=!b,Y=!!U(R||{},"resize"),ot=!1,ct=U(R,"disableForReducedMotion",Boolean),ut=u&&!!U(R||{},"useWorker"),mt=ut?A():null,yt=X?N:C,Pt=b&&mt?!!b.__confetti_initialized:!1,Qt=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,jt;function Zt(Vt,Ce,on){for(var fe=U(Vt,"particleCount",W),Cn=U(Vt,"angle",Number),Dn=U(Vt,"spread",Number),$e=U(Vt,"startVelocity",Number),Bi=U(Vt,"decay",Number),Vo=U(Vt,"gravity",Number),_s=U(Vt,"drift",Number),Ts=U(Vt,"colors",ht),fa=U(Vt,"ticks",Number),ue=U(Vt,"shapes"),Xt=U(Vt,"scalar"),mn=!!U(Vt,"flat"),Le=gt(Vt),gr=fe,yr=[],ji=b.width*Le.x,zi=b.height*Le.y;gr--;)yr.push(O({x:ji,y:zi,angle:Cn,spread:Dn,startVelocity:$e,color:Ts[gr%Ts.length],shape:ue[it(0,ue.length)],ticks:fa,decay:Bi,gravity:Vo,drift:_s,scalar:Xt,flat:mn}));return jt?jt.addFettis(yr):(jt=I(b,yr,yt,Ce,on),jt.promise)}function le(Vt){var Ce=ct||U(Vt,"disableForReducedMotion",Boolean),on=U(Vt,"zIndex",Number);if(Ce&&Qt)return g(function($e){$e()});X&&jt?b=jt.canvas:X&&!b&&(b=x(on),document.body.appendChild(b)),Y&&!Pt&&yt(b);var fe={width:b.width,height:b.height};mt&&!Pt&&mt.init(b),Pt=!0,mt&&(b.__confetti_initialized=!0);function Cn(){if(mt){var $e={getBoundingClientRect:function(){if(!X)return b.getBoundingClientRect()}};yt($e),mt.postMessage({resize:{width:$e.width,height:$e.height}});return}fe.width=fe.height=null}function Dn(){jt=null,Y&&(ot=!1,t.removeEventListener("resize",Cn)),X&&b&&(document.body.contains(b)&&document.body.removeChild(b),b=null,Pt=!1)}return Y&&!ot&&(ot=!0,t.addEventListener("resize",Cn,!1)),mt?mt.fire(Vt,fe,Dn):Zt(Vt,fe,Dn)}return le.reset=function(){mt&&mt.reset(),jt&&jt.reset()},le}var Ut;function Q(){return Ut||(Ut=Kt(null,{useWorker:!0,resize:!0})),Ut}function nt(b,R,X,Y,ot,ct,ut){var mt=new Path2D(b),yt=new Path2D;yt.addPath(mt,new DOMMatrix(R));var Pt=new Path2D;return Pt.addPath(yt,new DOMMatrix([Math.cos(ut)*ot,Math.sin(ut)*ot,-Math.sin(ut)*ct,Math.cos(ut)*ct,X,Y])),Pt}function ft(b){if(!h)throw new Error("path confetti are not supported in this browser");var R,X;typeof b=="string"?R=b:(R=b.path,X=b.matrix);var Y=new Path2D(R),ot=document.createElement("canvas"),ct=ot.getContext("2d");if(!X){for(var ut=1e3,mt=ut,yt=ut,Pt=0,Qt=0,jt,Zt,le=0;le<ut;le+=2)for(var Vt=0;Vt<ut;Vt+=2)ct.isPointInPath(Y,le,Vt,"nonzero")&&(mt=Math.min(mt,le),yt=Math.min(yt,Vt),Pt=Math.max(Pt,le),Qt=Math.max(Qt,Vt));jt=Pt-mt,Zt=Qt-yt;var Ce=10,on=Math.min(Ce/jt,Ce/Zt);X=[on,0,0,on,-Math.round(jt/2+mt)*on,-Math.round(Zt/2+yt)*on]}return{type:"path",path:R,matrix:X}}function xt(b){var R,X=1,Y="#000000",ot='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof b=="string"?R=b:(R=b.text,X="scalar"in b?b.scalar:X,ot="fontFamily"in b?b.fontFamily:ot,Y="color"in b?b.color:Y);var ct=10*X,ut=""+ct+"px "+ot,mt=new OffscreenCanvas(ct,ct),yt=mt.getContext("2d");yt.font=ut;var Pt=yt.measureText(R),Qt=Math.ceil(Pt.actualBoundingBoxRight+Pt.actualBoundingBoxLeft),jt=Math.ceil(Pt.actualBoundingBoxAscent+Pt.actualBoundingBoxDescent),Zt=2,le=Pt.actualBoundingBoxLeft+Zt,Vt=Pt.actualBoundingBoxAscent+Zt;Qt+=Zt+Zt,jt+=Zt+Zt,mt=new OffscreenCanvas(Qt,jt),yt=mt.getContext("2d"),yt.font=ut,yt.fillStyle=Y,yt.fillText(R,le,Vt);var Ce=1/X;return{type:"bitmap",bitmap:mt.transferToImageBitmap(),matrix:[Ce,0,0,Ce,-Qt*Ce/2,-jt*Ce/2]}}i.exports=function(){return Q().apply(this,arguments)},i.exports.reset=function(){Q().reset()},i.exports.create=Kt,i.exports.shapeFromPath=ft,i.exports.shapeFromText=xt})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),Du,!1);const qE=Du.exports;Du.exports.create;const HE=17;function TP({streak:n,triggerCelebration:t,onResetStreak:i}){const r=Math.min(n/HE*100,100),o=n===HE;return vt.useEffect(()=>{o&&(qE({particleCount:500,startVelocity:60,spread:90,angle:90,gravity:.5,origin:{y:1.2}}),setTimeout(()=>{qE({particleCount:500,startVelocity:60,spread:90,angle:90,gravity:.5,origin:{y:1.2}})},500))},[o]),rt.jsx("div",{className:"streak-wrapper",children:rt.jsxs("div",{className:"streak-bar-background",children:[rt.jsx(_P.div,{className:"streak-bar-fill",initial:{width:0},animate:{width:`${r}%`},transition:{duration:.4}}),rt.jsxs("div",{className:"streak-bar-content",children:[rt.jsx("span",{className:"streak-text",children:"17 richtige Fragen"}),o&&rt.jsx("button",{className:"streak-reset-inline",onClick:i,children:"Reset"})]})]})})}function EP({onClose:n,questions:t}){const[i,r]=vt.useState([]),[o,u]=vt.useState(0),[h,d]=vt.useState(0);vt.useEffect(()=>{kn("stats_modal_opened");const D=LI(EI(ql,"questionStats"),L=>{const q=[];let U=0,W=0;L.forEach(it=>{const Z=it.data();q.push({id:it.id,...Z}),U+=Z.total||0,W+=Z.correct||0}),r(q),u(U),d(W)});return()=>D()},[]);const p=o?Math.round(h/o*100):0,g=[...i].filter(D=>D.correct>0).sort((D,L)=>L.correct-D.correct).slice(0,3),v=[...i].filter(D=>D.wrong>0).sort((D,L)=>L.wrong-D.wrong).slice(0,3),E=D=>{if(!Array.isArray(t))return`Frage #${D}`;const L=t.find(q=>String(q.id)===String(D));return(L==null?void 0:L.question)||`Frage #${D}`},A=(D,L)=>{kn("stats_question_clicked",{question_id:D,type:L});const q=t.findIndex(U=>String(U.id)===String(D));q!==-1&&n(q)};return rt.jsx("div",{className:"about-modal-overlay",onClick:D=>{D.target.classList.contains("about-modal-overlay")&&n()},children:rt.jsxs("div",{className:"about-modal",children:[rt.jsx("button",{className:"close-button",onClick:()=>n(),children:"×"}),rt.jsx("h2",{className:"text-xl font-bold mb-4",children:"Globale Statistiken"}),rt.jsxs("div",{className:"modal-content",children:[rt.jsxs("div",{className:"stats-summary",children:[rt.jsxs("div",{className:"stats-summary-box",children:[rt.jsxs("p",{className:"text-sm",children:["Beantwortete",rt.jsx("br",{}),"Fragen"]}),rt.jsx("p",{className:"big-number",children:o})]}),rt.jsxs("div",{className:"stats-summary-box",children:[rt.jsxs("p",{className:"text-sm",children:["Richtig",rt.jsx("br",{}),"beantwortet"]}),rt.jsxs("p",{className:"big-number",children:[p,"%"]})]})]}),rt.jsxs("h3",{className:"modal-subtitle text-lg font-semibold mb-2",children:["Top 3 ",rt.jsx("span",{className:"green-text",children:"Richtig"})," beantwortete Fragen"]}),rt.jsx("div",{className:"answer-list mb-4",children:g.map(D=>rt.jsx("div",{className:"answer-button text-sm",onClick:()=>A(D.id,"correct"),children:E(D.id)},D.id))}),rt.jsxs("h3",{className:"modal-subtitle text-lg font-semibold mb-2",children:["Top 3 ",rt.jsx("span",{className:"red-text",children:"Falsch"})," beantwortete Fragen"]}),rt.jsx("div",{className:"answer-list",children:v.map(D=>rt.jsx("div",{className:"answer-button text-sm",onClick:()=>A(D.id,"wrong"),children:E(D.id)},D.id))})]})]})})}function AP(){const[n,t]=vt.useState(()=>localStorage.getItem("user_consent")==="true");vt.useEffect(()=>{var r;n||(r=window.gtag)==null||r.call(window,"consent","default",{ad_storage:"denied",analytics_storage:"granted"})},[n]);const i=()=>{var r;localStorage.setItem("user_consent","true"),t(!0),(r=window.gtag)==null||r.call(window,"consent","update",{ad_storage:"granted",analytics_storage:"granted"}),console.log("✅ User accepted cookies")};return n?null:rt.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(255, 255, 255, 0.5)",zIndex:9999,display:"flex",justifyContent:"center",alignItems:"center",padding:"1rem"},children:rt.jsxs("div",{style:{background:"white",color:"#222",borderRadius:"12px",padding:"24px",maxWidth:"300px",textAlign:"center",boxShadow:"0 6px 16px rgba(0,0,0,0.1)"},children:[rt.jsx("p",{style:{marginBottom:"16px",fontSize:"15px",lineHeight:1.5},children:"Diese Website verwendet Google Analytics, um anonyme Nutzungsdaten zu sammeln. Keine persönlichen Daten werden gespeichert oder weitergegeben."}),rt.jsx("button",{onClick:i,style:{fontSize:"15px",padding:"10px 16px",fontWeight:"500",backgroundColor:"var(--color-primary)",color:"white",borderRadius:"8px",border:"none",cursor:"pointer"},children:"OK, verstanden"})]})})}function bP(){var at,gt,N,C,x;const[n,t]=vt.useState([]),[i,r]=vt.useState(0),[o,u]=vt.useState(null),[h,d]=vt.useState(!0),[p,g]=vt.useState(!1),[v,E]=vt.useState(!1),[A,D]=vt.useState(0),[L,q]=vt.useState(!1),U=new Set([21,55,70,130,176,181,187,209,216,226,235,301,308]);vt.useEffect(()=>{const M=setInterval(()=>{var O;(window.gtag||(O=window.firebase)!=null&&O.analytics)&&(kn("session_start"),clearInterval(M))},100);return fetch("/data/questions.json").then(O=>O.json()).then(O=>{const k=O.map(Kt=>{var Q;const Ut=Kt.question_number;return{id:Ut??"N/A",question:Kt.question??"No question provided",answers:Kt.options??[],correct:((Q=Kt.options)==null?void 0:Q.indexOf(Kt.correct_answer))??-1,imageId:U.has(Ut)?Ut:null}});t(k);const I=Math.floor(Math.random()*k.length);r(I),d(!1)}).catch(O=>{console.error("❌ Failed to load questions:",O),d(!1)}),()=>clearInterval(M)},[]);const W=async M=>{var Ut,Q;const O=M===((Ut=n[i])==null?void 0:Ut.correct);u(M);const k=O?A+1:0;D(k),k===17&&(kn("completed_streak_17"),q(!0),setTimeout(()=>q(!1),3e3));const I=String((Q=n[i])==null?void 0:Q.id);kn("question_answered",{question_id:I,correct:O});let Kt=Number(sessionStorage.getItem("answered_count")||0)+1;sessionStorage.setItem("answered_count",Kt),Kt===3&&(kn("answered_3_in_session"),console.log("🎯 Logged: answered_3_in_session"));try{const nt=eh(ql,"questionStats",I);await IT(nt,{total:Ci(1),correct:Ci(O?1:0),wrong:Ci(O?0:1)})}catch(nt){nt.code==="not-found"?await VT(eh(ql,"questionStats",I),{total:1,correct:O?1:0,wrong:O?0:1}):console.error("❌ Firestore update failed:",nt)}try{const nt=eh(ql,"metrics","totals");await IT(nt,{total:Ci(1),correct:Ci(O?1:0),wrong:Ci(O?0:1)})}catch(nt){nt.code==="not-found"?await VT(eh(ql,"metrics","totals"),{total:1,correct:O?1:0,wrong:O?0:1}):console.error("❌ Failed to update global totals:",nt)}},it=()=>{u(null),r(Math.floor(Math.random()*n.length)),kn("random_question_clicked")},Z=()=>{E(!1),g(!0),kn("about_modal_opened")},ht=()=>{g(!1),E(!0),kn("stats_modal_opened")};return rt.jsxs("div",{className:"app-wrapper",children:[rt.jsx("header",{className:"app-header",children:rt.jsxs("div",{className:"header-inner",children:[rt.jsx("h1",{className:"app-title",children:"Fragen Katalog"}),rt.jsxs("div",{className:"header-links",children:[rt.jsx("a",{href:"#",className:"about-link",onClick:M=>{M.preventDefault(),ht()},children:"Statistiken"}),rt.jsx("a",{href:"#",className:"about-link",onClick:M=>{M.preventDefault(),Z()},children:"Über"})]})]})}),rt.jsx("main",{className:"main-content",children:h?rt.jsx("p",{className:"loading-text",children:"Loading questions..."}):rt.jsxs(rt.Fragment,{children:[rt.jsx(TP,{streak:A,triggerCelebration:L,onResetStreak:()=>D(0)}),rt.jsx(BI,{id:(at=n[i])==null?void 0:at.id,question:(gt=n[i])==null?void 0:gt.question,answers:(N=n[i])==null?void 0:N.answers,correctIndex:(C=n[i])==null?void 0:C.correct,selectedAnswer:o,onSelectAnswer:W,imageId:(x=n[i])==null?void 0:x.imageId}),rt.jsx("div",{className:"controls",children:rt.jsx("button",{className:"controls-button",onClick:()=>{kn("next_question_clicked"),it()},children:"Nächste Frage"})}),rt.jsx("div",{style:{height:"10px"}})]})}),p&&!v&&rt.jsx(jI,{onClose:()=>g(!1)}),v&&!p&&rt.jsx(EP,{onClose:M=>{E(!1),typeof M=="number"&&r(M)},questions:n}),rt.jsx(AP,{}),!p&&!v&&rt.jsx("div",{style:{position:"fixed",bottom:16,right:16,zIndex:1e3,width:"100%",maxWidth:"200px"},children:rt.jsx(ab,{})})]})}(function(n,t,i,r,o,u,h){n[i]=n[i]||function(){(n[i].q=n[i].q||[]).push(arguments)},u=t.createElement(r),u.async=1,u.src="https://www.clarity.ms/tag/qyg3chkjg3",h=t.getElementsByTagName(r)[0],h.parentNode.insertBefore(u,h)})(window,document,"clarity","script");TR.createRoot(document.getElementById("root")).render(rt.jsx(fR.StrictMode,{children:rt.jsx(bP,{})}))});export default SP();
